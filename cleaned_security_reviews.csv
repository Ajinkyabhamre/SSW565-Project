url,subject,description,owner_id,owner_name,reviewer_id,reviewer_name,cleaned_description
https://review.opendev.org/794283,Enable etcd with security setting.,"Enable etcd with security setting. Add etcd client/server certificate generation process in ansible playbook and restart etcd after etcd security config enabled. Test status. 1) Deployment test on both simplex and duplex - PASS check the communication status between apiserver and etcd by kubectl command check the etcd status and configuration on controllers 2) Switch active controller - PASS After switching, check the communication status between apiserver and etcd by kubectl command check the etcd status and configuration on controllers 3) Lock/unlock of a simplex controller - PASS 4) Backup/Restore test on simplex - PASS 5) Spontaneous reboot of a simplex controller - PASS 6) Enable secured etcd on simplex by script after deploy unsecured etcd. - PASS 7) Backup test on Duplex - PASS 8) Restore test on Duplex - PASS 9) Re-installing a controller host on a duplex setup and then swacting to it - PASS Partial-Bug: 1894870 Depends-on: https://review.opendev.org/#/c/760508/ Change-Id: I88691b84c9acc2e27f0b783d7454a873d3490072 Signed-off-by: Zhipeng Liu <zhipengs.liu@intel.com>",24,Chuck Short,[28570],['zhipeng liu'],enable etcd security setting add etcd clientserver certificate generation process ansible playbook restart etcd etcd security config enabled test status 1 deployment test simplex duplex pass check communication status apiserver etcd kubectl command check etcd status configuration controllers 2 switch active controller pass switching check communication status apiserver etcd kubectl command check etcd status configuration controllers 3 lockunlock simplex controller pass 4 backuprestore test simplex pass 5 spontaneous reboot simplex controller pass 6 enable secured etcd simplex script deploy unsecured etcd pass 7 backup test duplex pass 8 restore test duplex pass 9 reinstalling controller host duplex setup swacting pass partialbug 1894870 dependson httpsreviewopendevorgc760508 changeid i88691b84c9acc2e27f0b783d7454a873d3490072 signedoffby zhipeng liu zhipengsliuintelcom
https://review.opendev.org/789403,Add new Debian security mirror suite pattern,"Add new Debian security mirror suite pattern Starting with Debian 11 (bullseye), security packages are in bullseye-security as opposed to older releases like buster/updates. List the last several stable releases in hopes nobody is trying to use this role to configure platforms older than Debian 8 (jessie, the current ""oldoldstable""). A followup change demonstrates this works in the test-base-roles job, but because the job matrices have to be updated in one fell swoop, and many of those jobs won't work without this change already merged (due to protected use in our base job), it's not tested directly within this change. Change-Id: Ib07269382ce379afc13f1702709a548ad829e663",5263,Jeremy Stanley,[],[],add new debian security mirror suite pattern starting debian 11 bullseye security packages bullseyesecurity opposed older releases like busterupdates list last several stable releases hopes nobody trying use role configure platforms older debian 8 jessie current oldoldstable followup change demonstrates works testbaseroles job job matrices updated one fell swoop many jobs wont work without change already merged due protected use base job tested directly within change changeid ib07269382ce379afc13f1702709a548ad829e663
https://review.opendev.org/741345,Fix rule replacement in security policy,Fix rule replacement in security policy Change-Id: I65918a003833dea45897d360ab7c3ce60616ec4c,24247,Anna Khmelnitsky,[],[],fix rule replacement security policy changeid i65918a003833dea45897d360ab7c3ce60616ec4c
https://review.opendev.org/637381,OvS: Add pod security context to pods,OvS: Add pod security context to pods This PS adds the pod security context snippet to pods Change-Id: I91e89d7798f6e850e47901551c5dc7cf9d80c97f Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,[22348],['Zuul'],ovs add pod security context pods ps adds pod security context snippet pods changeid i91e89d7798f6e850e47901551c5dc7cf9d80c97f signedoffby pete birley peteportdirect
https://review.opendev.org/615355,Horizon: update east-west network security policy,Horizon: update east-west network security policy This patch set updates the ingress network security policy for the Horizon service. Change-Id: I0a580b5e4e14678f6abc14b58d8de5d3d6172c44,17119,Dmitrii Kabanov,"[20466, 20469, 22348, 22636]","['Tin Lam', 'Tin Lam', 'Zuul', 'Cliff Parsons']",horizon update eastwest network security policy patch set updates ingress network security policy horizon service changeid i0a580b5e4e14678f6abc14b58d8de5d3d6172c44
https://review.opendev.org/738928,Add missing security context to Keystone pods/containers,Implement helm-toolkit snippet to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I334ef187a3dcaa082a5c3a7af63de4386dfbdf04,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Steven Fitzpatrick']",implement helmtoolkit snippet keystone podscontainers updates keystone chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i334ef187a3dcaa082a5c3a7af63de4386dfbdf04
https://review.opendev.org/739862,Add missing security context to Mini-mirror test pods/containers,Add missing security context to Mini-mirror test pods/containers This updates the mini-mirror chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I5a48b73a6a4530342bacead941128fdec7cc9c42,29144,PRATEEK REDDY DODDA,"[22348, 28372, 29144]","['Zuul', 'chinasubbareddy mallavarapu', 'PRATEEK REDDY DODDA']",add missing security context minimirror test podscontainers updates minimirror chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i5a48b73a6a4530342bacead941128fdec7cc9c42
https://review.opendev.org/200847,Enable setting default rules for default security group,"Enable setting default rules for default security group In the current implementation, the default security group only contains the rule that allow intercommunication between vms in a same security-group. However, customers could be confused about that their vms can't use ssh or rdp to login, or can't provide HTTP/HTTPS service to outside since the security group is disabled to these ports by default. To resolve this, we need to allow cloud administrators to set rules of default security group. Blueprint: default-rules-for-default-security-group DocImpact Change-Id: I2610b23c2bd6d2ba5ef9c4800b7e0615b47c46e6",9911,Wei Wang,"[3, 105, 748, 841, 1561, 6788, 7448, 7787, 7805, 8788, 8976, 9656, 9911, 9970, 10980, 11682, 13997, 16707, 17096, 17106]","['Jenkins', 'Kyle Mestery', 'Armando Migliaccio', 'Akihiro Motoki', 'Russell Bryant', 'Rossella Sblendido', 'Carl Baldwin', 'Kevin Benton', 'Li Ma', 'Miguel Angel Ajo', 'shihanzhang', 'Ihar Hrachyshka', 'Wei Wang', 'John Kasperski', 'Doug Wiegley', 'Ryan Moats', 'SHIGEMATSU Mitsuhiro', 'Mohankumar', 'Aditi Rajagopal', 'IanSun']",enable setting default rules default security group current implementation default security group contains rule allow intercommunication vms securitygroup however customers could confused vms cant use ssh rdp login cant provide httphttps service outside since security group disabled ports default resolve need allow cloud administrators set rules default security group blueprint defaultrulesfordefaultsecuritygroup docimpact changeid i2610b23c2bd6d2ba5ef9c4800b7e0615b47c46e6
https://review.opendev.org/242208,Testing.rst misses a step for adding security rule,Testing.rst misses a step for adding security rule Change-Id: Id748be47a85abd4da75e63964edfbd076a2c8ac0 Closes-Bug: #1513553,18465,shravya Gaddam,[],[],testingrst misses step adding security rule changeid id748be47a85abd4da75e63964edfbd076a2c8ac0 closesbug 1513553
https://review.opendev.org/223839,Test security groups.,Test security groups. Install ovs kernel module from source and turn on the sec group tests. Change-Id: I94149e73c5b1339f3b77acff2b74a377daa6f9e0,1561,Russell Bryant,"[3, 1561]","['Jenkins', 'Russell Bryant']",test security groups install ovs kernel module source turn sec group tests changeid i94149e73c5b1339f3b77acff2b74a377daa6f9e0
https://review.opendev.org/136203,Add OSSN-0040 security groups don't work with vip and ovs plugin,Add OSSN-0040 security groups don't work with vip and ovs plugin Closes-Bug: #1163569 Change-Id: I4f554241fd2e18ce29a6a93ed495c8afe539e363,9278,Steven Weston,"[3, 105, 964, 2807, 6772, 6804, 6951, 7063, 7244, 9098, 9278, 10980, 11302, 11716, 12325]","['Jenkins', 'Kyle Mestery', 'Anne Gentle', 'Bryan D. Payne', 'Stephen Gordon', 'bruce-benjamin', 'Brandon Logan', 'Robert Clark', 'Victor Howard', 'Nathan Kinder', 'Steven Weston', 'Doug Wiegley', 'Phillip Toohill', 'Tim Kelsey', 'Nathaniel Dillon']",add ossn0040 security groups dont work vip ovs plugin closesbug 1163569 changeid i4f554241fd2e18ce29a6a93ed495c8afe539e363
https://review.opendev.org/228596,Add security groups dscp spec,"Add security groups dscp spec This adds the spec ""Add a 'dscp' field to security group rules to screen ingress traffic by dscp tag as well as IP address"" to the Mitaka specs directory, to start community discussion. Closes-bug #1498957 Change-Id: I2aa341fd7ba860c62fa16f00ffac3d4e8df4562d",13995,Nate Johnston,"[3, 7244, 11682, 13995, 14033, 17211, 17711]","['Jenkins', 'Victor Howard', 'Ryan Moats', 'Nate Johnston', 'James Reeves', 'Brandon Palm', 'Margaret Frances']",add security groups dscp spec adds spec add dscp field security group rules screen ingress traffic dscp tag well ip address mitaka specs directory start community discussion closesbug 1498957 changeid i2aa341fd7ba860c62fa16f00ffac3d4e8df4562d
https://review.opendev.org/89712,Open vSwitch-based Security Groups: OVS FirewallDriver,Open vSwitch-based Security Groups: OVS FirewallDriver Specification for implementing Open vSwitch-based security groups. Change-Id: I6862d21e6fe967036a301e061f3d56a8ee4ed2a5,6670,Amir Sadoughi,"[3, 105, 261, 333, 2031, 2592, 3185, 4149, 4656, 6670, 6854, 7170, 7787, 7823, 10257, 11604, 11785]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Isaku Yamahata', 'Nachi Ueno', 'Mark McClain', 'Alessandro Pilotti', 'Itsuro Oda', 'Sean M. Collins', 'Amir Sadoughi', 'YAMAMOTO Takashi', 'Zang MingJie', 'Kevin Benton', 'Xiang Hui', 'Sridhar Gaddam', 'sean mooney', 'henry.hly']",open vswitchbased security groups ovs firewalldriver specification implementing open vswitchbased security groups changeid i6862d21e6fe967036a301e061f3d56a8ee4ed2a5
https://review.opendev.org/136742,Add security groups for nova.,Add security groups for nova. As current implementation of puppet-nova can't realize nova security groups: 1. Nova security group type and provider implemented 2. Nova security rule type and provider implemented Also new openstack::nova::security class added that implements base functionality of security groups in Fuel. Change-Id: I58372ccfc0e5859b6512ebf785b3df45756dc2d1 Closes-Bug: 1349819,11827,Stanislaw Bogatkin,"[3, 6926, 8786, 8971, 9037, 9387, 11827, 13344, 14774]","['Jenkins', 'Bogdan Dobrelya', 'Vladimir Kuklin', 'Fuel CI', 'Dmitry Ilyin', 'Aleksandr Didenko', 'Stanislaw Bogatkin', 'Oleksiy Molchanov', 'Fuel TPI CI']",add security groups nova current implementation puppetnova cant realize nova security groups 1 nova security group type provider implemented 2 nova security rule type provider implemented also new openstacknovasecurity class added implements base functionality security groups fuel changeid i58372ccfc0e5859b6512ebf785b3df45756dc2d1 closesbug 1349819
https://review.opendev.org/209900,Add security to libvirtd,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: Ie1ae2e3e91967179c5cf9e9bf54863369071d572 Closes-Bug: 1477543,13344,Oleksiy Molchanov,"[3, 6926, 8971]","['Jenkins', 'Bogdan Dobrelya', 'Fuel CI']",add security libvirtd allow libvirt accessed management network changeid ie1ae2e3e91967179c5cf9e9bf54863369071d572 closesbug 1477543
https://review.opendev.org/209901,Add security to libvirtd,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: Ie1ae2e3e91967179c5cf9e9bf54863369071d572 Closes-Bug: 1477543,13344,Oleksiy Molchanov,"[3, 6926, 8971]","['Jenkins', 'Bogdan Dobrelya', 'Fuel CI']",add security libvirtd allow libvirt accessed management network changeid ie1ae2e3e91967179c5cf9e9bf54863369071d572 closesbug 1477543
https://review.opendev.org/209903,Add security to libvirtd,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: Ie1ae2e3e91967179c5cf9e9bf54863369071d572 Closes-Bug: 1477543,13344,Oleksiy Molchanov,"[3, 6926, 8971]","['Jenkins', 'Bogdan Dobrelya', 'Fuel CI']",add security libvirtd allow libvirt accessed management network changeid ie1ae2e3e91967179c5cf9e9bf54863369071d572 closesbug 1477543
https://review.opendev.org/189171,Use fanout RPC message to nofity the security group's change,"Use fanout RPC message to nofity the security group's change when a security group members or rules change, if it just notify the l2 agents with 'security_groups_member_updated' or 'security_groups_rule_updated', the all related l2 agents need to get the security group details through RPC from neutron-server, when the number of l2 agents is large, the load of neutron-server is heavy. this patch use fanout RPC message with the changed sg details to notify the l2 agents, then l2 agents which has the related devices update the sg information in their memory, they do not need to get the sg details through RPC. Change-Id: I3eca91afe58389c447fa9c1c59e15f0e21e89111",8976,shihanzhang,"[3, 105, 1561, 4395, 5170, 5948, 7787, 8344, 8788, 8976, 9008, 9681, 9682, 9732, 9751, 9787, 9845, 10121, 10153, 10184, 10386, 10387, 10692, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 15296, 15309, 15444, 15752, 15894, 16707]","['Jenkins', 'Kyle Mestery', 'Russell Bryant', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Kevin Benton', 'fumihiko kakuma', 'Miguel Angel Ajo', 'shihanzhang', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'IBM DB2 CI', 'Big Switch CI', 'Arista CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'zhaobo', 'Cisco FWaaS CI', 'Intel SR-IOV CI', 'Pluribus Networks CI', 'Mohankumar']",use fanout rpc message nofity security groups change security group members rules change notify l2 agents securitygroupsmemberupdated securitygroupsruleupdated related l2 agents need get security group details rpc neutronserver number l2 agents large load neutronserver heavy patch use fanout rpc message changed sg details notify l2 agents l2 agents related devices update sg information memory need get sg details rpc changeid i3eca91afe58389c447fa9c1c59e15f0e21e89111
https://review.opendev.org/212279,Use security group id for neutron launch instance,"Use security group id for launch instance When there are two security groups with the same name, it would not be possible to launch instance with security group name. Change-Id: I65c39eb728916010f0057440d856cd00f59763d9 Closes-bug: #1483091",4428,Liyingjun,"[3, 841, 4428, 14151, 16769]","['Jenkins', 'Akihiro Motoki', 'Liyingjun', 'ziyu032', 'Lucas Palm']",use security group id launch instance two security groups name would possible launch instance security group name changeid i65c39eb728916010f0057440d856cd00f59763d9 closesbug 1483091
https://review.opendev.org/218525,Wrong Link to External Site Integrity life-cycle in Security Guide,Wrong Link to External Site Integrity life-cycle in Security Guide A link to dm-verity under the section Node Hardening of Integrity life-cycle is incorrect. The current link points to a a Google Code page. The dm-verity project is now part of the Cryptsetup utility and has been moved to project Gitlab wiki. This bug fix updates the dm-verity link the Integrity life-cycle to point to the wiki page in Gitlab for the Cryptsetup utility. Change-Id: Ib4eec8bb73a9607ac632f35c839a47e4dcd5d4ff Closes-Bug: #1490049,14606,Jeffrey Olsen,[],[],wrong link external site integrity lifecycle security guide link dmverity section node hardening integrity lifecycle incorrect current link points google code page dmverity project part cryptsetup utility moved project gitlab wiki bug fix updates dmverity link integrity lifecycle point wiki page gitlab cryptsetup utility changeid ib4eec8bb73a9607ac632f35c839a47e4dcd5d4ff closesbug 1490049
https://review.opendev.org/203173,Add VRRP protocol to security group API,Add VRRP protocol to security group API Change-Id: I79381b5fcd506a6f7b6cba7d7b3c2f0038e86c0d Closes-bug: #1475717,10850,German Eichberger,"[3, 105, 4656, 5170, 8124, 8976, 9681, 9732, 9751, 9911, 10153, 10184, 10257, 10386, 10387, 10692, 10850, 14208, 14212, 14323, 15296, 17096]","['Jenkins', 'Kyle Mestery', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'cbrandily', 'shihanzhang', 'Ryu CI', 'Mellanox CI', 'IBM DB2 CI', 'Wei Wang', 'One Convergence CI', 'Nuage CI', 'Sridhar Gaddam', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'German Eichberger', 'Cisco CI', 'Cisco Tail-f CI', 'HP Networking CI', 'Brocade Openstack CI', 'Aditi Rajagopal']",add vrrp protocol security group api changeid i79381b5fcd506a6f7b6cba7d7b3c2f0038e86c0d closesbug 1475717
https://review.opendev.org/169611,Add security testing for transport layer check,Add security testing for transport layer check The test cases check all resources related URLS in service creation response / service listing response/ service GET response are using HTTPS for transport security. Both reponse boy and all HTTP headers are checked. The test cases fail if HTTP is used. Change-Id: I4da455b52124d8fa247de5b7931fc5f48f879512 Implements: blueprint security-testing,15259,Michael Xin,"[3, 7498]","['Jenkins', 'Malini Kamalambal']",add security testing transport layer check test cases check resources related urls service creation response service listing response service get response using https transport security reponse boy http headers checked test cases fail http used changeid i4da455b52124d8fa247de5b7931fc5f48f879512 implements blueprint securitytesting
https://review.opendev.org/183909,Fix API misimplementation for security groups,"Fix API misimplementation for security groups According to the Compute API reference [1], the 'description' parameter is optional when creating a security group. But the current implementation returns a HTTP 400 when this parameter is not specified. This patch modifies the validation check, so that omitting 'description' or passing an empty string is OK. [1]: http://developer.openstack.org/api-ref-compute-v2-ext.html#createSecGroup Change-Id: I404dd30c7dac4b8a9e01cf2ea62fa404fdcce3de Closes-Bug: #1434172",12561,Adrien Vergé,"[3, 970, 1653, 4690, 5170, 5754, 5803, 6167, 6482, 7872, 8556, 8768, 9008, 9578, 10118, 10385, 12561, 15286, 15751, 15888]","['Jenkins', 'Dean Troyer', 'garyk', 'melanie witt', 'Microsoft Hyper-V CI', 'Alex Xu', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Steve Martinelli', 'Marc Koderer', 'Ghanshyam', 'Chris Friesen', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Adrien Vergé', 'XenProject CI', 'Intel PCI CI', 'Zhenyu Zheng']",fix api misimplementation security groups according compute api reference 1 description parameter optional creating security group current implementation returns http 400 parameter specified patch modifies validation check omitting description passing empty string ok 1 httpdeveloperopenstackorgapirefcomputev2exthtmlcreatesecgroup changeid i404dd30c7dac4b8a9e01cf2ea62fa404fdcce3de closesbug 1434172
https://review.opendev.org/211282,"If a Neutron security group rule protocol is ICMP, port_range_max value must be an ICMP code.","If a Neutron security group rule protocol is ICMP, port_range_max value must be an ICMP code. Change-Id: Ib1e972ecb9a28f4d5c7944b5a871ec165039eeb5 Closes-Bug: 1483292",17218,Matt Dorn,"[3, 6843]","['Jenkins', 'Phil Hopkins']",neutron security group rule protocol icmp portrangemax value must icmp code changeid ib1e972ecb9a28f4d5c7944b5a871ec165039eeb5 closesbug 1483292
https://review.opendev.org/169450,Add security testing for authorization and update client,Add security testing for authorization and update client These test cases cover authorization checks for service functions. They check whether it is possible to create/patch/list/delete services without valid tokens or no token at all. It also check whether it is possible to create/patch/list/delete services of one user using another user's valid token. The supposed repsonses should be 401 errors. The client's code is updated to include requestslib_kwargs=None for functions that do not implement requestslib. It is possible to modify paylaods and headers with this addtion. Change-Id: I01ef2b2fd22b2a21d84ed39bfbfee73e5fdc8b93 Implements: blueprint authentication,15259,Michael Xin,"[3, 7498, 14177]","['Jenkins', 'Malini Kamalambal', 'Christopher Powell']",add security testing authorization update client test cases cover authorization checks service functions check whether possible createpatchlistdelete services without valid tokens token also check whether possible createpatchlistdelete services one user using another users valid token supposed repsonses 401 errors clients code updated include requestslibkwargsnone functions implement requestslib possible modify paylaods headers addtion changeid i01ef2b2fd22b2a21d84ed39bfbfee73e5fdc8b93 implements blueprint authentication
https://review.opendev.org/164257,Adds security tests to automate checking of common vulnerabilities,Adds security tests to automate checking of common vulnerabilities This is an initial set of security tests for the poppy CDN component Change-Id: Iada937545634d2c8d4ae30c1b7798135cd4bb996,14099,Henry Yamauchi,"[3, 10068]","['Jenkins', 'Welcome, new contributor!']",adds security tests automate checking common vulnerabilities initial set security tests poppy cdn component changeid iada937545634d2c8d4ae30c1b7798135cd4bb996
https://review.opendev.org/180327,Remove namespace argument from security group initialization,"Remove namespace argument from security group initialization Neutron security groups (iptables, ipsets) are always configured in the ""root"" namespace on compute nodes, so the namespace argument is not required and never used. Remove it from the firewall code and related call sites. Noticed while doing other ipset work. Change-Id: I4996e2e79da0ec9bbe7980acea60bf5ce3c825ae",1131,Brian Haley,"[3, 1131, 5170, 6524, 6659, 7448, 7787, 8645, 8788, 9656, 9681, 9682, 9732, 9751, 9787, 9845, 10116, 10117, 10121, 10153, 10184, 10387, 10692, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 15752]","['Jenkins', 'Brian Haley', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Paul Michali', 'Carl Baldwin', 'Kevin Benton', 'Trinath Somanchi', 'Miguel Angel Ajo', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'IBM DB2 CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Freescale CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Intel SR-IOV CI']",remove namespace argument security group initialization neutron security groups iptables ipsets always configured root namespace compute nodes namespace argument required never used remove firewall code related call sites noticed ipset work changeid i4996e2e79da0ec9bbe7980acea60bf5ce3c825ae
https://review.opendev.org/201223,networking-tricircle core plugin and security group,networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process Change-Id: Ic63e7a3d0a1b171d43aff535b65c949e9e51ff4f,2023,Saggi Mizrahi,"[3, 6598, 11819, 12076, 13070, 13629, 16911]","['Jenkins', 'Berezovsky Irena', 'Chaoyi Huang', 'Zhiyuan Cai', 'Eran Gampel', 'Zhipeng Huang', 'HUAWEI CASCADE CI']",networkingtricircle core plugin security group initial implementation include option use ml2 seem better use core plugin control process changeid ic63e7a3d0a1b171d43aff535b65c949e9e51ff4f
https://review.opendev.org/187095,Discuss bridge/netfilter & OVS Hybrid driver with security groups,"Discuss bridge/netfilter & OVS Hybrid driver with security groups With the dependent change the OVSHybridIptablesFirewallDriver ensures the netfilter-runs-on-bridges option is set. Remove this from the manual steps, and add an explanatory note where security-groups are being setup in the guide. Change-Id: I42c6a0219d960b682bb4a39727c87151bc3ef1a8 Depends-On: If2d316eb8c422dc1e4f34b17a50b93dd72993a99",7118,Ian Wienand,"[3, 612, 7118, 9162, 9515]","['Jenkins', 'Tom Fifield', 'Ian Wienand', 'Lana Brindley', 'Matthew Kassawara']",discuss bridgenetfilter ovs hybrid driver security groups dependent change ovshybridiptablesfirewalldriver ensures netfilterrunsonbridges option set remove manual steps add explanatory note securitygroups setup guide changeid i42c6a0219d960b682bb4a39727c87151bc3ef1a8 dependson if2d316eb8c422dc1e4f34b17a50b93dd72993a99
https://review.opendev.org/105880,Add ability to change VIP security group,Add ability to change VIP security group * Convert Edit VIP form to a workflow. This is consistent with editing an instance in the Instances dashboard. * Add a workflow step that allows the security group on a VIP port to be changed after creation of the VIP. Closes-Bug: #1325397 Change-Id: I64631bf56427e79cf5e32a12d1925113d16ac3dc,11901,Nathan Manville,"[3, 2455, 4395, 6763, 7187, 11901, 12826]","['Jenkins', 'Tihomir Trifonov', 'Aaron Rosen', 'Liuqing Jing', 'Janet Yu', 'Nathan Manville', 'Rob Cresswell']",add ability change vip security group convert edit vip form workflow consistent editing instance instances dashboard add workflow step allows security group vip port changed creation vip closesbug 1325397 changeid i64631bf56427e79cf5e32a12d1925113d16ac3dc
https://review.opendev.org/132044,Add separate mirror for security ubuntu updates,Add separate mirror for security ubuntu updates Unfreeze only security updates for FUEL release Change-Id: I9f89f8c956af1032d6c46ab705fed54468d47610,8777,Roman Vyalov,"[3, 8971]","['Jenkins', 'Fuel CI']",add separate mirror security ubuntu updates unfreeze security updates fuel release changeid i9f89f8c956af1032d6c46ab705fed54468d47610
https://review.opendev.org/196564,networking-tricircle core plugin and security group,networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process Change-Id: I3838d4124c45ab022e583bdcb548ecf909fd4112,13070,Eran Gampel,"[3, 2023, 6598, 8646, 9684, 9778, 11343, 11819, 12076, 13070, 13629, 14249, 16853, 16911]","['Jenkins', 'Saggi Mizrahi', 'Berezovsky Irena', 'yangxurong', 'Jia Dong', 'Haojie Jia', 'Gal Sagie', 'Chaoyi Huang', 'Zhiyuan Cai', 'Eran Gampel', 'Zhipeng Huang', 'Lionel Zerbib', 'Ofer Ben-Yacov', 'HUAWEI CASCADE CI']",networkingtricircle core plugin security group initial implementation include option use ml2 seem better use core plugin control process changeid i3838d4124c45ab022e583bdcb548ecf909fd4112
https://review.opendev.org/160689,Raise an exception when adding an already associated security group,Raise an exception when adding an already associated security group Raises exception.SecurityGroupExistsForInstance when trying to add an already associated security group to instance. Change-Id: I72543f60d2cb603d40a6d4b625a97da234ffb7a1 Closes-bug: #1423168,4428,Liyingjun,"[3, 679, 782, 1653, 4428, 5170, 5638, 6062, 6802, 6873, 8556, 9008, 9578, 10118, 10385, 11103, 14358, 15286]","['Jenkins', 'Kevin L. Mitchell', 'John Garbutt', 'garyk', 'Liyingjun', 'Microsoft Hyper-V CI', 'Davanum Srinivas', 'jichencom', 'Joel Coffman', 'Matt Riedemann', 'Ghanshyam', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI', 'Marian Horban', 'XenProject CI']",raise exception adding already associated security group raises exceptionsecuritygroupexistsforinstance trying add already associated security group instance changeid i72543f60d2cb603d40a6d4b625a97da234ffb7a1 closesbug 1423168
https://review.opendev.org/184243,Add rate limit iptables security group firewall.,"Add rate limit iptables security group firewall. The driver is based on the iptables firewall. It is a beta-version for POC purpose and not yet implements log action. To use it, you need to have in the 'securitygroup' section: enable_security_group = true enable_extended_security_group = true firewall_driver = neutron.agent.linux.iptables_bf_firewall.IptablesBfFirewallDriver Change-Id: I8265abc96f70d2f5afabc0dcd1669cfb09c75f95 Partial-Implements: blueprint security-group-brute-force-prevention",14249,Lionel Zerbib,"[3, 105, 1131, 2023, 5170, 9681, 9682, 9732, 9751, 9787, 9845, 10121, 10153, 10184, 10387, 10692, 10965, 11343, 13070, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 14605, 15296, 15444, 15894]","['Jenkins', 'Kyle Mestery', 'Brian Haley', 'Saggi Mizrahi', 'Microsoft Hyper-V CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'IBM DB2 CI', 'Big Switch CI', 'Arista CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Freescale CI', 'Brocade Vyatta CI', 'Magesh GV', 'Gal Sagie', 'Eran Gampel', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'vikram.choudhary', 'Brocade Openstack CI', 'Cisco FWaaS CI', 'Pluribus Networks CI']",add rate limit iptables security group firewall driver based iptables firewall betaversion poc purpose yet implements log action use need securitygroup section enablesecuritygroup true enableextendedsecuritygroup true firewalldriver neutronagentlinuxiptablesbffirewalliptablesbffirewalldriver changeid i8265abc96f70d2f5afabc0dcd1669cfb09c75f95 partialimplements blueprint securitygroupbruteforceprevention
https://review.opendev.org/195141,Get rid of duplicated creation of security groups in test_volume_boot_pattern,"Get rid of duplicated creation of security groups in test_volume_boot_pattern It turns out that a security group in test test_volume_boot_pattern is created twice. The first security group is created in test itself, the second security group is created in the method _boot_instance_from_ volume(). This patch fixes it. Now the security group is created once. Change-Id: I99ec28a70591b346e2ea00c6e16af4e856721aa3",7428,Yaroslav Lobankov,"[3, 1192, 5803, 6167, 7227, 7350, 7428, 8556, 8871, 10385]","['Jenkins', 'David Kranz', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Timur Nurlygayanov', 'Jordan Pittier', 'Yaroslav Lobankov', 'Ghanshyam', 'Elastic Recheck', 'Citrix XenServer CI']",get rid duplicated creation security groups testvolumebootpattern turns security group test testvolumebootpattern created twice first security group created test second security group created method bootinstancefrom volume patch fixes security group created changeid i99ec28a70591b346e2ea00c6e16af4e856721aa3
https://review.opendev.org/183060,Fixes bug with security groups rules in a dual stack network,Fixes bug with security groups rules in a dual stack network. The code to add provider rules doesn't cycle through all of the DHCP agent IPs. The code to add rules either correctly adds IPv4 rules or IPv6 rules depending on the order in which the DHCP agent IPs are got from the database. Change-Id: I29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c Closes-Bug: #1455093,8703,sridhar basam,"[3, 1955, 4395, 4656, 5170, 8645, 8703, 9656, 9682, 9787, 9820, 10068, 10153, 10387, 10692, 14212, 14213, 14214, 14215, 14216, 14571, 15443, 15444]","['Jenkins', 'Alan Pevec', 'Aaron Rosen', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Trinath Somanchi', 'sridhar basam', 'Ihar Hrachyshka', 'OpenContrail CI', 'Big Switch CI', 'Liping Mao', 'Welcome, new contributor!', 'One Convergence CI', 'Freescale CI', 'Brocade Vyatta CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'Intel Experimental CI', 'Cisco UCSM CI', 'Cisco FWaaS CI']",fixes bug security groups rules dual stack network code add provider rules doesnt cycle dhcp agent ips code add rules either correctly adds ipv4 rules ipv6 rules depending order dhcp agent ips got database changeid i29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c closesbug 1455093
https://review.opendev.org/196751,networking-tricircle core plugin and security group,networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process Change-Id: I3838d4124c45ab022e583bdcb548ecf909fd4112,13070,Eran Gampel,[3],['Jenkins'],networkingtricircle core plugin security group initial implementation include option use ml2 seem better use core plugin control process changeid i3838d4124c45ab022e583bdcb548ecf909fd4112
https://review.opendev.org/192698,Add security repo for CentOS,Add security repo for CentOS Change-Id: Ie3c8098d6958650dd3c90ac3664937cfc6979f83 Partial-Bug: #1466080,7195,Matthew Mosesohn,"[3, 8749, 8786, 8789, 8907, 8971, 10391]","['Jenkins', 'Evgeniy L', 'Vladimir Kuklin', 'Dmitry Pyzhov', 'Dmitry Shulyak', 'Fuel CI', 'Ihor Kalnytskyi']",add security repo centos changeid ie3c8098d6958650dd3c90ac3664937cfc6979f83 partialbug 1466080
https://review.opendev.org/157383,Display security group id in server details,Updated the code to display security group's uuid instead of name in 'nova show' Closes-Bug: 1394462 Change-Id: I7bc73cbc6801ce44bd6b8a1e0cbff9bac5c62e04,5334,Sushma Korati,"[3, 642, 679, 1849, 4690, 10068, 14173, 14314, 14428]","['Jenkins', 'Matt Dietz', 'Kevin L. Mitchell', 'Joe Gordon', 'melanie witt', 'Welcome, new contributor!', 'Sai Kiran', 'Bala Gopal Raj', 'Bharat Kumar Kobagana']",updated code display security groups uuid instead name nova show closesbug 1394462 changeid i7bc73cbc6801ce44bd6b8a1e0cbff9bac5c62e04
https://review.opendev.org/188993,Add security group check when boot with port,"Add security group check when boot with port When create a vm with specified security group and ports,the security group is invalid.Because ports have their own security group.Perhaps users will be confused with this situation.They input security group parameter,but it doesn't work. This patch add security group check in api: 1.when boot only with port,it will return code 400 to show that security group is invalid and unnecessary. 2.when boot with both port and network,it will print a worning information in log files to point out that the security group is invalid with ports. Change-Id: If956731b2b82360f69bced78b05a473f9d5b86c9 Closes-bug:#1462393",15054,wangxiyuan,"[3, 5170, 9303, 9578, 10118, 10385, 15054, 15286, 15751]","['Jenkins', 'Microsoft Hyper-V CI', 'Abhishek Kekane', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'wangxiyuan', 'XenProject CI', 'Intel PCI CI']",add security group check boot port create vm specified security group portsthe security group invalidbecause ports security groupperhaps users confused situationthey input security group parameterbut doesnt work patch add security group check api 1when boot portit return code 400 show security group invalid unnecessary 2when boot port networkit print worning information log files point security group invalid ports changeid if956731b2b82360f69bced78b05a473f9d5b86c9 closesbug1462393
https://review.opendev.org/163294,Display ID column in the Security Group table,Display ID column in the Security Group table This patch set is to add ID column in the security group table. This is useful when there are multiple security group that has the same name. Change-Id: I5d4665a5d1fe6bd0c163721275c8e3c446788eae Closes-Bug: #1429866,14064,Kahou Lei,"[3, 1941, 8512, 12826, 14064]","['Jenkins', 'Lin Hua Cheng', 'Matt Farina', 'Rob Cresswell', 'Kahou Lei']",display id column security group table patch set add id column security group table useful multiple security group name changeid i5d4665a5d1fe6bd0c163721275c8e3c446788eae closesbug 1429866
https://review.opendev.org/186752,Add tox target for bandit security checks,Add tox target for bandit security checks Bandit is produced by the OpenStack security team to do static code analysis for security implementation failures. It tests the code base for ~30 common security problems in Python with more to come. run with: tox -e bandit Eventually we should have a check job that runs this target Change-Id: I14c34c2ec8db73179964282cc95df96bd9a600fa,5638,Davanum Srinivas,"[1849, 5170, 5638, 8119, 9578, 9732, 10118, 15286, 15751]","['Joe Gordon', 'Microsoft Hyper-V CI', 'Davanum Srinivas', 'Eric Brown', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'XenProject CI', 'Intel PCI CI']",add tox target bandit security checks bandit produced openstack security team static code analysis security implementation failures tests code base 30 common security problems python come run tox e bandit eventually check job runs target changeid i14c34c2ec8db73179964282cc95df96bd9a600fa
https://review.opendev.org/186636,"Update port security group, relevant ipset member can't be updated","Update port security group, relevant ipset member can't be updated There is only 1 member named p1 in sg1.And 1 member named p2 in sg2. The sg2 can access sg1.So p2 can access p1. After p1 updated to sg3, and sg1 removed p1 from ipsets. But when sg update the ipsets, it can get the sg1 ip is none,and the logical exe set_members when exist ip in sg1,but now p1 had removed from sg1,so sg2 won't updated. Change-Id: Ib301d1d08ed7df14ba56ff7e9862be5b37e17481 Closes-bug:#1458786",15309,zhaobo,"[1131, 5170, 9682, 9845, 9846, 10153, 10184, 10692, 14208, 14323, 15296]","['Brian Haley', 'Microsoft Hyper-V CI', 'OpenContrail CI', 'Arista CI', 'IBM SDN-VE CI', 'One Convergence CI', 'Nuage CI', 'Brocade Vyatta CI', 'Cisco CI', 'HP Networking CI', 'Brocade Openstack CI']",update port security group relevant ipset member cant updated 1 member named p1 sg1and 1 member named p2 sg2 sg2 access sg1so p2 access p1 p1 updated sg3 sg1 removed p1 ipsets sg update ipsets get sg1 ip noneand logical exe setmembers exist ip sg1but p1 removed sg1so sg2 wont updated changeid ib301d1d08ed7df14ba56ff7e9862be5b37e17481 closesbug1458786
https://review.opendev.org/131694,Display protocol in security group rules,To display protocol of the security group rules in dashboard instance overview page Change-Id: I8d3c5089602aae9b77019259fa185f9a847ca472,13406,Sridevi,"[3, 979, 1955, 5623, 8090, 9622, 10068, 13325, 13406, 14151, 14967]","['Jenkins', 'Dave Walker', 'Alan Pevec', 'David Lyle', 'Chad Roberts', 'Cindy Lu', 'Welcome, new contributor!', 'Paul Karikh', 'Sridevi', 'ziyu032', 'Thiago Gomes']",display protocol security group rules dashboard instance overview page changeid i8d3c5089602aae9b77019259fa185f9a847ca472
https://review.opendev.org/185827,"Update tenant"" to project"" in security guide",few changes in security guide added projects for tenant information Change-Id: I77d6ec363ecaa8990295c098dd4389621f2e854c,9382,Shilla Saebi,"[3, 12325]","['Jenkins', 'Nathaniel Dillon']",changes security guide added projects tenant information changeid i77d6ec363ecaa8990295c098dd4389621f2e854c
https://review.opendev.org/156205,Add rate limiting security groups rules CLI extension,Add rate limiting security groups rules CLI extension. Change-Id: Ifefee97944059a0993e547a842c675c12be18120 Implements: blueprint security-group-brute-force-prevention-cli,14249,Lionel Zerbib,"[3, 105, 841, 14249, 14535]","['Jenkins', 'Kyle Mestery', 'Akihiro Motoki', 'Lionel Zerbib', 'Amit Saha']",add rate limiting security groups rules cli extension changeid ifefee97944059a0993e547a842c675c12be18120 implements blueprint securitygroupbruteforcepreventioncli
https://review.opendev.org/156032,Use left join for security group retrieve,"Use left join for security group retrieve Currently server joins SecurityGroupPortBinding and SecurityGroupRule table to retrieve security group rules of a port, so an empty security group is not returned. This will cause trouble if enhanced RPC is enabled. The security_groups field in the RPC response will not contain the id of the empty security group so agent will not update this security group. Thus it will not take effect deleting the last rule in a security group. This patch left joins SecurityGroupPortBinding and SecurityGroupRule table to ensure that empty security group can also be returned. Change-Id: I9713a607a85d4bdcb9730d00cf8551d142acfb0f Closes-Bug: #1420056",12076,Zhiyuan Cai,"[3, 105, 5170, 5948, 6072, 6502, 7805, 9682, 9732, 9787, 9845, 10116, 10153, 10184, 10386, 10387, 11822, 12040, 12076, 12683, 14208, 14212, 14213, 14214, 14956]","['Jenkins', 'Kyle Mestery', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Eugene Nikanorov', 'Andrey Epifanov', 'Li Ma', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Toshiaki Higuchi', 'A10 Networks CI', 'Zhiyuan Cai', 'KaiLin', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Intel SR-IOV CI']",use left join security group retrieve currently server joins securitygroupportbinding securitygrouprule table retrieve security group rules port empty security group returned cause trouble enhanced rpc enabled securitygroups field rpc response contain id empty security group agent update security group thus take effect deleting last rule security group patch left joins securitygroupportbinding securitygrouprule table ensure empty security group also returned changeid i9713a607a85d4bdcb9730d00cf8551d142acfb0f closesbug 1420056
https://review.opendev.org/173310,Add events on dropped packet by security groups firewall.,"Add events on dropped packet by security groups firewall. This patch includes: - A boolean event parameter addition to the security group entity (API/DB/Propagation to the Firewall driver). - An extension of the existing iptables firewall driver that sends events to ceilometer To use these patch with complete events you need: - To activate ceilometer to your devstack configuration file adding these lines (section [[local|localrc]]): enable_service ceilometer-acompute ceilometer-acentral ceilometer-anotification ceilometer-collector enable_service ceilometer-alarm-evaluator,ceilometer-alarm-notifier enable_service ceilometer-api - To add parameter to 'ml2_conf.ini' file in your devstack configuration file adding these lines: [securitygroup] firewall_event_driver=neutron.agent.linux.iptables_firewall_event_syslog.IptablesFirewallSyslogEventDriver - Add the new events definition at the end of the 'file event_definitions.yaml' in ceilometer conf folder: - event_type: security.groups.firewall.drop.* traits: &security_groups_firewall src_ip: fields: payload.src_ip dst_port_number: fields: payload.dst_port_number protocol: fields: payload.protocol dst_ip: fields: payload.dst_ip dst_port_id: fields: payload.dst_port_id rule_type: fields: payload.rule_type time_stamp: fields: payload.time_stamp tenant_id: fields: payload.tenant_id - Associate an instance to a security group that have the event column set to 1/true to receive the events. Change-Id: I4defd2642cd70f3c2ee12f106c939a79d440c569 Status: Beta implementation for POC purpose Implements: blueprint security-groups-dropped-packets-event",14249,Lionel Zerbib,"[3, 105, 1131, 4656, 5170, 9008, 9681, 9732, 9787, 9845, 10116, 10121, 10184, 10257, 10386, 10387, 10692, 12040, 14208, 14212, 14213, 14214, 14216, 14323, 14571, 15296, 15443, 15444]","['Jenkins', 'Kyle Mestery', 'Brian Haley', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'VMware NSX CI', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'Metaplugin CI', 'Nuage CI', 'Sridhar Gaddam', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco UCSM CI', 'Cisco FWaaS CI']",add events dropped packet security groups firewall patch includes boolean event parameter addition security group entity apidbpropagation firewall driver extension existing iptables firewall driver sends events ceilometer use patch complete events need activate ceilometer devstack configuration file adding lines section locallocalrc enableservice ceilometeracompute ceilometeracentral ceilometeranotification ceilometercollector enableservice ceilometeralarmevaluatorceilometeralarmnotifier enableservice ceilometerapi add parameter ml2confini file devstack configuration file adding lines securitygroup firewalleventdriverneutronagentlinuxiptablesfirewalleventsyslogiptablesfirewallsyslogeventdriver add new events definition end file eventdefinitionsyaml ceilometer conf folder eventtype securitygroupsfirewalldrop traits securitygroupsfirewall srcip fields payloadsrcip dstportnumber fields payloaddstportnumber protocol fields payloadprotocol dstip fields payloaddstip dstportid fields payloaddstportid ruletype fields payloadruletype timestamp fields payloadtimestamp tenantid fields payloadtenantid associate instance security group event column set 1true receive events changeid i4defd2642cd70f3c2ee12f106c939a79d440c569 status beta implementation poc purpose implements blueprint securitygroupsdroppedpacketsevent
https://review.opendev.org/128234,Create security group rules in loose loop,Create security group rules in loose loop Change-Id: I3e956b39c314b5bd236a4c1a762f01856cea2905 Closes-Bug: #1265937,13323,Tetiana Lashchova,"[3, 4571, 4715, 7404, 8289, 8871, 9542, 10487, 10787, 13323]","['Jenkins', 'Steve Baker', 'Angus Salkeld', 'Ethan Lynn', 'huangtianhua', 'Elastic Recheck', 'Pavlo Shchelokovskyy', 'Kanagaraj Manickam', 'Michal Jastrzebski (inc0)', 'Tetiana Lashchova']",create security group rules loose loop changeid i3e956b39c314b5bd236a4c1a762f01856cea2905 closesbug 1265937
https://review.opendev.org/141995,Network: Allow case-insensitive neutron security groups,"Allow case-insensitive neutron security groups Initially, nova-network security groups were case-insensitive. Neutron validates security-group names regardless of case, however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state. Now, with this patch neutron allocate_for_instance allowing case-insentivie groups to be matched, which boot an instance with running state. Change-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1 Closes-Bug: #1286463",12869,Amandeep,"[3, 1653, 1849, 5170, 8247, 8412, 9008, 9578, 10118, 10385, 11103, 12869]","['Jenkins', 'garyk', 'Joe Gordon', 'Microsoft Hyper-V CI', 'Thang Pham', 'Mike Durnosvistov', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI', 'Amandeep']",allow caseinsensitive neutron security groups initially novanetwork security groups caseinsensitive neutron validates securitygroup names regardless case however would fail scheduler would attempt allocate group instance causing enter error state patch neutron allocateforinstance allowing caseinsentivie groups matched boot instance running state changeid ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1 closesbug 1286463
https://review.opendev.org/178453,Add callbacks for security group create/delete,Add callbacks for security group create/delete Add a notification listener to listen for the API notifications about created/updated/deleted objects. This allows us to listen for security group and security group rule deletions and creations that don't result in a normal notification to the agents. Change-Id: Icbeacf83b3cd2752a7a674e8e4aed045fcd09487,7787,Kevin Benton,[3],['Jenkins'],add callbacks security group createdelete add notification listener listen api notifications createdupdateddeleted objects allows us listen security group security group rule deletions creations dont result normal notification agents changeid icbeacf83b3cd2752a7a674e8e4aed045fcd09487
https://review.opendev.org/109806,Adds message security plugins,"Adds message security plugins This adds an optional plugin framework for message security. It also provides two plugin implementations, a dummy pass through and one for using kite. This is work in progress. Change-Id: Icbed9d0aee4c84bb396f58bcb7516797a97a515b Implements: blueprint trusted-messaging",11716,Tim Kelsey,"[3, 1297, 1528, 2472, 5638, 7063, 7191, 7536, 8415, 8871, 11716, 11861]","['Jenkins', 'Joshua Harlow', 'Stanislaw Pitucha', 'Doug Hellmann', 'Davanum Srinivas', 'Robert Clark', 'Jamie Lennox', 'Ilya Pekelny', 'Denis M.', 'Elastic Recheck', 'Tim Kelsey', 'Travis McPeak']",adds message security plugins adds optional plugin framework message security also provides two plugin implementations dummy pass one using kite work progress changeid icbed9d0aee4c84bb396f58bcb7516797a97a515b implements blueprint trustedmessaging
https://review.opendev.org/178459,Reworded sentence in chapter 7 of the security guide,Reworded sentence in chapter 7 of the security guide Change-Id: I215dacdb8ee661da204fc6453a2cfaa3459f4342,14920,Michael Simo,[],[],reworded sentence chapter 7 security guide changeid i215dacdb8ee661da204fc6453a2cfaa3459f4342
https://review.opendev.org/167487,Ensure security group body does not always include description,"Ensure security group body does not always include description The description value for a security group is optional, and doesn't need to be included if it's doesn't have a value. Change-Id: Iac1e73e131ecdbf205f9a9d7b0401b52a6dc6789 Closes-Bug: 1434172",6482,Steve Martinelli,"[3, 679, 6482]","['Jenkins', 'Kevin L. Mitchell', 'Steve Martinelli']",ensure security group body always include description description value security group optional doesnt need included doesnt value changeid iac1e73e131ecdbf205f9a9d7b0401b52a6dc6789 closesbug 1434172
https://review.opendev.org/150835,WIP: Port Security Extension Blueprint: ml2-ovs-portsecurity,WIP: Port Security Extension Blueprint: ml2-ovs-portsecurity Change-Id: Ib18a6250ab7f47c430055d5903c693ee437f8ea3,1269,Shweta P,"[3, 333, 1269, 1689, 5170, 6697, 9656, 9681, 9732, 9787, 9845, 10116, 10121, 10153, 10184, 10386, 10387, 10393, 11114, 12040, 14208, 14212, 14743, 14749]","['Jenkins', 'Isaku Yamahata', 'Shweta P', 'Robert Kukura', 'Microsoft Hyper-V CI', 'Sandhya Dasu', 'Ihar Hrachyshka', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'nlahouti', 'yalei wang', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Viktor Tikkanen', 'Juha Kosonen']",wip port security extension blueprint ml2ovsportsecurity changeid ib18a6250ab7f47c430055d5903c693ee437f8ea3
https://review.opendev.org/156596,Enforce single worker to create a default security group,"[DONT MERGE] Enforce single worker to create a default security group This is a hacky attempt to see whether locks spread thru all the code that may trigger default security group creation will pass the gate. This is an alternative for [1] but without db migrations, so that it may apply to stable branches where we don't allow new migrations. Change-Id: I996fe9f1747a025f065329ee50d4c621a01253ce Related-Bug: #1194579",9656,Ihar Hrachyshka,"[3, 105, 5170, 7249, 8788, 9656, 9681, 9682, 9732, 9787, 10153, 10387, 12040, 14208, 14212, 14213, 14214]","['Jenkins', 'Kyle Mestery', 'Microsoft Hyper-V CI', 'Ann Taraday', 'Miguel Angel Ajo', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'One Convergence CI', 'Freescale CI', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI']",dont merge enforce single worker create default security group hacky attempt see whether locks spread thru code may trigger default security group creation pass gate alternative 1 without db migrations may apply stable branches dont allow new migrations changeid i996fe9f1747a025f065329ee50d4c621a01253ce relatedbug 1194579
https://review.opendev.org/163780,Adding security groups to existing ports,"Adding security groups to existing ports Security groups were added to port request body only during creating port. When both port id and security groups were provided in request for launching instance, security groups were not updated in port. In this change, security groups are updated even in existing ports. Change-Id: I660a989f7539109e5c3ea33dc835edc6c7980cd9 Closes-Bug: #1425294",14027,Michal Rostecki,"[3, 5170, 5511, 6873, 8871, 9008, 9550, 9578, 10068, 10118, 10385, 11103, 14027]","['Jenkins', 'Microsoft Hyper-V CI', 'Nikola Dipanov', 'Matt Riedemann', 'Elastic Recheck', 'VMware NSX CI', 'Eugeniya Kudryashova', 'DB Datasets CI', 'Welcome, new contributor!', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI', 'Michal Rostecki']",adding security groups existing ports security groups added port request body creating port port id security groups provided request launching instance security groups updated port change security groups updated even existing ports changeid i660a989f7539109e5c3ea33dc835edc6c7980cd9 closesbug 1425294
https://review.opendev.org/133893,Use 409 instead of 400 when security group or rule existed,"Use 409 instead of 400 when security group or rule existed When create/update security group and create security group rule, the current code returns 400, but it should be 409. This patch fix this problem. Change-Id: Ia42cc4c717cd1d73a6028f3cc3e28340d56c6f05",5754,Alex Xu,"[3, 642, 2750, 5170, 5754, 8412, 9008, 9578, 10118, 10385]","['Jenkins', 'Matt Dietz', 'Sean Dague', 'Microsoft Hyper-V CI', 'Alex Xu', 'Mike Durnosvistov', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",use 409 instead 400 security group rule existed createupdate security group create security group rule current code returns 400 409 patch fix problem changeid ia42cc4c717cd1d73a6028f3cc3e28340d56c6f05
https://review.opendev.org/161172,Hyper-V: Fixes security groups issue,"Hyper-V: Fixes security groups issue After this patch If19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroups_rpc, prepare_devices_filter attempts to use methods unimplemented by the HyperV security groups driver. For this reason, binding ports fails with NotImplementedError if security groups are enabled. Until the HyperV security groups driver reaches parity, the use_enhanced_rpc property should be set to False on the HyperVSecurityAgent, falling back to the old behaviour. Change-Id: I8c28a67df4c1e94d2d944c7f19614164c79a49a4 Closes-Bug: #1415523",9361,Vivekanandan Narasimhan,"[704, 1653, 3185, 7718, 8213, 8543, 9682, 9732, 10153, 10387, 14208, 14571]","['Edgar Magana', 'garyk', 'Alessandro Pilotti', 'Ashok kumaran B', 'Claudiu Belu', 'Lucian Petrut', 'OpenContrail CI', 'Mellanox CI', 'One Convergence CI', 'Freescale CI', 'Cisco CI', 'Intel Experimental CI']",hyperv fixes security groups issue patch if19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroupsrpc preparedevicesfilter attempts use methods unimplemented hyperv security groups driver reason binding ports fails notimplementederror security groups enabled hyperv security groups driver reaches parity useenhancedrpc property set false hypervsecurityagent falling back old behaviour changeid i8c28a67df4c1e94d2d944c7f19614164c79a49a4 closesbug 1415523
https://review.opendev.org/147419,Add Security Boot Mode into Management Interface,"Add Security Boot Mode into Management Interface This spec proposes adding security boot mode into Management Interface to set next boot with secure boot for deployment of Bare Metal depends on nodes capabilities: With Intel TXT hardware support and enable, nodes can go to trust boot.[1] With UEFI secure boot enable, nodes can go to secure boot.[2] [1]https://review.openstack.org/#/c/133902 [2]https://review.openstack.org/#/c/135845 Change-Id: Iae04573c0ba762c430ca3255af6f79cba22771eb",13362,Tan Lin,"[3, 4573, 4992, 10202, 11076, 13362, 14760]","['Jenkins', 'yunhong-jiang', 'malini-k-bhandaru', 'Wan-yen Hsu', 'Shivanand Tendulker', 'Tan Lin', 'John L. Villalovos']",add security boot mode management interface spec proposes adding security boot mode management interface set next boot secure boot deployment bare metal depends nodes capabilities intel txt hardware support enable nodes go trust boot1 uefi secure boot enable nodes go secure boot2 1httpsreviewopenstackorgc133902 2httpsreviewopenstackorgc135845 changeid iae04573c0ba762c430ca3255af6f79cba22771eb
https://review.opendev.org/161044,HP3PAR Remove support for user security for CIFS,HP3PAR Remove support for user security for CIFS Taking out user security for CIFS. Both CIFS and NFS are now secured by IP address. User security was based on 3PAR local 'fsuser'. This did not make sense in an environment with multiple drivers. Change-Id: I0bc7389b8be9feb7f99aabe5ec879c052b902c0b Implements: blueprint hp3par-remove-cifs-user-access,11047,Mark Sturdevant,"[3, 11047, 11865]","['Jenkins', 'Mark Sturdevant', 'Clinton Knight']",hp3par remove support user security cifs taking user security cifs cifs nfs secured ip address user security based 3par local fsuser make sense environment multiple drivers changeid i0bc7389b8be9feb7f99aabe5ec879c052b902c0b implements blueprint hp3parremovecifsuseraccess
https://review.opendev.org/143404,"This test case validates instance with no security group, There is defect (1399525) in existing code that blocking Instance traffic after removing security group from the Instance port.","This test case validates instance with no security group, There is defect (1399525) in existing code that blocking Instance traffic after removing security group from the Instance port. Change-Id: Ifadbfc65074d7b4db54104702c6ae6f88cf69d2e",13219,Thalabathy Venkatesan,"[3, 748, 5174, 7293, 8556, 10068, 10385, 13219]","['Jenkins', 'Armando Migliaccio', 'Mauro Rodrigues', 'Elena Ezhova', 'Ghanshyam', 'Welcome, new contributor!', 'Citrix XenServer CI', 'Thalabathy Venkatesan']",test case validates instance security group defect 1399525 existing code blocking instance traffic removing security group instance port changeid ifadbfc65074d7b4db54104702c6ae6f88cf69d2e
https://review.opendev.org/102509,"description for ""default"" security group changed","description for ""default"" security group changed Changed the description of ""default"" security group from ""default"" to ""default security group"" Change-Id: I1ff06c5098973833d222c5577e1cbb138402886e Closes-Bug:1291570",10617,Ravindra Joshi,"[3, 105, 1923, 4395, 4656, 5170, 6854, 7249, 7293, 7787, 8213, 8645, 9656, 9681, 9732, 9787, 9845, 9885, 9925, 10068, 10116, 10117, 10119, 10153, 10184, 10192, 10294, 10387, 10617]","['Jenkins', 'Kyle Mestery', 'Mohammad Banikazemi', 'Aaron Rosen', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'YAMAMOTO Takashi', 'Ann Taraday', 'Elena Ezhova', 'Kevin Benton', 'Claudiu Belu', 'Trinath Somanchi', 'Ihar Hrachyshka', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Embrane CI', 'Midokura CI', 'Welcome, new contributor!', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Ravindra Joshi']",description default security group changed changed description default security group default default security group changeid i1ff06c5098973833d222c5577e1cbb138402886e closesbug1291570
https://review.opendev.org/145436,Unclear message deleting default security group,"Unlcear message deleting default security group Trying to delete default security group from a non-admin user gives an error ""Conflict (HTTP 409) (Request-ID: req-152c2ec3-1f32-406f-9eeb-bb8ea48a4d11)"" but no messgae is displayed to the user. This is confusing as the user does not get to know why is he not allowed to remove the defaulty security group. So updated the code to give a more optimal message to the user. Closes-Bug: #1403747 Change-Id: I26f7421a81c109fb3f708962e4ca7b54c7ea4c3c",12140,Abhishek Talwar,"[3, 105, 261, 4395, 7787, 8124, 11114, 12140]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Aaron Rosen', 'Kevin Benton', 'cbrandily', 'yalei wang', 'Abhishek Talwar']",unlcear message deleting default security group trying delete default security group nonadmin user gives error conflict http 409 requestid req152c2ec31f32406f9eebbb8ea48a4d11 messgae displayed user confusing user get know allowed remove defaulty security group updated code give optimal message user closesbug 1403747 changeid i26f7421a81c109fb3f708962e4ca7b54c7ea4c3c
https://review.opendev.org/733672,Grafana security headers,Grafana security headers Enabling the security headers cookie_samesite x_content_type_options x_xss_protection Change-Id: I87eba1d56db6dbb1c2ed7392223b2124b0cf1897,18295,John Lawrence,"[17591, 18295, 21420, 22348]","['Steve Wilkerson', 'John Lawrence', 'Gage Hugo', 'Zuul']",grafana security headers enabling security headers cookiesamesite xcontenttypeoptions xxssprotection changeid i87eba1d56db6dbb1c2ed7392223b2124b0cf1897
https://review.opendev.org/675579,[DNM] Test none security driver,[DNM] Test none security driver Change-Id: Ie32240fb5a67aec78e89114dac56d50e57713bca,13861,yatin,[23181],['RDO Third Party CI'],dnm test none security driver changeid ie32240fb5a67aec78e89114dac56d50e57713bca
https://review.opendev.org/153961,Rename default security group,"Rename default security group Kilo changed behaviour of security group naming. It's impossible now to create 'Default' group if 'default' is present. This fact affects to VPC creation, so working test for VPC is added too. Change-Id: Iab6090c41d23a3133f6cd95ff9be5f660096e66a",10234,Andrey Pavlov,"[3, 9312, 10224]","['Jenkins', 'Alexandre Levine', 'Feodor Tersin']",rename default security group kilo changed behaviour security group naming impossible create default group default present fact affects vpc creation working test vpc added changeid iab6090c41d23a3133f6cd95ff9be5f660096e66a
https://review.opendev.org/152373,Fix error raising in security groups method,Fix error raising in security groups method In case there were security groups not belonging to tenant on port _get_security_groups_on_port would try to raise exception but fail trying to index set. This patch removes use of index and introduces new exception which provides better explanation of situation which occurred. Continuing the work of https://review.openstack.org/#/c/124070/ Change-Id: Ia3e12464e390266e639a46c06595f6c4f8be5158 Closes-Bug: #1373816,14039,watanabe isao,"[3, 5170, 5948, 7249, 9008, 9681, 9787, 9845, 10116, 10153, 10386, 10692, 12040, 14039, 14212]","['Jenkins', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Ann Taraday', 'VMware NSX CI', 'Ryu CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'One Convergence CI', 'OpenDaylight CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'watanabe isao', 'Cisco Tail-f CI']",fix error raising security groups method case security groups belonging tenant port getsecuritygroupsonport would try raise exception fail trying index set patch removes use index introduces new exception provides better explanation situation occurred continuing work httpsreviewopenstackorgc124070 changeid ia3e12464e390266e639a46c06595f6c4f8be5158 closesbug 1373816
https://review.opendev.org/146778,add conntrack-tool to manage security group,"add conntrack-tool to manage security group this patch introduce conntrack-tool to manage security group. when a security group rule is deleted, it should use conntrack-tool to delete the invalid ip connectivity. Change-Id: I83ded140b37a4d276ab64911d73d4224b598c33b Partially-Implements: bp conntrack-in-security-group",8976,shihanzhang,"[3, 4656, 5170, 7787, 7805, 8976, 9008, 9681, 9682, 9732, 9787, 9845, 9925, 10116, 10121, 10153, 10184, 10386, 10387, 10692, 12040, 14212]","['Jenkins', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Kevin Benton', 'Li Ma', 'shihanzhang', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Cisco Tail-f CI']",add conntracktool manage security group patch introduce conntracktool manage security group security group rule deleted use conntracktool delete invalid ip connectivity changeid i83ded140b37a4d276ab64911d73d4224b598c33b partiallyimplements bp conntrackinsecuritygroup
https://review.opendev.org/94007,Implement security class for gerrit base security,"setup all projects acls listed on openstack site: http://ci.openstack.org/gerrit.html setup with include gerrit::security, manages groups, All Projects security Change-Id: Icc489584829f3386d574b4c76ef625d8e4ff9c3e",8564,Edward Raigosa (wenlock),"[1, 2, 3, 5263, 6987, 8564]","['James E. Blair', 'Monty Taylor', 'Jenkins', 'Jeremy Stanley', 'Khai Do', 'Edward Raigosa (wenlock)']",setup projects acls listed openstack site httpciopenstackorggerrithtml setup include gerritsecurity manages groups projects security changeid icc489584829f3386d574b4c76ef625d8e4ff9c3e
https://review.opendev.org/117543,Fixes Hyper-V agent stateful security group rules,"Fixes Hyper-V agent stateful security group rules Hyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that security group rules which allows ""ANY"" protocol must be split up into separate rules for each protocol. Also, Hyper-V does not allow stateful ICMP rules, which means ICMP rules must be added both inbound and outbound. Change-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0",8213,Claudiu Belu,"[3, 105, 3185, 5170, 8213, 8645, 9681, 9682, 9732, 9845, 9846, 10116, 10117, 10121, 10153, 10184, 10192, 10294, 10387, 10503, 10635, 12040, 12737]","['Jenkins', 'Kyle Mestery', 'Alessandro Pilotti', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Trinath Somanchi', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Arista CI', 'IBM SDN-VE CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI', 'Octavian Ciuhandu', 'A10 Networks CI', 'Jacek Swiderski']",fixes hyperv agent stateful security group rules hyperv allow stateful acls protocol meaning security group rules allows protocol must split separate rules protocol also hyperv allow stateful icmp rules means icmp rules must added inbound outbound changeid i0d4a6ebc6023ea616cf92539273b8b36a6b24ae0
https://review.opendev.org/98966,Enable setting default rules for default security group,Enable setting default rules for default security group Blueprint: default-rules-for-default-security-group Change-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a,6732,Lingxian Kong,"[3, 105, 261, 1131, 1580, 2035, 4395, 6732, 8290, 8788, 8976, 9820]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Brian Haley', 'Nachi Ueno', 'Maru Newby', 'Aaron Rosen', 'Lingxian Kong', 'liusheng', 'Miguel Angel Ajo', 'shihanzhang', 'Liping Mao']",enable setting default rules default security group blueprint defaultrulesfordefaultsecuritygroup changeid iafe3432d37bb0c03d8e0be04e2641c37dab9a35a
https://review.opendev.org/104928,Not to create default security group if neutron sg is used,Not to create default security group if neutron sg is used Change-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f Closes-Bug: 1337912,2874,yong sheng gong,"[3, 7, 1561, 1653, 2750, 2874, 5170, 6450, 8412, 9008, 9578, 10118, 10385]","['Jenkins', 'Jay Pipes', 'Russell Bryant', 'garyk', 'Sean Dague', 'yong sheng gong', 'Microsoft Hyper-V CI', 'Hans Lindgren', 'Mike Durnosvistov', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",create default security group neutron sg used changeid ib38ab5490118367d39f9411f0a99c3f57bb9a92f closesbug 1337912
https://review.opendev.org/149260,fix choosing default security group,fix choosing default security group Change-Id: Ib0107ee5181fe8e2be347b385d5ce48ab4165a2e,10234,Andrey Pavlov,"[3, 9312, 10224]","['Jenkins', 'Alexandre Levine', 'Feodor Tersin']",fix choosing default security group changeid ib0107ee5181fe8e2be347b385d5ce48ab4165a2e
https://review.opendev.org/119407,WIP: Add a --trust-me option to security group create,WIP: Add a --trust-me option to security group create Create a default set of rules for the new security group that is wide open. This is nova-network only until OSC gets Neutron support Change-Id: Ic543abf8c74155807fd66ccecd98cbd55900d39c,970,Dean Troyer,"[1, 3, 970, 8736]","['James E. Blair', 'Jenkins', 'Dean Troyer', 'Terry Howe']",wip add trustme option security group create create default set rules new security group wide open novanetwork osc gets neutron support changeid ic543abf8c74155807fd66ccecd98cbd55900d39c
https://review.opendev.org/141039,Allow security group rules to be specified in both directions,Allow security group rules to be specified in both directions Currently it is only possible to create security group rules with ingress or egress direction. This means that in case when a user needs to create identically configured ingress and egress rules he/she has to run the create command twice. This patch extends a list of choices for security-group-rule-create direction argument with 'both'. Corresponding patch for neutron: https://review.openstack.org/#/c/140676 Change-Id: Ifa3b09b63c9d6f01e4bb5aac9d7331e1692d69b2 Closes-Bug: #1325736,7293,Elena Ezhova,"[3, 7293]","['Jenkins', 'Elena Ezhova']",allow security group rules specified directions currently possible create security group rules ingress egress direction means case user needs create identically configured ingress egress rules heshe run create command twice patch extends list choices securitygrouprulecreate direction argument corresponding patch neutron httpsreviewopenstackorgc140676 changeid ifa3b09b63c9d6f01e4bb5aac9d7331e1692d69b2 closesbug 1325736
https://review.opendev.org/140676,Allow security group rules to be specified in both directions,WIP: Allow security group rules to be specified in both directions Change-Id: Icb3e720c15ac7ed8a657596c72cc3c08098f0931 Closes-Bug: #1325736,7293,Elena Ezhova,"[3, 4395, 5170, 7249, 7293, 9008, 9656, 9681, 9682, 9732, 9787, 9845, 9846, 10116, 10117, 10121, 10153, 10184, 10386, 10387, 10692, 14208, 14212, 14214]","['Jenkins', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Ann Taraday', 'Elena Ezhova', 'VMware NSX CI', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",wip allow security group rules specified directions changeid icb3e720c15ac7ed8a657596c72cc3c08098f0931 closesbug 1325736
https://review.opendev.org/126408,NSX plugin security group rules summarization,NSX plugin security group rules summarization Summarize the security group rules before creating the rules in NSX controller. This fix removes duplicate and redundant rules to yield same or smaller set of rules that enforces the same security policies on the hypervisors and reduce the NSX control cluster memory consumption. Change-Id: Ib654ee400e8dd796d5660000d09c8adaf5dda16e Closes-Bug: 1376981,10461,Sudheendra Murthy,"[3, 748, 4395, 5170, 9681, 9682, 9732, 9787, 9845, 9846, 10116, 10117, 10119, 10121, 10153, 10184, 10192, 10294, 10387, 10461, 10503, 11762, 12040, 14208, 14212, 14214]","['Jenkins', 'Armando Migliaccio', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Sudheendra Murthy', 'Huawei ML2 CI', 'Han Zhou', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",nsx plugin security group rules summarization summarize security group rules creating rules nsx controller fix removes duplicate redundant rules yield smaller set rules enforces security policies hypervisors reduce nsx control cluster memory consumption changeid ib654ee400e8dd796d5660000d09c8adaf5dda16e closesbug 1376981
https://review.opendev.org/134442,Improve performance of security group DB query,"Improve performance of security group DB query The _select_ips_for_remote_group method was joining the IP allocation, port, allowed address pair, and security group tables together in a single query. Additionally, it was loading all of the port columns and using none of them. This resulted in a very expensive query with no benefit. This patch eliminates the unnecessary use of the port table by joining the IP allocation table directly to the security groups and allowed address pairs tables. In local testing of the method, this sped it up by an order of magnitude. Closes-Bug: #1373851 Change-Id: I12899413004838d2d22b691f1e2f3b18f7ec2c27 (cherry picked from commit 04df85b6e5a098f8f55bb82f04d9769763beb487)",1313,Yaguang Tang,"[3, 979, 1313, 5170, 7787, 9656, 9682, 9732, 9787, 10119, 10153, 10192, 12040]","['Jenkins', 'Dave Walker', 'Yaguang Tang', 'Microsoft Hyper-V CI', 'Kevin Benton', 'Ihar Hrachyshka', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'vArmour CI', 'One Convergence CI', 'Cisco CI', 'A10 Networks CI']",improve performance security group db query selectipsforremotegroup method joining ip allocation port allowed address pair security group tables together single query additionally loading port columns using none resulted expensive query benefit patch eliminates unnecessary use port table joining ip allocation table directly security groups allowed address pairs tables local testing method sped order magnitude closesbug 1373851 changeid i12899413004838d2d22b691f1e2f3b18f7ec2c27 cherry picked commit 04df85b6e5a098f8f55bb82f04d9769763beb487
https://review.opendev.org/104452,OVSvAPP solution for VLAN and security groups,OVSvAPP solution for VLAN and security groups Change-Id: I81a05a5c906a1fee43ed59cd38a46176682ca363,10368,Raghuveer Shenoy,"[3, 105, 748, 9361, 10068, 10370, 11412, 11415]","['Jenkins', 'Kyle Mestery', 'Armando Migliaccio', 'Vivekanandan Narasimhan', 'Welcome, new contributor!', 'Romil Gupta', 'gangadhar_singh', 'Rashmi P']",ovsvapp solution vlan security groups changeid i81a05a5c906a1fee43ed59cd38a46176682ca363
https://review.opendev.org/44375,Add DSCP option to Security Groups,Add DSCP option to Security Groups This commit adds the DSCP option to the Security Groups client CLI. Implements blueprint security-groups-dscp-filter-client Change-Id: Ia1da473d1d1b2f5d8f8c3b5f39cf6466ee595216,5162,Dan Florea,"[3, 5162]","['Jenkins', 'Dan Florea']",add dscp option security groups commit adds dscp option security groups client cli implements blueprint securitygroupsdscpfilterclient changeid ia1da473d1d1b2f5d8f8c3b5f39cf6466ee595216
https://review.opendev.org/93112,Action support for security group rule,"Action support for security group rule Security Group is a core functionalies in the openstack. The model is widly used and get famillier with many users. Basically, the security group will only supports ALLOW action and it's limited. In this bp, we are going to support more ACTIONS including DENY, ALLOW_CONNECTION, QoS and APPLY_SERVICE. We will Also add new attributes for rule such as priority in rule in order to support these attributes. Change-Id: I01eac77d07972ec1c941d2fb8691beee0dab9c9a",2031,Nachi Ueno,"[3, 105, 261, 333, 1935, 2031, 2035, 2592, 6670, 6854]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Isaku Yamahata', 'Tomoe Sugihara', 'Nachi Ueno', 'Maru Newby', 'Mark McClain', 'Amir Sadoughi', 'YAMAMOTO Takashi']",action support security group rule security group core functionalies openstack model widly used get famillier many users basically security group supports allow action limited bp going support actions including deny allowconnection qos applyservice also add new attributes rule priority rule order support attributes changeid i01eac77d07972ec1c941d2fb8691beee0dab9c9a
https://review.opendev.org/91306,"Implements: Added code for do_secgroup_create Previously name & description are mendatory parameters, now it sets to Now. If want to create a security group you dont require name & description as mendatory. Closes-Bug: #1254722","Implements: Added code for do_secgroup_create Previously name & description are mendatory parameters, now it sets to Now. If want to create a security group you dont require name & description as mendatory. Closes-Bug: #1254722 Change-Id: I399c270663bb5c1b4706ecd7e4452e8995da21bd",10471,Digambar Patil,"[3, 679, 1849, 2750, 8871]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Sean Dague', 'Elastic Recheck']",implements added code dosecgroupcreate previously name description mendatory parameters sets want create security group dont require name description mendatory closesbug 1254722 changeid i399c270663bb5c1b4706ecd7e4452e8995da21bd
https://review.opendev.org/93494,Adding test for security group in trove.,Adding test for security group in trove. Change-Id: Ic52efc55399c4ab2fc9d8776e52763b1bd56a1fb,1835,umamohan,"[3, 2750, 7428, 8824, 8871, 9008, 10385]","['Jenkins', 'Sean Dague', 'Yaroslav Lobankov', 'Sergey Murashov', 'Elastic Recheck', 'VMware NSX CI', 'Citrix XenServer CI']",adding test security group trove changeid ic52efc55399c4ab2fc9d8776e52763b1bd56a1fb
https://review.opendev.org/123925,Security groups: prevent race for default security group creation,"Security groups: prevent race for default security group creation When a VM is booted via the Nova the client connection is created with an admin user. This causes problems when creating the neutron port. That is, there may be a race for the creation of the default security group for the tenant. The problem was introduced by commit acf44dba26ca8dca47bfb5fb2916807f9f4e2060 Change-Id: Ie0199c71231a322704f1f49995facde09c92da25 Closes-bug: #1372570 (cherry picked from commit 32ea2e349decd750e25cb00a8c907b8f73f795f3)",4395,Aaron Rosen,"[3, 841, 979, 1653, 5170, 8213, 8279, 9656, 9681, 9682, 9732, 9787, 9846, 10121, 10153, 10192, 10294, 10387, 10503, 10692, 12040, 12737, 13308]","['Jenkins', 'Akihiro Motoki', 'Dave Walker', 'garyk', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Fawad Khaliq', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'IBM SDN-VE CI', 'Metaplugin CI', 'One Convergence CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Jacek Swiderski', 'Dream Host']",security groups prevent race default security group creation vm booted via nova client connection created admin user causes problems creating neutron port may race creation default security group tenant problem introduced commit acf44dba26ca8dca47bfb5fb2916807f9f4e2060 changeid ie0199c71231a322704f1f49995facde09c92da25 closesbug 1372570 cherry picked commit 32ea2e349decd750e25cb00a8c907b8f73f795f3
https://review.opendev.org/133376,Updates default security group rules,Updates default security group rules Adds new rules to the default security group in osbash cluster. This will allow the users to ssh and ping the VM instance without having to modify the security groups. Change-Id: If4eef488303637e90ae3397c51c533dfb1c6ba45,7007,Pranav Salunke,"[3, 7007, 11109]","['Jenkins', 'Pranav Salunke', 'Roger Luethi']",updates default security group rules adds new rules default security group osbash cluster allow users ssh ping vm instance without modify security groups changeid if4eef488303637e90ae3397c51c533dfb1c6ba45
https://review.opendev.org/134906,Clean Nova security groups,Clean Nova security groups Change-Id: I9ea46e4ce187194f04f7acbb9fb37f3ffbb2456f,8122,Cyril Roelandt,"[3, 7350, 8122, 8996]","['Jenkins', 'Jordan Pittier', 'Cyril Roelandt', 'Florent Flament']",clean nova security groups changeid i9ea46e4ce187194f04f7acbb9fb37f3ffbb2456f
https://review.opendev.org/77347,Make neutron security group lookup consistent,"Allow case-insensitive neutron security groups nova-network security groups are case-insensitive. Neutron validates security-group names regardless of case, however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state. This patch fixes neutrons allocate_for_instance allowing case-insentivie groups to be matched. Change-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f Closes-Bug: #1286463",7069,Joshua Hesketh,"[3, 1475, 1653, 1849, 2592, 2750, 5170, 5292, 7069, 7472, 8125, 8163, 8871, 9008, 9578, 10385]","['Jenkins', 'Joe Breu', 'garyk', 'Joe Gordon', 'Mark McClain', 'Sean Dague', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'Joshua Hesketh', 'Steven Deaton', 'Michael Davies', 'Sreeram Yerrapragada', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'Citrix XenServer CI']",allow caseinsensitive neutron security groups novanetwork security groups caseinsensitive neutron validates securitygroup names regardless case however would fail scheduler would attempt allocate group instance causing enter error state patch fixes neutrons allocateforinstance allowing caseinsentivie groups matched changeid id950887b5011e7df7b66c212d1b074e0e8ccb84f closesbug 1286463
https://review.opendev.org/73385,Break out security group logic in allocate_for_instance,Break out security group logic in allocate_for_instance This patch breaks out the security group logic that converts security group names to ids in allocate_for_instance to it's own method in an attempt to shortten allocate_for_instance and make it more managable. Closes-bug: #1279941 Change-Id: I06f24c646261098c3412476604f8f325458cea10,4395,Aaron Rosen,"[3, 7, 1030, 1653, 2592, 2750, 4393, 4395, 5170, 5292, 5441, 6062, 6685, 6873, 8163, 9008, 9578, 10118, 10385]","['Jenkins', 'Jay Pipes', 'Chris Behrens', 'garyk', 'Mark McClain', 'Sean Dague', 'Dan Smith', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'Andrew Laski', 'jichencom', 'Baodong (Robert) Li', 'Matt Riedemann', 'Sreeram Yerrapragada', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",break security group logic allocateforinstance patch breaks security group logic converts security group names ids allocateforinstance method attempt shortten allocateforinstance make managable closesbug 1279941 changeid i06f24c646261098c3412476604f8f325458cea10
https://review.opendev.org/102522,"description for ""default"" security group changed","description for ""default"" security group changed Changed the description of ""default"" security group from ""default"" to ""default security group"" Change-Id: Ie81f05de427c53d777c16631cf9bddb19851e1a9 Closes-Bug:1291570",10617,Ravindra Joshi,"[3, 1849, 2750, 5170, 6167, 9008, 9578, 10118, 10385, 10618]","['Jenkins', 'Joe Gordon', 'Sean Dague', 'Microsoft Hyper-V CI', ""Ken'ichi Ohmichi"", 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Pavel Kholkin']",description default security group changed changed description default security group default default security group changeid ie81f05de427c53d777c16631cf9bddb19851e1a9 closesbug1291570
https://review.opendev.org/132264,Add hash to auto security group for uniqueness,Add hash to auto security group for uniqueness Node group id is unique enough to avoid duplicates. Change-Id: I4ce1de63313320683b9d87e3318349da3c014d7d Closes-Bug: #1383348 (cherry picked from commit 871cc57d056472758e2fe0b09924eefcc28171a4),7132,Nikita Konovalov,"[3, 979, 6786, 7213, 8411, 10670, 12038]","['Jenkins', 'Dave Walker', 'Sergey Lukjanov', 'Sahara Hadoop Cluster CI', 'Andrew Lazarev', 'Michael McCune', 'Vitaly Gridnev']",add hash auto security group uniqueness node group id unique enough avoid duplicates changeid i4ce1de63313320683b9d87e3318349da3c014d7d closesbug 1383348 cherry picked commit 871cc57d056472758e2fe0b09924eefcc28171a4
https://review.opendev.org/105967,Implement Midonet Juno Security Group Api calls,"Implement Midonet Juno Security Group Api calls This patch is part of a series of patches converting the current midonet plugin code to the new model described in blueprint midonet-plugin-juno. This patch focuses specifically on the ""security group"" handlers. Change-Id: I76d3c8809aff2fc1b74de0fab6712b8495d1413b Partially-Implements: blueprint midonet-plugin-juno",1935,Tomoe Sugihara,"[3, 1935, 5170, 6788, 6854, 9681, 9732, 9845, 9925, 10116, 10117, 10121, 10153, 10192, 10294, 10387]","['Jenkins', 'Tomoe Sugihara', 'Microsoft Hyper-V CI', 'Rossella Sblendido', 'YAMAMOTO Takashi', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI']",implement midonet juno security group api calls patch part series patches converting current midonet plugin code new model described blueprint midonetpluginjuno patch focuses specifically security group handlers changeid i76d3c8809aff2fc1b74de0fab6712b8495d1413b partiallyimplements blueprint midonetpluginjuno
https://review.opendev.org/134547,DO NOT MERGE. Dirty hack to enable security updates,DO NOT MERGE. Dirty hack to enable security updates Change-Id: I2640d1b6182466d2ce0d07c27c400c399705f3d7,9582,Dmitry Burmistrov,"[3, 8971, 9582]","['Jenkins', 'Fuel CI', 'Dmitry Burmistrov']",merge dirty hack enable security updates changeid i2640d1b6182466d2ce0d07c27c400c399705f3d7
https://review.opendev.org/91805,Enforce uniqueness of security group name per tenant,"Enforce uniqueness of security group name per tenant In Bug: 1194579 a race condition is described where multiple requests to create 'default' security group may not be caught as checks are in code, not enforced on the db model. This review enforces the uniqueness of {tenant_id, sg_name} in the SecurityGroup db model using a named UniqueConstraint. I have included the migration file - please let me know if this is correct. I don't think we need a test here as this case is actually already covered in test_extension_security_group Closes-Bug: 1194579 Change-Id: I9559aeed64942b828ec57611daa780ee6ef5bcb1",8449,Marios Andreou,"[3, 5170, 7505, 8449, 9008, 9732, 9787, 9845, 9925, 10117, 10192, 10294, 10503]","['Jenkins', 'Microsoft Hyper-V CI', 'Jaume Devesa', 'Marios Andreou', 'VMware NSX CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'PLUMgrid CI', 'Cisco CI', 'Brocade VDX CI', 'Huawei ML2 CI']",enforce uniqueness security group name per tenant bug 1194579 race condition described multiple requests create default security group may caught checks code enforced db model review enforces uniqueness tenantid sgname securitygroup db model using named uniqueconstraint included migration file please let know correct dont think need test case actually already covered testextensionsecuritygroup closesbug 1194579 changeid i9559aeed64942b828ec57611daa780ee6ef5bcb1
https://review.opendev.org/106222,Add Port Security Implementation in ML2 Plugin Implements: blueprint port-security-ml2,Add Port Security Implementation in ML2 Plugin Implements: blueprint port-security-ml2 Change-Id: I14c6dff025d2e3910e7dc8fba66c65f9657ea04f,1269,Shweta P,"[3, 333, 1689, 2592, 6772]","['Jenkins', 'Isaku Yamahata', 'Robert Kukura', 'Mark McClain', 'Stephen Gordon']",add port security implementation ml2 plugin implements blueprint portsecurityml2 changeid i14c6dff025d2e3910e7dc8fba66c65f9657ea04f
https://review.opendev.org/133034,Do not merge: Security Groups API Tests Enhancements,Do not merge: Security Groups API Tests Enhancements Add test to create security rule -Create a security group rule with protocol attribute as integer value -Validate the security rule protocol value just for investigating the problem of Icd967f8d25a55c3e0db57af8e764bfb0a3dab6f9 Change-Id: If88a5e01b7fddf37850281d0465e822a6557a801,6167,Ken'ichi Ohmichi,"[3, 6167, 10385, 11671]","['Jenkins', ""Ken'ichi Ohmichi"", 'Citrix XenServer CI', 'Ashish Kumar Gupta']",merge security groups api tests enhancements add test create security rule create security group rule protocol attribute integer value validate security rule protocol value investigating problem icd967f8d25a55c3e0db57af8e764bfb0a3dab6f9 changeid if88a5e01b7fddf37850281d0465e822a6557a801
https://review.opendev.org/111179,Fix configuration of security group driver,Fix configuration of security group driver The security group driver is correctly configured by default (neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewallDriver) and it should be the same both in Neutron and plugin configuration files. Change-Id: I78adf19aca2123748876fb7047306604fc905a34 Closes-bug: #1350875,7604,Sergey Kolekonov,"[3, 5950, 7468, 7604, 8786, 8971]","['Jenkins', 'Ilya Shakhat', 'Sergey Vasilenko', 'Sergey Kolekonov', 'Vladimir Kuklin', 'Fuel CI']",fix configuration security group driver security group driver correctly configured default neutronagentlinuxiptablesfirewallovshybridiptablesfirewalldriver neutron plugin configuration files changeid i78adf19aca2123748876fb7047306604fc905a34 closesbug 1350875
https://review.opendev.org/129829,Fix security groups,Fix security groups Security groups are now hanlded correctly for both Nova Network and Neutron while using direct provisioning engine. Change-Id: I9904449e87f315f783b2b9f7c0539ff809da65b4 Closes-Bug: #1381035,7132,Nikita Konovalov,"[3, 6786, 7132, 7213, 7710, 9656, 10670]","['Jenkins', 'Sergey Lukjanov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Ihar Hrachyshka', 'Michael McCune']",fix security groups security groups hanlded correctly nova network neutron using direct provisioning engine changeid i9904449e87f315f783b2b9f7c0539ff809da65b4 closesbug 1381035
https://review.opendev.org/131700,To display protocol of the security group rules in dashboard instance overview page,To display protocol of the security group rules in dashboard instance overview page Change-Id: If7cc4de803b6e8b689033dd98c4ba9903a677a91,13406,Sridevi,[],[],display protocol security group rules dashboard instance overview page changeid if7cc4de803b6e8b689033dd98c4ba9903a677a91
https://review.opendev.org/129832,[Data_processing] auto security group,[Data_processing] auto security group Set auto_security_group field checked by default. This change also sets the value for copy workflow. Change-Id: I8d4317680b0b498843a82740ffac5aa63b05802a Closes-Bug: #1383600,7132,Nikita Konovalov,"[3, 841, 7132, 7213, 8090, 9622, 9656]","['Jenkins', 'Akihiro Motoki', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Chad Roberts', 'Cindy Lu', 'Ihar Hrachyshka']",dataprocessing auto security group set autosecuritygroup field checked default change also sets value copy workflow changeid i8d4317680b0b498843a82740ffac5aa63b05802a closesbug 1383600
https://review.opendev.org/120889,Friendly error message while creating security group,"Friendly error message while creating security group Validate parameter name before going to the parser, while creating security group. Before that, there was an error about no such parameter. Now there is validation in case of: * nova secgroup-create -name Closes-Bug: #977192 Change-Id: Id10ebc7f720aa4183a6ed313388a7a006d17bc37",12566,Wlodzimierz Borkowski,"[3, 679, 1849, 12566]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Wlodzimierz Borkowski']",friendly error message creating security group validate parameter name going parser creating security group error parameter validation case nova secgroupcreate name closesbug 977192 changeid id10ebc7f720aa4183a6ed313388a7a006d17bc37
https://review.opendev.org/125851,NSX plugin security group rules summarization,NSX plugin security group rules summarization Summarize the security group rules before creating the rules in NSX controller. This fix removes duplicate and redundant rules to yield same or smaller set of rules that enforces the same security policies on the hypervisors and reduce the NSX control cluster memory consumption. Change-Id: I889a2c2fdecc5d6f57c5b2cecb9bf017d0d36a5c Closes-Bug: 1376981,10461,Sudheendra Murthy,"[3, 748, 4395, 5170, 9732, 10119, 10153, 10192, 10387, 10461, 12040]","['Jenkins', 'Armando Migliaccio', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Mellanox CI', 'vArmour CI', 'One Convergence CI', 'Cisco CI', 'Freescale CI', 'Sudheendra Murthy', 'A10 Networks CI']",nsx plugin security group rules summarization summarize security group rules creating rules nsx controller fix removes duplicate redundant rules yield smaller set rules enforces security policies hypervisors reduce nsx control cluster memory consumption changeid i889a2c2fdecc5d6f57c5b2cecb9bf017d0d36a5c closesbug 1376981
https://review.opendev.org/123937,no way to delete valid and invalid security rule,"no way to delete valid and invalid security rule Previously deleting correct/incorrect security group rule was throwing the error of ""AttributeError"". With this fix, now the valid and invalid security group rules can be deleted. Change-Id: Id1ef3ec663e930b726b93803b22c58f7302dcc38 closes-bug: 1163469",12869,Amandeep,"[3, 679, 9545, 12869]","['Jenkins', 'Kevin L. Mitchell', 'Andrey Kurilin', 'Amandeep']",way delete valid invalid security rule previously deleting correctincorrect security group rule throwing error attributeerror fix valid invalid security group rules deleted changeid id1ef3ec663e930b726b93803b22c58f7302dcc38 closesbug 1163469
https://review.opendev.org/122881,Use lowercase section name in Neutron ML2 security group config,Use lowercase section name in Neutron ML2 security group config All other security group configs in Neutron are lower-case and it should be consistent. Change-Id: I683333c1e186446a69172446cca6d9b952673ed4 Closes-Bug: #1279862,12843,Kiran Koushik Agrahara,"[3, 9009]","['Jenkins', 'Red Hat CI']",use lowercase section name neutron ml2 security group config security group configs neutron lowercase consistent changeid i683333c1e186446a69172446cca6d9b952673ed4 closesbug 1279862
https://review.opendev.org/123958,Fixes race condition for create default security group,"Fixes race condition for create default security group Boot one instance with security_group_api=nova, it will check Nova's default security group firstly. There is race condition that boot some instances at the first time for same tenant, current logic is: 1. get default security group 2. if not get it , create one. Two threads may in step2 , then a exception.SecurityGroupExists is raised. Note: this only occurs randomly when boot some instances for same tenant at the first time. This commit always tries to create default security group firstly, then catch the exception SecurityGroupExists. Closes-Bug: #1373777 Related-Bug: #1303625 Change-Id: I4a311b3697cd7c2e4ac183886d357e057a378baa",9796,ChangBo Guo(gcb),"[5170, 5292, 9578]","['Microsoft Hyper-V CI', 'Christopher Yeoh', 'DB Datasets CI']",fixes race condition create default security group boot one instance securitygroupapinova check novas default security group firstly race condition boot instances first time tenant current logic 1 get default security group 2 get create one two threads may step2 exceptionsecuritygroupexists raised note occurs randomly boot instances tenant first time commit always tries create default security group firstly catch exception securitygroupexists closesbug 1373777 relatedbug 1303625 changeid i4a311b3697cd7c2e4ac183886d357e057a378baa
https://review.opendev.org/121787,no obvious way to delete incorrect security rule,"no obvious way to delete incorrect security rule Previously deleting incorrect/invalid security group rule was throwing the error of ""AttributeError"". With this fix, now the invalid security group rules can be deleted. Change-Id: Ia6e9d2a0d23554ac9ab6ccd8a077714db9ae82a0 closes-bug: 1163469",12869,Amandeep,"[3, 679, 1849, 10068, 12869]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Welcome, new contributor!', 'Amandeep']",obvious way delete incorrect security rule previously deleting incorrectinvalid security group rule throwing error attributeerror fix invalid security group rules deleted changeid ia6e9d2a0d23554ac9ab6ccd8a077714db9ae82a0 closesbug 1163469
https://review.opendev.org/118758,[Sahara] Using IDs for security groups instead of names,[Sahara] Using IDs for security groups instead of names Change-Id: I0e0e39783c13da05fa07bce8ac800312537dcc73 Closes-Bug: #1364659,8411,Andrew Lazarev,"[3, 841, 6786, 6914, 8411, 9622, 10670]","['Jenkins', 'Akihiro Motoki', 'Sergey Lukjanov', 'Tatiana Ovchinnikova', 'Andrew Lazarev', 'Cindy Lu', 'Michael McCune']",sahara using ids security groups instead names changeid i0e0e39783c13da05fa07bce8ac800312537dcc73 closesbug 1364659
https://review.opendev.org/81559,Fail if non-existent security group referenced,"Fail if non-existent security group referenced When using AWS::EC2::SecurityGroup resources with nova-network (not Neutron), if a SourceSecurityGroupName was specified in a rule but the name did not correspond to an extant security group it would be silently ignored. This change ensures that any such error in the template will cause creation of the security group to fail. Fixes-bug: #1291091 Change-Id: I9344451c83f4184ef46d4e9906b94abda08836df",4257,Zane Bitter,"[3, 4257, 4571, 6577, 9542, 9656]","['Jenkins', 'Zane Bitter', 'Steve Baker', 'Sergey Kraynev', 'Pavlo Shchelokovskyy', 'Ihar Hrachyshka']",fail nonexistent security group referenced using awsec2securitygroup resources novanetwork neutron sourcesecuritygroupname specified rule name correspond extant security group would silently ignored change ensures error template cause creation security group fail fixesbug 1291091 changeid i9344451c83f4184ef46d4e9906b94abda08836df
https://review.opendev.org/121684,There was a mismatch in case when referring to security groups between ml2 and ovs.,There was a mismatch in case when referring to security groups between ml2 and ovs. ML2 was referring to the security group directive as SECURITYGROUP whereas OVS is referring it as securitygroup Fix was to change the ML2 to refer to securitygroup This closes bug : 1248385 Change-Id: I4351ee1aba5f524427523c7419d4430db3f476ac,12843,Kiran Koushik Agrahara,"[3, 7118, 9009, 9656]","['Jenkins', 'Ian Wienand', 'Red Hat CI', 'Ihar Hrachyshka']",mismatch case referring security groups ml2 ovs ml2 referring security group directive securitygroup whereas ovs referring securitygroup fix change ml2 refer securitygroup closes bug 1248385 changeid i4351ee1aba5f524427523c7419d4430db3f476ac
https://review.opendev.org/119559,Fix error adding security groups to instances with nexus,Fix error adding security groups to instances with nexus Adding security group for running instance should not invoke the nexus plugin. Current implementation does not validate for the 'new_host_id' as assumes it as host migration and fails. Closes-Bug: #1365226 Change-Id: I9ab6b8438e6ee0698a8e2ae7ff7736f7c71b2370,8833,Rabi Mishra,"[3, 5170, 7787, 8213, 8645, 8788, 8833, 9681, 9682, 9732, 9845, 9846, 10116, 10117, 10121, 10153, 10184, 10192, 10294, 10387, 10503, 12040, 12737]","['Jenkins', 'Microsoft Hyper-V CI', 'Kevin Benton', 'Claudiu Belu', 'Trinath Somanchi', 'Miguel Angel Ajo', 'Rabi Mishra', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Arista CI', 'IBM SDN-VE CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI', 'A10 Networks CI', 'Jacek Swiderski']",fix error adding security groups instances nexus adding security group running instance invoke nexus plugin current implementation validate newhostid assumes host migration fails closesbug 1365226 changeid i9ab6b8438e6ee0698a8e2ae7ff7736f7c71b2370
https://review.opendev.org/120724,Friendly error message while creating security group,"Friendly error message while creating security group Validate parameters before going to the parser, while creating security group. Before that, there was an error about no such parameter. Closes-Bug: #977192 Change-Id: I159f9c435f832b1476cda09280e4eeb0cca03e52",12566,Wlodzimierz Borkowski,"[3, 679, 8412]","['Jenkins', 'Kevin L. Mitchell', 'Mike Durnosvistov']",friendly error message creating security group validate parameters going parser creating security group error parameter closesbug 977192 changeid i159f9c435f832b1476cda09280e4eeb0cca03e52
https://review.opendev.org/91307,Implements: we can create security group without name & description. Closes-Bug: #1254722,Implements: Now we can create security group without name & description. Closes-Bug: #1254722 Change-Id: Ic59663157c22acb7b84773c9bb5aa4a340240bfa,10471,Digambar Patil,"[3, 1501, 1653, 1849, 5170, 7730, 8247, 8871, 9008, 9578, 10118, 10385, 10471, 10966]","['Jenkins', 'Phil Day', 'garyk', 'Joe Gordon', 'Microsoft Hyper-V CI', 'sahid', 'Thang Pham', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Digambar Patil', 'Abhijeet Jain']",implements create security group without name description closesbug 1254722 changeid ic59663157c22acb7b84773c9bb5aa4a340240bfa
https://review.opendev.org/118626,Use security group id instead name for heat engine,[WIP] Use security group id instead name for heat engine Change-Id: I19df87ae28f2c1e23b6632766f2c2db9b1f3bf5a Closes-bug: #1364659,7710,Sergey Reshetnyak,"[3, 7213, 8411]","['Jenkins', 'Sahara Hadoop Cluster CI', 'Andrew Lazarev']",wip use security group id instead name heat engine changeid i19df87ae28f2c1e23b6632766f2c2db9b1f3bf5a closesbug 1364659
https://review.opendev.org/104462,Add ipset to security group,Add ipset to security group Add ipset to security group for improving the performance of the security group. Change-Id: I85c24d5b8f1279bb5bb9c41d4912b29996baa33f Supports-blueprint: add-ipset-to-security,8976,shihanzhang,"[3, 704, 5170, 8788, 9681, 9732, 9845, 9925, 10116, 10117, 10121, 10153, 10184, 10294]","['Jenkins', 'Edgar Magana', 'Microsoft Hyper-V CI', 'Miguel Angel Ajo', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Brocade VDX CI']",add ipset security group add ipset security group improving performance security group changeid i85c24d5b8f1279bb5bb9c41d4912b29996baa33f supportsblueprint addipsettosecurity
https://review.opendev.org/104984,javelin: add security groups support,javelin: add security groups support Create and check that security groups survive at upgrades. - Create security groups and rules - Assign a security group after server creation - Check security groups survive after upgrade Change-Id: I7a8304782697d15f4201164695c321aa38097c17 Signed-off-by: Emilien Macchi <emilien.macchi@enovance.com>,3153,Emilien Macchi,"[3, 1849, 2750, 3153, 7020, 8655, 8871, 9107, 10118, 10385]","['Jenkins', 'Joe Gordon', 'Sean Dague', 'Emilien Macchi', 'Joe Hakim Rahme', 'Jakub Libosvar', 'Elastic Recheck', 'Victor Stinner', 'IBM PowerKVM CI', 'Citrix XenServer CI']",javelin add security groups support create check security groups survive upgrades create security groups rules assign security group server creation check security groups survive upgrade changeid i7a8304782697d15f4201164695c321aa38097c17 signedoffby emilien macchi emilienmacchienovancecom
https://review.opendev.org/113528,Adds a new OpenStack Security Notes OSSN-0024: Sensitive data exposure by logging in python-keystoneclient,Adds a new OpenStack Security Notes OSSN-0024: Sensitive data exposure by logging in python-keystoneclient Change-Id: Iec614f07e35b4502627934c10087c4531ee708c5 Closes-Bug: 1004114,10824,Abu Shohel Ahmed,"[3, 2807, 9098, 10068]","['Jenkins', 'Bryan D. Payne', 'Nathan Kinder', 'Welcome, new contributor!']",adds new openstack security notes ossn0024 sensitive data exposure logging pythonkeystoneclient changeid iec614f07e35b4502627934c10087c4531ee708c5 closesbug 1004114
https://review.opendev.org/113568,Migrate security notes to new repository,Migrate security notes to new repository The security notes have been migrated to the central security-doc repository. This patch cleans out the old contents to prevent accidental use of this repository for creation of new notes. This is a temporary measure until we delete this repository sometime in the near future. A pointer to the new repository location has been added in a README file. Change-Id: I35b7b0c9c03ba8f416e58d26b9213f9e038357b2,9098,Nathan Kinder,"[3, 2807, 7063]","['Jenkins', 'Bryan D. Payne', 'Robert Clark']",migrate security notes new repository security notes migrated central securitydoc repository patch cleans old contents prevent accidental use repository creation new notes temporary measure delete repository sometime near future pointer new repository location added readme file changeid i35b7b0c9c03ba8f416e58d26b9213f9e038357b2
https://review.opendev.org/110184,Add ipset to security group,Add ipset to security group Add ipset to security group for improving the performance of the security group. Change-Id: I02dad0543dd4346efb4e8bb4ee458c597d6d4550 Supports-blueprint: add-ipset-to-security,8976,shihanzhang,"[3, 5170, 6697, 8282, 8289, 8873, 8976, 9681, 9732, 9787, 9820, 9845, 9846, 9925, 10116, 10117, 10119, 10121, 10153, 10184, 10192, 10294, 10387, 10503]","['Jenkins', 'Microsoft Hyper-V CI', 'Sandhya Dasu', 'Dong Liu', 'huangtianhua', 'Assaf Muller', 'shihanzhang', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Liping Mao', 'Arista CI', 'IBM SDN-VE CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI']",add ipset security group add ipset security group improving performance security group changeid i02dad0543dd4346efb4e8bb4ee458c597d6d4550 supportsblueprint addipsettosecurity
https://review.opendev.org/111254,OpenStack Security Guide - Chapter 35: Grammatical and Format errors,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors, inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: I8b6873abba3b2c5bb886a68f9aae699cdd45a3c5 Closes-Bug: #1342912",8331,Andreas Steil,"[3, 6547]","['Jenkins', 'Andreas Jaeger']",openstack security guide chapter 35 grammatical format errors dissolving multiple grammatical errors inclusive awkward wording improper punctuation recharging ssl ssltls removing whitespaces changeid i8b6873abba3b2c5bb886a68f9aae699cdd45a3c5 closesbug 1342912
https://review.opendev.org/111258,OpenStack Security Guide - Chapter 35: Grammatical and Format errors,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors, inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: Ib522c44ed7f0cb273a4b3bf39f50cd45e58ae0fb Closes-Bug: #1342912",8331,Andreas Steil,[3],['Jenkins'],openstack security guide chapter 35 grammatical format errors dissolving multiple grammatical errors inclusive awkward wording improper punctuation recharging ssl ssltls removing whitespaces changeid ib522c44ed7f0cb273a4b3bf39f50cd45e58ae0fb closesbug 1342912
https://review.opendev.org/111176,OpenStack Security Guide - Chapter 35: Grammatical and Format errors,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors, inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: I044a87162c2d00408b86ca8758f6fe0e34db451e Closes-Bug: #1342912",8331,Andreas Steil,"[3, 167]","['Jenkins', 'Christian Berendt']",openstack security guide chapter 35 grammatical format errors dissolving multiple grammatical errors inclusive awkward wording improper punctuation recharging ssl ssltls removing whitespaces changeid i044a87162c2d00408b86ca8758f6fe0e34db451e closesbug 1342912
https://review.opendev.org/110865,OpenStack Security Guide - Chapter 35: Grammatical and Format errors,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors, inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS"" Change-Id: Ia07eba1901ee71dd81492ed9548f0485d2876427 Closes-Bug: #1342912",8331,Andreas Steil,"[3, 6547]","['Jenkins', 'Andreas Jaeger']",openstack security guide chapter 35 grammatical format errors dissolving multiple grammatical errors inclusive awkward wording improper punctuation recharging ssl ssltls changeid ia07eba1901ee71dd81492ed9548f0485d2876427 closesbug 1342912
https://review.opendev.org/110873,OpenStack Security Guide - Chapter 35: Grammatical and Format errors,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors, inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: Ie20dc8dd4a238f158a2d05480e6571a5b2a17d7c Closes-Bug: #1342912",8331,Andreas Steil,"[3, 11131]","['Jenkins', 'OpenStack Proposal Bot']",openstack security guide chapter 35 grammatical format errors dissolving multiple grammatical errors inclusive awkward wording improper punctuation recharging ssl ssltls removing whitespaces changeid ie20dc8dd4a238f158a2d05480e6571a5b2a17d7c closesbug 1342912
https://review.opendev.org/68357,Fix listing security group rules,Fix listing security group rules when there are too many We're hitting a RequestURITooLong exception. Change-Id: I4ac6447281f4bceb5587c891a900379a073d93bf Closes-Bug: 1271462,4460,Vincent Untz,"[3, 841, 2592, 4460, 6072, 6316]","['Jenkins', 'Akihiro Motoki', 'Mark McClain', 'Vincent Untz', 'Eugene Nikanorov', 'Anita Kuno']",fix listing security group rules many hitting requesturitoolong exception changeid i4ac6447281f4bceb5587c891a900379a073d93bf closesbug 1271462
https://review.opendev.org/92778,Inherit Security group tests from BaseComputeTest,Inherit Security group tests from BaseComputeTest This patch inherits the V2 Security Group tests from BaseComputeTest and place them in respective directories. Partially implements blueprint nova-api-test-inheritance Change-Id: I974bd5a9e480a9f59ae384ded79d6eacc83285b2,8556,Ghanshyam,"[3, 1192, 10385]","['Jenkins', 'David Kranz', 'Citrix XenServer CI']",inherit security group tests basecomputetest patch inherits v2 security group tests basecomputetest place respective directories partially implements blueprint novaapitestinheritance changeid i974bd5a9e480a9f59ae384ded79d6eacc83285b2
https://review.opendev.org/100557,Use created security group in scenario server test,"Use created security group in scenario server test In the scenario server basic ops test a new security group is created. However, this security group is not used in the subsequent booted VM. This patch passes the new security group at the creation of the VM. Change-Id: Icd87e4af2541e8c43dfee0b9f880ba7372d9b379 Related-Bug: #1330519",10016,Joseph Lanoux,"[3, 1839, 1921, 9008, 10118, 10385]","['Jenkins', 'nithya-ganesan', 'Andrea Frittoli', 'VMware NSX CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",use created security group scenario server test scenario server basic ops test new security group created however security group used subsequent booted vm patch passes new security group creation vm changeid icd87e4af2541e8c43dfee0b9f880ba7372d9b379 relatedbug 1330519
https://review.opendev.org/69176,Added check for not use heat in security group delete,Added check for not use heat in security group delete Reasons: - Delete security group does not have check for use_heat. Changes: - Added check for not use heat in security group delete Change-Id: Iac1dd61b090f88ae73ee46e7802bb377d134221d Closes-Bug: #1272847,8312,shivam shukla,"[3, 739, 5293, 7092, 8312, 8415]","['Jenkins', 'Michael Basnight', 'Nikhil', 'Deprecated Trove CI', 'shivam shukla', 'Denis M.']",added check use heat security group delete reasons delete security group check useheat changes added check use heat security group delete changeid iac1dd61b090f88ae73ee46e7802bb377d134221d closesbug 1272847
https://review.opendev.org/81688,Allow case-insensitive security groups,"Allow case-insensitive security groups Allocation of security groups is case-insensitive, so adding segroup rules should be also. Change-Id: I455e85326a05f5c399796fc5b3c3bebf875a4334",7069,Joshua Hesketh,"[3, 679, 1849, 4395, 5292, 7069, 8125, 9449]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Aaron Rosen', 'Christopher Yeoh', 'Joshua Hesketh', 'Michael Davies', 'Verónica Musso']",allow caseinsensitive security groups allocation security groups caseinsensitive adding segroup rules also changeid i455e85326a05f5c399796fc5b3c3bebf875a4334
https://review.opendev.org/86140,Add security details to keysone docs,Add security details to keysone docs First draft of adding keystone security docs produced by nkinder. Change-Id: I6f527daa222b6f54a7bf1f5cdb372909b68bff44 Co-Authored-By: Steve Martinelli <stevemar@ca.ibm.com>,6482,Steve Martinelli,"[3, 4, 2903, 5046, 6460, 6482, 6486, 7725, 9098]","['Jenkins', 'Dolph Mathews', 'Morgan Fainberg', 'Lance Bragstad', 'Brad Topol', 'Steve Martinelli', 'Brant Knudson', 'David Stanek', 'Nathan Kinder']",add security details keysone docs first draft adding keystone security docs produced nkinder changeid i6f527daa222b6f54a7bf1f5cdb372909b68bff44 coauthoredby steve martinelli stevemarcaibmcom
https://review.opendev.org/71040,Track security group provisioned by heat,"Track security group provisioned by heat Reasons: - taskmanager doesn't perform any associations of security group/rules and instance. Changes: - adding associations for group, rules Change-Id: I39d5ab789e39d97bd612463863216af2a86976eb Closes-Bug: #1276228",8415,Denis M.,"[3, 7092, 8214, 8415, 10139]","['Jenkins', 'Deprecated Trove CI', 'Auston McReynolds', 'Denis M.', 'Ramashri Umale']",track security group provisioned heat reasons taskmanager doesnt perform associations security grouprules instance changes adding associations group rules changeid i39d5ab789e39d97bd612463863216af2a86976eb closesbug 1276228
https://review.opendev.org/84656,"Implements: Security group record in Server Details included Name & description as a optinal arguments. Now if you want to create security-group, there is no need to add name & description as complulsory parameters. Just run nova secgroup-create, it will create group with id/UUID for nova-network & neutron. Closes-Bug: #1254722","Implements: Security group record in Server Details included Name & description as a optinal arguments. Now if you want to create security-group, there is no need to add name & description as complulsory parameters. Just run nova secgroup-create, it will create group with id/UUID for nova-network & neutron. Closes-Bug: #1254722 Change-Id: If9fa245ba11e0a6df727dfd10810fb97ee3124d9",10471,Digambar Patil,"[3, 679, 1849]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon']",implements security group record server details included name description optinal arguments want create securitygroup need add name description complulsory parameters run nova secgroupcreate create group iduuid novanetwork neutron closesbug 1254722 changeid if9fa245ba11e0a6df727dfd10810fb97ee3124d9
https://review.opendev.org/83210,WIP patch for tesing security group fix,"WIP patch for tesing security group fix This is a wip patch which tests security group fix in Nova, with new tempest test for negative test for security group - Nova patch: https://review.openstack.org/#/c/83190/ - Tempest patch: https://review.openstack.org/#/c/62702/ Change-Id: I5a40788c92e979fb7ec7877a476c5e5f3ec1d7a9",2031,Nachi Ueno,"[3, 261, 2031, 9008]","['Jenkins', 'Salvatore Orlando', 'Nachi Ueno', 'VMware NSX CI']",wip patch tesing security group fix wip patch tests security group fix nova new tempest test negative test security group nova patch httpsreviewopenstackorgc83190 tempest patch httpsreviewopenstackorgc62702 changeid i5a40788c92e979fb7ec7877a476c5e5f3ec1d7a9
https://review.opendev.org/77417,Allow case-insensitive neutron security groups,"Allow case-insensitive neutron security groups nova-network security groups are case-insensitive. Neutron validates security-group names regardless of case, however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state. This patch fixes neutrons allocate_for_instance allowing case-insentivie groups to be matched. Closes-Bug: #1286463 Change-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f (cherry picked from commit 90393c328368efc986a7169e756b4eff0d7eb912)",7069,Joshua Hesketh,"[3, 1653, 4395, 5170, 7069]","['Jenkins', 'garyk', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Joshua Hesketh']",allow caseinsensitive neutron security groups novanetwork security groups caseinsensitive neutron validates securitygroup names regardless case however would fail scheduler would attempt allocate group instance causing enter error state patch fixes neutrons allocateforinstance allowing caseinsentivie groups matched closesbug 1286463 changeid id950887b5011e7df7b66c212d1b074e0e8ccb84f cherry picked commit 90393c328368efc986a7169e756b4eff0d7eb912
https://review.opendev.org/71693,NSX plugin: Introduce operational status for security groups,"NSX plugin: Introduce operational status for security groups This is an extension specific to the NSX plugin which introduces the 'status' attributes for security groups. Asynchronous operation need this attribute to set the appropriate state for the resource according to the task completion state. Like other attribute extensions, this extension adds a new DB table with a 1:1 relationship with the security groups table. Migration of this attribute to the code API in the future would be straightforward. Related to blueprint nvp-async-backend-commuunication Change-Id: I5eb9e863c1b8e279c4bec70753f1fde5e4ee9339",261,Salvatore Orlando,"[3, 261, 748, 841, 4395, 5170, 6788, 7317, 9008, 9681, 9732, 9787, 9845, 9925, 10116, 10117, 10119, 10153, 10184, 10192]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'Akihiro Motoki', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Rossella Sblendido', 'Bo Lin', 'VMware NSX CI', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI']",nsx plugin introduce operational status security groups extension specific nsx plugin introduces status attributes security groups asynchronous operation need attribute set appropriate state resource according task completion state like attribute extensions extension adds new db table 11 relationship security groups table migration attribute code api future would straightforward related blueprint nvpasyncbackendcommuunication changeid i5eb9e863c1b8e279c4bec70753f1fde5e4ee9339
https://review.opendev.org/79270,Duplicate security group name cause fail to start instance,"Duplicate security group name cause don't know witch sg use in instance When create a security group, the duplicate name is allowed. In create a instance, which security group to use is designed by sg name, this may cause the user don't know witch sg is used and it may be not the user wanted. So the duplicate name of sg should be not allowed. In create instance, it's use set to filter the duplicate sg like: sg_names = list(set(sg_names)) Change-Id: I28015b28d5a46869d0ac3ea34355da888c279828 Closes-Bug: #1289195",9560,Lee Li,"[3, 2874, 4395, 5170, 6072, 8449, 9560, 9681, 9732, 9787, 9845, 9925, 10116, 10117, 10119, 10153, 10184, 10192]","['Jenkins', 'yong sheng gong', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Eugene Nikanorov', 'Marios Andreou', 'Lee Li', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI']",duplicate security group name cause dont know witch sg use instance create security group duplicate name allowed create instance security group use designed sg name may cause user dont know witch sg used may user wanted duplicate name sg allowed create instance use set filter duplicate sg like sgnames listsetsgnames changeid i28015b28d5a46869d0ac3ea34355da888c279828 closesbug 1289195
https://review.opendev.org/80170,Creating same name of security group,Creating same name of security group Here used same name and descrption of security group for admin and user. Change-Id: Ib7375570ebcf075cce8f03fd890dbfe945a25e73,8085,anju Tiwari,"[3, 5689, 8085, 8556, 8625]","['Jenkins', 'Masayuki Igawa', 'anju Tiwari', 'Ghanshyam', 'Anju Tiwari']",creating name security group used name descrption security group admin user changeid ib7375570ebcf075cce8f03fd890dbfe945a25e73
https://review.opendev.org/76402,Removed unnecessary security group API call from _prepare_for_instance_ssh,"Removed unnecessary security group API call from _prepare_for_instance_ssh The current code does a double lookup for the security group ""rally_open"", once on L129-130, and once on L134. There is no need for the second lookup on L134, as the creation of the new security group on L131 also returns the security group. We can thus just replace L129-130 with L134. Removing this API call results in a measurable speedup in case of many users. Change-Id: I4369604099bcadcbc33938f567ce53c30307369b Closes-bug: #1284902",8861,Joris Roovers,"[3, 7217]","['Jenkins', 'Hugh Saunders']",removed unnecessary security group api call prepareforinstancessh current code double lookup security group rallyopen l129130 l134 need second lookup l134 creation new security group l131 also returns security group thus replace l129130 l134 removing api call results measurable speedup case many users changeid i4369604099bcadcbc33938f567ce53c30307369b closesbug 1284902
https://review.opendev.org/71694,NSX: synchronous and asynchronous handlers for security groups,"NSX: synchronous and asynchronous handlers for security groups This patch introduces asynchronous handling of security group operations in the NSX backend. Asynchronous tasks are managed via celery, which is added as a requirement. Asynchronous operations can be enabled by setting to True the enable_async_tasks flag. Asynchronous tasks are conceived to synchronize Neutron state with NSX state, rather than simply applying Neutron API operations. Therefore the asynchronous task, when invoked, will also proceed to re-create objects which were removed in the NSX backend. By default operations are still handled in a synchronous fashion. This patch refactors the plugin in a way that once the DB operation is completed, the call is dispatched to a 'handler' function, which could be either synchronous or asynchronous. This patch therefore also provides a beneficial separation of the database transactions from NSX operation. The patch also adds code for handling failures in NSX operations in order to guarantee that the Nuetron DB consistently represents the actual NSX state. Partially implements blueprint nsx-async-backend-communication Change-Id: I7b00f26f9a462eb1dda6c7a0658e82ae5cfa0ce0",261,Salvatore Orlando,"[3, 7317, 9008, 9732, 9787, 9845, 9925, 10116, 10117, 10153]","['Jenkins', 'Bo Lin', 'VMware NSX CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'One Convergence CI']",nsx synchronous asynchronous handlers security groups patch introduces asynchronous handling security group operations nsx backend asynchronous tasks managed via celery added requirement asynchronous operations enabled setting true enableasynctasks flag asynchronous tasks conceived synchronize neutron state nsx state rather simply applying neutron api operations therefore asynchronous task invoked also proceed recreate objects removed nsx backend default operations still handled synchronous fashion patch refactors plugin way db operation completed call dispatched handler function could either synchronous asynchronous patch therefore also provides beneficial separation database transactions nsx operation patch also adds code handling failures nsx operations order guarantee nuetron db consistently represents actual nsx state partially implements blueprint nsxasyncbackendcommunication changeid i7b00f26f9a462eb1dda6c7a0658e82ae5cfa0ce0
https://review.opendev.org/77260,"Revert ""Fix security groups wadl""","Revert ""Fix security groups wadl"" The path is valid and works locally for me. Using http reference from the api-site to api-site is broken. This reverts commit bd530142efecc3c11c65d0c90e75034b279871a1",6547,Andreas Jaeger,"[3, 2448]","['Jenkins', 'Diane Fleming']",revert fix security groups wadl path valid works locally using http reference apisite apisite broken reverts commit bd530142efecc3c11c65d0c90e75034b279871a1
https://review.opendev.org/76959,"Revert ""DB Mappings for NSX security groups""","Revert ""DB Mappings for NSX security groups"" This reverts commit 6e2f3ecf1e2c53a44d9be4f944e48261d9e7aa4c. Conflicts: neutron/plugins/nicira/NeutronPlugin.py Change-Id: I0d588898ce07dd517db5d7a7286138bf73409e1a",4395,Aaron Rosen,"[3, 5170, 9732, 10153, 10294]","['Jenkins', 'Microsoft Hyper-V CI', 'Mellanox CI', 'One Convergence CI', 'Brocade VDX CI']",revert db mappings nsx security groups reverts commit 6e2f3ecf1e2c53a44d9be4f944e48261d9e7aa4c conflicts neutronpluginsniciraneutronpluginpy changeid i0d588898ce07dd517db5d7a7286138bf73409e1a
https://review.opendev.org/48574,Fixes security rules in Midonet plugin,"Fixes security rules in Midonet plugin Fixes several issues with the rule chains in Midonet plugins, including adding a rule to drop egress traffic by default, adding security group support to a port's egress chain, and correctly adding/deleting jump rules from port chains when changing a port's security groups. Also fixes several pep8 issues. Change-Id: Ib80bd22135b220b0e8113556ac7a2b2d9261c954 Closes-Bug: #1231790",8858,Brandon Berg,"[3, 704, 2166, 2592, 6316, 6659, 6788, 8858, 9483, 9695, 9787, 9845, 9925]","['Jenkins', 'Edgar Magana', 'SmokeStack CI', 'Mark McClain', 'Anita Kuno', 'Paul Michali', 'Rossella Sblendido', 'Brandon Berg', 'LiShaokai', 'Tail-f NCS CI', 'Big Switch CI', 'Arista CI', 'Midokura CI']",fixes security rules midonet plugin fixes several issues rule chains midonet plugins including adding rule drop egress traffic default adding security group support ports egress chain correctly addingdeleting jump rules port chains changing ports security groups also fixes several pep8 issues changeid ib80bd22135b220b0e8113556ac7a2b2d9261c954 closesbug 1231790
https://review.opendev.org/63240,Configure security group when using ML2 plugin,"Configure security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations, it is recommended to set firewall_driver flag in ml2 configuration. Change-Id: I970fbc545d6970dacd520865aa33cd774643263a Closes-bug: #1262678 Signed-off-by: Emilien Macchi <emilien.macchi@enovance.com>",3153,Emilien Macchi,"[3, 55, 1689, 2031, 2711, 2733, 2888, 3153, 6072, 6670, 6788, 7141, 7183, 8124, 8449, 8788, 9682, 9695, 9732, 9787, 9845, 9925, 10116, 10117, 10153]","['Jenkins', 'Édouard Thuleau', 'Robert Kukura', 'Nachi Ueno', 'Zhang Hua', ""Darragh O'Reilly"", 'Mathieu Rohon', 'Emilien Macchi', 'Eugene Nikanorov', 'Amir Sadoughi', 'Rossella Sblendido', 'Sylvain Afchain', 'Xu Han Peng', 'cbrandily', 'Marios Andreou', 'Miguel Angel Ajo', 'OpenContrail CI', 'Tail-f NCS CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'One Convergence CI']",configure security group using ml2 plugin since ml2 plugin concurrently support different l2 agents mechanisms different configurations recommended set firewalldriver flag ml2 configuration changeid i970fbc545d6970dacd520865aa33cd774643263a closesbug 1262678 signedoffby emilien macchi emilienmacchienovancecom
https://review.opendev.org/71561,Support Neutron security groups in scenario testing,"Support Neutron security groups in scenario testing The methods NetworkScenarioTest._create_security_group() and NetworkScenarioTest.create_loginable_secgroup_rule() use the nova client by default. Added helper functions ""*_neutron"" that use the neutron (network) client. Moved old implementation into ""*_nova"" for old usage. Adds methods to scenario/manager to allow for generic creation of neutron secgroup and rules as existing methods only create a secgroup with login rules (incoming ping and ssh). Partial-Bug: #1277040 Change-Id: I6de4bf9f7deed215cf61c87c3ae3f4240982523e (cherry picked from commit eb69f3fc9e245e8a59845976861947c695bec314)",8576,Yair Fried,"[3, 261, 1192, 5196, 5803, 6683, 6796, 8576]","['Jenkins', 'Salvatore Orlando', 'David Kranz', 'Matthew Treinish', 'Attila Fazekas', 'Pavel Sedlák', 'Giulio Fidente', 'Yair Fried']",support neutron security groups scenario testing methods networkscenariotestcreatesecuritygroup networkscenariotestcreateloginablesecgrouprule use nova client default added helper functions neutron use neutron network client moved old implementation nova old usage adds methods scenariomanager allow generic creation neutron secgroup rules existing methods create secgroup login rules incoming ping ssh partialbug 1277040 changeid i6de4bf9f7deed215cf61c87c3ae3f4240982523e cherry picked commit eb69f3fc9e245e8a59845976861947c695bec314
https://review.opendev.org/68448,Add 'password' field to security services,Add 'password' field to security services Change SecurityService DB model to include password field. Change security service manila API to include 'password' field into security service 'views'. Change-Id: Ia9970eef8c1bc9ec3d1cf1f304834a995c09325b,9069,Aleks Chirko,"[3, 7534, 8851]","['Jenkins', 'Yulia Portnova', 'Valeriy Ponomaryov']",add password field security services change securityservice db model include password field change security service manila api include password field security service views changeid ia9970eef8c1bc9ec3d1cf1f304834a995c09325b
https://review.opendev.org/62863,Add some tests for security group api,Add some tests for security group api Some tests for security group api of neutron: + test_create_security_group_without_name + test_create_security_group_rule_without_security_group + test_delete_non_existent_security_group_rule Change-Id: I218b2faa338c3fc142b1cf5e5eae801d1eb0e25b,8282,Dong Liu,"[3, 7139, 7249, 7930, 8282, 8861, 9751]","['Jenkins', 'Zhi Kun Liu', 'Ann Taraday', 'jun xie', 'Dong Liu', 'Joris Roovers', 'IBM DB2 CI']",add tests security group api tests security group api neutron testcreatesecuritygroupwithoutname testcreatesecuritygrouprulewithoutsecuritygroup testdeletenonexistentsecuritygrouprule changeid i218b2faa338c3fc142b1cf5e5eae801d1eb0e25b
https://review.opendev.org/61238,Adding security rules for ingress/egress doesn't work properly,"Adding security rules for ingress/egress doesn't work properly Avoiding setting the direction as ""ingress"" when selected from the combo. If there it is a value for the direction in the local_settings.py it is used. The actual behavior is that always is setting direction as ""ingress"" when choosing one of the ALL* rules (ALL ICMP, ALL TCP and ALL UDP). When this happens if you previously has crated an ALL TCP (direction: ingress) and then you add a new ALL TCP (direction: egress) it fails as they are the same rule (direction: ingress). Also, if you add a ALL TCP (direction: egress) rule first, it is created with direction: ingress. Change-Id: I0b54c633bc0f0d45ba2a40cdc82bfa2bc880a086 Closes-Bug: #1254040",9313,alejandro emanuel paredes,"[3, 841, 6610, 8746, 9214, 9225, 9275, 9313, 9331, 9409, 9412, 9449, 9450]","['Jenkins', 'Akihiro Motoki', 'Zhenguo Niu', 'Gastón Severina', 'Sergio Cazzolato', 'Cristian A Sanchez', 'Leandro Ignacio Costantino', 'alejandro emanuel paredes', 'Pablo Andres Fuente', 'Facundo Maldonado', 'Andres Buraschi', 'Verónica Musso', 'Juan Manuel Ollé']",adding security rules ingressegress doesnt work properly avoiding setting direction ingress selected combo value direction localsettingspy used actual behavior always setting direction ingress choosing one rules icmp tcp udp happens previously crated tcp direction ingress add new tcp direction egress fails rule direction ingress also add tcp direction egress rule first created direction ingress changeid i0b54c633bc0f0d45ba2a40cdc82bfa2bc880a086 closesbug 1254040
https://review.opendev.org/58428,Simplify security group search logic,"Simplify security group search logic This will also speed up search since encoding is moved out of the the loop. Also, getting all security groups is done only once. The code to check if multiple matches are found might be dead since nova does not allow creating multiple security groups with same name Change-Id: I0185116a60b2c5214f13f6b999683bbae8708e9a",7770,Abhishek Chanda,"[3, 679, 1849, 4395, 4690, 7770]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Aaron Rosen', 'melanie witt', 'Abhishek Chanda']",simplify security group search logic also speed search since encoding moved loop also getting security groups done code check multiple matches found might dead since nova allow creating multiple security groups name changeid i0185116a60b2c5214f13f6b999683bbae8708e9a
https://review.opendev.org/61952,Simplify security group search logic,"Simplify security group search logic This will also speed up search since encoding is moved out of the the loop. Also, getting all security groups is done only once. The code to check if multiple matches are found is dead since nova does not allow creating multiple security groups with same name Thus there is no need to write another test to check NoUniqueMatch exception. Change-Id: I3091ebf87923ca2e6e97e409dc9c2d95f8854af7 Closes-Bug: #1254945",7770,Abhishek Chanda,"[3, 679, 1849, 4395, 4690, 7770]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Aaron Rosen', 'melanie witt', 'Abhishek Chanda']",simplify security group search logic also speed search since encoding moved loop also getting security groups done code check multiple matches found dead since nova allow creating multiple security groups name thus need write another test check nouniquematch exception changeid i3091ebf87923ca2e6e97e409dc9c2d95f8854af7 closesbug 1254945
https://review.opendev.org/57806,Apply hybrid vif dirver based on security group api config,"Apply hybrid vif dirver based on security group api config Security group with neutron OVS is no longer working, because hybrid driver isn't selected. In this commit, we are going to select hybrid driver based only security group api configration. Closes bug: 1252620 Change-Id: Ic0bfc2e4e90bc6241f8af256ab122bc561a85b78",2031,Nachi Ueno,"[3, 261, 841, 1779, 4395]","['Jenkins', 'Salvatore Orlando', 'Akihiro Motoki', 'Daniel Berrange', 'Aaron Rosen']",apply hybrid vif dirver based security group api config security group neutron ovs longer working hybrid driver isnt selected commit going select hybrid driver based security group api configration closes bug 1252620 changeid ic0bfc2e4e90bc6241f8af256ab122bc561a85b78
https://review.opendev.org/36078,Address security concerns in PowerVM Driver,Address security concerns in PowerVM Driver Add two methods to common.py that will help build and sanitize commands being sent to the remote VIOS system to prevent shell injection. fixes bug 1192971 Change-Id: If5ac48c5c889034c7b0ba24d977e8f4a14137a12,5046,Lance Bragstad,"[3, 679, 1561, 2166, 4393, 4992, 5046, 5652, 6873, 6928, 7040, 7996, 8560]","['Jenkins', 'Kevin L. Mitchell', 'Russell Bryant', 'SmokeStack CI', 'Dan Smith', 'malini-k-bhandaru', 'Lance Bragstad', 'David Ripton', 'Matt Riedemann', 'Ben Nemec', 'GuoHui LIu', 'Luis A. Garcia', 'Sriram Subramanian']",address security concerns powervm driver add two methods commonpy help build sanitize commands sent remote vios system prevent shell injection fixes bug 1192971 changeid if5ac48c5c889034c7b0ba24d977e8f4a14137a12
https://review.opendev.org/56765,Fixed default security group,Fixed default security group Change-Id: I27a7d7f2c2334a5a108fb42196a05f816e707d11,7227,Timur Nurlygayanov,"[3, 7226, 7549, 7562, 7821, 8040]","['Jenkins', 'Stan Lagun', 'Ekaterina Chernova', 'Dmitry Teselkin', 'Murano CI', 'Timur Sufiev']",fixed default security group changeid i27a7d7f2c2334a5a108fb42196a05f816e707d11
https://review.opendev.org/53479,Adds security group list to port detail screens,Adds security group list to port detail screens Change-Id: I9965b02bb08c757e28387de03fbdd9e9d2952134 Closes-Bug: #1238955,8618,Jason Derrett,"[3, 841]","['Jenkins', 'Akihiro Motoki']",adds security group list port detail screens changeid i9965b02bb08c757e28387de03fbdd9e9d2952134 closesbug 1238955
https://review.opendev.org/54509,Support security groups with XenAPI and OVS,Support security groups with XenAPI and OVS iptables-restore and ip6tables-restore commands read their data from the standard input. The neutron-rootwrap-xen-dom0 script and the netwrap plugin have been modified to pass stdin from one to the other. The netwrap plugin is also modified to allow iptables/ip6tables commands. Change-Id: I2b2d5589ffb14d11aef8f3d9c870fc5104433767 Closes-Bug: #1245809,6794,Simon Pasquier,"[3, 2166, 5044, 6670, 6735, 6794]","['Jenkins', 'SmokeStack CI', 'Mate Lakat', 'Amir Sadoughi', 'Bob Ball', 'Simon Pasquier']",support security groups xenapi ovs iptablesrestore ip6tablesrestore commands read data standard input neutronrootwrapxendom0 script netwrap plugin modified pass stdin one netwrap plugin also modified allow iptablesip6tables commands changeid i2b2d5589ffb14d11aef8f3d9c870fc5104433767 closesbug 1245809
https://review.opendev.org/46894,Add security groups updating test for ports,Enhance Neutron ports update test Test update ports security groups. Change-Id: Iba96704d132b6f4461b041216817ff718b59db9e,7823,Xiang Hui,"[3, 261, 5586, 5803, 6796, 6983, 7823]","['Jenkins', 'Salvatore Orlando', 'Ivan-Zhu', 'Attila Fazekas', 'Giulio Fidente', 'YangLei', 'Xiang Hui']",enhance neutron ports update test test update ports security groups changeid iba96704d132b6f4461b041216817ff718b59db9e
https://review.opendev.org/692224,[WIP] Implement Security Context for Airflow_Worker,Implement Security Context for Airflow_Worker This adds the container security context to set readOnlyRootFilesystem to true Change-Id: I31e02144890f886a37ad9c4548691453ac668b1e,29144,PRATEEK REDDY DODDA,"[7769, 8749, 22348, 22477, 23186, 23928, 26628, 26686, 27715, 28208, 28235, 28618, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",implement security context airflowworker adds container security context set readonlyrootfilesystem true changeid i31e02144890f886a37ad9c4548691453ac668b1e
https://review.opendev.org/52200,Handling security group error when booting an instance,Handling security group error when booting an instance - Handling the error and marking the instance as ERROR - Not raising the exception so that the quota gets consumed Fixes bug 1240678 Change-Id: I53c0b2eec1ef4763ecf973f2a54dda4a09064e46,5390,Steve Leon,"[3, 694, 5390, 7092, 8415]","['Jenkins', 'Tim Simpson', 'Steve Leon', 'Deprecated Trove CI', 'Denis M.']",handling security group error booting instance handling error marking instance error raising exception quota gets consumed fixes bug 1240678 changeid i53c0b2eec1ef4763ecf973f2a54dda4a09064e46
https://review.opendev.org/50543,Fix From/To Port In Cereating Security Group Rule,Fix From/To Port In Cereating Security Group Rule Security Group Rule from/to port should be honored. The default policie is using the options defined in trove.conf not specified by the user. Fixes Bug 1235858 Change-Id: I8f43218a4185c494a3219389b08958f087648da9,8977,Yitao Jiang,"[3, 739, 7092, 8259, 8415, 8977]","['Jenkins', 'Michael Basnight', 'Deprecated Trove CI', 'Andrey Shestakov', 'Denis M.', 'Yitao Jiang']",fix fromto port cereating security group rule security group rule fromto port honored default policie using options defined troveconf specified user fixes bug 1235858 changeid i8f43218a4185c494a3219389b08958f087648da9
https://review.opendev.org/46300,Use security group id instead of name,Horizon now sets security group checkbox values to the ID of the security group rather than the name. Change-Id: I1e064e702f8c652d28799969f18383bcafc52542 Closes-Bug: #1203413,8744,Samuel Winchenbach,"[3, 841, 4978, 8744]","['Jenkins', 'Akihiro Motoki', 'Julie Pichon', 'Samuel Winchenbach']",horizon sets security group checkbox values id security group rather name changeid i1e064e702f8c652d28799969f18383bcafc52542 closesbug 1203413
https://review.opendev.org/50025,It's OK to fail to delete an in-use security group,"It's OK to fail to delete an in-use security group Specifying 'shared' security groups in a cloudformation template is a common practice. When the stack is deleted, it shouldn't fail because that security group is still in use. Change-Id: I744797a4104b810fda563b3295b36b21235bb11d Signed-off-by: Stephen Gran <stephen.gran@guardian.co.uk> Closes-Bug: #1236305",6624,Stephen Gran,"[3, 2166, 2834, 6624, 7193, 7385]","['Jenkins', 'SmokeStack CI', 'Steven Dake', 'Stephen Gran', 'Thomas Spatzier', 'Thomas Herve']",ok fail delete inuse security group specifying shared security groups cloudformation template common practice stack deleted shouldnt fail security group still use changeid i744797a4104b810fda563b3295b36b21235bb11d signedoffby stephen gran stephengranguardiancouk closesbug 1236305
https://review.opendev.org/48730,Add a UUID attribute to security groups,Add a UUID attribute to security groups The Neutron port resource requires a security group id. Allow the user to access this via GetAtt. Change-Id: I587ce566312147ba06a5b4be57539ce97e793f14 Closes-Bug: #1224039,2834,Steven Dake,[],[],add uuid attribute security groups neutron port resource requires security group id allow user access via getatt changeid i587ce566312147ba06a5b4be57539ce97e793f14 closesbug 1224039
https://review.opendev.org/48694,Fixes Bug 1157993. Add add/remove security group actions for server.,Fixes Bug 1157993. Add add/remove security group actions for server. Change-Id: Iffb1e7599f81832545352395e055bc58d209e039,8740,Rupak Ganguly,"[3, 964, 2448]","['Jenkins', 'Anne Gentle', 'Diane Fleming']",fixes bug 1157993 add addremove security group actions server changeid iffb1e7599f81832545352395e055bc58d209e039
https://review.opendev.org/44502,Add DSCP option to Security Groups,Add DSCP option to Security Groups This commit adds the DSCP option for Security Groups to the API and the database. Change-Id: Ica26cf439e42ca95bf1f0ff731337f6ad4b91f5e Implements: blueprint security-groups-dscp-filter,5162,Dan Florea,"[3, 105, 2031, 2166, 5162]","['Jenkins', 'Kyle Mestery', 'Nachi Ueno', 'SmokeStack CI', 'Dan Florea']",add dscp option security groups commit adds dscp option security groups api database changeid ica26cf439e42ca95bf1f0ff731337f6ad4b91f5e implements blueprint securitygroupsdscpfilter
https://review.opendev.org/39940,Fix Instance security group update,Fix Instance security group update Helper function added to convert ids to names. Tests updated. Change-Id: If785f119a23fcd98ec032b8deac688d5afb447b1 Fixes: bug #1207184,7132,Nikita Konovalov,"[3, 1941, 5733, 7132, 8334]","['Jenkins', 'Lin Hua Cheng', 'Kieran Spear', 'Nikita Konovalov', 'Noorul Islam K M']",fix instance security group update helper function added convert ids names tests updated changeid if785f119a23fcd98ec032b8deac688d5afb447b1 fixes bug 1207184
https://review.opendev.org/44413,Check whether the security group id is integer or UUID,"Check whether the security group id is integer or UUID. Nova and Neutron provide the security group, respectively. nova's security group id is integer, and neutron's is UUID. Fixes Bug 1217242 Change-Id: I7d9f43837860f08b9f5e841ceffa7f823807e9a4",7653,Zhengguang Ou,"[3, 7653]","['Jenkins', 'Zhengguang Ou']",check whether security group id integer uuid nova neutron provide security group respectively novas security group id integer neutrons uuid fixes bug 1217242 changeid i7d9f43837860f08b9f5e841ceffa7f823807e9a4
https://review.opendev.org/44027,Add default security group with default rule based on config values responsible for rule content,Add default security group with default rule based on config values responsible for rule content Change-Id: I825a18e39ed5492b3e97b367db038da431770be6 Fixes: bug #1176095,8415,Denis M.,"[3, 7092]","['Jenkins', 'Deprecated Trove CI']",add default security group default rule based config values responsible rule content changeid i825a18e39ed5492b3e97b367db038da431770be6 fixes bug 1176095
https://review.opendev.org/44043,Add default security group with default rule based on config values responsible for rule content,Add default security group with default rule based on config values responsible for rule content Change-Id: I98ffa810efc093dc64cfbe3bd003204aae6ebd3b Fixes: bug #1176095,8415,Denis M.,"[3, 7092]","['Jenkins', 'Deprecated Trove CI']",add default security group default rule based config values responsible rule content changeid i98ffa810efc093dc64cfbe3bd003204aae6ebd3b fixes bug 1176095
https://review.opendev.org/42721,Trove - Security Group Rule To/From Port options in the client,"Trove - Security Group Rule To/From Port options in the client The CLI command to create a Security Group Rule makes the from/to port options required fields. Since only instances listening on port 3306 are supported, this fix removes the from/to port options from the troveclient Change-Id: Ice1b776e82653e847776ee9e53ee54ef4cbdb450 Fixes: bug #1199623",7796,Riddhi Shah,"[3, 7092]","['Jenkins', 'Deprecated Trove CI']",trove security group rule tofrom port options client cli command create security group rule makes fromto port options required fields since instances listening port 3306 supported fix removes fromto port options troveclient changeid ice1b776e82653e847776ee9e53ee54ef4cbdb450 fixes bug 1199623
https://review.opendev.org/39018,Replace 404 code when security group not found,"Replace 404 code when security group not found Method add_rules() incorrectly interprets exception status code 409 as ""not found"". The correct status code is 404, as it is used in the rest of this module. This patch corrects the problem Change-Id: Icd5ae994ee36edc1534dba680083aaecb7a01564",4694,Miguel Lavalle,"[3, 2166, 2750]","['Jenkins', 'SmokeStack CI', 'Sean Dague']",replace 404 code security group found method addrules incorrectly interprets exception status code 409 found correct status code 404 used rest module patch corrects problem changeid icd5ae994ee36edc1534dba680083aaecb7a01564
https://review.opendev.org/37324,Avoid performing extra query for fetching port security binding,"Avoid performing extra query for fetching port security binding Bug 1201597 Beyond achieving the goal of avoiding an extra query for retrieving the port security bindings for both networks and ports, this patch also extends the facilities offered by the db base class in a way such that a plugin might specifies which relationships should be eagerly loaded when a db operation is performed. This will allow to perform the full joined load when doing, for instance a get_network call, whereas it will be possible to specify which joins are needed when performing a call to the 'private' method _get_network. Change-Id: I5aa773d4acda9b45e758c72c263419b6dc165931",261,Salvatore Orlando,"[3, 261, 748, 2592]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'Mark McClain']",avoid performing extra query fetching port security binding bug 1201597 beyond achieving goal avoiding extra query retrieving port security bindings networks ports patch also extends facilities offered db base class way plugin might specifies relationships eagerly loaded db operation performed allow perform full joined load instance getnetwork call whereas possible specify joins needed performing call private method getnetwork changeid i5aa773d4acda9b45e758c72c263419b6dc165931
https://review.opendev.org/37090,Add bios for security guide authors.,Add bios for security guide authors. Remove the light hearted nicknames for each author and replace with bios. Leaves the book with a more polished and professional feel. Change-Id: I35db87ddaad5277ca971a38f7bd1fcf96d0f12d9,2807,Bryan D. Payne,[],[],add bios security guide authors remove light hearted nicknames author replace bios leaves book polished professional feel changeid i35db87ddaad5277ca971a38f7bd1fcf96d0f12d9
https://review.opendev.org/36339,Basic cleanup for security guide pdf.,Basic cleanup for security guide pdf. This is the result of a pass over the guide to fix some of the conversion errors and other minor page layout issues in the pdf generation from the new docbook source. I also added company affiliation for the authors list. Change-Id: I7ff863ebd513084fc3e2abf752164f117ac320d9 Fixes: bug #1199516,2807,Bryan D. Payne,"[3, 612, 2807]","['Jenkins', 'Tom Fifield', 'Bryan D. Payne']",basic cleanup security guide pdf result pass guide fix conversion errors minor page layout issues pdf generation new docbook source also added company affiliation authors list changeid i7ff863ebd513084fc3e2abf752164f117ac320d9 fixes bug 1199516
https://review.opendev.org/32813,Adding security group and instance information in the views,Adding security group and instance information in the views - Instance view now shows its corresponding security group - Secgroup list now show their corresponding instances - Secgroup get also show its corresponding instance Fixes bug 1190410 Change-Id: I2881bc5365dcded4ad4b4467e365a84faee1243b,5390,Steve Leon,"[3, 739, 1925, 5390, 7092]","['Jenkins', 'Michael Basnight', 'Vipul Sabhaya', 'Steve Leon', 'Deprecated Trove CI']",adding security group instance information views instance view shows corresponding security group secgroup list show corresponding instances secgroup get also show corresponding instance fixes bug 1190410 changeid i2881bc5365dcded4ad4b4467e365a84faee1243b
https://review.opendev.org/34013,Adds group id reference support to ingress security groups,"Adds group id reference support to ingress security groups Only a CIDR is supported as a source when defining an ingress security group, add support for referencing a security group id. Change-Id: Ib803e562244aa78ec313011f73eea0749e5350a8 Fixes: bug #1193415",7327,david martin,"[3, 3098]","['Jenkins', 'Jeff Peeler']",adds group id reference support ingress security groups cidr supported source defining ingress security group add support referencing security group id changeid ib803e562244aa78ec313011f73eea0749e5350a8 fixes bug 1193415
https://review.opendev.org/29899,Fix some security group tests requiering UUID with Quantum,Fix some security group tests requiering UUID with Quantum Quantum checks that non-existent ids still are valid UUID Fix Bug #1182384 Change-Id: I5cef4c91dd437ee101ae44830ee2145a0abe2603,7350,Jordan Pittier,"[3, 2750, 7350]","['Jenkins', 'Sean Dague', 'Jordan Pittier']",fix security group tests requiering uuid quantum quantum checks nonexistent ids still valid uuid fix bug 1182384 changeid i5cef4c91dd437ee101ae44830ee2145a0abe2603
https://review.opendev.org/30407,Warn when security groups are going to be ignored,Warn when security groups are going to be ignored The 'SecurityGroups' property of the instance is not taken into account when the 'NetworkInterfaces' property is also defined. Instead the security groups should be applied to the network interface resource(s). This issue has already raised a couple of invalid bugs on Launchpad. Change-Id: Iee5956fcfb0568c753612ea223d444cf20a2b579,6794,Simon Pasquier,"[3, 3098, 4257, 4715]","['Jenkins', 'Jeff Peeler', 'Zane Bitter', 'Angus Salkeld']",warn security groups going ignored securitygroups property instance taken account networkinterfaces property also defined instead security groups applied network interface resources issue already raised couple invalid bugs launchpad changeid iee5956fcfb0568c753612ea223d444cf20a2b579
https://review.opendev.org/25739,Allow port-create with security groups with None,Allow port-create with security groups with None Fixes bug 1161907 Change-Id: I9b0a3b229788f1d6586819ad57fa6622a1be9b63,841,Akihiro Motoki,"[3, 841, 4395]","['Jenkins', 'Akihiro Motoki', 'Aaron Rosen']",allow portcreate security groups none fixes bug 1161907 changeid i9b0a3b229788f1d6586819ad57fa6622a1be9b63
https://review.opendev.org/25644,Fix applying single security group to port,"Fix applying single security group to port When applying security groups to a port using quantumclient, if only a single security group is included the client passes its id as a string instead of a list. Quantum tries to treat the string as a list, which causes the operation to fail. This fix ensures that bare strings passed in are wrapped in lists before processing. Fixes bug 1161078 Change-Id: Ibe4baa5d75ae392c4c473626ae6a8b8435c002ec",6486,Brant Knudson,"[3, 261, 841, 2031, 2592, 4395, 6928]","['Jenkins', 'Salvatore Orlando', 'Akihiro Motoki', 'Nachi Ueno', 'Mark McClain', 'Aaron Rosen', 'Ben Nemec']",fix applying single security group port applying security groups port using quantumclient single security group included client passes id string instead list quantum tries treat string list causes operation fail fix ensures bare strings passed wrapped lists processing fixes bug 1161078 changeid ibe4baa5d75ae392c4c473626ae6a8b8435c002ec
https://review.opendev.org/23618,Update api-doc with Security Groups related API information,Update api-doc with Security Groups related API information Added Security Group and Security Group Rule Entities and related API calls to the Reddwarf API Docs. Change-Id: Icda849e7d1400de96835dda5825bea118777a2dc,5293,Nikhil,"[3, 5293]","['Jenkins', 'Nikhil']",update apidoc security groups related api information added security group security group rule entities related api calls reddwarf api docs changeid icda849e7d1400de96835dda5825bea118777a2dc
https://review.opendev.org/24608,Fix issue with consoleauth after security fix.,Fix issue with consoleauth after security fix. The fix for unit-tests here e02b45976fe4468ad70c886255f1af71652ce4f9 accidentally removed a parameter that was being used from the _validate_console call. This adds it back. Fixes bug 1156316 Change-Id: Ibe472c7fb5f656ebfa0f645feebaf13829acabc7,67,Vish Ishaya,"[3, 1007, 1525, 1561]","['Jenkins', 'Nathanael I Burton', 'Rafi Khardalian', 'Russell Bryant']",fix issue consoleauth security fix fix unittests e02b45976fe4468ad70c886255f1af71652ce4f9 accidentally removed parameter used validateconsole call adds back fixes bug 1156316 changeid ibe472c7fb5f656ebfa0f645feebaf13829acabc7
https://review.opendev.org/22581,Add support for nova quantum security group proxy,Add support for nova quantum security group proxy This commit adds the following options: NOVA_QUANTUM_SECURITY_GROUP_PROXY which by default is set to True. Fixes bug 1131333 Change-Id: I81fcc0ddd0693abf991737b91e6d3e972474f419,4395,Aaron Rosen,"[3, 841, 4395]","['Jenkins', 'Akihiro Motoki', 'Aaron Rosen']",add support nova quantum security group proxy commit adds following options novaquantumsecuritygroupproxy default set true fixes bug 1131333 changeid i81fcc0ddd0693abf991737b91e6d3e972474f419
https://review.opendev.org/21041,Nova quantum security group proxy,SUPER_WORK_IN_PROGRESS Nova quantum security group proxy Implements blueprint Nova quantum security group proxy Change-Id: Ia1422520ee6d3de6265c0137aa918518eec6466f,4395,Aaron Rosen,"[3, 67, 105, 261, 447, 841, 1501, 1561, 1653, 1779, 2031, 2166, 2592, 2750, 4395]","['Jenkins', 'Vish Ishaya', 'Kyle Mestery', 'Salvatore Orlando', 'dan wendlandt', 'Akihiro Motoki', 'Phil Day', 'Russell Bryant', 'garyk', 'Daniel Berrange', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'Sean Dague', 'Aaron Rosen']",superworkinprogress nova quantum security group proxy implements blueprint nova quantum security group proxy changeid ia1422520ee6d3de6265c0137aa918518eec6466f
https://review.opendev.org/20446,Add security management to instance.,"Add security management to instance. Since the novaclient support add/remove security groups to/on instances, this is implemented in horizon now. A new action is added to the instance table and it trigger a model form to update security groups associated with the instance. Implements blueprint add-security-group-to-instance Change-Id: I51e7b7d119e6516d3ad9108b20a1e595c56dd216",1952,Brooklyn Chen,"[3, 1816, 1941, 1952]","['Jenkins', 'Gabriel Hurley', 'Lin Hua Cheng', 'Brooklyn Chen']",add security management instance since novaclient support addremove security groups toon instances implemented horizon new action added instance table trigger model form update security groups associated instance implements blueprint addsecuritygrouptoinstance changeid i51e7b7d119e6516d3ad9108b20a1e595c56dd216
https://review.opendev.org/716797,Add new default roles in security group policies,Add new default roles in security group policies This adds new defaults roles in security group API policies. - GET rules are made granular and default to System or project reader - add/remove sec grps policies are default to system admin or project member. Also add tests to simulates the future where we drop the deprecation fall back in the policy by overriding the rules with a version where there are no deprecated rule options. Operators can do the same by adding overrides in their policy files that match the default but stop the rule deprecation fallback from happening. Partial implement blueprint policy-defaults-refresh Change-Id: I000c3b3977e74e992a6b45b48fcaf49983458f6b,8556,Ghanshyam,[29963],['Intel_Zuul'],add new default roles security group policies adds new defaults roles security group api policies get rules made granular default system project reader addremove sec grps policies default system admin project member also add tests simulates future drop deprecation fall back policy overriding rules version deprecated rule options operators adding overrides policy files match default stop rule deprecation fallback happening partial implement blueprint policydefaultsrefresh changeid i000c3b3977e74e992a6b45b48fcaf49983458f6b
https://review.opendev.org/17774,Clean up quantum security group doc,Clean up quantum security group doc Bug #1088304 Change-Id: Ic5b54710c06ae96af9f9c4ff78a4af89dbbd6e27,2874,yong sheng gong,"[3, 447, 612, 841, 4395]","['Jenkins', 'dan wendlandt', 'Tom Fifield', 'Akihiro Motoki', 'Aaron Rosen']",clean quantum security group doc bug 1088304 changeid ic5b54710c06ae96af9f9c4ff78a4af89dbbd6e27
https://review.opendev.org/14274,Adds security groups in NVP Plugin,Adds security groups in NVP Plugin Implement blueprint quantum-security-groups API Change-Id: Ic8a1ff5ec15bdffd6ce66ae19e48ff7bcf2fd460,4395,Aaron Rosen,"[3, 447, 452, 1653, 1689, 2031, 2166, 2649, 4362, 4395]","['Jenkins', 'dan wendlandt', 'Somik Behera', 'garyk', 'Robert Kukura', 'Nachi Ueno', 'SmokeStack CI', 'Zhang Hua', 'Salvatore Orlando', 'Aaron Rosen']",adds security groups nvp plugin implement blueprint quantumsecuritygroups api changeid ic8a1ff5ec15bdffd6ce66ae19e48ff7bcf2fd460
https://review.opendev.org/10435,Adds extension for displaying security groups,"Adds extension for displaying security groups Implements blueprint deprecate-createserverext The createserverext extension creates a new endpoint for the sole purpose of displaying security groups. Security groups should be displayed via an output extension instead, and be properly namesapeced. This commit adds an extension do do the above and marks the createserverext extension deprecated so it can be removed. It also sets policy to allow all users to access the extension by default. Tests are included to ensure that the groups are returned in both json and xml. Change-Id: I26b90548d72efb5408cca93aaf6f9b7d08c56e56",67,Vish Ishaya,"[3, 67, 447, 679, 964, 1247, 2166, 2243]","['Jenkins', 'Vish Ishaya', 'dan wendlandt', 'Kevin L. Mitchell', 'Anne Gentle', 'Mark McLoughlin', 'SmokeStack CI', 'John Griffith']",adds extension displaying security groups implements blueprint deprecatecreateserverext createserverext extension creates new endpoint sole purpose displaying security groups security groups displayed via output extension instead properly namesapeced commit adds extension marks createserverext extension deprecated removed also sets policy allow users access extension default tests included ensure groups returned json xml changeid i26b90548d72efb5408cca93aaf6f9b7d08c56e56
https://review.opendev.org/7743,Fixes bug 930482- Test for security -tenanid by pass,Fixes bug 930482- Test for security -tenanid by pass Change-Id: Ic0e8bb191140976d8f0f4e2f1c9daae9e0a9089f,2174,Sapan Kona,"[3, 7, 97]","['Jenkins', 'Jay Pipes', 'Daryl Walleck']",fixes bug 930482 test security tenanid pass changeid ic0e8bb191140976d8f0f4e2f1c9daae9e0a9089f
https://review.opendev.org/8795,nova returns security groups for server now as it described in docs,nova returns security groups for server now as it described in docs fix bug #1015638 Change-Id: I1402a6b9013f87d2417a8353df33129d4dc25c92,1742,hovyakov,"[3, 67, 642, 1267, 1742, 2166]","['Jenkins', 'Vish Ishaya', 'Matt Dietz', 'Alexei Ababilov', 'hovyakov', 'SmokeStack CI']",nova returns security groups server described docs fix bug 1015638 changeid i1402a6b9013f87d2417a8353df33129d4dc25c92
https://review.opendev.org/7143,Fixes lp978896 -- Session fixation security fix,"Fixes lp978896 -- Session fixation security fix Rotates session tokens on logout, and properly clears sessions to prevent data leakage. Change-Id: I7c4c6fd3e1827d28fceb47b2c5b4c7e2eb4a7963",2230,Paul McMillan,[357],['Devin Carlen'],fixes lp978896 session fixation security fix rotates session tokens logout properly clears sessions prevent data leakage changeid i7c4c6fd3e1827d28fceb47b2c5b4c7e2eb4a7963
https://review.opendev.org/6179,Add more to/from port checking for security groups.,"Add more to/from port checking for security groups. Fix bug 972491. This patch will raise an exception if a to_port or from_port is specified, but the other is not. This came up for me while running the unit tests on Fedora 16. A recent addition to nova.tests.test_api exposed a bug in the version of python-boto included in f16. This patch just makes it more obvious what the error was. See the bug for traceback details. This patch also removes one of the checks in nova.tests.test_api, since it wasn't actually doing what was intended. The '0.0.0.0/0' was actually being passed in as a port. Change-Id: Idf0646552cea0d86563dc0f0b59137c7966f7022",1561,Russell Bryant,"[100, 191, 360, 1561, 2166]","['Johannes Erdfelt', 'Trey Morris', 'Dan Prince', 'Russell Bryant', 'SmokeStack CI']",add tofrom port checking security groups fix bug 972491 patch raise exception toport fromport specified came running unit tests fedora 16 recent addition novateststestapi exposed bug version pythonboto included f16 patch makes obvious error see bug traceback details patch also removes one checks novateststestapi since wasnt actually intended 00000 actually passed port changeid idf0646552cea0d86563dc0f0b59137c7966f7022
https://review.opendev.org/4497,Fixes bug 930482- New test for security -tenanid by pass,Fixes bug 930482- New test for security -tenanid by pass Change-Id: I1ce54668249b8d65f80409163c4e370564a1d951,2174,Sapan Kona,"[7, 97, 1192, 1794, 1795, 2174]","['Jay Pipes', 'Daryl Walleck', 'David Kranz', 'Donald Ngo', 'Ravikumar Venkatesan', 'Sapan Kona']",fixes bug 930482 new test security tenanid pass changeid i1ce54668249b8d65f80409163c4e370564a1d951
https://review.opendev.org/3954,Adds security group id support.,Adds security group id support. Implements according to Amazon EC2 SecurityGroup-related specification. Change-Id: I4a9123d1acfdb186e882a5518fcd422a5b096bb2,2140,MotoKen,"[24, 1132, 1849, 2166]","['Chuck Short', 'Brian Waldon', 'Joe Gordon', 'SmokeStack CI']",adds security group id support implements according amazon ec2 securitygrouprelated specification changeid i4a9123d1acfdb186e882a5518fcd422a5b096bb2
https://review.opendev.org/3848,Retrieve instance ids associated with a security group,Retrieve instance ids associated with a security group Fixes bug #918830 Retrieve instance ids associated with a security group in the security_groups API extension. Change-Id: I21eba342afeb41bb9c189b19af4473e5255f57e0,1994,Zhongyue Luo,"[3, 1132, 1994, 2166]","['Jenkins', 'Brian Waldon', 'Zhongyue Luo', 'SmokeStack CI']",retrieve instance ids associated security group fixes bug 918830 retrieve instance ids associated security group securitygroups api extension changeid i21eba342afeb41bb9c189b19af4473e5255f57e0
https://review.opendev.org/3137,Nova API doesn't return instance security groups,Nova API doesn't return instance security groups Fixes Bug #909207 Added a workaround to get security group API extension bookmark links which should be fixed after security groups moves back to core Change-Id: I906cd9ba809b78c4ae8cffba2d258f618b51a8e9,1994,Zhongyue Luo,"[67, 518, 679, 1132, 1994, 2166, 2230]","['Vish Ishaya', 'Soren Hansen', 'Kevin L. Mitchell', 'Brian Waldon', 'Zhongyue Luo', 'SmokeStack CI', 'Paul McMillan']",nova api doesnt return instance security groups fixes bug 909207 added workaround get security group api extension bookmark links fixed security groups moves back core changeid i906cd9ba809b78c4ae8cffba2d258f618b51a8e9
https://review.opendev.org/3268,Add support for same tenant source-group security rules. Fixes bug #860780.,Add support for same tenant source-group security rules. Fixes bug #860780. * Adds support for displaying source-group rules * Adds support for deleting source-group rules Change-Id: I35131f7d24361384bd2b222de10b34eb94622f48,741,Kiall Mac Innes,"[357, 741, 1155, 1710]","['Devin Carlen', 'Kiall Mac Innes', 'sleepsonthefloor', 'paul-tashima']",add support tenant sourcegroup security rules fixes bug 860780 adds support displaying sourcegroup rules adds support deleting sourcegroup rules changeid i35131f7d24361384bd2b222de10b34eb94622f48
https://review.opendev.org/1492,Verify security group parameters,Verify security group parameters Introduced various sanity checks before adding security group rule into the database. The checks have been implemented both in EC2 and openstack extension code. Implemented the suggestions made in first patch by Brian Fixes bug 869979. Change-Id: I2ac28666e90e7bdeacb7b1c2676c0719cfb9e441 Change-Id: I24bd52500b7c0f4972bfc292000bae9b67bea6e5,1775,Ahmad Hassan,[],[],verify security group parameters introduced various sanity checks adding security group rule database checks implemented ec2 openstack extension code implemented suggestions made first patch brian fixes bug 869979 changeid i2ac28666e90e7bdeacb7b1c2676c0719cfb9e441 changeid i24bd52500b7c0f4972bfc292000bae9b67bea6e5
https://review.opendev.org/529945,Initial draft for pyCADF security review,Initial draft for pyCADF security review This patch set provides a first draft of the security-analysis for the pyCADF library. Change-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9,20466,Tin Lam,"[5046, 8898, 17893, 20466, 21420, 22348, 28011]","['Lance Bragstad', 'Chris Wedgwood', 'Luke Hinds', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Nicholas Tait']",initial draft pycadf security review patch set provides first draft securityanalysis pycadf library changeid i5ac14ef182f086068875f317b318796e6d1f8ac9
https://review.opendev.org/785929,"[TEST][DNM] Revert ""[nsx_v3] Register security group resources at startup""","[TEST][DNM] Revert ""[nsx_v3] Register security group resources at startup"" This reverts commit bfa888737173cc86e9ab34be111f4c80f134b78d. Reason for revert: I want to test if this broke a tempest test Change-Id: I2a3fed453dbdac9c16558960f1d6dcd5e20c2194",261,Salvatore Orlando,"[9008, 22348]","['VMware NSX CI', 'Zuul']",testdnm revert nsxv3 register security group resources startup reverts commit bfa888737173cc86e9ab34be111f4c80f134b78d reason revert want test broke tempest test changeid i2a3fed453dbdac9c16558960f1d6dcd5e20c2194
https://review.opendev.org/754390,Project ID is checked when listing security groups,"Project ID is checked when listing security groups When a project ID is filtering the security groups listing query, the API ensures that this project exists. Depends-On: https://review.opendev.org/#/c/753053 Change-Id: I8a921dae1be3cd9933a261315541d5db97b8c935 Related-Bug: #1896588",16688,Rodolfo Alonso,"[11975, 16688, 22348]","['Slawek Kaplonski', 'Rodolfo Alonso', 'Zuul']",project id checked listing security groups project id filtering security groups listing query api ensures project exists dependson httpsreviewopendevorgc753053 changeid i8a921dae1be3cd9933a261315541d5db97b8c935 relatedbug 1896588
https://review.opendev.org/736034,"Revert ""[Fullstack] Mark security groups test as unstable""","DNM Revert ""[Fullstack] Mark security groups test as unstable"" This reverts commit e748e01656e6d2db1510d85e4c25e21ff394c971. This is just for test what the issue really is. Change-Id: Id54df64f4c23a2327660112582442db85a0edd17",11975,Slawek Kaplonski,"[9845, 11975, 15752, 16688, 22348, 26622, 29963]","['Arista CI', 'Slawek Kaplonski', 'Intel SR-IOV CI', 'Rodolfo Alonso', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'Intel_Zuul']",dnm revert fullstack mark security groups test unstable reverts commit e748e01656e6d2db1510d85e4c25e21ff394c971 test issue really changeid id54df64f4c23a2327660112582442db85a0edd17
https://review.opendev.org/771947,Add tenant_id check when listing security groups,"Add tenant_id check when listing security groups When listing security groups, even if the 'tenant_id' does not exist, the default security group for the tenant will be generated. This patch calls keystone to verify whether the 'tenant_id' exists. Closes-Bug: #1912747 Change-Id: Iffc08096ccfee5a2e6899ad652d4cc27cc8c885b",29157,zhanghao,"[5948, 9845, 16688, 22348]","['Oleg Bondarev', 'Arista CI', 'Rodolfo Alonso', 'Zuul']",add tenantid check listing security groups listing security groups even tenantid exist default security group tenant generated patch calls keystone verify whether tenantid exists closesbug 1912747 changeid iffc08096ccfee5a2e6899ad652d4cc27cc8c885b
https://review.opendev.org/785928,"Revert ""[nsx_v3] Register security group resources at startup""","Revert ""[nsx_v3] Register security group resources at startup"" This reverts commit bfa888737173cc86e9ab34be111f4c80f134b78d. Reason for revert: Test NSXv3 CI Change-Id: I490a57deb4d7063304a9aafcc658e74c45f067e1",13438,Kobi Samoray,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",revert nsxv3 register security group resources startup reverts commit bfa888737173cc86e9ab34be111f4c80f134b78d reason revert test nsxv3 ci changeid i490a57deb4d7063304a9aafcc658e74c45f067e1
https://review.opendev.org/602365,Add apparmor security annotation,WIP: Add in security annotation This patch set begins to add in security annotation in the metadata section of the manifest for glance and cinder. Depends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98 Change-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331 Signed-off-by: Tin Lam <tin@irrational.io>,20466,Tin Lam,"[7769, 8898, 17591, 17887, 17966, 20466, 21420, 22348, 22477, 22636, 23928, 28235, 28701]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Doug Schveninger', 'Steven Wilkerson', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Cliff Parsons', 'Pete Birley', 'Aaron Sheffield', 'Dustin Specker']",wip add security annotation patch set begins add security annotation metadata section manifest glance cinder dependson ib0ca04e8b8527194778afb8053046797abdfdb98 changeid i905cb38caf0c3bcf2d55d59f13b4efb7c61a4331 signedoffby tin lam tinirrationalio
https://review.opendev.org/704312,Add neutron error message when security group rule creation fails,Add neutron error message when security group rule creation fails Change-Id: Ia940b6666327dd908a7c5f2fea0f3fe8d74cc6f9,20363,Adit Sarfaty,"[22348, 29313]","['Zuul', 'Vishal Manchanda']",add neutron error message security group rule creation fails changeid ia940b6666327dd908a7c5f2fea0f3fe8d74cc6f9
https://review.opendev.org/704452,Security: System security option is now spectre_meltdown_low,"Security: System security option is now spectre_meltdown_low Most of the v1 mitigation is baked into the kernel and not optional. The swapgs barriers are, however, optional. They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg. This leaves the system security option spectre_meltdown_v1 too confusing, so we rename it. Partial-Bug: 1860193 Depends-On: https://review.opendev.org/#/c/704406 Change-Id: I772b1238132bd3e2e019865e3ee08811688400ed Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>",28652,Jim Somerville,"[22348, 26026, 28286, 28652, 29319]","['Zuul', 'Greg Waines', 'Bruce Jones', 'Jim Somerville', 'Kristal Dale']",security system security option spectremeltdownlow v1 mitigation baked kernel optional swapgs barriers however optional negative performance impact disable using nospectrev1 kernel bootarg leaves system security option spectremeltdownv1 confusing rename partialbug 1860193 dependson httpsreviewopendevorgc704406 changeid i772b1238132bd3e2e019865e3ee08811688400ed signedoffby jim somerville jimsomervillewindrivercom
https://review.opendev.org/702254,Test assignment of security group to the same resource twice,Test assignment of security group to the same resource twice Two negative tests has been added to test assignment of the already assigned security group to the following resources: - port - server Change-Id: Idcfcfd134ecce0207605080fb1f778c8732b9043,31450,Alex Katz,"[11975, 13995, 19118, 22348, 31450]","['Slawek Kaplonski', 'Nate Johnston', 'Eran Kuris', 'Zuul', 'Alex Katz']",test assignment security group resource twice two negative tests added test assignment already assigned security group following resources port server changeid idcfcfd134ecce0207605080fb1f778c8732b9043
https://review.opendev.org/702654,Disassociate not assigned security group from server,Disassociate not assigned security group from server Try to disassociate existing security grop that is not assigned to the server from that specific server. Change-Id: Id50f2330a1a8c5229a2b5802140475300b0a14a5,31450,Alex Katz,"[22348, 31450]","['Zuul', 'Alex Katz']",disassociate assigned security group server try disassociate existing security grop assigned server specific server changeid id50f2330a1a8c5229a2b5802140475300b0a14a5
https://review.opendev.org/702658,Remove a nonexistent security group from server,Remove a nonexistent security group from server Change-Id: I4460ee494fe0d82423cc3e1cc828c4bb89ef1fa0,31450,Alex Katz,"[22348, 31450]","['Zuul', 'Alex Katz']",remove nonexistent security group server changeid i4460ee494fe0d82423cc3e1cc828c4bb89ef1fa0
https://review.opendev.org/448197,Added security group rule provider class,Added security group rule provider class Puppet Neutron can manage Neutron security group rule. Removing security group rule and unit tests - WIP Change-Id: I79c69fe5b98751791f2cd466c9561d46e1029b9f Co-Authored-By: Daniel Pawlik <daniel.pawlik@corp.ovh.com> Closes-Bug: #1671474,18551,Szymon Datko,"[1, 2, 1106, 3153, 4146, 4162, 5263, 6133, 6554, 6681, 6786, 7069, 7118, 7604, 7732, 7745, 8971, 9414, 10068, 11583, 14985, 15519, 18551, 18795, 20676, 22348, 23181, 24680]","['James E. Blair', 'Monty Taylor', 'Ricardo Carrillo Cruz', 'Emilien Macchi', 'Clark Boylan', 'Paul Belanger', 'Jeremy Stanley', 'yolanda.robla', 'Spencer Krum', 'Brent Eagles', 'Sergey Lukjanov', 'Joshua Hesketh', 'Ian Wienand', 'Sergey Kolekonov', 'Ivan Berezovskiy', 'Denis Egorenko', 'Fuel CI', 'zhongshengping', 'Welcome, new contributor!', 'Arnaud Morin', 'Alex Schultz', 'Iury Gregory Melo Ferreira', 'Szymon Datko', 'mkarpin', 'daniel.pawlik', 'Zuul', 'RDO Third Party CI', 'Daniel Pawlik']",added security group rule provider class puppet neutron manage neutron security group rule removing security group rule unit tests wip changeid i79c69fe5b98751791f2cd466c9561d46e1029b9f coauthoredby daniel pawlik danielpawlikcorpovhcom closesbug 1671474
https://review.opendev.org/702129,Try to delete security group that does not exist,Try to delete security group that does not exist Change-Id: Iefc7d7dc44567f2c033682b02a08eca322cee554,31450,Alex Katz,[],[],try delete security group exist changeid iefc7d7dc44567f2c033682b02a08eca322cee554
https://review.opendev.org/652783,WIP: log when loading security group driver,WIP: log when loading security group driver See how bad https://review.openstack.org/#/c/325684/ (newton) regressed the cache performance benefit of https://review.openstack.org/#/c/256073/ (mitaka). Change-Id: I3364bc09234ffe65f48aeee2415d109ad3f7b6ae,6873,Matt Riedemann,"[6873, 9008, 10118, 16898, 22348, 23498, 26515, 29963]","['Matt Riedemann', 'VMware NSX CI', 'IBM PowerKVM CI', 'Virtuozzo CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",wip log loading security group driver see bad httpsreviewopenstackorgc325684 newton regressed cache performance benefit httpsreviewopenstackorgc256073 mitaka changeid i3364bc09234ffe65f48aeee2415d109ad3f7b6ae
https://review.opendev.org/695467,"Revert ""Implement Security Context for Armada""","Revert ""Implement Security Context for Armada"" This change is not required This reverts commit 430586927c1edc6524279dc166923d791380b362. Change-Id: Id5b14c91e713c41ac670b5a26711bf9a9a8dcd49",29144,PRATEEK REDDY DODDA,"[7769, 8749, 22348, 22477, 23186, 23928, 26628, 26686, 27715, 28208, 28235, 28618, 29131, 29161]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'diwakar thyagaraj', 'Rahul Khiyani']",revert implement security context armada change required reverts commit 430586927c1edc6524279dc166923d791380b362 changeid id5b14c91e713c41ac670b5a26711bf9a9a8dcd49
https://review.opendev.org/692220,Implement Security Context for Maas,Implement Security Context for Maas Implement readOnlyRootFilesystem:true for init container Change-Id: Ie49d7b395f25ff52890f58d43979689d918f28d1,29144,PRATEEK REDDY DODDA,"[7769, 8749, 22348, 22477, 23186, 23928, 26628, 26686, 27715, 28208, 28235, 28618]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters']",implement security context maas implement readonlyrootfilesystemtrue init container changeid ie49d7b395f25ff52890f58d43979689d918f28d1
https://review.opendev.org/693087,Implement Security Context for Divingbell,Implement Security Context for Divingbell Implement container and pod level security context for the following Divingbell resources: - Divingbell server deployment Change-Id: Id3d98736094e7fe98dba0312868bd42df3bcf4ef,29144,PRATEEK REDDY DODDA,"[22348, 24816, 28618, 29144]","['Zuul', 'Anthony Bellino', 'Drew Walters', 'PRATEEK REDDY DODDA']",implement security context divingbell implement container pod level security context following divingbell resources divingbell server deployment changeid id3d98736094e7fe98dba0312868bd42df3bcf4ef
https://review.opendev.org/691799,Fix the outdated security url,Fix the outdated security url Change-Id: I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2,19779,Chason Chan,"[6547, 19779, 22348]","['Andreas Jaeger', 'Chason Chan', 'Zuul']",fix outdated security url changeid i43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2
https://review.opendev.org/692488,Haproxy: Add container security context,Haproxy: Add container security context This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I05b643a332021b985c7c8bea2bac0e3560642dda,29161,Rahul Khiyani,"[22348, 29161]","['Zuul', 'Rahul Khiyani']",haproxy add container security context also adds container security context set readonlyrootfilesystem flag true changeid i05b643a332021b985c7c8bea2bac0e3560642dda
https://review.opendev.org/687984,Moved security rules and keypair creation into init,Moved security rules and keypair creation into init Launch should eventually become something more akin to `lxd launch` or `multipass launch` -- a script useful for launching abitrary instances -- rather than the proto init that it is. Moving these commands into the init helps us get there. Change-Id: I06db3252fd0f8304a4002336648a11e4af0b618b,26040,Pete Vander Giessen,"[22348, 26040]","['Zuul', 'Pete Vander Giessen']",moved security rules keypair creation init launch eventually become something akin lxd launch multipass launch script useful launching abitrary instances rather proto init moving commands init helps us get changeid i06db3252fd0f8304a4002336648a11e4af0b618b
https://review.opendev.org/678776,Return security groups by name,"Return security groups by name If we query the security groups by names, in case of severals occurences by name appear, it will raise a TypeError. Simple return all the sg by name will avoid to raise and exception and let the caller handle the result like here: https://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/api.py#L4105 Change-Id: I84107c8f956f911ecf8c4e33af4ae17c8a1c6878 Related-Bug: #1824435",16515,mbu,"[4690, 6873, 10118, 10135, 14384, 14595, 15941, 16376, 16515, 16898, 22348, 23498, 26515]","['melanie witt', 'Matt Riedemann', 'IBM PowerKVM CI', 'Lee Yarwood', 'Quobyte CI', 'IBM zKVM CI', 'DellEMC PowerFlex CI', 'Intel NFV CI', 'mbu', 'Virtuozzo CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",return security groups name query security groups names case severals occurences name appear raise typeerror simple return sg name avoid raise exception let caller handle result like httpsgithubcomopenstacknovablobmasternovadbsqlalchemyapipyl4105 changeid i84107c8f956f911ecf8c4e33af4ae17c8a1c6878 relatedbug 1824435
https://review.opendev.org/356025,Designate third-party security review artifacts,"Designate third-party security review artifacts Architecture documentation, digrams and revew findings from Designate security review, conducted by HPE. Change-Id: I449c033f8d3c9457c504c20cf7c89382cceda560",11397,Doug Chivers,"[3, 7063, 10670, 11397]","['Jenkins', 'Robert Clark', 'Michael McCune', 'Doug Chivers']",designate thirdparty security review artifacts architecture documentation digrams revew findings designate security review conducted hpe changeid i449c033f8d3c9457c504c20cf7c89382cceda560
https://review.opendev.org/494630,Using neutron engine in security groups describe.,"Using neutron engine in security groups describe. Nova engine works incorrect in case when describe is using in metadata. Security-group-list in nova cannot be filtered by tenant, listing all secgroups in case of big amount of groups can be slow and may have limitations in number. Co-Author: tikitavi <rtikitavi@gmail.com> Change-Id: I199b0f4f4febad4c23a0d8968f7858763bcbf00c Closes-Bug: #1660888 (cherry picked from commit 6b3c283894c9ab3edbac80008ea80e1c437ff1b3)",22595,Stefan Nica,[10234],['Andrey Pavlov'],using neutron engine security groups describe nova engine works incorrect case describe using metadata securitygrouplist nova filtered tenant listing secgroups case big amount groups slow may limitations number coauthor tikitavi rtikitavigmailcom changeid i199b0f4f4febad4c23a0d8968f7858763bcbf00c closesbug 1660888 cherry picked commit 6b3c283894c9ab3edbac80008ea80e1c437ff1b3
https://review.opendev.org/686199,Add security mirror override for debian-minimal,"Add security mirror override for debian-minimal Set the security mirror URL independently in the debian-minimal element, since overriding this is normally a bad idea; long-running servers should use the official security repository to reduce the time to receive critical updates, but this still needs to be overridable for situations like short-lived CI nodes where all packages are expected to come from a specific mirror for performance and consistency. Change-Id: I71a025424e3073d05c2591b458aa81162b4e7008",5263,Jeremy Stanley,"[4146, 5263, 7118, 10118, 22348, 23181]","['Clark Boylan', 'Jeremy Stanley', 'Ian Wienand', 'IBM PowerKVM CI', 'Zuul', 'RDO Third Party CI']",add security mirror override debianminimal set security mirror url independently debianminimal element since overriding normally bad idea longrunning servers use official security repository reduce time receive critical updates still needs overridable situations like shortlived ci nodes packages expected come specific mirror performance consistency changeid i71a025424e3073d05c2591b458aa81162b4e7008
https://review.opendev.org/614873,Implement east-west nw security policy for Cinder,Implement east-west nw security policy for Cinder This patch adds the ingress network security policy for the Cinder service. Change-Id: I29cf8bd0b6ec05862182ce31b3566ff1556a523b,22636,Cliff Parsons,"[7769, 8898, 17591, 20466, 22348, 22477, 22636, 23928, 24780, 27977, 28237, 28592, 28875]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Cliff Parsons', 'Pete Birley', 'Sangeet Gupta', 'Lakshmi Prasanna Goutham Pratapa', 'ATT Airship CI', 'Mike Pham', 'Koffi Nogbe']",implement eastwest nw security policy cinder patch adds ingress network security policy cinder service changeid i29cf8bd0b6ec05862182ce31b3566ff1556a523b
https://review.opendev.org/682328,update api-ref: Creates an IP security (IPsec) policy.,update api-ref: Creates an IP security (IPsec) policy. update parameter transform_protocol description Change-Id: I332f4b519d1ba05ced781b248ff9fff517b99d53,30380,ZhouHeng,"[12860, 22348]","['Dongcan Ye', 'Zuul']",update apiref creates ip security ipsec policy update parameter transformprotocol description changeid i332f4b519d1ba05ced781b248ff9fff517b99d53
https://review.opendev.org/674434,Add tests for bulk port functioning with security groups,"Add tests for bulk port functioning with security groups In order to ensure that bulk port creation results in the proper assignment of security groups, add some testing. Change-Id: Ia1bf80dd86ce4d7124a1f5af4b03e44036870ed2",13995,Nate Johnston,"[1131, 9732, 9845, 13995, 15752, 16376, 16688, 21798, 22348, 26622]","['Brian Haley', 'Mellanox CI', 'Arista CI', 'Nate Johnston', 'Intel SR-IOV CI', 'Intel NFV CI', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",add tests bulk port functioning security groups order ensure bulk port creation results proper assignment security groups add testing changeid ia1bf80dd86ce4d7124a1f5af4b03e44036870ed2
https://review.opendev.org/635705,[WIP] Add default security groups for control plane ports,"[DO NOT MERGE] Granular security group support \\\/// / _ _ \ (| (.)(.) |) .----------------.OOOo--()--oOOO.---------------. | | | This is still work in progress, DO NOT MERGE! | | | '---------------.oooO---------------------------' ( ) Oooo. \ ( ( ) \_) ) / (_/ - Add new config option default_security_groups for the trove management interfaces. The security groups need to be pre-created. - Add new database table `ports` to store the ports created for the database vm. The ports will be deleted when the vm is deleted. Change-Id: I967814d08f3e9976e1d566c81a849093b42f43c3",6732,Lingxian Kong,"[5293, 6732, 13157, 13562, 22348, 22608, 22694, 22818, 24739, 25113, 26895, 28646, 28671, 28695, 29393]","['Nikhil', 'Lingxian Kong', 'Zhao Chao', 'Samuel Matzek', 'Zuul', 'zhanggang', 'jian.song', 'Manoj Kumar', 'Yao Wang', 'Fan Zhang', 'Luke Browning', 'Dariusz Krol', 'Marcin Piwowarczyk', 'Bartosz Zurkowski', 'Dariusz Król']",merge granular security group support oooooooo still work progress merge oooo oooo add new config option defaultsecuritygroups trove management interfaces security groups need precreated add new database table ports store ports created database vm ports deleted vm deleted changeid i967814d08f3e9976e1d566c81a849093b42f43c3
https://review.opendev.org/653065,Do not create default security group during instance create if using Neutron,"Do not create default security group during instance create if using Neutron The DB API was unconditionally creating a 'default' security group per project when an instance is created, but if you're using neutron the security_groups table entries are not used anyway, so this simply avoids that security group code when using neutron. Change-Id: I723a90d4122e3df531cc3624c5fa1fd2ea4a8a46 Related-Bug: #1824435",6873,Matt Riedemann,"[6873, 9373, 10118, 14070, 16128, 16376, 22348, 23498, 23561, 26515]","['Matt Riedemann', 'Vlad Gusev', 'IBM PowerKVM CI', 'Eric Fried', 'IBM PowerVM CI', 'Intel NFV CI', 'Zuul', 'IBM zVM CI', 'iain MacDonnell', 'Cloudbase Nova Hyper-V CI']",create default security group instance create using neutron db api unconditionally creating default security group per project instance created youre using neutron securitygroups table entries used anyway simply avoids security group code using neutron changeid i723a90d4122e3df531cc3624c5fa1fd2ea4a8a46 relatedbug 1824435
https://review.opendev.org/670711,Fix std/rt kernel security vulnerability(CVE-2019-11477),Fix std kernel security vulnerability(CVE-2019-11477) Root cause: Vulnerability is the TCP_SKB_CB(skb)->tcp_gso_segs value was subject to an integer overflow in the Linux kernel when handling TCP Selective Acknowledgments (SACKs) Reference patchs: (1) https://git.kernel.org/pub/scm/linux/kernel/ git/davem/net.git/commit/ ?id=3b4929f65b0d8249f19a50245cd88ed1a2f78cff (2) https://github.com/Netflix/security-bulletins/blob/ master/advisories/third-party/2019-001/ PATCH_net_1_4.patch Details: https://nvd.nist.gov/vuln/detail/CVE-2019-11477 Change-Id: Ic2c0a79df6f7df4a7e1f3bad067f8663765bb58f,30205,zhao.shuai,"[10068, 22348, 28415, 28571, 28607, 28652, 30205]","['Welcome, new contributor!', 'Zuul', 'Lin Shuicheng', 'haitao wang', 'Saul Wold', 'Jim Somerville', 'zhao.shuai']",fix std kernel security vulnerabilitycve201911477 root cause vulnerability tcpskbcbskbtcpgsosegs value subject integer overflow linux kernel handling tcp selective acknowledgments sacks reference patchs 1 httpsgitkernelorgpubscmlinuxkernel gitdavemnetgitcommit id3b4929f65b0d8249f19a50245cd88ed1a2f78cff 2 httpsgithubcomnetflixsecuritybulletinsblob masteradvisoriesthirdparty2019001 patchnet14patch details httpsnvdnistgovvulndetailcve201911477 changeid ic2c0a79df6f7df4a7e1f3bad067f8663765bb58f
https://review.opendev.org/637347,Memcached: Add pod security context to pods,Memcached: Add pod security context to pods This PS adds the pod security context snippet to pods Change-Id: Id23c7e02cf840e1730638870b061e056c5b7c722 Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,"[8898, 17591, 22348, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley']",memcached add pod security context pods ps adds pod security context snippet pods changeid id23c7e02cf840e1730638870b061e056c5b7c722 signedoffby pete birley peteportdirect
https://review.opendev.org/535510,Use revision_number on adding/removing security group,[WIP] Use revision_number on adding/removing security group Change-Id: I0651417d18ee54e5c8b5b7292c27159b45e9acf3 Closes-Bug: #1417975,27654,Hongbin Lu,"[6062, 6873, 9008, 9732, 10118, 10385, 14384, 14595, 15751, 15888, 16128, 16376, 16898, 21813, 22348, 23498, 25562, 26515, 27654]","['jichencom', 'Matt Riedemann', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'IBM zKVM CI', 'Intel PCI CI', 'Zhenyu Zheng', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo CI', 'Andrey Volkov', 'Zuul', 'IBM zVM CI', 'Mike Chen', 'Cloudbase Nova Hyper-V CI', 'Hongbin Lu']",wip use revisionnumber addingremoving security group changeid i0651417d18ee54e5c8b5b7292c27159b45e9acf3 closesbug 1417975
https://review.opendev.org/669354,"Revert ""Implement Security Context for Neutron""","Revert ""Implement Security Context for Neutron"" This reverts commit 7d64eea10eb4fba53273e7711f925d77dd36f6b9. Change-Id: Ic7b104feb7f76156cfe8ea65c410df469c0baaaa",23928,Pete Birley,"[7769, 8898, 12281, 17591, 20466, 22348, 22477, 29144, 29161]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",revert implement security context neutron reverts commit 7d64eea10eb4fba53273e7711f925d77dd36f6b9 changeid ic7b104feb7f76156cfe8ea65c410df469c0baaaa
https://review.opendev.org/668012,Manual: Regression Security https and Malformed localhost.yml,Manual: Regression Security https and Malformed localhost.yml Updating test steps for horizon secure login and ansible-playbook command Change-Id: I15f01d29842aaf72d80afea310627889f5ad5f9d,29903,Fernando Hernandez Gonzalez,"[22348, 29897]","['Zuul', 'Elio Martinez']",manual regression security https malformed localhostyml updating test steps horizon secure login ansibleplaybook command changeid i15f01d29842aaf72d80afea310627889f5ad5f9d
https://review.opendev.org/620473,Validate security group in API layer,Validate security group in API layer we should validate whether security group exists in API layer to reject invalid request. Change-Id: I736da9f665776c6a9af59a75e624b5739aeb269c Closes-Bug: 1805569,6062,jichencom,"[9008, 9732, 10118, 10385, 14595, 15751, 15888, 16128, 16376, 16898, 22348, 23498, 26515]","['VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'IBM zKVM CI', 'Intel PCI CI', 'Zhenyu Zheng', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",validate security group api layer validate whether security group exists api layer reject invalid request changeid i736da9f665776c6a9af59a75e624b5739aeb269c closesbug 1805569
https://review.opendev.org/657854,Implement Security Context for Neutron,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: I1bbca18623dda7ff8d492f80abef886b2fb0ecc3,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17591, 20466, 22348, 22477, 23928, 24780, 29144, 29161]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",implement security context neutron implement container security context following neutron resources neutron server deployment changeid i1bbca18623dda7ff8d492f80abef886b2fb0ecc3
https://review.opendev.org/665447,"Revert ""Allow sharing of security groups via RBAC mechanism""","Revert ""Allow sharing of security groups via RBAC mechanism"" This reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9. As show in bug [1], this implementation causes a huge performance regression. Therefore this patch proposes reverting for now. [1] https://bugs.launchpad.net/neutron/+bug/1830679 Change-Id: I2f13ecad81d7624d2720f4c526b6bb4c620fe9fe",5367,boden,"[1131, 4694, 5367, 7249, 9531, 9732, 9845, 10980, 11975, 16376, 22348, 26622]","['Brian Haley', 'Miguel Lavalle', 'boden', 'Ann Taraday', 'liuyulong', 'Mellanox CI', 'Arista CI', 'Doug Wiegley', 'Slawek Kaplonski', 'Intel NFV CI', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",revert allow sharing security groups via rbac mechanism reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9 show bug 1 implementation causes huge performance regression therefore patch proposes reverting 1 httpsbugslaunchpadnetneutronbug1830679 changeid i2f13ecad81d7624d2720f4c526b6bb4c620fe9fe
https://review.opendev.org/629332,Improve security by avoiding buffer overflows,"Improve security by avoiding buffer overflows This patch adds compiler flags to improve the security of STX code. Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors, so at compiling level, buffer overflow is avoided. Story: 2004380 Task: 28809 Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Sugested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: Id6a11326cd23172c6684e0c004c3cbcae9833117",29242,Luis Botello,"[15405, 22348, 26477, 28464]","['Erich Cordoba', 'Zuul', 'Ken Young', 'Eric MacDonald']",improve security avoiding buffer overflows patch adds compiler flags improve security stx code flags added format string vulnerabilities cflagswformat wformatsecurity compiler treat string format warnings errors compiling level buffer overflow avoided story 2004380 task 28809 signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom sugestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid id6a11326cd23172c6684e0c004c3cbcae9833117
https://review.opendev.org/651414,[WIP] Coredns: Add pod/container security context,Coredns: Add pod/container security context This updates k8s chart to include the podsecurity context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: I83dea0a5f684d271e2e2bbff915d3278a53a8200,29144,PRATEEK REDDY DODDA,"[7769, 8749, 8898, 17896, 22259, 22348, 22477, 23186, 23928, 24816, 26365, 26449, 26628, 26686, 27715, 28208, 28235, 28618, 28664, 29134, 29144, 29161, 29624, 30173]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Rick Bartra', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Bryan Strassner', 'Scott Hussey', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Ahmad Mahmoudi', 'Sandeep Reddy Thumma', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Alexander Hughes', 'Ian Pittwood']",coredns add podcontainer security context updates k8s chart include podsecurity context pod template also adds container security context set readonlyrootfilesystem true changeid i83dea0a5f684d271e2e2bbff915d3278a53a8200
https://review.opendev.org/663258,neutron: Update security groups,neutron: Update security groups The security group can be used to give the loadbalancer access to the configured members. The security group is only usable for the tenant if it is placed into the tenant project. The port already exists in the tenant project and you can extract the security group id from it. Also we should restrict loadbalancer-internal communication (e.g. VRRP) to the loadbalancer security to avoid any other traffic from influencing the failover. Change-Id: I01c343466913abda9b0ac0c1cd9746430eb78dd4 Signed-off-by: Sven Wegener <sven.wegener@inovex.de>,27056,Sven Wegener,"[6469, 27056]","['Carlos Gonçalves', 'Sven Wegener']",neutron update security groups security group used give loadbalancer access configured members security group usable tenant placed tenant project port already exists tenant project extract security group id also restrict loadbalancerinternal communication eg vrrp loadbalancer security avoid traffic influencing failover changeid i01c343466913abda9b0ac0c1cd9746430eb78dd4 signedoffby sven wegener svenwegenerinovexde
https://review.opendev.org/565958,Add option to define the qemu security driver,Add option to define the qemu security driver It is recommended to set the qemu security driver by default. This change ensures that nova compute will define the security driver based on a given OS deployment unless specifically defined by the deployer in a user variable file. Change-Id: I567081403e2aabe9e0747f40e5bf0976d0f949ff Closes-Bug: #1732481 Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>,7353,Kevin Carter,"[6816, 7353, 22348]","['Jesse Pretorius', 'Kevin Carter', 'Zuul']",add option define qemu security driver recommended set qemu security driver default change ensures nova compute define security driver based given os deployment unless specifically defined deployer user variable file changeid i567081403e2aabe9e0747f40e5bf0976d0f949ff closesbug 1732481 signedoffby kevin carter kevincarterrackspacecom
https://review.opendev.org/390379,Add command to list security groups of a server,"Add command to list security groups of a server Adding command ""openstack server security group list"" to list security groups of a server. Similar to command ""nova list-secgroup"". Change-Id: I3e727756fdfd26b58796815396b2b7a5a491e39b Closes-Bug: #1606221",10744,Rajasi Kulkarni,"[970, 6482, 18462]","['Dean Troyer', 'Steve Martinelli', 'Rahul U Nair']",add command list security groups server adding command openstack server security group list list security groups server similar command nova listsecgroup changeid i3e727756fdfd26b58796815396b2b7a5a491e39b closesbug 1606221
https://review.opendev.org/780683,[WIP] Set client to user in security service update tests,[WIP] Set client to user in security service update tests Change-Id: I8d76928100b643f4c63deddc665f3322113f63bb Signed-off-by: Douglas Viroel <viroel@gmail.com>,30002,Douglas Viroel,[22348],['Zuul'],wip set client user security service update tests changeid i8d76928100b643f4c63deddc665f3322113f63bb signedoffby douglas viroel viroelgmailcom
https://review.opendev.org/780152,"Release note for change 774438, security service ""ou"" field","Release note for change 774438, security service ""ou"" field Adds release note API v2.44, added 'ou' field to security service change. Change-Id: I96238676ff44727a4806bfd7fd90be63dd528aca",32531,Dina Saparbaeva,[22348],['Zuul'],release note change 774438 security service ou field adds release note api v244 added ou field security service change changeid i96238676ff44727a4806bfd7fd90be63dd528aca
https://review.opendev.org/647894,[WIP] Implement Security Context for Divingbell,Implement Security Context for Divingbell Implement container and pod level security context for the following Divingbell resources: - Divingbell server deployment Change-Id: Icbe94d4f62cf2d9b190802b02703186fa84092e3,29144,PRATEEK REDDY DODDA,[22348],['Zuul'],implement security context divingbell implement container pod level security context following divingbell resources divingbell server deployment changeid icbe94d4f62cf2d9b190802b02703186fa84092e3
https://review.opendev.org/647288,Kibana: Add security context for pod/container,"Kibana: Add security context for pod/container This adds a security context to the kibana chart, which changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I3b8d0833435c6c9b9bb249de8e5ce251a54a3e96",29161,Rahul Khiyani,[22348],['Zuul'],kibana add security context podcontainer adds security context kibana chart changes pods user root nobody user instead also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid i3b8d0833435c6c9b9bb249de8e5ce251a54a3e96
https://review.opendev.org/654663,Add security context to ceph-mon chart,Add security context to ceph-mon chart Change-Id: I25f47c1d55a484018064927ee21afae35ebdfdb4,27459,clare cheng,[22348],['Zuul'],add security context cephmon chart changeid i25f47c1d55a484018064927ee21afae35ebdfdb4
https://review.opendev.org/644409,prometheus-node-exporter: Add container security context,prometheus-node-exporter: Add container security context This adds the container security context to set readOnlyRootFilesystem to true and allowPrivilegeEscalation to false Change-Id: I84455f5fbc2d5e72768571e32dbd08d1ef0b6045,29161,Rahul Khiyani,"[8898, 17591, 22348, 22477, 23928, 24780, 29144]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'PRATEEK REDDY DODDA']",prometheusnodeexporter add container security context adds container security context set readonlyrootfilesystem true allowprivilegeescalation false changeid i84455f5fbc2d5e72768571e32dbd08d1ef0b6045
https://review.opendev.org/644944,Libvirt: Add pod/container security context for libvirt user,Libvirt: Add pod/container security context for libvirt user implemented HTK functionality for pod and container security context Change-Id: I9202cc6d839c7f30ddc412605eea402c6691c165,29161,Rahul Khiyani,"[17591, 22348, 29161]","['Steve Wilkerson', 'Zuul', 'Rahul Khiyani']",libvirt add podcontainer security context libvirt user implemented htk functionality pod container security context changeid i9202cc6d839c7f30ddc412605eea402c6691c165
https://review.opendev.org/648552,ceph-client: Add pod/container security context,ceph-client: Add pod/container security context This updates the ceph-client chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ifb9621ae8d116b424f919ff0645208937dbdebc9,29161,Rahul Khiyani,"[8749, 8898, 12281, 17591, 22348, 22477, 23928, 24780, 29144, 29161]","['Evgeniy L', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",cephclient add podcontainer security context updates cephclient chart include pod security context pod template also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid ifb9621ae8d116b424f919ff0645208937dbdebc9
https://review.opendev.org/644873,Openvswitch: Add pod/container security context - daemonset-ovs-db.yaml - daemonset-ovs-vswitchd.yaml,Openvswitch: Add pod/container security context This updates the openvswitch chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: I604d5f0e03f3900c2a38254a8007c06929da0b1a,29161,Rahul Khiyani,"[8898, 17591, 20466, 22348, 22477, 23928, 24780, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Rahul Khiyani']",openvswitch add podcontainer security context updates openvswitch chart include pod security context pod template also adds container security context set readonlyrootfilesystem true changeid i604d5f0e03f3900c2a38254a8007c06929da0b1a
https://review.opendev.org/647287,prometheus-process-exporter: Add pod/container security context,prometheus-process-exporter: Add pod/container security context This updates the prometheus-process-exporter chart to include the pod security context on the pod template. This changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I59b7a48655a57cb5ee109f2ff6f9bc0dceed9174,29161,Rahul Khiyani,"[8898, 17591, 22348, 22477, 23928, 24780, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Rahul Khiyani']",prometheusprocessexporter add podcontainer security context updates prometheusprocessexporter chart include pod security context pod template changes pods user root nobody user instead also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid i59b7a48655a57cb5ee109f2ff6f9bc0dceed9174
https://review.opendev.org/615813,[WIP] Refactor security groups scenario test,[WIP] Refactor security groups scenario test TODO: describe it Change-Id: I60724abdbe4ffe9fbfa307f147f23ed648ac41b3,27329,Federico Ressi,"[11975, 22348, 27329]","['Slawek Kaplonski', 'Zuul', 'Federico Ressi']",wip refactor security groups scenario test todo describe changeid i60724abdbe4ffe9fbfa307f147f23ed648ac41b3
https://review.opendev.org/593526,[DNM] NSX-V3 security group creation debugging,[DNM] NSX-V3 security group creation debugging Change-Id: I7d65c79b398f06939732d45e1b7f760515479388,20363,Adit Sarfaty,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",dnm nsxv3 security group creation debugging changeid i7d65c79b398f06939732d45e1b7f760515479388
https://review.opendev.org/647883,Implement Security Context for Divingbell,Implement Security Context for Divingbell Implement container and pod level security context for the following Divingbell resources: - Divingbell server deployment Change-Id: I5bd7ab9ca5fe299ce0e4eacd4f60d1784f6139e3,29144,PRATEEK REDDY DODDA,[22348],['Zuul'],implement security context divingbell implement container pod level security context following divingbell resources divingbell server deployment changeid i5bd7ab9ca5fe299ce0e4eacd4f60d1784f6139e3
https://review.opendev.org/644421,prometheus-process-exporter: Add pod/container security context,prometheus-process-exporter: Add container security context This adds the container security context to set readOnlyRootFilesystem to true and allowPrivilegeEscalation to false Change-Id: Iff921c577f32c8e9adcebb503d19f471ccfedad1,29161,Rahul Khiyani,"[8898, 17591, 22348, 22477, 23928, 24780, 28618, 28701, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Drew Walters', 'Dustin Specker', 'Rahul Khiyani']",prometheusprocessexporter add container security context adds container security context set readonlyrootfilesystem true allowprivilegeescalation false changeid iff921c577f32c8e9adcebb503d19f471ccfedad1
https://review.opendev.org/644619,Implement Security Context for Neutron,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: I5f76e05654d5270431df9348db6f5f060f8d1009,29144,PRATEEK REDDY DODDA,[22348],['Zuul'],implement security context neutron implement container security context following neutron resources neutron server deployment changeid i5f76e05654d5270431df9348db6f5f060f8d1009
https://review.opendev.org/640132,Implement Security Context for Tiller,Implement Security Context for Tiller Implement a pod security context for the following Tiller resources: - Tiller deployment Change-Id: I4307ede74868a2ac23d57175f88da01c9a0f6db4,22636,Cliff Parsons,"[7769, 8898, 17591, 20466, 22348, 22477, 23928, 24780]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta']",implement security context tiller implement pod security context following tiller resources tiller deployment changeid i4307ede74868a2ac23d57175f88da01c9a0f6db4
https://review.opendev.org/640130,Implement Security Context for Registry,Implement Security Context for Registry Implement a pod security context for the following Registry resources: - Registry server deployment - Registry proxy daemonset Change-Id: I6fab83c3d54f32a70e4e77e21feba04dd62d751c,22636,Cliff Parsons,"[7769, 8898, 17591, 20466, 22348, 22477, 23928, 24780]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta']",implement security context registry implement pod security context following registry resources registry server deployment registry proxy daemonset changeid i6fab83c3d54f32a70e4e77e21feba04dd62d751c
https://review.opendev.org/640117,Implement Security Context for Postgresql,Implement Security Context for Postgresql Implement a pod security context for the following Postgresql resources: - Postgresql server stateful set - Postgresql prometheus exporter deployment Change-Id: Ide9e912323525e41ffd2051cad96bb5e6674caac,22636,Cliff Parsons,"[7769, 8898, 17591, 20466, 22348, 22477, 23928, 24780]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta']",implement security context postgresql implement pod security context following postgresql resources postgresql server stateful set postgresql prometheus exporter deployment changeid ide9e912323525e41ffd2051cad96bb5e6674caac
https://review.opendev.org/639741,Implement Security Context for RabbitMQ,Implement Security Context for RabbitMQ Implement a pod security context for the following RabbitMQ resources: - RabbitMQ server stateful set - RabbitMQ prometheus exporter deployment Change-Id: I0a24b55a39f0c26b91bbb24dd178e47d0f95cad7,22636,Cliff Parsons,"[7769, 8898, 17591, 20466, 22348, 22477, 22636, 23928, 24780]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Cliff Parsons', 'Pete Birley', 'Sangeet Gupta']",implement security context rabbitmq implement pod security context following rabbitmq resources rabbitmq server stateful set rabbitmq prometheus exporter deployment changeid i0a24b55a39f0c26b91bbb24dd178e47d0f95cad7
https://review.opendev.org/644279,Implement Security Context for Heat,Implement Security Context for Heat Implement container security context for the following Heat resources: - Heat server deployment Change-Id: Ie2444f5ad6be6f8244f4dd44e9b0f660f147baf5,29144,PRATEEK REDDY DODDA,[22348],['Zuul'],implement security context heat implement container security context following heat resources heat server deployment changeid ie2444f5ad6be6f8244f4dd44e9b0f660f147baf5
https://review.opendev.org/637031,[WIP] Falco: Add security context for pod/container,[WIP] Falco: Add security context for pod/container This adds the security context to the falco pod. This This changes the default user from root to the nobody user. Change-Id: I4d3f629ff2337c4ed7c926134c69563b1b400dfc,24780,Sangeet Gupta,"[22348, 24780]","['Zuul', 'Sangeet Gupta']",wip falco add security context podcontainer adds security context falco pod changes default user root nobody user changeid i4d3f629ff2337c4ed7c926134c69563b1b400dfc
https://review.opendev.org/493498,Added support for synchronization of security groups,"Added support for synchronization of security groups When connectivity to OpenContrail node is lost, security groups on OpenStack and OpenContrail nodes may differ. We have decided to introduce mechanism of synchronization between the latter two during Neutron service startup and on demand. Change-Id: Id0f15980fc46e8fae999880ba23c7d6816eea9a4",26601,Piotr Zalas,"[3, 10068, 11286, 22348, 24846, 26363, 26601, 27837]","['Jenkins', 'Welcome, new contributor!', 'Sachin Bansal', 'Zuul', 'Kamil', 'Benjamin Kennel', 'Piotr Zalas', 'Lukasz Lukasiewicz']",added support synchronization security groups connectivity opencontrail node lost security groups openstack opencontrail nodes may differ decided introduce mechanism synchronization latter two neutron service startup demand changeid id0f15980fc46e8fae999880ba23c7d6816eea9a4
https://review.opendev.org/632098,Improve security group rule create performance,"Improve security group rule create performance [1] says serializing the method with lockutils improves the API performance. When tried that on security group rule create, by creating 300 security group rules asynchronously, max time taken for the API to finish was 51 seconds[2] comapred to 390 seconds[3] taken for the API without this change. Also all the 300 calls were succesful with this patch, whereas some were failing with the existing code. [1] https://review.openstack.org/#/c/534449/ [2] http://paste.openstack.org/show/743043/ [3] http://paste.openstack.org/show/743042/ Change-Id: I2045d7ff0a36a28311c09c667b2841487dd81d71",10267,venkata anil,"[1131, 9373, 9531, 9845, 10061, 10267, 10385, 10980, 11816, 11975, 13995, 16376, 16688, 16845, 22348, 24245, 26622, 27654]","['Brian Haley', 'Vlad Gusev', 'liuyulong', 'Arista CI', 'Joe Talerico', 'venkata anil', 'Citrix XenServer CI', 'Doug Wiegley', 'mike_mp@zzzcomputing.com', 'Slawek Kaplonski', 'Nate Johnston', 'Intel NFV CI', 'Rodolfo Alonso', 'Sindhur', 'Zuul', 'Harald Jensås', 'Cloudbase Neutron Hyper-V CI', 'Hongbin Lu']",improve security group rule create performance 1 says serializing method lockutils improves api performance tried security group rule create creating 300 security group rules asynchronously max time taken api finish 51 seconds2 comapred 390 seconds3 taken api without change also 300 calls succesful patch whereas failing existing code 1 httpsreviewopenstackorgc534449 2 httppasteopenstackorgshow743043 3 httppasteopenstackorgshow743042 changeid i2045d7ff0a36a28311c09c667b2841487dd81d71
https://review.opendev.org/636982,[WIP] Ingress: Add security context for pod/container,[WIP] Ingress: Add security context for pod/container This adds the security context the ingress and ingress-error pods. This changes the default user from root to the nobody user. This also adds the container security context to explicitly set allowPrivilegeEscalation to false Change-Id: Ib1bf71db38d50a112abed7e05cd8b15b2b733de7,24780,Sangeet Gupta,"[22348, 24780]","['Zuul', 'Sangeet Gupta']",wip ingress add security context podcontainer adds security context ingress ingresserror pods changes default user root nobody user also adds container security context explicitly set allowprivilegeescalation false changeid ib1bf71db38d50a112abed7e05cd8b15b2b733de7
https://review.opendev.org/637276,[WIP]: Calcio: Implement pod Security Context as non-root user,[WIP]: Calcio: Implement pod Security Context as non-root user Implement pod Security Context for running containers as non-root user. Ensure that following Calico pods are using a common security context for running containers so that they can be run as non-root user. 1. daemonset-calico-etcd.yaml 2. daemonset-calico-node.yaml 3. deployment-calico-kube-controllers.yaml 4. job-calico-settings.yaml Change-Id: Ibba8b86f45823756feb9afff3d9c7e655bd0deb8,27589,Deepak Tiwari,[22348],['Zuul'],wip calcio implement pod security context nonroot user implement pod security context running containers nonroot user ensure following calico pods using common security context running containers run nonroot user 1 daemonsetcalicoetcdyaml 2 daemonsetcaliconodeyaml 3 deploymentcalicokubecontrollersyaml 4 jobcalicosettingsyaml changeid ibba8b86f45823756feb9afff3d9c7e655bd0deb8
https://review.opendev.org/634500,Make security group API reads and deletes faster.,"Make security group API reads and deletes faster. 1. Previous reviews for reducing the amount of data had a high impact on the OVO implementation, but only the SG's have this child data performance problem. Let's try a lower impact method for providing both a shallow and deep OVO SG object, via two objects. 2. Use shallow object where possible. 3. Use lazy sqlalchemy query for rules. Change-Id: Idd638740967ff8edd44e476fe0a0bcf6f23cfd22",10980,Doug Wiegley,"[1131, 4187, 9732, 9845, 10980, 11975, 16688, 22348, 26622, 27654]","['Brian Haley', 'Ryan Tidwell', 'Mellanox CI', 'Arista CI', 'Doug Wiegley', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'Hongbin Lu']",make security group api reads deletes faster 1 previous reviews reducing amount data high impact ovo implementation sgs child data performance problem lets try lower impact method providing shallow deep ovo sg object via two objects 2 use shallow object possible 3 use lazy sqlalchemy query rules changeid idd638740967ff8edd44e476fe0a0bcf6f23cfd22
https://review.opendev.org/635428,Add support for security group RBAC,Add support for security group RBAC Depends-On: https://review.openstack.org/635311 Change-Id: I5df6515d084773b66f6266ca328c451083fb4136,10980,Doug Wiegley,"[1131, 10980, 22348]","['Brian Haley', 'Doug Wiegley', 'Zuul']",add support security group rbac dependson httpsreviewopenstackorg635311 changeid i5df6515d084773b66f6266ca328c451083fb4136
https://review.opendev.org/633403,DVS: Disable port security and security group,"DVS: Disable port security and security group When a port is being created on a vlan network it is required to disable port security and security groups, since they are not supported on DVS. Change-Id: Ic90f05713750fd6301ca57bf0a743be2616fbd62 Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>",27546,Michal Kelner Mishali,"[9008, 22348]","['VMware NSX CI', 'Zuul']",dvs disable port security security group port created vlan network required disable port security security groups since supported dvs changeid ic90f05713750fd6301ca57bf0a743be2616fbd62 signedoffby michal kelner mishali mkelnermishalvmwarecom
https://review.opendev.org/774739,[DNM] [OVN] security group logging support,"[DNM] [OVN] security group logging support Do not merge: as OVN driver security-group-logging is a new feature, it will not be backported to stable braches. This gerrit is mostly a placeholder, to be soon abandoned. This is a small subset of patchset 2 of 3 for OVN driver handling of security-group-logging. It is mostly part of the networking-ovn repo for stable/train. This implementation also changes the minimum allowed value for the 'rate_limit' attribute in neutron/conf/services/logging.py Originally, the 'rate_limit' had a min value of 100 and it is now 1 packet per second. The default value remains unchanged, as 100. Related-Bug: 1914757 Related-Bug: 1468366 Change-Id: I235c3ce5d99431e5c61988b3c925d4548454444e (cherry picked from commit 5b69930792cfb39143e672cda97bea077f69abc0)",11952,Flavio Fernandes,"[11952, 22348]","['Flavio Fernandes', 'Zuul']",dnm ovn security group logging support merge ovn driver securitygrouplogging new feature backported stable braches gerrit mostly placeholder soon abandoned small subset patchset 2 3 ovn driver handling securitygrouplogging mostly part networkingovn repo stabletrain implementation also changes minimum allowed value ratelimit attribute neutronconfservicesloggingpy originally ratelimit min value 100 1 packet per second default value remains unchanged 100 relatedbug 1914757 relatedbug 1468366 changeid i235c3ce5d99431e5c61988b3c925d4548454444e cherry picked commit 5b69930792cfb39143e672cda97bea077f69abc0
https://review.opendev.org/775012,[DNM] [OVN] security group logging support,"[DNM] [OVN] security group logging support Do not merge: as OVN driver security-group-logging is a new feature, it will not be backported to stable branches. This gerrit is mostly a placeholder, to be soon abandoned. This is patchset 3 of 3 for OVN driver handling of security-group-logging. It includes tests added to validate this feature. Closes-Bug: 1914757 Change-Id: I0589beb4b2d8efcea863617f458019faffe359e1",11952,Flavio Fernandes,"[11952, 22348]","['Flavio Fernandes', 'Zuul']",dnm ovn security group logging support merge ovn driver securitygrouplogging new feature backported stable branches gerrit mostly placeholder soon abandoned patchset 3 3 ovn driver handling securitygrouplogging includes tests added validate feature closesbug 1914757 changeid i0589beb4b2d8efcea863617f458019faffe359e1
https://review.opendev.org/542004,Refactor security group population logic,"Refactor security group population logic In before, we populate security groups from existing port(s) [1] but doesn't do the same for newly created port. This patch makes the security group population consistent across port types. As a result, users can always retrieve the correct list of security groups from the 'security_groups' field of container. [1] https://review.openstack.org/#/c/535645 Change-Id: I7129a1879098360077c62bcb300d85d8254da17f",11536,hongbin,"[11536, 22348]","['hongbin', 'Zuul']",refactor security group population logic populate security groups existing ports 1 doesnt newly created port patch makes security group population consistent across port types result users always retrieve correct list security groups securitygroups field container 1 httpsreviewopenstackorgc535645 changeid i7129a1879098360077c62bcb300d85d8254da17f
https://review.opendev.org/623608,Improve security defenses at compile level,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code. At the same time, these patches fix warnings and compilation issues generated by new security flags. The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=-fstack-protector-strong if using GCC 4.9 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Sugested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: Iee6bcf1b085dcd073da1eaa2617c2160f644453d",29242,Luis Botello,"[15405, 22348, 26477, 28412, 28414, 28466]","['Erich Cordoba', 'Zuul', 'Ken Young', 'Yi Wang', 'Austin Sun', 'Bin Qian']",improve security defenses compile level patch adds compiler flags improve security stx code time patches fix warnings compilation issues generated new security flags flags added divided following categories stack execution protection ldflagsz noexecstack data relocation protection relro ldlfagsz relro z stackbased buffer overrun detection cflagsfstackprotectorstrong using gcc 49 newer fortify source cflagso2 dfortifysource2 format string vulnerabilities cflagswformat wformatsecurity signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom sugestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid iee6bcf1b085dcd073da1eaa2617c2160f644453d
https://review.opendev.org/623603,Improve security defenses at compile level,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code. At the same time, these patches fix warnings and compilation issues generated by new security flags. The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=-fstack-protector-strong if using GCC 4.9 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Sugested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: Iab398deb669ce0cbd3cfe7bea440775d02bf2859",29242,Luis Botello,"[22348, 26477, 28464, 28642]","['Zuul', 'Ken Young', 'Eric MacDonald', 'Brent Rowsell']",improve security defenses compile level patch adds compiler flags improve security stx code time patches fix warnings compilation issues generated new security flags flags added divided following categories stack execution protection ldflagsz noexecstack data relocation protection relro ldlfagsz relro z stackbased buffer overrun detection cflagsfstackprotectorstrong using gcc 49 newer fortify source cflagso2 dfortifysource2 format string vulnerabilities cflagswformat wformatsecurity signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom sugestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid iab398deb669ce0cbd3cfe7bea440775d02bf2859
https://review.opendev.org/623601,Improve security defenses at compile level,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code. The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=-fstack-protector-strong if using GCC 4.9 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Sugested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: I57ed49729a313f816a37eda3de63864805f1fc7e",29242,Luis Botello,"[14174, 22348, 26477, 28642, 28652, 28755]","['Bart Wensley', 'Zuul', 'Ken Young', 'Brent Rowsell', 'Jim Somerville', 'Alex Kozyrev']",improve security defenses compile level patch adds compiler flags improve security stx code flags added divided following categories stack execution protection ldflagsz noexecstack data relocation protection relro ldlfagsz relro z stackbased buffer overrun detection cflagsfstackprotectorstrong using gcc 49 newer fortify source cflagso2 dfortifysource2 format string vulnerabilities cflagswformat wformatsecurity signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom sugestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid i57ed49729a313f816a37eda3de63864805f1fc7e
https://review.opendev.org/623599,Improve security defenses at compile level,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code. The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=-fstack-protector-strong if using GCC 4.9 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Sugested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: Iaa99df1992e2a6d4b30fcb54085538f3d2086550",29242,Luis Botello,"[10068, 22348, 26477, 28468, 28642]","['Welcome, new contributor!', 'Zuul', 'Ken Young', 'Tao Liu', 'Brent Rowsell']",improve security defenses compile level patch adds compiler flags improve security stx code flags added divided following categories stack execution protection ldflagsz noexecstack data relocation protection relro ldlfagsz relro z stackbased buffer overrun detection cflagsfstackprotectorstrong using gcc 49 newer fortify source cflagso2 dfortifysource2 format string vulnerabilities cflagswformat wformatsecurity signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom sugestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid iaa99df1992e2a6d4b30fcb54085538f3d2086550
https://review.opendev.org/612631,Deprecating option to create LBaaS security group on users' project,Deprecating option to create LBaaS security group on users' project Change-Id: I265866b9b45934b52a651ed0ad0622615db18075,23567,Luis Tomas Bolivar,"[6469, 22348]","['Carlos Gonçalves', 'Zuul']",deprecating option create lbaas security group users project changeid i265866b9b45934b52a651ed0ad0622615db18075
https://review.opendev.org/602094,"DNM, RFC: Add pod security policy for k8s cluster","WIP, RFC: Add pod security policy for k8s cluster This patch set adds in a PodSecurityPolicy manifests to set the default security policy for the k8s cluster. Change-Id: I565cc6b8db2640beef8ec923943db90f59c85fe7 Signed-off-by: Tin Lam <tin@irrational.io>",20466,Tin Lam,"[20466, 22348]","['Tin Lam', 'Zuul']",wip rfc add pod security policy k8s cluster patch set adds podsecuritypolicy manifests set default security policy k8s cluster changeid i565cc6b8db2640beef8ec923943db90f59c85fe7 signedoffby tin lam tinirrationalio
https://review.opendev.org/580867,"Closes-Bug: 1578626 Fixes situation in private environments where security is on, but anonymous read is not","Closes-Bug: 1578626 Fixes situation in private environments where security is on, but anonymous read is not Change-Id: I1d5cbe80bd1bd0d617999bf670b96a850347e81a",28633,Nano_ext3,"[13807, 22348, 24162, 28633]","['Thanh Ha', 'Zuul', 'Sorin Sbârnea', 'Nano_ext3']",closesbug 1578626 fixes situation private environments security anonymous read changeid i1d5cbe80bd1bd0d617999bf670b96a850347e81a
https://review.opendev.org/774468,WIP DNM -- [OVN] security group logging support (3 of 3),WIP DNM -- [OVN] security group logging support (3 of 3) This patchset 3 of 3 for OVN driver handling of security-group-logging. It includes tests added to validate this feature. Closes-Bug: 1914757 Change-Id: I3c1829a722187198d035c8b35c5ca2921309bb0a,11952,Flavio Fernandes,"[9845, 16688, 22348]","['Arista CI', 'Rodolfo Alonso', 'Zuul']",wip dnm ovn security group logging support 3 3 patchset 3 3 ovn driver handling securitygrouplogging includes tests added validate feature closesbug 1914757 changeid i3c1829a722187198d035c8b35c5ca2921309bb0a
https://review.opendev.org/408394,Enabling MAC learning needs to also remove security groups and port security,"Enabling MAC learning needs to also remove security groups and port security When MAC learning is enabled, port security must be disabled and security groups must be removed in most platforms. Consequently when MAC learning is disabled port security must be added back to the port. Change-Id: I1a6f91b382d18b7365e272b97057052ec668aea8 Closes-Bug: #1648011",22093,Jay Jahns,"[841, 18940, 22093]","['Akihiro Motoki', 'Gyorgy Szombathelyi', 'Jay Jahns']",enabling mac learning needs also remove security groups port security mac learning enabled port security must disabled security groups must removed platforms consequently mac learning disabled port security must added back port changeid i1a6f91b382d18b7365e272b97057052ec668aea8 closesbug 1648011
https://review.opendev.org/445827,[WIP][log]: iptables logging driver for security group,[WIP]: Secgroup logging driver base iptables This patch implements security group logging driver base iptables. This patch is following logging api for security group spec [1]. [1] https://review.openstack.org/#/c/203509/ Co-Authored-By: Ha Van Tu <tuhv@vn.fujitsu.com> Change-Id: Iaaf655c49df20a96e7b79769045e6a81734fdf90 Partially-implements: blueprint security-group-logging Related-Bug: #1468366,15471,Nguyen Phuong An,"[3, 748, 9531, 9732, 10184, 10385, 11975, 14571, 15471, 15752, 15905, 16376, 20330, 21784, 22348, 24441, 26622, 28174]","['Jenkins', 'Armando Migliaccio', 'liuyulong', 'Mellanox CI', 'Nuage CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Intel Experimental CI', 'Nguyen Phuong An', 'Intel SR-IOV CI', 'Cao Xuan Hoang', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'Radek Zetik', 'Zuul', 'Cuong Nguyen', 'Cloudbase Neutron Hyper-V CI', 'Kim Bao Long']",wip secgroup logging driver base iptables patch implements security group logging driver base iptables patch following logging api security group spec 1 1 httpsreviewopenstackorgc203509 coauthoredby ha van tu tuhvvnfujitsucom changeid iaaf655c49df20a96e7b79769045e6a81734fdf90 partiallyimplements blueprint securitygrouplogging relatedbug 1468366
https://review.opendev.org/514712,add platform security namespaces,add plathform security namespaces - This change intoduces a new hardware plathform security namespace. - This change defines 6 new tratis for TPM TPM version and HARDWARE_ROOT_OF_TRUST. Change-Id: I103839425a78e6cde7cc9c2d988e3ad083d0d089,11604,sean mooney,"[7, 11604, 22348]","['Jay Pipes', 'sean mooney', 'Zuul']",add plathform security namespaces change intoduces new hardware plathform security namespace change defines 6 new tratis tpm tpm version hardwarerootoftrust changeid i103839425a78e6cde7cc9c2d988e3ad083d0d089
https://review.opendev.org/527258,Updating security context for horizon chart,Updating security context for horizon chart This patch set updates the securityContext: runAsUser and fsGroup in the horizon chart. Change-Id: I021cc940397c79464b9f562aaa4be4efdd1dec46 External-Tracking: F#24 Signed-off-by: Tin Lam <tin@irrational.io>,20466,Tin Lam,"[22348, 23928, 26201, 27245]","['Zuul', 'Pete Birley', 'AT&T Openstack-Helm CI', 'wanghui']",updating security context horizon chart patch set updates securitycontext runasuser fsgroup horizon chart changeid i021cc940397c79464b9f562aaa4be4efdd1dec46 externaltracking f24 signedoffby tin lam tinirrationalio
https://review.opendev.org/529988,Updating security context for ceilometer chart,Updating security context for ceilometer chart This patch set updates the securityContext: runAsUser and fsGroup in the ceilometer chart. Change-Id: I2a754d1700efe80d3cb4eb7ea54f71642aad5dce,20466,Tin Lam,"[20466, 22348, 23928, 26201]","['Tin Lam', 'Zuul', 'Pete Birley', 'AT&T Openstack-Helm CI']",updating security context ceilometer chart patch set updates securitycontext runasuser fsgroup ceilometer chart changeid i2a754d1700efe80d3cb4eb7ea54f71642aad5dce
https://review.opendev.org/586974,Doc: Add appcontainer add security group and appcontainer remove security group,Doc: Add appcontainer add security group and appcontainer remove security group Add command list documentation for the 'appcontainer add security group' and 'appcontainer remove security group' commands. Partially Implements: blueprint zun-cli-guide Change-Id: If441d91cc9a2a1df912b8ea3b59b2229bbf14a4f,21785,Namrata,"[11536, 21785, 22348]","['hongbin', 'Namrata', 'Zuul']",doc add appcontainer add security group appcontainer remove security group add command list documentation appcontainer add security group appcontainer remove security group commands partially implements blueprint zuncliguide changeid if441d91cc9a2a1df912b8ea3b59b2229bbf14a4f
https://review.opendev.org/452055,Add api sample tests for security group rules,Add api sample tests for security group rules api sample tests for security group rules are missing and so their sample files. This commit adds those which will be used ti fill the api-ref for this API. Change-Id: I01c68d14ecdfd853b839b527c559c7aac675f336,8556,Ghanshyam,"[3, 5754, 6167, 6873, 8556, 9008, 14384, 14571, 14595, 15751, 15888, 16128, 16376, 20040]","['Jenkins', 'Alex Xu', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'Ghanshyam', 'VMware NSX CI', 'Quobyte CI', 'Intel Experimental CI', 'IBM zKVM CI', 'Intel PCI CI', 'Zhenyu Zheng', 'IBM PowerVM CI', 'Intel NFV CI', 'Microsoft Hyper-V Compute CI']",add api sample tests security group rules api sample tests security group rules missing sample files commit adds used ti fill apiref api changeid i01c68d14ecdfd853b839b527c559c7aac675f336
https://review.opendev.org/396007,Refactor security group & rule take action methods,"Refactor security group & rule take action methods Add get_attributes internal functions to the security groups and security groups rules create & set, to allow other plugins to override only the attributes code and add extensions attributes without having to rewrite the entire take_action method. For example see in https://review.openstack.org/#/c/393322/ where vmware-nsx adds some extensions to the security group. Change-Id: Ifcb9164b39bda007acc18a874caac5ee11da190d",20363,Adit Sarfaty,"[3, 970, 8410, 20363]","['Jenkins', 'Dean Troyer', 'Richard Theis', 'Adit Sarfaty']",refactor security group rule take action methods add getattributes internal functions security groups security groups rules create set allow plugins override attributes code add extensions attributes without rewrite entire takeaction method example see httpsreviewopenstackorgc393322 vmwarensx adds extensions security group changeid ifcb9164b39bda007acc18a874caac5ee11da190d
https://review.opendev.org/559000,Add RBAC tests for security group default rules client,"Add RBAC tests for security group default rules client This PS adds RBAC tests for the security_group_default_rules client, the API for which is here: [0]. It enforces the following policies: [1]. And the max_microversion for this API is 2.35 as the API is deprecated from 2.36 onward [2]. [0] https://developer.openstack.org/api-ref/compute/#rules-for-default-security-group-os-security-group-default-rules-deprecated [1] https://github.com/openstack/nova/blob/master/nova/policies/security_group_default_rules.py [2] https://developer.openstack.org/api-ref/compute/#rules-for-default-security-group-os-security-group-default-rules-deprecated Change-Id: I12c8c6d060ee512741b437202c8be4657bc42c01",23186,Felipe Monteiro,"[8556, 22348, 23186]","['Ghanshyam', 'Zuul', 'Felipe Monteiro']",add rbac tests security group default rules client ps adds rbac tests securitygroupdefaultrules client api 0 enforces following policies 1 maxmicroversion api 235 api deprecated 236 onward 2 0 httpsdeveloperopenstackorgapirefcomputerulesfordefaultsecuritygroupossecuritygroupdefaultrulesdeprecated 1 httpsgithubcomopenstacknovablobmasternovapoliciessecuritygroupdefaultrulespy 2 httpsdeveloperopenstackorgapirefcomputerulesfordefaultsecuritygroupossecuritygroupdefaultrulesdeprecated changeid i12c8c6d060ee512741b437202c8be4657bc42c01
https://review.opendev.org/774466,[OVN] security group logging support (2 of 3),[OVN] security group logging support (2 of 3) This patchset 2 of 3 for OVN driver handling of security-group-logging. It includes the core changes for this feature. Related-Bug: 1914757 Related-Bug: 1468366 Change-Id: I6340d132ff8e84edef8b7862337c395147a1beb2,11952,Flavio Fernandes,[],[],ovn security group logging support 2 3 patchset 2 3 ovn driver handling securitygrouplogging includes core changes feature relatedbug 1914757 relatedbug 1468366 changeid i6340d132ff8e84edef8b7862337c395147a1beb2
https://review.opendev.org/472221,netapp: use security service ou,use security service ou sets organizational unit in AD at NetApp C-mode CIFS server Change-Id: I8edc587c76b3eb18dce0c0564167c95c1ebfccf4 Closes-Bug: #1696669,18816,Maurice Escher,"[2417, 9003, 12016, 14567, 15100, 15831, 15942, 16643, 17565, 18128, 18752, 18816, 21884]","['Ben Swartzlander', 'Tom Barron', 'DellEMC PowerMAX CI', 'Rodrigo Barbieri', 'zhongjun', 'Infortrend CI', 'Dell EMC Isilon CI', 'Goutham Pacha Ravi', 'IBM GPFS CI', 'Microsoft Manila CI', 'Tegile Storage CI', 'Maurice Escher', 'DellEMC Unity CI']",use security service ou sets organizational unit ad netapp cmode cifs server changeid i8edc587c76b3eb18dce0c0564167c95c1ebfccf4 closesbug 1696669
https://review.opendev.org/558533,Do not abort ata secure erase if security is in enabled state,"Do not abort ata secure erase if drive security is in enabled state At least in the case of INTEL SSDSC2BX016T4R drives, a ' hdparm --security-unlock' command does not remove the enabled line of the security section of `hdparm -I`. As a consequence, the GenericHardwareManager does not perform an ata secure erase (it relies on this line to be set to `not enabled`). For an INTEL SSDSC2BX016T4R, it has been manually verfied that the following sequence of steps perform a secure erase sucessfully: - hdparm --user-master u --security-unlock /dev/sda - hdparm --user-master u --security-set-pass NULL /dev/sda - hdparm --user-master u --security-erase-enhanced NULL /dev/sda this is indicated by the ""not enabled"" line appearing in the output of `hdparm -I /dev/sda`. It is therefore proposed that we do not actually care if the `enabled` line appears in the output pre-erase. We should only verify that is set to ""not enabled"" after an erase is attempted. When we do not check the enabled line, the test test_erase_block_device_ata_security_enabled becomes redundant with test_erase_block_device_ata_security_enabled_unlock_exception taking its place. As the tests are very dependent on the order of calls to `utils.execute`, I added some asserts to the failure cases to ensure that the correct call was failing. Change-Id: I5d4e18e7d7209dda89181fbcc202b199f130af89 Story: 2001763 Task: 12162",28048,Will Szumski,"[11655, 14826, 17669, 22348]","['Julia Kreger', 'Mark Goddard', 'Doug Szumski', 'Zuul']",abort ata secure erase drive security enabled state least case intel ssdsc2bx016t4r drives hdparm securityunlock command remove enabled line security section hdparm consequence generichardwaremanager perform ata secure erase relies line set enabled intel ssdsc2bx016t4r manually verfied following sequence steps perform secure erase sucessfully hdparm usermaster u securityunlock devsda hdparm usermaster u securitysetpass null devsda hdparm usermaster u securityeraseenhanced null devsda indicated enabled line appearing output hdparm devsda therefore proposed actually care enabled line appears output preerase verify set enabled erase attempted check enabled line test testeraseblockdeviceatasecurityenabled becomes redundant testeraseblockdeviceatasecurityenabledunlockexception taking place tests dependent order calls utilsexecute added asserts failure cases ensure correct call failing changeid i5d4e18e7d7209dda89181fbcc202b199f130af89 story 2001763 task 12162
https://review.opendev.org/416531,[k8s_ironic] Remove unused security groups,"[k8s_ironic] Remove unused security groups We provide security group rule resources in k8s ironic template, but it's never been used. This patch suggest that we remove it out for now and join it back when we really using it. Change-Id: Id3f4d544159b213e6568e45f68f3a168075a2611",12404,Rico Lin,"[3, 668, 6484, 7230, 8871, 10206, 12175, 12385, 12404, 13861, 19741, 21469, 22348, 27060]","['Jenkins', 'Adrian Otto', 'Feilong Wang', 'Vijendar Komalla', 'Elastic Recheck', 'Madhuri Kumari', 'Eli Qiao', 'Motohiro/Yuanying Otsuka', 'Rico Lin', 'yatin', 'Hieu LE', 'Jaycen Grant', 'Zuul', 'Daniel Abad']",k8sironic remove unused security groups provide security group rule resources k8s ironic template never used patch suggest remove join back really using changeid id3f4d544159b213e6568e45f68f3a168075a2611
https://review.opendev.org/558426,[WIP][log]: iptables logging driver for security group,[WIP][log]: iptables logging driver for security group This patch implements security group logging based iptables driver. This patch also introduce libnetlink_log python binding to capture NFLOG message. Change-Id: I18dea321d905ee7c31078be7ec88590338d3e0ec tChange-Id: Iaaf655c49df20a96e7b79769045e6a81734fdf90 Partially-implements: blueprint security-group-logging Related-Bug: #1468366,15471,Nguyen Phuong An,[15752],['Intel SR-IOV CI'],wiplog iptables logging driver security group patch implements security group logging based iptables driver patch also introduce libnetlinklog python binding capture nflog message changeid i18dea321d905ee7c31078be7ec88590338d3e0ec tchangeid iaaf655c49df20a96e7b79769045e6a81734fdf90 partiallyimplements blueprint securitygrouplogging relatedbug 1468366
https://review.opendev.org/553491,[Docs] Migrate security into user guide,[Docs] Migrate security into user guide Migrate all the security related user configurations into a user story. Change-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0 (cherry picked from commit f1a7525570f8a30cc9e335f00fb3007a52ed6344),17068,Jean-Philippe Evrard,[22348],['Zuul'],docs migrate security user guide migrate security related user configurations user story changeid i4dfc5941abfd834d1d53a9c737db7afcce2841a0 cherry picked commit f1a7525570f8a30cc9e335f00fb3007a52ed6344
https://review.opendev.org/729292,Improve security service update,Improve security service update This patch adds a new manila specification to improve security service update operation. Its extend the current udpate operation to also apply the new configuration in all associated share servers Change-Id: I158d0dda5591c36b1b62297f2cb63211c96c997a,30002,Douglas Viroel,"[16643, 18816, 22348, 30002]","['Goutham Pacha Ravi', 'Maurice Escher', 'Zuul', 'Douglas Viroel']",improve security service update patch adds new manila specification improve security service update operation extend current udpate operation also apply new configuration associated share servers changeid i158d0dda5591c36b1b62297f2cb63211c96c997a
https://review.opendev.org/749550,Added security guide,Added security guide Change-Id: I28d115d681869a7356c08a24c2d67d8937ff478e,32346,Keane Lim,[22348],['Zuul'],added security guide changeid i28d115d681869a7356c08a24c2d67d8937ff478e
https://review.opendev.org/759532,New review for Security Guide after feedback,New review for Security Guide after feedback Change-Id: I9f1d60afcb0ffcd42576a19ba366e692cb3d3520 Signed-off-by: Keane Lim <keane.lim@windriver.com>,32346,Keane Lim,"[14174, 22348, 26026, 28439, 30859]","['Bart Wensley', 'Zuul', 'Greg Waines', 'Matt Peters', 'M Camp']",new review security guide feedback changeid i9f1d60afcb0ffcd42576a19ba366e692cb3d3520 signedoffby keane lim keanelimwindrivercom
https://review.opendev.org/760191,"New test case: ""test_remove_security_group_negative"" 1) Remove non existing security group from instance 2) Remove not associated security group from instance Expected result: ""404 NotFound"" Error for both cases. Polarion IDs: RHOSP7-3461, RHOSP7-3460","New test case: ""test_remove_security_group_negative"" 1) Remove non existing security group from instance 2) Remove not associated security group from instance Expected result: ""404 NotFound"" Error for both cases. Polarion IDs: RHOSP7-3461, RHOSP7-3460 Change-Id: I1c3f142ffe5a49551582ad2664c48de564df9b4a",28609,Arkady Shtempler,"[8313, 11975, 16688, 18894, 19118, 21798, 22348, 28609, 29088, 29350, 31450, 32029]","['Lajos Katona', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Toni Freger', 'Eran Kuris', 'Bernard Cafarelli', 'Zuul', 'Arkady Shtempler', 'Candido Campos Rivas', 'Roman Safronov', 'Alex Katz', 'likui']",new test case testremovesecuritygroupnegative 1 remove non existing security group instance 2 remove associated security group instance expected result 404 notfound error cases polarion ids rhosp73461 rhosp73460 changeid i1c3f142ffe5a49551582ad2664c48de564df9b4a
https://review.opendev.org/550877,Changes for Security Group / SIG,Changes for Security Group / SIG Rename to 'Security SIG' Change Chair Change meeting time and channel (openstack-meeting is free at the desired time) Change-Id: I76db6ab60a029d18ce32e26c172fae842497a4f5,17893,Luke Hinds,[22348],['Zuul'],changes security group sig rename security sig change chair change meeting time channel openstackmeeting free desired time changeid i76db6ab60a029d18ce32e26c172fae842497a4f5
https://review.opendev.org/513974,Add security headers to web accessable services.,"Add security headers to web accessable services. Adds the following headers as static: X-Content-Type-Options ""nosniff"" X-XSS-Protection ""1; mode=block"" append Content-Security-Policy ""default-src 'self' https: wss:;"" nosniff prevents non-executable mime times from becoming executable. The X-XSS-Protection header will prevent the loading of a page if the browser detects an xss attack. The Content-Security-Policy declares what dynamic resources are allowed to load. Adds the following header as user-setable via the keystone_x_frame_options variable. X-Frame-Options ""DENY"" By default the X-Frame-Options header denies embedding in an iframe. Change-Id: Iadd3e93bdb7e9d41ae1d027196367448dbce19f1 Partial-Bug: 1717321 (cherry picked from commit 81a28142a065e07f16756b1bc4cfb68a98e0a2e9)",7353,Kevin Carter,"[538, 819, 7353, 14288, 14805, 17068, 17799, 22348]","['Major Hayden', 'Adrien Cunin', 'Kevin Carter', 'Matthew Thode', 'Jimmy McCrory', 'Jean-Philippe Evrard', 'Logan V', 'Zuul']",add security headers web accessable services adds following headers static xcontenttypeoptions nosniff xxssprotection 1 modeblock append contentsecuritypolicy defaultsrc self https wss nosniff prevents nonexecutable mime times becoming executable xxssprotection header prevent loading page browser detects xss attack contentsecuritypolicy declares dynamic resources allowed load adds following header usersetable via keystonexframeoptions variable xframeoptions deny default xframeoptions header denies embedding iframe changeid iadd3e93bdb7e9d41ae1d027196367448dbce19f1 partialbug 1717321 cherry picked commit 81a28142a065e07f16756b1bc4cfb68a98e0a2e9
https://review.opendev.org/529125,Updating security context for magnum chart,Updating security context for magnum chart This patch set updates the securityContext: runAsUser and fsGroup in the magnum chart. Change-Id: I2f83291b0db87d0ce230c9e83bf757243f661319 Signed-off-by: Tin Lam <tin@irrational.io>,20466,Tin Lam,"[20466, 22348, 23928, 26201]","['Tin Lam', 'Zuul', 'Pete Birley', 'AT&T Openstack-Helm CI']",updating security context magnum chart patch set updates securitycontext runasuser fsgroup magnum chart changeid i2f83291b0db87d0ce230c9e83bf757243f661319 signedoffby tin lam tinirrationalio
https://review.opendev.org/526869,Updating security context for senlin chart,RFC: Updating security context for senlin chart This patch set adds in the securityContext: runAsUser and fsGroup to containers in the senlin chart. Change-Id: Ib51bbb882d40482a3ed61147d65a6575881b4034 External-Tracking: F#24,20466,Tin Lam,"[20466, 22348, 23928, 26201]","['Tin Lam', 'Zuul', 'Pete Birley', 'AT&T Openstack-Helm CI']",rfc updating security context senlin chart patch set adds securitycontext runasuser fsgroup containers senlin chart changeid ib51bbb882d40482a3ed61147d65a6575881b4034 externaltracking f24
https://review.opendev.org/436324,Improve server password security compliance,"Improve server password security compliance Keystone has introduced a config option for security compliance checking by validating the user password. This has become a recommended setting for many customers. The current password generation logic in Heat is too simple to pass that test (e.g. at least one capitalized character, at least one digit etc). This patch replaces the password generation logic and introduces a config option for this purpose. Change-Id: I72308fbb60cb82c2e887b355744d13373c1705ca Closes-Bug: 1666129",8246,Qiming Teng,"[4257, 5046, 6456, 8246, 8289, 12404]","['Zane Bitter', 'Lance Bragstad', 'Sahdev Zala', 'Qiming Teng', 'huangtianhua', 'Rico Lin']",improve server password security compliance keystone introduced config option security compliance checking validating user password become recommended setting many customers current password generation logic heat simple pass test eg least one capitalized character least one digit etc patch replaces password generation logic introduces config option purpose changeid i72308fbb60cb82c2e887b355744d13373c1705ca closesbug 1666129
https://review.opendev.org/273475,Collect neutron security group meters for instance ports,"Support collect neutron port meters Ceilometer Currently has no support for metering the statistics of neutron port when security group is enabled. This spec is to collect the meters, the meters can be used for billing or alarming or security analysis. blueprint: support-to-collect-neutron-port-meters Change-Id: I765eb4eb1849519efa3db3534a35cfbd13993e0b",18137,Xia Linjuan,"[3, 1669, 4491, 5948, 6484, 6676, 6951, 7293, 7478, 7729, 8976, 9515, 9526, 11564, 11682, 18137, 18801]","['Jenkins', 'Julien Danjou', 'Lianhao Lu', 'Oleg Bondarev', 'Feilong Wang', 'zqfan', 'Brandon Logan', 'Elena Ezhova', 'Nadya Shakhat', 'Ilya Tyaptin', 'shihanzhang', 'Matthew Kassawara', 'Zi Lian Ji', 'Chris Dent', 'Ryan Moats', 'Xia Linjuan', 'Luke']",support collect neutron port meters ceilometer currently support metering statistics neutron port security group enabled spec collect meters meters used billing alarming security analysis blueprint supporttocollectneutronportmeters changeid i765eb4eb1849519efa3db3534a35cfbd13993e0b
https://review.opendev.org/528588,Use bandit security scanner,Use bandit security scanner Limiting to medium or higher severity with high confidence. This should prevent silly problems from slipping through. Change-Id: I19db1e45a51c20d3fbe8a18f38a31d12447eef64,6488,Clint 'SpamapS' Byrum,[22348],['Zuul'],use bandit security scanner limiting medium higher severity high confidence prevent silly problems slipping changeid i19db1e45a51c20d3fbe8a18f38a31d12447eef64
https://review.opendev.org/533109,Fix provider security groups role access,Fix provider security groups role access Change-Id: If5ff93ba1492b28710bb5bb1fafe9761f97d7461 Closes-Bug: #1742864,11671,Ashish Kumar Gupta,"[9732, 10385, 11671, 22348]","['Mellanox CI', 'Citrix XenServer CI', 'Ashish Kumar Gupta', 'Zuul']",fix provider security groups role access changeid if5ff93ba1492b28710bb5bb1fafe9761f97d7461 closesbug 1742864
https://review.opendev.org/475111,Validate security groups at zun-api,Validate security groups at zun-api Change-Id: I597abb5aff052f7beb1e26e8eb06f5ef3e3113cb Closes-Bug: #1698458,23365,feng.shengqin,"[10206, 11536, 16277, 23365, 25026]","['Madhuri Kumari', 'hongbin', 'Pradeep Kumar Singh', 'feng.shengqin', 'Bin Zhou']",validate security groups zunapi changeid i597abb5aff052f7beb1e26e8eb06f5ef3e3113cb closesbug 1698458
https://review.opendev.org/525332,DNM: Testing security group api def in neutron-lib,DNM: Testing security group api def in neutron-lib DO NOT MERGE This is a sample consumption patch for the security group api def in neutron-lib. Change-Id: Id303ad8385a6438aa022ec14b2945038a21155f9,5367,boden,"[5367, 9732, 9845, 10385, 22348]","['boden', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Zuul']",dnm testing security group api def neutronlib merge sample consumption patch security group api def neutronlib changeid id303ad8385a6438aa022ec14b2945038a21155f9
https://review.opendev.org/466528,Adding a scenario test to check UDP security group,Adding a scenario test to check UDP security group Trying to get a string from a server listening on UDP port. Make sure it's successful only when the security group rule is added. Change-Id: I40a9da6f464d3b872ea14886dfd711abe74f1519,4727,Itzik Brown,"[3, 1131, 1653, 4694, 4727, 5803, 6579, 7787, 8655, 8871, 9656, 9732, 11975, 12860, 15309, 15471, 15752, 16376, 17776, 20330, 21302, 22348]","['Jenkins', 'Brian Haley', 'garyk', 'Miguel Lavalle', 'Itzik Brown', 'Attila Fazekas', 'Nir Magnezi', 'Kevin Benton', 'Jakub Libosvar', 'Elastic Recheck', 'Ihar Hrachyshka', 'Mellanox CI', 'Slawek Kaplonski', 'Dongcan Ye', 'zhaobo', 'Nguyen Phuong An', 'Intel SR-IOV CI', 'Intel NFV CI', 'Reedip', 'Microsoft Hyper-V Networking CI', 'Genadi Chereshnya', 'Zuul']",adding scenario test check udp security group trying get string server listening udp port make sure successful security group rule added changeid i40a9da6f464d3b872ea14886dfd711abe74f1519
https://review.opendev.org/489697,"Revert ""Use push notification for security groups""","Revert ""Use push notification for security groups"" This reverts commit 020ea1479e3c2fac3e1ef99ed85f45792b286a0e. The change made agents not create exchanges for old security group RPC endpoints, which raises NotFound on server side. Change-Id: If40678b59e539040d45a2ed1d484b9dddf20c500 Closes-Bug: #1707160",9656,Ihar Hrachyshka,"[3, 1131, 9656, 9732, 10385, 14760, 15752, 16376, 20330, 25943]","['Jenkins', 'Brian Haley', 'Ihar Hrachyshka', 'Mellanox CI', 'Citrix XenServer CI', 'John L. Villalovos', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'Zachary Ma']",revert use push notification security groups reverts commit 020ea1479e3c2fac3e1ef99ed85f45792b286a0e change made agents create exchanges old security group rpc endpoints raises notfound server side changeid if40678b59e539040d45a2ed1d484b9dddf20c500 closesbug 1707160
https://review.opendev.org/762434,Reload SG rules when security group is requested,"Reload SG rules when security group is requested In case when security group is requested by e.g. L2 agent via RPC, there was a problem that rules which belongs to the SG wasn't reloaded and wasn't given in requested OVO version. That wasn't a problem so far as we always had SecurityGroupRule OVO in version 1.0 but in case when version of this OVO will be bumped, it will not work properly with agents from the previous version anymore. This patch fixes that issue by adding reload of SG rules when SecurityGroup.obj_load_attr() is called. Change-Id: I008bf31369029c418a0e080e02283e8103428d2b Closes-Bug: #1903696",11975,Slawek Kaplonski,"[5948, 11975, 15752, 22348, 26622, 28159]","['Oleg Bondarev', 'Slawek Kaplonski', 'Intel SR-IOV CI', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'Hang Yang']",reload sg rules security group requested case security group requested eg l2 agent via rpc problem rules belongs sg wasnt reloaded wasnt given requested ovo version wasnt problem far always securitygrouprule ovo version 10 case version ovo bumped work properly agents previous version anymore patch fixes issue adding reload sg rules securitygroupobjloadattr called changeid i008bf31369029c418a0e080e02283e8103428d2b closesbug 1903696
https://review.opendev.org/466160,Should not allow security group from other project pass API layer check when booting,"Should not allow security group from other project pass API layer check when booting Currently, the default behavior of neutron when list security groups is: if you are ""admin"", response everything we have in the env, and if the user uses a security group from other project to boot a server, Nova will show no error in API layer check but error raised in compute layer. This patch added a check of security group project_id with the context project uuid, and raises exception.SecurityGroupNotAllowedToUse if they don't match. Change-Id: I04a9ccf75b871fd6b519d9fa79d229e6a2da1a3e Closes-bug: #1691902",15888,Zhenyu Zheng,"[3, 9732, 10118, 10385, 15286, 15751, 16128, 16376, 20040]","['Jenkins', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Microsoft Hyper-V Compute CI']",allow security group project pass api layer check booting currently default behavior neutron list security groups admin response everything env user uses security group project boot server nova show error api layer check error raised compute layer patch added check security group projectid context project uuid raises exceptionsecuritygroupnotallowedtouse dont match changeid i04a9ccf75b871fd6b519d9fa79d229e6a2da1a3e closesbug 1691902
https://review.opendev.org/490411,Use conjunction for security group rules with remote_group_id,"Use conjunction for security group rules with remote_group_id Prior to this commit, the number of flows can be prohibitively large in some cases. (cherry-picked from I194e7f40db840d29af317ddc2e342a1409000151) Closes-bug: #1628819 Change-Id: I194e7f40db840d29af317ddc2e342a1409000151",13717,Inessa Vasilevskaya,"[3, 748, 1131, 8655, 9200, 9732, 10385, 13717, 16376]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'Jakub Libosvar', 'IWAMOTO Toshihiro', 'Mellanox CI', 'Citrix XenServer CI', 'Inessa Vasilevskaya', 'Intel NFV CI']",use conjunction security group rules remotegroupid prior commit number flows prohibitively large cases cherrypicked i194e7f40db840d29af317ddc2e342a1409000151 closesbug 1628819 changeid i194e7f40db840d29af317ddc2e342a1409000151
https://review.opendev.org/422478,cloud-init failed when vm's vnic doesn't have security group,BugFIx: cloud-init failed when vm's vnic has not security group VM will fail to get metadata with cloud-init timeout error if the VM's vnic does not have security group Change-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1 Close-Bug:#1650486,20533,douzi,"[3, 748, 7787, 9732, 9845, 10068, 10184, 10385, 14208, 14571, 15752, 16376, 20330, 20533, 23006, 24634]","['Jenkins', 'Armando Migliaccio', 'Kevin Benton', 'Mellanox CI', 'Arista CI', 'Welcome, new contributor!', 'Nuage CI', 'Citrix XenServer CI', 'Cisco CI', 'Intel Experimental CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'douzi', 'xianming.mao', 'Haibo.Zhong']",bugfix cloudinit failed vms vnic security group vm fail get metadata cloudinit timeout error vms vnic security group changeid if9d7d08acb66e377be02fa53d7daf093154dabe1 closebug1650486
https://review.opendev.org/474856,add test cases for security group,add test cases for security group Change-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06,333,Isaku Yamahata,"[3, 333, 748, 6854]","['Jenkins', 'Isaku Yamahata', 'Armando Migliaccio', 'YAMAMOTO Takashi']",add test cases security group changeid i53afe6c611beee0e1b45c7e2f8073b20d3e06f06
https://review.opendev.org/447797,Fix security group error in multinode tempest tests,fix security group error in multinode tempest tests Change-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e,17540,xiaodongwang991481,"[3, 748, 9396, 11313, 11907, 17540, 21798]","['Jenkins', 'Armando Migliaccio', 'Igor D.C.', 'Louis Fourie', 'cathy', 'xiaodongwang991481', 'Bernard Cafarelli']",fix security group error multinode tempest tests changeid ie1b96c596d55d7b51dc1aa57caa779df471aa72e
https://review.opendev.org/203053,Fix OSC security group rule create command,Fix OSC security group rule create command ICMP doesn't have ports and OSC doesn't like them. Change-Id: Ief006f039fd782f3f732c27235b58e8517664a15,970,Dean Troyer,"[3, 970]","['Jenkins', 'Dean Troyer']",fix osc security group rule create command icmp doesnt ports osc doesnt like changeid ief006f039fd782f3f732c27235b58e8517664a15
https://review.opendev.org/464194,Don't ensure default security group when listing sg,Don't ensure default security group when listing sg The default_sg parameter for get_security_groups has no longer any user. It was introduced to ensure there is a default security group within a tenant before the creation of any ports in that tenant. However this is now done by registry callbacks. The current logic leads to the known side effect that listing security groups in an invalid tenant will create a default security group in it because neutron doesn't do any tenant/project validation. This commit eliminates the mentioned side effect by remove the default security group ensuring logic in security group listing. Closes-Bug: #1653025 Change-Id: I09e1e5dbecd64bc798b9b147b99d35d3f13b361a Signed-off-by: Hunt Xu <mhuntxu@gmail.com>,21781,Hunt Xu,"[3, 7787, 9732, 9845, 10385, 15752, 16376, 16688, 20330, 21781]","['Jenkins', 'Kevin Benton', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Rodolfo Alonso', 'Microsoft Hyper-V Networking CI', 'Hunt Xu']",dont ensure default security group listing sg defaultsg parameter getsecuritygroups longer user introduced ensure default security group within tenant creation ports tenant however done registry callbacks current logic leads known side effect listing security groups invalid tenant create default security group neutron doesnt tenantproject validation commit eliminates mentioned side effect remove default security group ensuring logic security group listing closesbug 1653025 changeid i09e1e5dbecd64bc798b9b147b99d35d3f13b361a signedoffby hunt xu mhuntxugmailcom
https://review.opendev.org/512523,Add more judgement for whether to use neutron's security group,"Add more judgement for whether to use neutron's security group Now if CONF.service_available.neutron is True we will create neutron's security group in validation_resources, this is to add a check for whether security-group extension is enabled, that means only when CONF.service_available.neutron is True and neutron's security-group extension is enabled, we will create neutron's security group, otherwise we will create nova's. Change-Id: Ic0eff155cf227502b8eca8a0ae24f3652c8df74b",20190,zhufl,"[6167, 10385, 12033, 22348]","[""Ken'ichi Ohmichi"", 'Citrix XenServer CI', 'DellEMC XtremIO CI', 'Zuul']",add judgement whether use neutrons security group confserviceavailableneutron true create neutrons security group validationresources add check whether securitygroup extension enabled means confserviceavailableneutron true neutrons securitygroup extension enabled create neutrons security group otherwise create novas changeid ic0eff155cf227502b8eca8a0ae24f3652c8df74b
https://review.opendev.org/509825,"DO NOT REVIEW: Revert ""Ensure default security group before port update""","DO NOT REVIEW: Revert ""Ensure default security group before port update"" THIS IS JUST A TEST TO SEE IF THIS PATCH IS WHAT IS CAUSING THE RALLY JOB IN NETWORKING-OVN TO FAIL. This reverts commit 017185496c9f3f30b4b819ead86dd5bfe5a72597. Change-Id: I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9",6773,Lucas Alvares Gomes,"[3, 9845]","['Jenkins', 'Arista CI']",review revert ensure default security group port update test see patch causing rally job networkingovn fail reverts commit 017185496c9f3f30b4b819ead86dd5bfe5a72597 changeid i5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9
https://review.opendev.org/496250,Add ID to security groups on launch instance,"Add ID to security groups on launch instance If we have two security groups with the same name, it is impossible to identify the difference. This patch adds a field in the available security group table. No unit tests needed to be changed. Change-Id: Ic434bd581e36c2b037d481437182a4ad2375be1c Closes-Bug: #1523409",15209,Lucas Xu,"[12826, 15209]","['Rob Cresswell', 'Lucas Xu']",add id security groups launch instance two security groups name impossible identify difference patch adds field available security group table unit tests needed changed changeid ic434bd581e36c2b037d481437182a4ad2375be1c closesbug 1523409
https://review.opendev.org/486671,Add options for tempest security groups,Add options for tempest security groups This introduces two new configuration variables for setting the tempest configuration options for security_group and security_group_rules called TEMPEST_SECURITY_GROUP and TEMPEST_SECURITY_GROUP_RULES. Change-Id: Ic98ff0e17a073026696b22ff201cf6958d7059ca,16710,Eric Berglund,"[3, 6593, 6854, 10118, 10385, 10608, 16376]","['Jenkins', 'Dirk Mueller', 'YAMAMOTO Takashi', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Matthew Edmonds', 'Intel NFV CI']",add options tempest security groups introduces two new configuration variables setting tempest configuration options securitygroup securitygrouprules called tempestsecuritygroup tempestsecuritygrouprules changeid ic98ff0e17a073026696b22ff201cf6958d7059ca
https://review.opendev.org/419634,Add ironic security group support to support matrix doc,Add ironic security group support to support matrix doc Ironic now supports security groups for provisioning and cleaning networks as well as tenant networks when configured appropriately. [0] [0] https://bugs.launchpad.net/ironic/+bug/1594242 Change-Id: Ia29bade2938add0f41de08226193b55d5a36a869,13295,Mario Villaplana,"[2750, 6873, 9008, 14525, 16128, 16376, 20040, 21784]","['Sean Dague', 'Matt Riedemann', 'VMware NSX CI', 'Vasyl Saienko', 'IBM PowerVM CI', 'Intel NFV CI', 'Microsoft Hyper-V Compute CI', 'Radek Zetik']",add ironic security group support support matrix doc ironic supports security groups provisioning cleaning networks well tenant networks configured appropriately 0 0 httpsbugslaunchpadnetironicbug1594242 changeid ia29bade2938add0f41de08226193b55d5a36a869
https://review.opendev.org/488956,Apply security groups to existing port,"[WIP] Apply security groups to existing port If users create an instance with existing neutron ports and security groups, the security groups are not applied. This commit fixed it. Change-Id: If7b8bf9c9dca72678d89c804d116bd7c0c58ffff Closes-Bug: #1707319",11536,hongbin,"[3, 6873, 7166, 9008, 9732, 10118, 10385, 14384, 14595, 15286, 15751, 15888, 16128, 16376, 20040, 21784]","['Jenkins', 'Matt Riedemann', 'Sylvain Bauza', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'IBM zKVM CI', 'XenProject CI', 'Intel PCI CI', 'Zhenyu Zheng', 'IBM PowerVM CI', 'Intel NFV CI', 'Microsoft Hyper-V Compute CI', 'Radek Zetik']",wip apply security groups existing port users create instance existing neutron ports security groups security groups applied commit fixed changeid if7b8bf9c9dca72678d89c804d116bd7c0c58ffff closesbug 1707319
https://review.opendev.org/395729,admin-guide: document TLS security setup for noVNC proxy,admin-guide: document TLS security setup for noVNC proxy The Nova noVNC proxy server has gained the ability to use the VeNCrypt authentication scheme to secure network communications with the compute node VNC servers. This documents how to configure the QEMU/KVM compute nodes and the noVNC proxy server nodes. Change-Id: I51cef5f6266fa1115436669385080b90f66b3223 Depends-on: I9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2 Blueprint: websocket-proxy-to-host-security,1779,Daniel Berrange,"[3, 964, 1779, 2472, 6804, 9162, 10607, 10705, 10897, 12686, 14643, 14947, 14962, 15334, 17130, 19298, 20156]","['Jenkins', 'Anne Gentle', 'Daniel Berrange', 'Doug Hellmann', 'bruce-benjamin', 'Lana Brindley', 'Alexandra Settle', 'Darren Chan', 'Joseph Robinson', 'Brian Moss', 'Olga Gusarenko', 'Maria Zlatkova', 'ologvinova', 'Stephen Finucane', 'melissaml', 'Nicolas Bock', 'Petr Kovar']",adminguide document tls security setup novnc proxy nova novnc proxy server gained ability use vencrypt authentication scheme secure network communications compute node vnc servers documents configure qemukvm compute nodes novnc proxy server nodes changeid i51cef5f6266fa1115436669385080b90f66b3223 dependson i9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2 blueprint websocketproxytohostsecurity
https://review.opendev.org/462227,tempest: Disable port security for trunk tests for ovs,"tempest: Disable port security for trunk tests There is a bug that makes trunk tests flaky. It already took a lot of time to fix that bug. Until ovs firewall works with trunk properly, this patch removes port security from trunk ports. Change-Id: Ifa25783f8bdeb36edb6975b13cd50030ae6faec7 Related-bug: 1626010",8655,Jakub Libosvar,"[3, 748, 1131, 7787, 8655, 9656, 9732, 15752, 16376, 20330]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'Kevin Benton', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Mellanox CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",tempest disable port security trunk tests bug makes trunk tests flaky already took lot time fix bug ovs firewall works trunk properly patch removes port security trunk ports changeid ifa25783f8bdeb36edb6975b13cd50030ae6faec7 relatedbug 1626010
https://review.opendev.org/485069,NSX|V: if port security is disabled then don't configure sec groups,NSX|V: if port security is disabled then don't configure sec groups If port security is disabled on a port and there are no security groups specifically configured then we do not set the default. This support is now the same for networks and ports. Change-Id: I863fb09659682e9bb0581d65583d1e3e5094b933,1653,garyk,"[3, 9008]","['Jenkins', 'VMware NSX CI']",nsxv port security disabled dont configure sec groups port security disabled port security groups specifically configured set default support networks ports changeid i863fb09659682e9bb0581d65583d1e3e5094b933
https://review.opendev.org/400597,Improve ovsvapp performance by reducing RPC calls from agents for security group updates.,Improve ovsvapp performance by reducing RPC calls from agents for security group updates. Agents will not request refresh only for own devices and server will fanout response to all members of the cluster. Change-Id: I0258b5916ac4c5e55c9c65dd3610907076b51d49,11695,Arun Kumar,"[3, 10368, 11695]","['Jenkins', 'Raghuveer Shenoy', 'Arun Kumar']",improve ovsvapp performance reducing rpc calls agents security group updates agents request refresh devices server fanout response members cluster changeid i0258b5916ac4c5e55c9c65dd3610907076b51d49
https://review.opendev.org/463845,[DO NOT MERGE] UGLY FIX FOR SECURITY GATES,"[DO NOT MERGE] UGLY FIX FOR SECURITY GATES I think I should do better by updating the condition on packages but in the meantime, I'm testing the water temperature here. Change-Id: Ie52e85bbdf5c46734f6acb8181399bf4d639d717",17068,Jean-Philippe Evrard,"[3, 17068]","['Jenkins', 'Jean-Philippe Evrard']",merge ugly fix security gates think better updating condition packages meantime im testing water temperature changeid ie52e85bbdf5c46734f6acb8181399bf4d639d717
https://review.opendev.org/453248,WIP: use neutronclient only while cleaning up security groups,WIP: use neutronclient only while cleaning up security groups Change-Id: I1ea7a39d1cf218d7eeb5cd37a2d02796cf6370d5,9545,Andrey Kurilin,"[3, 14817]","['Jenkins', 'Mirantis Rally CI']",wip use neutronclient cleaning security groups changeid i1ea7a39d1cf218d7eeb5cd37a2d02796cf6370d5
https://review.opendev.org/157458,Adding Security group Scenarios for Neutron,Adding Security group Scenarios for Neutron Change-Id: I38543146f81ec8319b85ba69bbef50203f54a379,14475,Prabhjyot Singh Sodhi,"[3, 4428, 6172, 9545, 12395, 14475, 14817]","['Jenkins', 'Liyingjun', 'Boris Pavlovic', 'Andrey Kurilin', 'Roman Vasylets', 'Prabhjyot Singh Sodhi', 'Mirantis Rally CI']",adding security group scenarios neutron changeid i38543146f81ec8319b85ba69bbef50203f54a379
https://review.opendev.org/478136,Restore vhostusersocket's default SELinux security contexts,"Restore vhostusersocket's default SELinux security contexts Adds restorecon $vhostuser_socket_dir after the creation of the directory, inorder to set the SELinux security contexts for the same. Change-Id: I50a2f018491fd374f41378191a513ebac565e6b9 Closes-Bug: #1699975 Signed-off-by: Karthik S <ksundara@redhat.com>",18904,Karthik S,"[3, 3153, 6926, 10873, 14985, 18575, 18904]","['Jenkins', 'Emilien Macchi', 'Bogdan Dobrelya', 'Juan Antonio Osorio Robles', 'Alex Schultz', 'Saravanan KR', 'Karthik S']",restore vhostusersockets default selinux security contexts adds restorecon vhostusersocketdir creation directory inorder set selinux security contexts changeid i50a2f018491fd374f41378191a513ebac565e6b9 closesbug 1699975 signedoffby karthik ksundararedhatcom
https://review.opendev.org/474855,unbreak security gruop with ovo,unbreak security gruop with ovo [1] breaks security gruop. unbreak it. [1] https://review.openstack.org/#/c/284738/ Closes-bug: #1698284 Depends-On: I277290500d1616d60f15e433694afee2946ba617 Change-Id: I3463c51eb9ac5c750a309a6b7cc5819238dca4ee,333,Isaku Yamahata,"[3, 6854, 17120]","['Jenkins', 'YAMAMOTO Takashi', 'Manjeet Singh Bhatia']",unbreak security gruop ovo 1 breaks security gruop unbreak 1 httpsreviewopenstackorgc284738 closesbug 1698284 dependson i277290500d1616d60f15e433694afee2946ba617 changeid i3463c51eb9ac5c750a309a6b7cc5819238dca4ee
https://review.opendev.org/474997,"Revert ""Integrate Security Groups OVO""","Revert ""Integrate Security Groups OVO"" This reverts commit af52d499a53f9dddacd8c9116d1bb0570e8f579c. After this patch was merged, heat dsvm job failing with RemoteDisconnected error with 100% rate. Change-Id: I7e391d0ea8daefff72639357c3c9fc7dc38c5b91 Closes-Bug: #1698355",841,Akihiro Motoki,"[3, 841, 9656, 9845, 10385, 15752, 16376, 20330]","['Jenkins', 'Akihiro Motoki', 'Ihar Hrachyshka', 'Arista CI', 'Citrix XenServer CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",revert integrate security groups ovo reverts commit af52d499a53f9dddacd8c9116d1bb0570e8f579c patch merged heat dsvm job failing remotedisconnected error 100 rate changeid i7e391d0ea8daefff72639357c3c9fc7dc38c5b91 closesbug 1698355
https://review.opendev.org/474387,Add Security Group Rules client test,Add Security Group Rules client test Change-Id: Ia73dbebc0ab2c319087c1d4a3dc86966c8fb92bc,26197,Aaron Thomas,"[3, 10385, 23186]","['Jenkins', 'Citrix XenServer CI', 'Felipe Monteiro']",add security group rules client test changeid ia73dbebc0ab2c319087c1d4a3dc86966c8fb92bc
https://review.opendev.org/474371,Add Security Groups client test,Add Security Groups client test Change-Id: Icd52d35d1957edbba9b0a9e35f7528707718b541,26197,Aaron Thomas,"[3, 6167, 10385, 23186]","['Jenkins', ""Ken'ichi Ohmichi"", 'Citrix XenServer CI', 'Felipe Monteiro']",add security groups client test changeid icd52d35d1957edbba9b0a9e35f7528707718b541
https://review.opendev.org/469028,[WIP] netlink-lib for security group - make conntrack driver configurable,[WIP] netlink-lib for security group - make conntrack driver configurable - This patch proposes first step to adopt netlink-lib[1] solution from FWaaS to manage conntrack entry in security group [1] https://bugs.launchpad.net/neutron/+bug/1630832 Change-Id: I663bffcd7dc98c61f2bfcb7de8717c492785f880 Partial-Bug: #1630832,24441,Cuong Nguyen,"[3, 1131, 9732, 10385, 15471, 15752, 15905, 16376, 20330, 24441]","['Jenkins', 'Brian Haley', 'Mellanox CI', 'Citrix XenServer CI', 'Nguyen Phuong An', 'Intel SR-IOV CI', 'Cao Xuan Hoang', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'Cuong Nguyen']",wip netlinklib security group make conntrack driver configurable patch proposes first step adopt netlinklib1 solution fwaas manage conntrack entry security group 1 httpsbugslaunchpadnetneutronbug1630832 changeid i663bffcd7dc98c61f2bfcb7de8717c492785f880 partialbug 1630832
https://review.opendev.org/470235,Shorten image name for security hardened,"Shorten image name for security hardened The image name was very long and we were arriving to the 127 char limit for directory name generation, when testing it. Change-Id: If2d48c85164375e5049056d574683536d1af5cce",6133,yolanda.robla,"[3, 6133, 10873, 11444, 16515]","['Jenkins', 'yolanda.robla', 'Juan Antonio Osorio Robles', 'Radoslaw Smigielski', 'mbu']",shorten image name security hardened image name long arriving 127 char limit directory name generation testing changeid if2d48c85164375e5049056d574683536d1af5cce
https://review.opendev.org/469528,Update security hardened images with latest content,"Update security hardened images with latest content As the patch that was containing security hardened images was old aged, and had not been rebased in latest time, it was missing the latest updates on overcloud-full image, like the removal of some elements and including some extra packages. Adjust the security hardened image properly, to reflect the same contents as the normal overcloud one. Change-Id: I2bd71d9e7267e2700af411c37ad3fd8475f55db0",6133,yolanda.robla,"[3, 10873, 16515]","['Jenkins', 'Juan Antonio Osorio Robles', 'mbu']",update security hardened images latest content patch containing security hardened images old aged rebased latest time missing latest updates overcloudfull image like removal elements including extra packages adjust security hardened image properly reflect contents normal overcloud one changeid i2bd71d9e7267e2700af411c37ad3fd8475f55db0
https://review.opendev.org/383186,Adds policy rules to Access and Security Panel,Adds policy rules to Access and Security Panel partial-bug fix Change-Id: I91a674401a50e6b03c4d82fd8be5c025e68daded,23166,Calvin Rutley,"[3, 841, 9622, 17172, 23165]","['Jenkins', 'Akihiro Motoki', 'Cindy Lu', 'Kenji Ishii', 'Laurent Baeriswyl']",adds policy rules access security panel partialbug fix changeid i91a674401a50e6b03c4d82fd8be5c025e68daded
https://review.opendev.org/452394,Update security group of service port,Update security group of service port manila-share can not create when manila-share service node use openflow to set security group. manila-share can not ssh to service instance due to realization of openflow cause the internal tap bind port that added security group can not send packages Change-Id: I505aea29a15cd559af145fd6a9e55142973182f0,22650,yankee,"[3, 9003, 14384, 15100, 15942, 18128, 21884, 22248, 22650, 24594, 25243]","['Jenkins', 'Tom Barron', 'Quobyte CI', 'zhongjun', 'Dell EMC Isilon CI', 'Microsoft Manila CI', 'DellEMC Unity CI', 'HPE STORAGE CI', 'yankee', 'MapR-FS Manila CI', 'NetApp CI']",update security group service port manilashare create manilashare service node use openflow set security group manilashare ssh service instance due realization openflow cause internal tap bind port added security group send packages changeid i505aea29a15cd559af145fd6a9e55142973182f0
https://review.opendev.org/345010,ignore for now... enable missing security group tests,ignore for now... enable missing security group tests Change-Id: I0ed89ffc6e0c58b3b509c98a6106ea5e0b69810f,4395,Aaron Rosen,"[3, 9008]","['Jenkins', 'VMware NSX CI']",ignore enable missing security group tests changeid i0ed89ffc6e0c58b3b509c98a6106ea5e0b69810f
https://review.opendev.org/286430,Add popular ip protocols name in security group,"Add popular ip protocols name in security group Currently, ip protocols are specified as integer in security group. However, due to a recent commit[1], most of the useful ip protocols are supported and can be specified by its common name in neutron. If horizon can support it, it will greatly help ease the input of various ip protocols. [1]https://review.openstack.org/#/c/259037/ Change-Id: I1410e55eafdb1ff60b188f8e5b5a8bc651f2a3f9 closes-bug:#1547998",17645,Shan Guo,"[3, 841, 6610, 6914, 7665, 9531, 11885, 12281, 12826, 14151, 17642, 17645]","['Jenkins', 'Akihiro Motoki', 'Zhenguo Niu', 'Tatiana Ovchinnikova', 'Travis Tripp', 'liuyulong', 'Ying Zuo', 'Itxaka', 'Rob Cresswell', 'ziyu032', 'hanjiabao', 'Shan Guo']",add popular ip protocols name security group currently ip protocols specified integer security group however due recent commit1 useful ip protocols supported specified common name neutron horizon support greatly help ease input various ip protocols 1httpsreviewopenstackorgc259037 changeid i1410e55eafdb1ff60b188f8e5b5a8bc651f2a3f9 closesbug1547998
https://review.opendev.org/456173,test_server_basic_ops: add http to security group,"test_server_basic_ops: add http to security group Test test_server_basic_ops issues a curl command from inside a VM but the packets never exit the VM, because the security group is configured only for icmp and ssh protocols. The failing test can be seen in the fuel functest runs on opnfv: https://build.opnfv.org/ci/view/functest/job/functest-fuel-armband-baremetal-daily-danube/68/consoleFull https://build.opnfv.org/ci/view/functest/job/functest-fuel-baremetal-daily-danube/179/consoleFull The fix adds a security group rule for http port 80 Change-Id: Ibd0cbac145402c0d98dc75a6e630683399945066 Signed-off-by: Cristina Pauna <cristina.pauna@enea.com>",25724,Cristina Pauna,"[3, 1921, 5689, 7350, 10068, 10385, 20190, 22328, 25724]","['Jenkins', 'Andrea Frittoli', 'Masayuki Igawa', 'Jordan Pittier', 'Welcome, new contributor!', 'Citrix XenServer CI', 'zhufl', 'Alexandru Avadanii', 'Cristina Pauna']",testserverbasicops add http security group test testserverbasicops issues curl command inside vm packets never exit vm security group configured icmp ssh protocols failing test seen fuel functest runs opnfv httpsbuildopnfvorgciviewfunctestjobfunctestfuelarmbandbaremetaldailydanube68consolefull httpsbuildopnfvorgciviewfunctestjobfunctestfuelbaremetaldailydanube179consolefull fix adds security group rule http port 80 changeid ibd0cbac145402c0d98dc75a6e630683399945066 signedoffby cristina pauna cristinapaunaeneacom
https://review.opendev.org/382414,WIP: API: rework security group APIs,"WIP: API: rework security group APIs The current security group APIs don't work well with Neutron. This spec fixes that problem, and deprecates the older APIs. blueprint api-security-group-rework Change-Id: I455bcd5bbe761fa73c4745227567a98b1106e672",782,John Garbutt,"[3, 782, 5754, 6062, 6873, 19590]","['Jenkins', 'John Garbutt', 'Alex Xu', 'jichencom', 'Matt Riedemann', 'Sarafraj Singh']",wip api rework security group apis current security group apis dont work well neutron spec fixes problem deprecates older apis blueprint apisecuritygrouprework changeid i455bcd5bbe761fa73c4745227567a98b1106e672
https://review.opendev.org/451627,Support security groups association per port,"Support security groups association per port This patch support operation for operators and project users to associate security groups to a port. The feature is mentioned at the neutron user feedback session in Barcelona summit [1]. This function UI is same as the function of security groups association per instance. To realize this, the way of implementation for 'Edit port' is changed, which move from a single modal to a workflow base. [1] https://etherpad.openstack.org/p/ocata-neutron-end-user-operator-feedback (L.35+) Also we need to display how security groups is associated at a port. At the moment, there is not way to be able to see it (only this function). It should be done as an another patch. This is one of the patch divided from https://review.openstack.org/#/c/404178/. An another is https://review.openstack.org/#/c/451620/. Change-Id: I59e734eec7af265531c6150caa7c9de6737dc6b5 Closes-Bug: #1637444 Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>",17172,Kenji Ishii,[3],['Jenkins'],support security groups association per port patch support operation operators project users associate security groups port feature mentioned neutron user feedback session barcelona summit 1 function ui function security groups association per instance realize way implementation edit port changed move single modal workflow base 1 httpsetherpadopenstackorgpocataneutronenduseroperatorfeedback l35 also need display security groups associated port moment way able see function done another patch one patch divided httpsreviewopenstackorgc404178 another httpsreviewopenstackorgc451620 changeid i59e734eec7af265531c6150caa7c9de6737dc6b5 closesbug 1637444 coauthoredby akihiro motoki amotokigmailcom
https://review.opendev.org/446742,Revise logic condition for generating security group UUID,"Revise logic condition for generating security group UUID The ID generation should not be dependent on the neutron's security group extension being avaiable, as that is a job of the test case skip_checks() method. In fact, if the extension is not available, the test case should be skipped altogether. This logic is vestigial anyway now that nova-net is no longer run in the gate, however is kept for downstream users. Change-Id: I9955687afbf34c00e576b28def2076a300588c35",748,Armando Migliaccio,"[3, 748, 6167, 7350, 9656, 10385, 20190]","['Jenkins', 'Armando Migliaccio', ""Ken'ichi Ohmichi"", 'Jordan Pittier', 'Ihar Hrachyshka', 'Citrix XenServer CI', 'zhufl']",revise logic condition generating security group uuid id generation dependent neutrons security group extension avaiable job test case skipchecks method fact extension available test case skipped altogether logic vestigial anyway novanet longer run gate however kept downstream users changeid i9955687afbf34c00e576b28def2076a300588c35
https://review.opendev.org/416380,Don't refresh all security group filters when updating DHCP port,"Don't refresh all security group filters when updating DHCP port Instead of forcing a refresh/rebuild of all security group filter rules on all ports on the network when a DHCP port is changed, just do nothing. This is not necessary as VM ports automatically get rules allowing the DHCP ports through, anyway. Refreshing all filters on all ports generates considerable load on neutron-server and the backend database for networks with a large number of ports. Change-Id: I2e9a70c7ea7c2c0015b8fba6f460d14f2c4837de Closes-Bug: #1653830",9060,Mike Dorman,"[3, 841, 1131, 4187, 7787, 8788, 8976, 9060, 9732, 9845, 10385, 12860, 14208, 15309, 15752, 16376, 20330, 21784, 23310]","['Jenkins', 'Akihiro Motoki', 'Brian Haley', 'Ryan Tidwell', 'Kevin Benton', 'Miguel Angel Ajo', 'shihanzhang', 'Mike Dorman', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Dongcan Ye', 'Cisco CI', 'zhaobo', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'Radek Zetik', 'wanghongtaozz']",dont refresh security group filters updating dhcp port instead forcing refreshrebuild security group filter rules ports network dhcp port changed nothing necessary vm ports automatically get rules allowing dhcp ports anyway refreshing filters ports generates considerable load neutronserver backend database networks large number ports changeid i2e9a70c7ea7c2c0015b8fba6f460d14f2c4837de closesbug 1653830
https://review.opendev.org/352435,[WIP] Porting Security Related Code to Mistral-Lib,"[WIP] Porting Security Related Code to Mistral-Lib The custom actions need access to the keystone_utils. To port this code over properly, we also need the context, exceptions and a few utility methods. The patch proposed here is to illustrate the task and get some feedback in the direction that should be taken. Change-Id: Ib744ade29418e287d0bcc622b9979940a22422cb",8532,Ryan Brady,"[3, 8532, 8731, 9712]","['Jenkins', 'Ryan Brady', 'Renat Akhmerov', 'Dougal Matthews']",wip porting security related code mistrallib custom actions need access keystoneutils port code properly also need context exceptions utility methods patch proposed illustrate task get feedback direction taken changeid ib744ade29418e287d0bcc622b9979940a22422cb
https://review.opendev.org/225204,Configure tempest to not use security groups for cells,"Disable security group tests in tempest-dsvm-cells-rc using a config option Currently, the tempest security group tests for tempest-dsvm-cells-rc are blocked becausecells doesn't support security groups. The block is now done using a nova whitelist: http://git.openstack.org/cgit/openstack/nova/tree/devstack/tempest-dsvm-cells-rc. Change to block the tests based on a new tempest config option - compute-feature-enabled.security_groups. Also, some of the tempest scenario tests attempt to create a server with a security group. These will not work with cells, so use the new config option to block those tests. This commit changes devstack to set the compute-feature-enabled.security_groups option to False if cells are enabled. Change-Id: I4f74b80024a9bcc374d374d86052dceb40598d32 Partial-Bug: 1495653 Depends-On: Icd62f42809380de6d638b343d3322b102b0d1d1f",17139,Chuck Carmack,"[3, 970, 1653, 2750, 5803, 6167, 6873, 7118, 7715, 8871, 10118, 10385, 17139]","['Jenkins', 'Dean Troyer', 'garyk', 'Sean Dague', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'Ian Wienand', 'Hirofumi Ichihara', 'Elastic Recheck', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Chuck Carmack']",disable security group tests tempestdsvmcellsrc using config option currently tempest security group tests tempestdsvmcellsrc blocked becausecells doesnt support security groups block done using nova whitelist httpgitopenstackorgcgitopenstacknovatreedevstacktempestdsvmcellsrc change block tests based new tempest config option computefeatureenabledsecuritygroups also tempest scenario tests attempt create server security group work cells use new config option block tests commit changes devstack set computefeatureenabledsecuritygroups option false cells enabled changeid i4f74b80024a9bcc374d374d86052dceb40598d32 partialbug 1495653 dependson icd62f42809380de6d638b343d3322b102b0d1d1f
https://review.opendev.org/47937,Setup a private gerrit instance for security reviews,Setup private gerrit for security reviews Fixes bug 1083101 Change-Id: I7b0244adfcd5864b9b7ad815fe050b7081519f3d,6987,Khai Do,"[1, 2, 3, 4146, 4162, 4190, 5263, 6039, 6133, 6554, 6758, 6987, 7233, 9311]","['James E. Blair', 'Monty Taylor', 'Jenkins', 'Clark Boylan', 'Paul Belanger', 'lifeless', 'Jeremy Stanley', 'K Jonathan Harker', 'yolanda.robla', 'Spencer Krum', 'William Van Hevelingen', 'Khai Do', 'Matthew Oliver', 'Tristan Cacqueray']",setup private gerrit security reviews fixes bug 1083101 changeid i7b0244adfcd5864b9b7ad815fe050b7081519f3d
https://review.opendev.org/430242,Adding icmp ingress allow rule to the Security Group,Adding icmp ingress allow rule to the Security Group Change-Id: I55feb42e6ed864ce49e5161c82e50c7df6b739be,18746,Alex Stafeyev,"[3, 1131, 4727, 8655, 9732, 12444, 14208, 15752, 16376, 18746, 19118, 20330, 21302]","['Jenkins', 'Brian Haley', 'Itzik Brown', 'Jakub Libosvar', 'Mellanox CI', 'John Schwarz', 'Cisco CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Alex Stafeyev', 'Eran Kuris', 'Microsoft Hyper-V Networking CI', 'Genadi Chereshnya']",adding icmp ingress allow rule security group changeid i55feb42e6ed864ce49e5161c82e50c7df6b739be
https://review.opendev.org/438444,bunch of security logging to debug gate issue,bunch of security logging to debug gate issue Change-Id: I4146cf3727c246103f917b8a7c844f0bee178cae,7787,Kevin Benton,"[3, 10385, 14208, 14571, 15752, 16376, 20330]","['Jenkins', 'Citrix XenServer CI', 'Cisco CI', 'Intel Experimental CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",bunch security logging debug gate issue changeid i4146cf3727c246103f917b8a7c844f0bee178cae
https://review.opendev.org/432908,describe-security-groups by name in default VPC mode describes security groups in default vpc only,describe-security-groups by name in default VPC mode describes security groups in default vpc only Change-Id: I9a6846585db45b4861e3d3eec6b42f20f870bb6c,19065,Anastasia Kravets,"[3, 9312, 10224, 19065]","['Jenkins', 'Alexandre Levine', 'Feodor Tersin', 'Anastasia Kravets']",describesecuritygroups name default vpc mode describes security groups default vpc changeid i9a6846585db45b4861e3d3eec6b42f20f870bb6c
https://review.opendev.org/225199,Add a config option to disable security group usage,"Disable security group tests in tempest-dsvm-cells-rc using a config option Currently, the tempest security group tests for tempest-dsvm-cells-rc are blocked because cells doesn't support security groups. The block is now done using a nova whitelist: http://git.openstack.org/cgit/openstack/nova/tree/devstack/tempest-dsvm-cells-rc. Change to block the tests based on a new tempest config option - compute-feature-enabled.security_groups. Also, some of the tempest scenario tests attempt to create a server with a security group. These will not work with cells, so use the new config option to block those tests. This commit changes tempest to add the compute-feature-enabled.security_groups option with a default of True. Future commits will change devstack to set the new option into tempest.conf, change nova to remove the security test regex from the whitelist, and change the scenario tests to use the new option. Change-Id: Icd62f42809380de6d638b343d3322b102b0d1d1f Partial-Bug: 1495653",17139,Chuck Carmack,"[3, 136, 1921, 2750, 4690, 5441, 5638, 5803, 6167, 6873, 7166, 8556, 8871, 9732, 10385, 12017, 16986, 17139]","['Jenkins', 'Tim Bell', 'Andrea Frittoli', 'Sean Dague', 'melanie witt', 'Andrew Laski', 'Davanum Srinivas', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'Sylvain Bauza', 'Ghanshyam', 'Elastic Recheck', 'Mellanox CI', 'Citrix XenServer CI', 'DellEMC VNX CI', 'Shuquan Huang', 'Chuck Carmack']",disable security group tests tempestdsvmcellsrc using config option currently tempest security group tests tempestdsvmcellsrc blocked cells doesnt support security groups block done using nova whitelist httpgitopenstackorgcgitopenstacknovatreedevstacktempestdsvmcellsrc change block tests based new tempest config option computefeatureenabledsecuritygroups also tempest scenario tests attempt create server security group work cells use new config option block tests commit changes tempest add computefeatureenabledsecuritygroups option default true future commits change devstack set new option tempestconf change nova remove security test regex whitelist change scenario tests use new option changeid icd62f42809380de6d638b343d3322b102b0d1d1f partialbug 1495653
https://review.opendev.org/418915,[WIP] Use reader and writer for security groups,[WIP] Use reader and writer for security groups Change-Id: Id4d6692ed5bc353a6c22280d7cd91308ff839fc7,7249,Ann Taraday,"[3, 7249, 8726, 9732, 9845, 10385, 14208, 15752, 16376, 20330]","['Jenkins', 'Ann Taraday', 'Victor Morales', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Cisco CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",wip use reader writer security groups changeid id4d6692ed5bc353a6c22280d7cd91308ff839fc7
https://review.opendev.org/427954,Move Floating IPs from Access & Security to panel,Move Floating IPs from Access & Security to panel This patch makes the Floating IPs tab in Access & Security its own panel under Project > Network. Change-Id: Icb11609b8b70fc248350f2676dc04c5f7fa802bc Implements: blueprint reorganise-access-and-security Co-Authored-By: Rob Cresswell <robert.cresswell@outlook.com>,5623,David Lyle,[],[],move floating ips access security panel patch makes floating ips tab access security panel project network changeid icb11609b8b70fc248350f2676dc04c5f7fa802bc implements blueprint reorganiseaccessandsecurity coauthoredby rob cresswell robertcresswelloutlookcom
https://review.opendev.org/386455,WIP: example verification of security groups.,WIP: example verification of security groups. Change-Id: I7d83abbf7b17679f892364bf034986fc8cbbf881 Signed-off-by: Andrea Visnyei <andrea.visnyei@nokia.com>,22534,Andrea Visnyei,"[3, 5170, 9008, 9732, 10385, 15286, 15751, 16376, 16897, 16898, 22534]","['Jenkins', 'Microsoft Hyper-V CI', 'VMware NSX CI', 'Mellanox CI', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Andrea Visnyei']",wip example verification security groups changeid i7d83abbf7b17679f892364bf034986fc8cbbf881 signedoffby andrea visnyei andreavisnyeinokiacom
https://review.opendev.org/404274,Allow Endpoint update to remove Security Group,Allow Endpoint update to remove Security Group An endpoint cannot be updated to remove a security group from it. This patch resolves this issue and allows security group to be removed from an endpoint. Change-Id: Idaa54c6207ac8ca0361b5d6ecebaf2d935ccc554 Closes-Bug: Bug #1645753,18906,Muneeb Ahmad,[3],['Jenkins'],allow endpoint update remove security group endpoint updated remove security group patch resolves issue allows security group removed endpoint changeid idaa54c6207ac8ca0361b5d6ecebaf2d935ccc554 closesbug bug 1645753
https://review.opendev.org/403598,Recursively delete endpoints associated with Security Group,"Recursively delete endpoints associated with Security Group When removing a security group, any associated endpoints should also be removed from Neutron DB, in a recursive manner. Change-Id: Ic67ebed1fc4d090cbb7a9c60820f1dc15d978ff2 Closes-Bug: Bug #1645261",18906,Muneeb Ahmad,[3],['Jenkins'],recursively delete endpoints associated security group removing security group associated endpoints also removed neutron db recursive manner changeid ic67ebed1fc4d090cbb7a9c60820f1dc15d978ff2 closesbug bug 1645261
https://review.opendev.org/416373,Enabling MAC learning needs to also remove security groups and port security,"Enabling MAC learning needs to also remove security groups and port security When MAC learning is enabled, port security must be disabled and security groups must be removed in most platforms. Consequently when MAC learning is disabled port security must be added back to the port. Change-Id: I1a6f91b382d18b7365e272b97057052ec668aea8 Closes-Bug: #1648011",22093,Jay Jahns,"[3, 9576]","['Jenkins', 'Thai Tran']",enabling mac learning needs also remove security groups port security mac learning enabled port security must disabled security groups must removed platforms consequently mac learning disabled port security must added back port changeid i1a6f91b382d18b7365e272b97057052ec668aea8 closesbug 1648011
https://review.opendev.org/416326,Don't refresh all security group filters when updating DHCP port,"Don't refresh all security group filters when updating DHCP port Instead of forcing a refresh/rebuild of all security group filter rules on all ports on the network when a DHCP port is changed, just do nothing. This is not necessary as VM ports automatically get rules allowing the DHCP ports through, anyway. Refreshing all filters on all ports generates considerable load on neutron-server and the backend database for networks with a large number of ports. Change-Id: I11263b4741b43b4db2bed353759f45b7758386d0",9060,Mike Dorman,"[3, 9681, 14208, 14611, 16376, 20330]","['Jenkins', 'Ryu CI', 'Cisco CI', 'dasm', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",dont refresh security group filters updating dhcp port instead forcing refreshrebuild security group filter rules ports network dhcp port changed nothing necessary vm ports automatically get rules allowing dhcp ports anyway refreshing filters ports generates considerable load neutronserver backend database networks large number ports changeid i11263b4741b43b4db2bed353759f45b7758386d0
https://review.opendev.org/353440,[POC] A reference implementation of logging api for security groups,[POC] A reference implementation of logging api for security groups Change-Id: I7fc8ca1bf0834b7481b03be6f77d917b16aa985a spec: https://review.openstack.org/#/c/203509/,15471,Nguyen Phuong An,"[3, 748, 5170, 6788, 7249, 9732, 10385, 10386, 13995, 14208, 15471, 15752, 15905, 16376, 19554]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'Rossella Sblendido', 'Ann Taraday', 'Mellanox CI', 'Citrix XenServer CI', 'OpenDaylight CI', 'Nate Johnston', 'Cisco CI', 'Nguyen Phuong An', 'Intel SR-IOV CI', 'Cao Xuan Hoang', 'Intel NFV CI', 'Nam']",poc reference implementation logging api security groups changeid i7fc8ca1bf0834b7481b03be6f77d917b16aa985a spec httpsreviewopenstackorgc203509
https://review.opendev.org/413998,"[user-guide] Update the ""nova secgroup"" to ""openstack security group""","[user-guide] Update the ""nova secgroup"" to ""openstack security group"" Change-Id: I0ea155032125fce59f7e53a25037a4f33bddbde1 Implements: blueprint use-openstack-command",22104,zhangyanxian,"[3, 10497, 22104]","['Jenkins', 'KATO Tomoyuki', 'zhangyanxian']",userguide update nova secgroup openstack security group changeid i0ea155032125fce59f7e53a25037a4f33bddbde1 implements blueprint useopenstackcommand
https://review.opendev.org/734895,[WIP] ovn: Implement stateless security groups support,[WIP] ovn: Implement stateless security groups support OVN uses 'allow' action for stateless ACLs. This patch makes to use 'allow' for stateless and 'allow-related' actions for stateful security groups. Limitation: There is currently an issue in core OVN that makes it not possible to use statless ACL if a stateful ACL is present for port on the same chassis. NOTE: I don't know how to enable stateful-security-group API extension so unittests are currently failing. Blueprint: stateless-security-groups Change-Id: I6f8ad1461cb3059aeb606b936296b8113538896e Signed-off-by: Jakub Libosvar <libosvar@redhat.com>,8655,Jakub Libosvar,"[8655, 9845, 11975, 22348, 26622]","['Jakub Libosvar', 'Arista CI', 'Slawek Kaplonski', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",wip ovn implement stateless security groups support ovn uses allow action stateless acls patch makes use allow stateless allowrelated actions stateful security groups limitation currently issue core ovn makes possible use statless acl stateful acl present port chassis note dont know enable statefulsecuritygroup api extension unittests currently failing blueprint statelesssecuritygroups changeid i6f8ad1461cb3059aeb606b936296b8113538896e signedoffby jakub libosvar libosvarredhatcom
https://review.opendev.org/409746,Fuel master sysctl security hardening,Fuel master sysctl security hardening Change-Id: I067dfded620d61d3a863e24367964d17dbed771d Closes-Bug: 1648789,13344,Oleksiy Molchanov,"[3, 8971, 13344]","['Jenkins', 'Fuel CI', 'Oleksiy Molchanov']",fuel master sysctl security hardening changeid i067dfded620d61d3a863e24367964d17dbed771d closesbug 1648789
https://review.opendev.org/405229,Change description in the security group section,Change description in the security group section Description was changed according to the appropriate spec Change-Id: I314a974b85c24dbed6ab0e5e81b562e91f23dc9d,21696,Anastasia Balobashina,"[3, 8735, 8766, 8931, 8971, 9730, 10488, 10959, 11898, 15315, 20656, 21013, 21696]","['Jenkins', 'Vitaly Kramskikh', 'Julia Aranovich', 'Artem Roma', 'Fuel CI', 'Kate Pimenova', 'Artur Svechnikov', 'Alexander Kislitsky', 'Alexander Saprykin', 'Nick Bogdanov', 'Fuel Packaging CI', 'Georgy Kibardin', 'Anastasia Balobashina']",change description security group section description changed according appropriate spec changeid i314a974b85c24dbed6ab0e5e81b562e91f23dc9d
https://review.opendev.org/297571,Add a workflow step to change VIP security group,Add a workflow step to change VIP security group Now we can't change security group rules on port attached to VIP by UI So I add a workflow step in loadbalance edit VIP form that can modify the security group after creation of VIP. Change-Id: I80b5e53a5f85882d2e01130432af4fe8e97d404c closes-bug:#1325397,17645,Shan Guo,"[3, 841, 8358, 8871, 16411, 17645]","['Jenkins', 'Akihiro Motoki', 'zhangguoqing', 'Elastic Recheck', 'xiaoyuan lu', 'Shan Guo']",add workflow step change vip security group cant change security group rules port attached vip ui add workflow step loadbalance edit vip form modify security group creation vip changeid i80b5e53a5f85882d2e01130432af4fe8e97d404c closesbug1325397
https://review.opendev.org/399374,educe security groups # for k8s coreos cluster,educe security groups # for k8s coreos cluster This patch allows two security groups to be created for k8s coreos cluster(one for master and one for minion) Change-Id: Ifccf30adc5cb8022b760e84bc6862b63cbce9e32 Closes-Bug: 1642752,20465,Chetna,[],[],educe security groups k8s coreos cluster patch allows two security groups created k8s coreos clusterone master one minion changeid ifccf30adc5cb8022b760e84bc6862b63cbce9e32 closesbug 1642752
https://review.opendev.org/347695,Neutron loadbalancer uses incorrect security group,"Neutron loadbalancer uses incorrect security group As per bug, when loadbalancer is created then port is also created and default security group is attached. And i could not find any method of attaching security group to port using heat templates. A neutron client class has been made, which creates security group and security rules. Then security group is attached to port for fedora kubernetes driver. Change-Id: Ic0c2f6d3bb52c4cf87cbb4a585d9bce50d6c9b13 Closes-Bug: #1605416",13912,rajiv,"[3, 668, 6698, 7230, 10206, 11536, 12385, 13912, 15123]","['Jenkins', 'Adrian Otto', 'Robert Pothier', 'Vijendar Komalla', 'Madhuri Kumari', 'hongbin', 'Motohiro/Yuanying Otsuka', 'rajiv', 'Drago']",neutron loadbalancer uses incorrect security group per bug loadbalancer created port also created default security group attached could find method attaching security group port using heat templates neutron client class made creates security group security rules security group attached port fedora kubernetes driver changeid ic0c2f6d3bb52c4cf87cbb4a585d9bce50d6c9b13 closesbug 1605416
https://review.opendev.org/351592,Moved duplicate code for security groups to common location.,Moved duplicate code for security groups to common location. Change-Id: Iedb86a49193b54bf31319df60bb652e7aeddf4b4 Closes-bug: #1609674,13912,rajiv,"[3, 668, 11536]","['Jenkins', 'Adrian Otto', 'hongbin']",moved duplicate code security groups common location changeid iedb86a49193b54bf31319df60bb652e7aeddf4b4 closesbug 1609674
https://review.opendev.org/377008,Enable security compliance feature,Enable security compliance feature This patch enables the keystone compliance feature in DevStack for keystone's tempest plugins jobs. Change-Id: Ie02c4bb558ca4266dec7c19ad95eb1248286b670 Depends-On: If6b5eb3e3cbc43eb241c94d18af80ad50be08772,11022,Rodrigo Duarte,"[3, 6133, 6482, 6547, 11022]","['Jenkins', 'yolanda.robla', 'Steve Martinelli', 'Andreas Jaeger', 'Rodrigo Duarte']",enable security compliance feature patch enables keystone compliance feature devstack keystones tempest plugins jobs changeid ie02c4bb558ca4266dec7c19ad95eb1248286b670 dependson if6b5eb3e3cbc43eb241c94d18af80ad50be08772
https://review.opendev.org/392546,Join NSX fabric after security certificate gets written on disk,"Join NSX fabric after security certificate gets written on disk Puppet manifests try to join transport node with SSL certificate before it gets written on disk by `nsx-t-configure-plugin' deployment task, this change executes `reg-node-on-management-plane' after `nsx-t-configure-plugin. Change-Id: Idcea1e4d59bc0427180ef46389901881367afa5c Closes-bug: #1638490",11427,Igor Zinovik,"[3, 14774, 15921]","['Jenkins', 'Fuel TPI CI', 'Ilya Bumarskov']",join nsx fabric security certificate gets written disk puppet manifests try join transport node ssl certificate gets written disk nsxtconfigureplugin deployment task change executes regnodeonmanagementplane nsxtconfigureplugin changeid idcea1e4d59bc0427180ef46389901881367afa5c closesbug 1638490
https://review.opendev.org/344787,[WIP] Fix add security group race condition,[WIP] Fix add security group race condition Change-Id: I8aa2dbbe16a16c24cd2a47df0c50c1db994cb93f,12712,Gleb Stepanov,"[3, 5170, 6802, 6849, 9008, 9732, 10118, 10385, 12712, 14384, 14819, 15286, 15751, 16376, 16897, 16898]","['Jenkins', 'Microsoft Hyper-V CI', 'Joel Coffman', 'Roman Podoliaka', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Gleb Stepanov', 'Quobyte CI', 'Timofey Durakov', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI']",wip fix add security group race condition changeid i8aa2dbbe16a16c24cd2a47df0c50c1db994cb93f
https://review.opendev.org/390615,Remove deprecated hyper-v security group driver,Remove deprecated hyper-v security group driver Change-Id: I2277923fa2bfcf3722399e14d22c182db99d3095 Related-bug: #1520054,748,Armando Migliaccio,"[3, 748, 5170, 6524, 7787, 9732, 9845, 10385, 15752, 16376]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Kevin Benton', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Intel SR-IOV CI', 'Intel NFV CI']",remove deprecated hyperv security group driver changeid i2277923fa2bfcf3722399e14d22c182db99d3095 relatedbug 1520054
https://review.opendev.org/310683,"initial commit Neutron validates security-group names regardless of case, however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state. This patch helps in resolving this issue by raising exception when duplicate security group name is provided while booting VM. Now VM instead of going into error state, shows exception to user saying security group not found.","initial commit Neutron validates security-group names regardless of case, however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state. This patch helps in resolving this issue by raising exception when duplicate security group name is provided while booting VM. Now VM instead of going into error state, shows exception to user saying security group not found. Change-Id: Ibb0afdf668e3f01990553a96fcb3df0305eac8a4 Closes-Bug: #1289195",19583,Abhilash Goyal,"[3, 5170, 9008, 9578, 9732, 10118, 10385, 15286, 15751, 16376, 16897, 16898, 19583]","['Jenkins', 'Microsoft Hyper-V CI', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Abhilash Goyal']",initial commit neutron validates securitygroup names regardless case however would fail scheduler would attempt allocate group instance causing enter error state patch helps resolving issue raising exception duplicate security group name provided booting vm vm instead going error state shows exception user saying security group found changeid ibb0afdf668e3f01990553a96fcb3df0305eac8a4 closesbug 1289195
https://review.opendev.org/302095,Case-sensitive neutron security groups,"Case-sensitive neutron security groups nova-network security groups are case-sensitive. Neutron validates security-group names regardless of case, however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state. This patch helps in resolving this issue by raising exception when case-insensitive name is provided while booting VM. Now VM instead of going into error state, shows exception to user saying security group not found. Change-Id: Ic56be21aeb7a7ef20c9f2fcab83f2b9247598c80 Closes-Bug: #1286463",19583,Abhilash Goyal,"[3, 782, 2750, 5170, 6873, 9008, 9578, 9732, 10118, 10385, 14384, 15286, 15751, 16376, 16897, 16898, 19590]","['Jenkins', 'John Garbutt', 'Sean Dague', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Sarafraj Singh']",casesensitive neutron security groups novanetwork security groups casesensitive neutron validates securitygroup names regardless case however would fail scheduler would attempt allocate group instance causing enter error state patch helps resolving issue raising exception caseinsensitive name provided booting vm vm instead going error state shows exception user saying security group found changeid ic56be21aeb7a7ef20c9f2fcab83f2b9247598c80 closesbug 1286463
https://review.opendev.org/359312,WIP: Active-Active Topology - fix Security Group for Distributor,WIP: Active-Active Topology - fix Security Group for Distributor SG allows a port to send only traffic from specific IPs -- disables spoofing. Distributor must send traffic with src_ip that is not its port ip (but IP of the client) to an amphora. This commit lets distributor while staying in security group perform such legal spoofing Change-Id: I1f22982160fb1bb2582ce203c5d35719f82eda44,21138,Valleriya Perelman,"[3, 748, 12040, 16923]","['Jenkins', 'Armando Migliaccio', 'A10 Networks CI', 'HP Octavia Sonar CI']",wip activeactive topology fix security group distributor sg allows port send traffic specific ips disables spoofing distributor must send traffic srcip port ip ip client amphora commit lets distributor staying security group perform legal spoofing changeid i1f22982160fb1bb2582ce203c5d35719f82eda44
https://review.opendev.org/357953,[RFC] scenario tests for security groups,"[RFC/WIP] scenario tests for security groups Introduce scenario tests to test single security group in isolation. The existing security group functional tests are limited to testing only traffic which can be generate by ping and netcat, and this approach is incompatible with SDN approaches like OVN. These tests use an isolated network between two instances, one of which has port security disabled. Initially just testing the test setup. Change-Id: Ifdd273d5e70651c0908e3f6ca6931142de1e7c5b",10558,Dustin Lundquist,"[3, 748, 1131, 5170, 9732, 9845, 10558, 14208, 15752, 16376]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'Microsoft Hyper-V CI', 'Mellanox CI', 'Arista CI', 'Dustin Lundquist', 'Cisco CI', 'Intel SR-IOV CI', 'Intel NFV CI']",rfcwip scenario tests security groups introduce scenario tests test single security group isolation existing security group functional tests limited testing traffic generate ping netcat approach incompatible sdn approaches like ovn tests use isolated network two instances one port security disabled initially testing test setup changeid ifdd273d5e70651c0908e3f6ca6931142de1e7c5b
https://review.opendev.org/378108,Hyper-V: delete the security group driver,Hyper-V: delete the security group driver Commit 1b22c0e1eaa14bfa5fb81c63ff6f85b642728beb indicated that the driver was deprecated and would be removed in O. This removes that code. Change-Id: Idf00c363dc999e2a35f7eb88ab27b5cb0071e68e,1653,garyk,"[3, 5170, 7715, 10385, 14611, 15752, 16376]","['Jenkins', 'Microsoft Hyper-V CI', 'Hirofumi Ichihara', 'Citrix XenServer CI', 'dasm', 'Intel SR-IOV CI', 'Intel NFV CI']",hyperv delete security group driver commit 1b22c0e1eaa14bfa5fb81c63ff6f85b642728beb indicated driver deprecated would removed removes code changeid idf00c363dc999e2a35f7eb88ab27b5cb0071e68e
https://review.opendev.org/327160,Add default security group instance creation tests,Add default security group instance creation tests Add a test to verify that the default SG is applied to an instance when provided with both an additional security group and on its own during instance creation. Change-Id: I29470561baff5896e78f1434354d176e178e9801,10135,Lee Yarwood,"[3, 9732, 10135, 10385, 12017]","['Jenkins', 'Mellanox CI', 'Lee Yarwood', 'Citrix XenServer CI', 'DellEMC VNX CI']",add default security group instance creation tests add test verify default sg applied instance provided additional security group instance creation changeid i29470561baff5896e78f1434354d176e178e9801
https://review.opendev.org/380080,Security group rules not removed from bridge when port security group is updated.,"Security group rules not removed from bridge when port security group is updated. When VM port is updated with new security-group, old SG rule flows are not removed from the ovsvapp Change-Id: If50aaedceb0f28cd19e195253b704cc99dd29438 Closes-Bug: #1628836",11695,Arun Kumar,[3],['Jenkins'],security group rules removed bridge port security group updated vm port updated new securitygroup old sg rule flows removed ovsvapp changeid if50aaedceb0f28cd19e195253b704cc99dd29438 closesbug 1628836
https://review.opendev.org/370226,Add security groups tests,Add security groups tests Add base test for checking security groups Change-Id: Ic2d4754a3b998e1f67d584840d8884e7c4e78e88,17270,Sergii Turivnyi,"[3, 10118, 17270, 17998, 19003, 19339, 20311]","['Jenkins', 'IBM PowerKVM CI', 'Sergii Turivnyi', 'UFCG OneView CI', 'Fujitsu iRMC CI', 'Dell EMC Ironic CI', 'Cisco CI']",add security groups tests add base test checking security groups changeid ic2d4754a3b998e1f67d584840d8884e7c4e78e88
https://review.opendev.org/344193,Negative case for IPv6 security group,Negative case for IPv6 security group The test is done after we made sure that ping to IPv6 of VM is working when security groups are properly configured 1) Create function that finds and removes ingress ICMP for ver 6 rule and removes it 2) Try to ping IPv6 address of VM and make sure it fails Change-Id: I513c0fb1d37ac490d0706fd6d413560a30092cd5,21302,Genadi Chereshnya,"[3, 1921, 4727, 5803, 6167, 7350, 8871, 10385, 12017, 14885, 21302, 23117]","['Jenkins', 'Andrea Frittoli', 'Itzik Brown', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Jordan Pittier', 'Elastic Recheck', 'Citrix XenServer CI', 'DellEMC VNX CI', 'Daniel Mellado', 'Genadi Chereshnya', 'DSS Cinder CI']",negative case ipv6 security group test done made sure ping ipv6 vm working security groups properly configured 1 create function finds removes ingress icmp ver 6 rule removes 2 try ping ipv6 address vm make sure fails changeid i513c0fb1d37ac490d0706fd6d413560a30092cd5
https://review.opendev.org/282287,Add security rule step failed by timeout after destructive action - fix,"Add security rule step failed by timeout after destructive action - fix Added time.sleep(300) - extremely dirty hack, which should be replaced by normal check Change-Id: I6451a3af9a23686df60c5662a978428bd379ef64 Closes-bug: #1532874",19119,Alexey Stepanov,"[3, 8971, 12867, 15984, 19119]","['Jenkins', 'Fuel CI', 'Dmitry Tyzhnenko', 'Vladimir Khlyunev', 'Alexey Stepanov']",add security rule step failed timeout destructive action fix added timesleep300 extremely dirty hack replaced normal check changeid i6451a3af9a23686df60c5662a978428bd379ef64 closesbug 1532874
https://review.opendev.org/254123,Add ID to security groups on launch instance,Add ID to security groups on launch instance Adds the id to the security group name in the old create instance form and adds an extra ID column to the new create instance modal for easy identification of security group Ids Change-Id: I6058ffd1daacd5af4d90c158e76f3055e61be548 Closes-Bug: #1523409,12281,Itxaka,"[3, 5623, 6763, 7665, 8871, 10442, 12281, 13325, 14151, 16707, 16769, 17130, 17172, 17642, 17645, 18321]","['Jenkins', 'David Lyle', 'Liuqing Jing', 'Travis Tripp', 'Elastic Recheck', 'Masco Kaliyamoorthy', 'Itxaka', 'Paul Karikh', 'ziyu032', 'Mohankumar', 'Lucas Palm', 'melissaml', 'Kenji Ishii', 'hanjiabao', 'Shan Guo', 'Yu Jie']",add id security groups launch instance adds id security group name old create instance form adds extra id column new create instance modal easy identification security group ids changeid i6058ffd1daacd5af4d90c158e76f3055e61be548 closesbug 1523409
https://review.opendev.org/361188,DNM: Gate test with security groups disabled,DNM: Gate test with security groups disabled Do not merge this gate test. Change-Id: I99f272afbd0f8af3c6d8ab4a594ea774d90de149,8410,Richard Theis,"[3, 8410]","['Jenkins', 'Richard Theis']",dnm gate test security groups disabled merge gate test changeid i99f272afbd0f8af3c6d8ab4a594ea774d90de149
https://review.opendev.org/356851,Enrich security group information in pre commit message,"Enrich security group information in pre commit message When create security group, we enrich security group information in pre commit message in the transaction. Change-Id: I808e9dba7a5a6270b8237edcc49a6e816e10fc39 Closes-Bug: 1614340",18668,ding bo,"[3, 748, 5170, 7715, 9845, 10385, 10386, 14208, 15752]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'Hirofumi Ichihara', 'Arista CI', 'Citrix XenServer CI', 'OpenDaylight CI', 'Cisco CI', 'Intel SR-IOV CI']",enrich security group information pre commit message create security group enrich security group information pre commit message transaction changeid i808e9dba7a5a6270b8237edcc49a6e816e10fc39 closesbug 1614340
https://review.opendev.org/355822,Add '--project' and '--project-domain' options to os security group list cmd,Add '--project' and '--project-domain' options to os security group list cmd This patch added '--project' and '--project-domain' options to filter security group resulted by os security group list command. Change-Id: I9f1382c09c7e7372cdc9d981a38428b5a3adc409 Closes-Bug: #1613629,19554,Nam,"[3, 14937, 15905, 19554]","['Jenkins', 'Tang Chen', 'Cao Xuan Hoang', 'Nam']",add project projectdomain options os security group list cmd patch added project projectdomain options filter security group resulted os security group list command changeid i9f1382c09c7e7372cdc9d981a38428b5a3adc409 closesbug 1613629
https://review.opendev.org/751155,Update the lbaas security group only if the service policy is enabled.,"Update the lbaas security group only if the service policy is enabled. When handler of policy is enabled and pod_security_groups_driver is policy but but handler of service is disabled ,kuryr-controller start failed. It should be adapted to cases when service handler is disabled and policy is enabled for pod. Change-Id: Id122c974dfdab1e015a0cff7bf6f9476c0702bd9 Closes-Bug: 1895100",32352,liujinxin,[22348],['Zuul'],update lbaas security group service policy enabled handler policy enabled podsecuritygroupsdriver policy handler service disabled kuryrcontroller start failed adapted cases service handler disabled policy enabled pod changeid id122c974dfdab1e015a0cff7bf6f9476c0702bd9 closesbug 1895100
https://review.opendev.org/750965,Update the lbaas security group only if the service policy is enabled.,"Update the lbaas security group only if the service policy is enabled. When handler of policy is enabled and pod_security_groups_driver is policy but but handler of service is disabled ,kuryr-controller start failed. It should be adapted to cases when service handler is disabled and policy is enabled for pod. Closes-Bug: 1895100 Change-Id: I662828e54363fb028ae8fcafdb7ca2a9fcc1d8bb",32352,liujinxin,[22348],['Zuul'],update lbaas security group service policy enabled handler policy enabled podsecuritygroupsdriver policy handler service disabled kuryrcontroller start failed adapted cases service handler disabled policy enabled pod closesbug 1895100 changeid i662828e54363fb028ae8fcafdb7ca2a9fcc1d8bb
https://review.opendev.org/750893,Update the lbaas security group only if the service policy is enabled.,Update the lbaas security group only if the service policy is enabled. Change-Id: Ib3ebcaeb1b56f8bae834a008d241cb53f8437bcd Closes-Bug: 1894987,32352,liujinxin,"[22348, 23567]","['Zuul', 'Luis Tomas Bolivar']",update lbaas security group service policy enabled changeid ib3ebcaeb1b56f8bae834a008d241cb53f8437bcd closesbug 1894987
https://review.opendev.org/750852,Update the lbaas security group only if the service policy is enabled.,Update the lbaas security group only if the service policy is enabled. Change-Id: Ia4dbefa1a06032867de0860300fd299a97764af2 Closes-Bug: 1894987,32352,liujinxin,[22348],['Zuul'],update lbaas security group service policy enabled changeid ia4dbefa1a06032867de0860300fd299a97764af2 closesbug 1894987
https://review.opendev.org/750658,Update the lbaas security group only if the service policy is enabled.,Update the lbaas security group only if the service policy is enabled. Closes-Bug: 1894987 Change-Id: I2d4f375ddddd0fffb14c54afce6fab26d7d1f871,32352,liujinxin,[22348],['Zuul'],update lbaas security group service policy enabled closesbug 1894987 changeid i2d4f375ddddd0fffb14c54afce6fab26d7d1f871
https://review.opendev.org/749847,Find security group profiles by project scope,"Find security group profiles by project scope If a security group exists with the same name in multiple projects, a profile will not be able to created using that security group name. This change will try to scope the security group to the user's project during validation. If the security group can not be found using the project scope, it will try to find it without the project scope. Change-Id: I595b3c348ce8133a273d8e26c664fffc32694705",27224,Duc Truong,[22348],['Zuul'],find security group profiles project scope security group exists name multiple projects profile able created using security group name change try scope security group users project validation security group found using project scope try find without project scope changeid i595b3c348ce8133a273d8e26c664fffc32694705
https://review.opendev.org/355717,Add --protocol option to os security group rule list cmd,Add --protocol option to os security group rule list cmd This patch added --protocol option to filter rules by os security group rule list command. Change-Id: I3270e991af3a15b72fda6260da727a42337bee21 Partial-Bug: #1613533,19554,Nam,"[3, 14937, 15905, 17776, 19554]","['Jenkins', 'Tang Chen', 'Cao Xuan Hoang', 'Reedip', 'Nam']",add protocol option os security group rule list cmd patch added protocol option filter rules os security group rule list command changeid i3270e991af3a15b72fda6260da727a42337bee21 partialbug 1613533
https://review.opendev.org/275664,WIP: Port security groups to use OVO,Port security groups to OVO This patch introduces Oslo VersionedObject for the port security groups. Change-Id: I9dc516e94cd7d8eeb8b0416b50df7420f674e723,9178,Sayali Lunkad,"[3, 748, 5170, 6659, 6788, 9178, 9681, 9732, 9845, 10153, 10386, 10692, 14208, 14212, 14213, 14323, 14571, 15443, 15518, 15752, 20629]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'Paul Michali', 'Rossella Sblendido', 'Sayali Lunkad', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'One Convergence CI', 'OpenDaylight CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'Cisco UCSM CI', 'Artur Korzeniewski', 'Intel SR-IOV CI', 'Cisco PNR CI']",port security groups ovo patch introduces oslo versionedobject port security groups changeid i9dc516e94cd7d8eeb8b0416b50df7420f674e723
https://review.opendev.org/282862,Handling for 4 byte unicode in security group,"Handling for 4 byte unicode in security group In case 4 byte unicode characters are used in name of security group, it returns 500 error code without any proper error message. This is fixed for security group create and update operations. Change-Id: I8d68fb00cab04d16f7d8d829136167c4d7d50599 Closes-Bug: #1545729",16308,Sheel Rana,"[3, 2750, 4523, 5170, 6873, 8871, 9008, 9578, 9732, 10118, 10210, 10385, 11564, 12712, 14384, 15286, 15751, 16308, 16376, 16898, 19271]","['Jenkins', 'Sean Dague', 'Eric Harney', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Chinmaya Bharadwaj', 'Citrix XenServer CI', 'Chris Dent', 'Gleb Stepanov', 'Quobyte CI', 'XenProject CI', 'Intel PCI CI', 'Sheel Rana', 'Intel NFV CI', 'Virtuozzo CI', 'Biswajeeban Mishra']",handling 4 byte unicode security group case 4 byte unicode characters used name security group returns 500 error code without proper error message fixed security group create update operations changeid i8d68fb00cab04d16f7d8d829136167c4d7d50599 closesbug 1545729
https://review.opendev.org/226835,Hide access and security panel if no nova,"Hide access and security panel if no nova If nova isn't available in a region, Horizon will show an error page/failure in the access and security panel. Although there are other panels that don't work without nova, they just show a proper error message. Update the panel definiton so that access and security is shown only when nova is available. Change-Id: Ie292dc97a4e80b86cd52c66b28b1fd467e303067 Closes-bug: 1498403",9981,Doug Fish,"[3, 9647, 14151]","['Jenkins', 'Justin Pomeroy', 'ziyu032']",hide access security panel nova nova isnt available region horizon show error pagefailure access security panel although panels dont work without nova show proper error message update panel definiton access security shown nova available changeid ie292dc97a4e80b86cd52c66b28b1fd467e303067 closesbug 1498403
https://review.opendev.org/309550,WIP: Use neutron network API in neutron security group driver,"WIP: Use neutron network API in neutron security group driver In an effort to wrap the Neutron network API calls and handle global errors (unauthorized, connection failures, etc), we should have the Neutron security group driver in Nova use the Neutron network API for existing APIs like listing ports. We'll have to make a decision about whether or not to move the security group client calls from the security group driver into the Neutron network API so all of the calls to Neutron happen through the network API. Change-Id: I33509c14f327649b80a829d5332a10b1ca7f15a7 Related-Bug: #1571722",6873,Matt Riedemann,"[3, 5170, 6873, 9008, 9578, 10118, 10385, 15286, 15751, 16376, 16898]","['Jenkins', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo CI']",wip use neutron network api neutron security group driver effort wrap neutron network api calls handle global errors unauthorized connection failures etc neutron security group driver nova use neutron network api existing apis like listing ports well make decision whether move security group client calls security group driver neutron network api calls neutron happen network api changeid i33509c14f327649b80a829d5332a10b1ca7f15a7 relatedbug 1571722
https://review.opendev.org/345086,return correct attribute map for provider security groups,"return correct attribute map for provider security groups Previously, this preventing provider_security_groups attribute from showing up on port resources outside of the api server. Change-Id: I5ab13df0a634683f64dd3280db1ad151cf6ca23d",4395,Aaron Rosen,"[3, 9008, 9423]","['Jenkins', 'VMware NSX CI', 'Roey Chen']",return correct attribute map provider security groups previously preventing providersecuritygroups attribute showing port resources outside api server changeid i5ab13df0a634683f64dd3280db1ad151cf6ca23d
https://review.opendev.org/115483,Introduce VNC Security Proxy Framework,"Introduce VNC Security Proxy Framework This commit introduces the security proxying framework for VNC. The base class is intended to be subclassed, but will still function as a basic no-op security proxy. Which class is being used to do the security proxying can be set using the configuration option 'console_security_proxy_driver'. Implements bp: websocket-proxy-to-host-security Change-Id: Id586b2558fd4c7ed0eda3d3555d51fcd019eb414",7677,Solly Ross,"[3, 782, 1653, 1779, 1849, 2218, 2271, 4393, 5170, 6873, 7677, 7730, 8190, 8213, 8412, 8871, 9008, 9172, 9578, 9732, 10118, 10385, 10608, 11103, 14379, 14384, 14819, 15286, 15751, 16376, 16799, 16897, 16898, 19452]","['Jenkins', 'John Garbutt', 'garyk', 'Daniel Berrange', 'Joe Gordon', 'Adam Young', 'Michael Still', 'Dan Smith', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'Solly Ross', 'sahid', 'Drew Thorstensen (thorst)', 'Claudiu Belu', 'Mike Durnosvistov', 'Elastic Recheck', 'VMware NSX CI', 'Radoslav Gerganov', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Matthew Edmonds', 'Intel PCI CI', 'Ning Sun', 'Quobyte CI', 'Timofey Durakov', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Ed Fink', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Danielle Carmon']",introduce vnc security proxy framework commit introduces security proxying framework vnc base class intended subclassed still function basic noop security proxy class used security proxying set using configuration option consolesecurityproxydriver implements bp websocketproxytohostsecurity changeid id586b2558fd4c7ed0eda3d3555d51fcd019eb414
https://review.opendev.org/115484,Add VeNCrypt (TLS/x509) Security Proxy Driver,"Add VeNCrypt (TLS/x509) Security Proxy Driver This adds support for using x509/TLS security between the compute node and websocket proxy when using websockify to proxy VNC traffic. In order to use this with x509, an operator would have to set up client keys and certificates, as well as CA certificates, and configure libvirt to pass the appropriate options to QEmu (this is configured globally for libvirt, not by Nova). This is process is documented on the libvirt website. Then, the operator would enable this driver and set the following options in /etc/nova/nova.conf: [console_proxy_tls] client_key = /path/to/client/keyfile client_cert = /path/to/client/cert.pem ca_certs = /pat/to/ca/cert.pem Implements bp: websocket-proxy-to-host-security Change-Id: I64859ad01120782fb17308aac3abb125597c3ea2",7677,Solly Ross,"[3, 782, 1653, 1779, 1849, 2271, 4393, 5170, 7677, 7730, 8119, 8190, 8213, 8412, 8871, 9008, 9578, 9732, 10118, 10385, 10608, 11103, 13670, 14384, 15286, 15751, 16376, 16799, 16897, 16898, 19378, 19726]","['Jenkins', 'John Garbutt', 'garyk', 'Daniel Berrange', 'Joe Gordon', 'Michael Still', 'Dan Smith', 'Microsoft Hyper-V CI', 'Solly Ross', 'sahid', 'Eric Brown', 'Drew Thorstensen (thorst)', 'Claudiu Belu', 'Mike Durnosvistov', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Matthew Edmonds', 'Intel PCI CI', 'ANish', 'Quobyte CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Ed Fink', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Michelle Mandel', 'Szilard Cserey']",add vencrypt tlsx509 security proxy driver adds support using x509tls security compute node websocket proxy using websockify proxy vnc traffic order use x509 operator would set client keys certificates well ca certificates configure libvirt pass appropriate options qemu configured globally libvirt nova process documented libvirt website operator would enable driver set following options etcnovanovaconf consoleproxytls clientkey pathtoclientkeyfile clientcert pathtoclientcertpem cacerts pattocacertpem implements bp websocketproxytohostsecurity changeid i64859ad01120782fb17308aac3abb125597c3ea2
https://review.opendev.org/226043,Disable security group tests in tempest-dsvm-cells-rc using a config option,"WIP: Disable security group tests in tempest-dsvm-cells-rc using a config option Currently, the tempest security group tests for tempest-dsvm-cells-rc are blocked becausecells doesn't support security groups. The block is now done using a nova blacklist: http://git.openstack.org/cgit/openstack/nova/tree/devstack/tempest-dsvm-cells-rc. Change to block the tests based on a new tempest config option - compute-feature-enabled.security_groups. Also, some of the tempest scenario tests attempt to create a server with a security group. These will not work with cells, so use the new config option to block those tests. This commit changes tempest-dsvm-cells-rc to remove blacklisted tests that are now blocked by the config option. Change-Id: Icb6d9934dfbe4a4f03e38a47fb9d29a0e72d1942 Partial-Bug: 1495653 Depends-On: I4f74b80024a9bcc374d374d86052dceb40598d32",17139,Chuck Carmack,"[3, 782, 2750, 4690, 5170, 5441, 6167, 6873, 7166, 9578, 9732, 10118, 10385, 15286, 15751, 16839, 16897, 16898, 17139]","['Jenkins', 'John Garbutt', 'Sean Dague', 'melanie witt', 'Microsoft Hyper-V CI', 'Andrew Laski', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'Sylvain Bauza', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI', 'Cale Rath', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Chuck Carmack']",wip disable security group tests tempestdsvmcellsrc using config option currently tempest security group tests tempestdsvmcellsrc blocked becausecells doesnt support security groups block done using nova blacklist httpgitopenstackorgcgitopenstacknovatreedevstacktempestdsvmcellsrc change block tests based new tempest config option computefeatureenabledsecuritygroups also tempest scenario tests attempt create server security group work cells use new config option block tests commit changes tempestdsvmcellsrc remove blacklisted tests blocked config option changeid icb6d9934dfbe4a4f03e38a47fb9d29a0e72d1942 partialbug 1495653 dependson i4f74b80024a9bcc374d374d86052dceb40598d32
https://review.opendev.org/344344,[WIP] Fix add security group race condition,[WIP] Fix add security group race condition Change-Id: Ieed4caf3208409959c6dccc18bf394fb4518737f,12712,Gleb Stepanov,"[3, 5170, 9732, 10118, 10385, 12712, 14447, 15286, 15751, 16376, 21784, 22381]","['Jenkins', 'Microsoft Hyper-V CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Gleb Stepanov', 'lyanchih', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Radek Zetik', 'Open-E JovianDSS CI']",wip fix add security group race condition changeid ieed4caf3208409959c6dccc18bf394fb4518737f
https://review.opendev.org/217292,Make the create_instance call accept security group ids as well as names,"Make the create_instance call accept security group ids as well as names Since it's possible to have multiple security groups with the same name, we need a way of specifying the groups by id instead. This change makes it still accept names (for backward compatibility), but treats them as ids when they have format of an UUID. Change-Id: I0025893535837ebcd53e9fdcc7dc71c509fe0988",8648,Radomir Dopieralski,"[3, 5170, 8648, 8871, 9008, 9578, 9732, 10118, 10385, 14027, 15286, 15751, 16376, 16897, 16898, 17139, 17463]","['Jenkins', 'Microsoft Hyper-V CI', 'Radomir Dopieralski', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Michal Rostecki', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Chuck Carmack', 'Nichita Herciu']",make createinstance call accept security group ids well names since possible multiple security groups name need way specifying groups id instead change makes still accept names backward compatibility treats ids format uuid changeid i0025893535837ebcd53e9fdcc7dc71c509fe0988
https://review.opendev.org/340514,Test security group(s) removal from port.,Test security group(s) removal from port. Implement the following test cases: 1. Create port with security groups then remove one of the security groups and update the port 2. Create port with security groups then remove all of the security groups and update the port Create helper function to create port with multiple security groups. Change-Id: I1bd8da0b8a0953a38ceb2a47e8caecb4e4625139,21264,Hasan,"[3, 9732, 10385]","['Jenkins', 'Mellanox CI', 'Citrix XenServer CI']",test security groups removal port implement following test cases 1 create port security groups remove one security groups update port 2 create port security groups remove security groups update port create helper function create port multiple security groups changeid i1bd8da0b8a0953a38ceb2a47e8caecb4e4625139
https://review.opendev.org/340513,Test port creation/update with non-existing security group.,Test port creation/update with non-existing security group. Implement the negative test cases: 1. Create a port with non-existing security group. 2. Update a port with non-existing security group. Change-Id: I772a072f417e1d20f4dd9e28a399cf31ae510132,21264,Hasan,"[3, 9732, 10385]","['Jenkins', 'Mellanox CI', 'Citrix XenServer CI']",test port creationupdate nonexisting security group implement negative test cases 1 create port nonexisting security group 2 update port nonexisting security group changeid i772a072f417e1d20f4dd9e28a399cf31ae510132
https://review.opendev.org/272398,Preventing duplicated rule on *one* security group in neutron active-active,"Preventing duplicated rule on *one* security group in neutron active-active This change prevents two identical rules when performing concurrent rule security group creations on same security group in neutron active-active. It is supported by _lock_security_group [1]. It uses the updating feature of database to disallow 2 transactions performing concurrently: Two transactions will conflict each other because they update the same row to the db will discard the last transaction and Controller.create[2] will catch and retry the ""discarded"" allocation. This change adds the ""hash"" attribute in ""securitygroups"" table to enable previous update. [1] neutron.db.securitygroups_db [2] neutron.api.v2.base Change-Id: I729b626560da821c7f5212014b73352925c8fe3a Closes-Bug: #1532696",19554,Nam,"[3, 748, 1131, 1653, 5170, 6524, 7249, 9681, 9845, 10153, 10184, 10386, 10692, 14208, 14212, 14213, 14323, 14571, 15443, 15752, 15905, 19554]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'garyk', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Ann Taraday', 'Ryu CI', 'Arista CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'Cisco UCSM CI', 'Intel SR-IOV CI', 'Cao Xuan Hoang', 'Nam']",preventing duplicated rule one security group neutron activeactive change prevents two identical rules performing concurrent rule security group creations security group neutron activeactive supported locksecuritygroup 1 uses updating feature database disallow 2 transactions performing concurrently two transactions conflict update row db discard last transaction controllercreate2 catch retry discarded allocation change adds hash attribute securitygroups table enable previous update 1 neutrondbsecuritygroupsdb 2 neutronapiv2base changeid i729b626560da821c7f5212014b73352925c8fe3a closesbug 1532696
https://review.opendev.org/336867,Closes-Bug: 1590883 Modified method 'take_action' of class 'RemoveServerSecurityGroup' to pass security group name to novaclient.,Modified in server.py method 'take_action' of class 'RemoveServerSecurityGroup' to pass security group name instead of SecurityGroup object to the server instance Change-Id: Ic986d56b305683a836eaac14c0036dfa555d9449,10744,Rajasi Kulkarni,"[3, 6482]","['Jenkins', 'Steve Martinelli']",modified serverpy method takeaction class removeserversecuritygroup pass security group name instead securitygroup object server instance changeid ic986d56b305683a836eaac14c0036dfa555d9449
https://review.opendev.org/316085,Backport OCF/PAM security limits fixes,Backport OCF/PAM security limits fixes * Fix missing OCF logging Closes-bug: #1487083 (cherry picked from commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4) * Remove exit code verification from MySQL OCF Closes-Bug: 1505735 (cherry picked from commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6) * Check for Mysql wss constraints among online nodes Closes-bug: #1524826 (cherry picked from commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387) * Refactor MySQL OCF script Closes-Bug: 1542256 (cherry picked from commit 615a0428e3250cffadbf5ebf61e477e91858cb16) * Update OCF stop actions to use procfs Partial-Bug: 1425579 (cherry picked from commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd) * Fix the proc_kill ocf helper func Closes-bug: #1528889 (cherry picked from commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6) * Add pkill by name to the ocf-fuel-funcs Partial-bug: #1532723 (cherry picked from commit d5a370e8eb723dcfa28795b089d9f247f51ef105) * Apply PAM security limits by running daemons through su Closes-Bug: #1429553 (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6) Change-Id: Ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 Closes-bug: #1487083 Closes-bug: #1505735 Closes-bug: #1524826 Closes-bug: #1542256 Partial-bug: #1425579 Closes-bug: #1528889 Partial-bug: #1532723 Closes-bug: #1429553,6926,Bogdan Dobrelya,"[3, 6926, 8786, 8971, 9387, 11090, 14689, 14985, 16771, 20656]","['Jenkins', 'Bogdan Dobrelya', 'Vladimir Kuklin', 'Fuel CI', 'Aleksandr Didenko', 'Sergii Golovatiuk', 'Vitaly Sedelnik', 'Alex Schultz', 'mpolenchuk', 'Fuel Packaging CI']",backport ocfpam security limits fixes fix missing ocf logging closesbug 1487083 cherry picked commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4 remove exit code verification mysql ocf closesbug 1505735 cherry picked commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6 check mysql wss constraints among online nodes closesbug 1524826 cherry picked commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387 refactor mysql ocf script closesbug 1542256 cherry picked commit 615a0428e3250cffadbf5ebf61e477e91858cb16 update ocf stop actions use procfs partialbug 1425579 cherry picked commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd fix prockill ocf helper func closesbug 1528889 cherry picked commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6 add pkill name ocffuelfuncs partialbug 1532723 cherry picked commit d5a370e8eb723dcfa28795b089d9f247f51ef105 apply pam security limits running daemons su closesbug 1429553 cherry picked commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6 changeid ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 closesbug 1487083 closesbug 1505735 closesbug 1524826 closesbug 1542256 partialbug 1425579 closesbug 1528889 partialbug 1532723 closesbug 1429553
https://review.opendev.org/316803,Backport OCF/PAM security limits fixes,Backport OCF/PAM security limits fixes * Fix missing OCF logging (cherry picked from commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4) * Remove exit code verification from MySQL OCF (cherry picked from commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6) * Check for Mysql wss constraints among online nodes (cherry picked from commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387) * Refactor MySQL OCF script (cherry picked from commit 615a0428e3250cffadbf5ebf61e477e91858cb16) * Update OCF stop actions to use procfs (cherry picked from commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd) * Fix the proc_kill ocf helper func (cherry picked from commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6) * Add pkill by name to the ocf-fuel-funcs (cherry picked from commit d5a370e8eb723dcfa28795b089d9f247f51ef105) * Apply PAM security limits by running daemons through su (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6) Change-Id: Ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 Closes-bug: #1487083 Closes-bug: #1505735 Closes-bug: #1524826 Closes-bug: #1542256 Partial-bug: #1425579 Closes-bug: #1528889 Partial-bug: #1532723 Closes-bug: #1429553 (cherry picked from commit aa7e4cc0829fed1206f0641822079ede3d1eaba6),6926,Bogdan Dobrelya,"[3, 8971, 11090, 20656]","['Jenkins', 'Fuel CI', 'Sergii Golovatiuk', 'Fuel Packaging CI']",backport ocfpam security limits fixes fix missing ocf logging cherry picked commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4 remove exit code verification mysql ocf cherry picked commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6 check mysql wss constraints among online nodes cherry picked commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387 refactor mysql ocf script cherry picked commit 615a0428e3250cffadbf5ebf61e477e91858cb16 update ocf stop actions use procfs cherry picked commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd fix prockill ocf helper func cherry picked commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6 add pkill name ocffuelfuncs cherry picked commit d5a370e8eb723dcfa28795b089d9f247f51ef105 apply pam security limits running daemons su cherry picked commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6 changeid ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 closesbug 1487083 closesbug 1505735 closesbug 1524826 closesbug 1542256 partialbug 1425579 closesbug 1528889 partialbug 1532723 closesbug 1429553 cherry picked commit aa7e4cc0829fed1206f0641822079ede3d1eaba6
https://review.opendev.org/317979,Backport OCF/PAM security limits fixes,Backport OCF/PAM security limits fixes * Fix missing OCF logging (cherry picked from commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4) * Remove exit code verification from MySQL OCF (cherry picked from commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6) * Check for Mysql wss constraints among online nodes (cherry picked from commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387) * Refactor MySQL OCF script (cherry picked from commit 615a0428e3250cffadbf5ebf61e477e91858cb16) * Update OCF stop actions to use procfs (cherry picked from commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd) * Fix the proc_kill ocf helper func (cherry picked from commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6) * Add pkill by name to the ocf-fuel-funcs (cherry picked from commit d5a370e8eb723dcfa28795b089d9f247f51ef105) * Apply PAM security limits by running daemons through su (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6) Change-Id: Ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 Closes-bug: #1487083 Closes-bug: #1505735 Closes-bug: #1524826 Closes-bug: #1542256 Partial-bug: #1425579 Closes-bug: #1528889 Partial-bug: #1532723 Closes-bug: #1429553 (cherry picked from commit aa7e4cc0829fed1206f0641822079ede3d1eaba6),6926,Bogdan Dobrelya,"[3, 6926, 7195, 7468, 7732, 7745, 8786, 8971, 9037, 9387, 11090, 11827, 13343, 13344, 13948, 14200, 14985, 16771, 18290, 19234, 20313, 20656]","['Jenkins', 'Bogdan Dobrelya', 'Matthew Mosesohn', 'Sergey Vasilenko', 'Ivan Berezovskiy', 'Denis Egorenko', 'Vladimir Kuklin', 'Fuel CI', 'Dmitry Ilyin', 'Aleksandr Didenko', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Stanislav Makar', 'Oleksiy Molchanov', 'Bart?omiej Piotrowski', 'Maksim Malchuk', 'Alex Schultz', 'mpolenchuk', 'Kyrylo Galanov', 'Alexey Stupnikov', 'Rodion Tikunov', 'Fuel Packaging CI']",backport ocfpam security limits fixes fix missing ocf logging cherry picked commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4 remove exit code verification mysql ocf cherry picked commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6 check mysql wss constraints among online nodes cherry picked commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387 refactor mysql ocf script cherry picked commit 615a0428e3250cffadbf5ebf61e477e91858cb16 update ocf stop actions use procfs cherry picked commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd fix prockill ocf helper func cherry picked commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6 add pkill name ocffuelfuncs cherry picked commit d5a370e8eb723dcfa28795b089d9f247f51ef105 apply pam security limits running daemons su cherry picked commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6 changeid ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 closesbug 1487083 closesbug 1505735 closesbug 1524826 closesbug 1542256 partialbug 1425579 closesbug 1528889 partialbug 1532723 closesbug 1429553 cherry picked commit aa7e4cc0829fed1206f0641822079ede3d1eaba6
https://review.opendev.org/686511,Add gosec security scanning,"Add gosec security scanning This adds gating around the gosec static security scanner/linter (formerly known as `gas`), and makes the gate green by remediating existing issues. Any issues found by gosec may be ignored with a #nosec annotation, ideally along with a justification comment. Gosec can also be configured to ignore specific issues globally if we decide that's warranted. https://github.com/securego/gosec Change-Id: I05c1ffd0c30ec65957d4d5650e303ac08ece4210",22477,Matt McEuen,"[22348, 22477, 28869]","['Zuul', 'Matt McEuen', 'Ian Howell']",add gosec security scanning adds gating around gosec static security scannerlinter formerly known gas makes gate green remediating existing issues issues found gosec may ignored nosec annotation ideally along justification comment gosec also configured ignore specific issues globally decide thats warranted httpsgithubcomsecuregogosec changeid i05c1ffd0c30ec65957d4d5650e303ac08ece4210
https://review.opendev.org/716806,Make security group CIDR conversion stricter,"Make security group CIDR conversion stricter Neutron API currently accepts security group remote-ip CIDR in format '192.168.1.1/24', which is a CIDR with host bits set. There are two issues with this: 1. Security-wise, a user may unwittingly use '192.168.1.1/0', which effectively is '0.0.0.0/0' 2. CIDRs with host bits set do not work in OVN. Update API to throw an error if such a case occur. Also update current tests that have CIDRs with host bits. Change-Id: I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e Closes-Bug: #1869129 Related-Bug: #1837339",8064,Jake Yip,"[1131, 5948, 6469, 9845, 11975, 16688, 22348, 26622]","['Brian Haley', 'Oleg Bondarev', 'Carlos Gonçalves', 'Arista CI', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",make security group cidr conversion stricter neutron api currently accepts security group remoteip cidr format 1921681124 cidr host bits set two issues 1 securitywise user may unwittingly use 192168110 effectively 00000 2 cidrs host bits set work ovn update api throw error case occur also update current tests cidrs host bits changeid i4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e closesbug 1869129 relatedbug 1837339
https://review.opendev.org/295414,A possible security vulnerability in using jinja2 fixed,"A possible security vulnerability in using jinja2 fixed Jinja2 by default uses autoesacpe=False, which is a possible security vulnerability, added autoescape=True , if autoescape false is needed, then in the template, {%autoesacpe false%} should be used. Change-Id: If5269e18bac0a4045f2a9d69a6b7919e6bd79508 Closes-Bug: #1558262",18462,Rahul U Nair,"[3, 964, 6547, 17207]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger', 'Atsushi SAKAI']",possible security vulnerability using jinja2 fixed jinja2 default uses autoesacpefalse possible security vulnerability added autoescapetrue autoescape false needed template autoesacpe false used changeid if5269e18bac0a4045f2a9d69a6b7919e6bd79508 closesbug 1558262
https://review.opendev.org/236011,Update Security Group negative test case to BadRequest,"Update Security Group negative test case to BadRequest The value 'bad_group_id' is not a UUID, and Neutron's API has been changed to return a BadRequest error when you do not send a UUID in your request to the Security Group API. Change-Id: I820cbd99b58a6f286f156550903abd070fc9e37b Depends-On: I95c570d4d8b1b0b30f2ded64f11716ca9d5f8a3b",4656,Sean M. Collins,"[3, 2750, 9732, 10385]","['Jenkins', 'Sean Dague', 'Mellanox CI', 'Citrix XenServer CI']",update security group negative test case badrequest value badgroupid uuid neutrons api changed return badrequest error send uuid request security group api changeid i820cbd99b58a6f286f156550903abd070fc9e37b dependson i95c570d4d8b1b0b30f2ded64f11716ca9d5f8a3b
https://review.opendev.org/320649,[WIP] Improve gate testing for security role,[WIP] Improve gate testing for security role This patch removes the skipped tags in tox.ini and carefully skips some problematic tasks using conditionals. This enables more of the tasks to run in the gate but skips some failures that would normally cause the gate job to break. Change-Id: Idfabf33073715e74eca757078a1c2a9c745d6cf9,538,Major Hayden,"[3, 538, 7307, 17068]","['Jenkins', 'Major Hayden', 'Matt Thompson', 'Jean-Philippe Evrard']",wip improve gate testing security role patch removes skipped tags toxini carefully skips problematic tasks using conditionals enables tasks run gate skips failures would normally cause gate job break changeid idfabf33073715e74eca757078a1c2a9c745d6cf9
https://review.opendev.org/319835,Tests for security compliance.,Tests for security compliance. This test for checking security requriments on master node by lynis tool. Change-Id: I91481c9e66f52addc45f87d5f4aa947bb21f499f,19120,Mikhail Samoylov,[8971],['Fuel CI'],tests security compliance test checking security requriments master node lynis tool changeid i91481c9e66f52addc45f87d5f4aa947bb21f499f
https://review.opendev.org/237263,Fuzzers for security utils,"Fuzzers for security utils This patch contains the data generators and response verifiers to be used by the security utils proposed in #216303. Currently, this covers: - ASCII (all ASCII characters) - content types (e.g. Content-Type headers) - malformed dates - large strings - JSON recursion - evil numbers (-0, 9999999999999999999..., Infinity, etc.) - remote code execution payloads - SQL injection payloads - path traversal payloads - malformed URLs - XML External Entity attack payload - XSS payloads - other random ""junk"" (meta-characters, unicode characters, etc.) Change-Id: I4961d7b001bc07af04d56e31d7b33bf9aeccedff",15515,Charles Neill,"[3, 4146, 5196, 15515]","['Jenkins', 'Clark Boylan', 'Matthew Treinish', 'Charles Neill']",fuzzers security utils patch contains data generators response verifiers used security utils proposed 216303 currently covers ascii ascii characters content types eg contenttype headers malformed dates large strings json recursion evil numbers 0 9999999999999999999 infinity etc remote code execution payloads sql injection payloads path traversal payloads malformed urls xml external entity attack payload xss payloads random junk metacharacters unicode characters etc changeid i4961d7b001bc07af04d56e31d7b33bf9aeccedff
https://review.opendev.org/282613,Add popular IP protocols for security group,Add popular IP protocols for security group The patch for neutron is merged. Link: https://review.openstack.org/252155 This is to update the documentation. Change-Id: I1e62a78ce6c9b7dd77579204a759f6f04d737dac Closes-Bug: #1542352,7805,Li Ma,"[3, 841, 964, 6547, 7805, 10497, 11343]","['Jenkins', 'Akihiro Motoki', 'Anne Gentle', 'Andreas Jaeger', 'Li Ma', 'KATO Tomoyuki', 'Gal Sagie']",add popular ip protocols security group patch neutron merged link httpsreviewopenstackorg252155 update documentation changeid i1e62a78ce6c9b7dd77579204a759f6f04d737dac closesbug 1542352
https://review.opendev.org/282621,Add popular IP protocols for security group,Add popular IP protocols for security group The patch for neutron is merged. Link: https://review.openstack.org/252155 Change-Id: If3f890e1e47ad7b97d7752e5ebfea49ce6b1c74e Partial-Bug: #1542352,7805,Li Ma,"[3, 841, 1131, 7805, 8976, 11343, 14605, 15309, 17776]","['Jenkins', 'Akihiro Motoki', 'Brian Haley', 'Li Ma', 'shihanzhang', 'Gal Sagie', 'vikram.choudhary', 'zhaobo', 'Reedip']",add popular ip protocols security group patch neutron merged link httpsreviewopenstackorg252155 changeid if3f890e1e47ad7b97d7752e5ebfea49ce6b1c74e partialbug 1542352
https://review.opendev.org/295602,Install proper security libs,Install proper security libs This will allow proper verification of https for packages. Change-Id: Ibb534b283433659ad8c7ce31b95643cf120dd1c2 Closes-Bug: #1560302,14119,Sam Yaple,"[3, 2834, 7488, 11105, 13642, 14119, 18009, 20683]","['Jenkins', 'Steven Dake', 'Jeffrey Zhang', 'Swapnil Kulkarni', 'Vikram Hosakote', 'Sam Yaple', 'Md Nadeem', 'Venkata Mahesh Chinta']",install proper security libs allow proper verification https packages changeid ibb534b283433659ad8c7ce31b95643cf120dd1c2 closesbug 1560302
https://review.opendev.org/313610,Improve security rule notification message,"Improve security rule notification message If from_port and to_port are both ""-1"" then return ""any port"" instead of ""-1:-1"". For example, instead of ``ALLOW -1:-1/icmp from 0.0.0.0/0`` return ``ALLOW any port/icmp from 0.0.0.0/0`` Change-Id: I09a0321bb662191821d274c38bf3848d191baea9 Closes-Bug: #1430005",21522,Yosef Hoffman,[],[],improve security rule notification message fromport toport 1 return port instead 11 example instead allow 11icmp 00000 return allow porticmp 00000 changeid i09a0321bb662191821d274c38bf3848d191baea9 closesbug 1430005
https://review.opendev.org/229724,Add Security group id to magnum client,Add Security group id to magnum client This patch add parameter security_group_id to python magnum client for bay creation. Change-Id: I846d37bc980a04c696c66671412ae84ad3f49d51 Partial-Bug: #1501050,17120,Manjeet Singh Bhatia,"[3, 668, 7494, 8143, 10206, 10263, 11650, 15967, 17120]","['Jenkins', 'Adrian Otto', 'Guangya Liu', 'Egor Guz', 'Madhuri Kumari', 'Vilobh Meshram', 'Tom Cammann', 'vikas choudhary', 'Manjeet Singh Bhatia']",add security group id magnum client patch add parameter securitygroupid python magnum client bay creation changeid i846d37bc980a04c696c66671412ae84ad3f49d51 partialbug 1501050
https://review.opendev.org/295695,Support security group creation,"Support security group creation It appears from infra_config sample that both default and webserver security groups, should be applied for gerrit and jenkins instances. This change adds 'webserver' security group details to infra_config sample and additional tasks in setup_openstack_resources role to create it and add rule to it. Change-Id: I127ead0708b556cdf266047dddec7910f7c8b46d",16615,Arie Bregman,"[3, 1106, 6133, 16615, 19619]","['Jenkins', 'Ricardo Carrillo Cruz', 'yolanda.robla', 'Arie Bregman', 'Michal Pryc']",support security group creation appears infraconfig sample default webserver security groups applied gerrit jenkins instances change adds webserver security group details infraconfig sample additional tasks setupopenstackresources role create add rule changeid i127ead0708b556cdf266047dddec7910f7c8b46d
https://review.opendev.org/173204,Do not specify default security group to Neutron by default,"Do not specify default security group to Neutron by default Neutron supports port_security_enabled=False feature which means that no security group is enabled for an instance port. But Nova automatically adds 'default' security group even if no group is specified in a request. It leads to difficulties in the use of the featrue. This patch moves default initialization of an instance security groups to nova-network only related code. This gives a chance to Neutron to set a default security group by itself. Also 'default' group is not added to a response for create instance operation, if no group is specified in a request. Closes-Bug: #1175464 Change-Id: I043901491f60ea76dfbae879ce6e56acbd12f30c",10224,Feodor Tersin,"[3, 748, 782, 1653, 1779, 2750, 4393, 4395, 4690, 5170, 5638, 5754, 5948, 6637, 6681, 6873, 7787, 7795, 8688, 9008, 9423, 9578, 9732, 10043, 10118, 10224, 10385, 10453, 14027, 14358, 15286, 15309, 15554, 15751, 16897, 16898]","['Jenkins', 'Armando Migliaccio', 'John Garbutt', 'garyk', 'Daniel Berrange', 'Sean Dague', 'Dan Smith', 'Aaron Rosen', 'melanie witt', 'Microsoft Hyper-V CI', 'Davanum Srinivas', 'Alex Xu', 'Oleg Bondarev', 'Sam Betts', 'Brent Eagles', 'Matt Riedemann', 'Kevin Benton', 'Thanassis Parathyras', 'Alexis Lee', 'VMware NSX CI', 'Roey Chen', 'DB Datasets CI', 'Mellanox CI', 'Geza Gemes', 'IBM PowerKVM CI', 'Feodor Tersin', 'Citrix XenServer CI', 'octopuszhang', 'Michal Rostecki', 'Marian Horban', 'XenProject CI', 'zhaobo', 'Bence Romsics', 'Intel PCI CI', 'Virtuozzo Storage CI', 'Virtuozzo CI']",specify default security group neutron default neutron supports portsecurityenabledfalse feature means security group enabled instance port nova automatically adds default security group even group specified request leads difficulties use featrue patch moves default initialization instance security groups novanetwork related code gives chance neutron set default security group also default group added response create instance operation group specified request closesbug 1175464 changeid i043901491f60ea76dfbae879ce6e56acbd12f30c
https://review.opendev.org/277274,Use FUEL_MIRROR for updates and security repositories,Add option for updates and security repos In some cases when network connections are restricted and only local mirrors are available should be possible to specify mirrors for updates and security repositories. Change-Id: Ife5409eba758e90468d6fccccbc98fd59c56c1b3,1531,Ilya Kharin,"[3, 1531, 6507, 6677, 8777, 10391, 10474, 12817, 13194, 14200, 17737]","['Jenkins', 'Ilya Kharin', 'Shturm Svetlana', 'Oleg Gelbukh', 'Roman Vyalov', 'Ihor Kalnytskyi', 'Vitaly Parakhin', 'Sergey Kulanov', 'Alexei Sheplyakov', 'Maksim Malchuk', 'Fuel DevOps Robot']",add option updates security repos cases network connections restricted local mirrors available possible specify mirrors updates security repositories changeid ife5409eba758e90468d6fccccbc98fd59c56c1b3
https://review.opendev.org/295728,NSXv: Security group logging switching to new model,NSXv: Security group logging switching to new model Change-Id: If486ee7050c53e9d942cbe0cbfe30f03a521a6c4,9423,Roey Chen,"[3, 9008]","['Jenkins', 'VMware NSX CI']",nsxv security group logging switching new model changeid if486ee7050c53e9d942cbe0cbfe30f03a521a6c4
https://review.opendev.org/180289,Assign management port to a management security group,"Assign management port to security group(s) This adds creation of a security group per management port that ensures IPv4 + IPv6 API traffic can reach the appliance. It also enables SSH and ICMP by default, for debugging. Additionally, it adds a new configuration setting 'management_extra_security_group_ids' that allows operators to specify additional security groups to be assigned to the management port. Closes-bug: #1451622 Change-Id: I5a47cd306f6f7f1b005c26971a042163a2f86e88",1420,Adam Gandelman,"[3, 1420, 2592, 6287, 6923, 8005]","['Jenkins', 'Adam Gandelman', 'Mark McClain', 'David Lenwell', 'Sean Roberts', 'Ryan Petrello']",assign management port security groups adds creation security group per management port ensures ipv4 ipv6 api traffic reach appliance also enables ssh icmp default debugging additionally adds new configuration setting managementextrasecuritygroupids allows operators specify additional security groups assigned management port closesbug 1451622 changeid i5a47cd306f6f7f1b005c26971a042163a2f86e88
https://review.opendev.org/161207,Add rate limiting security groups rules UI.,Add rate limiting security groups rules UI. Change-Id: Id706bdaf561afe221a425b2837e9a1e007df6f93 Implements: blueprint security-group-brute-force-prevention-ui,14249,Lionel Zerbib,"[3, 1941, 5623]","['Jenkins', 'Lin Hua Cheng', 'David Lyle']",add rate limiting security groups rules ui changeid id706bdaf561afe221a425b2837e9a1e007df6f93 implements blueprint securitygroupbruteforcepreventionui
https://review.opendev.org/294152,Workaround missing neutron security bindings,"Workaround missing neutron security bindings After Kilo to Liberty upgrades, creating a new virtual machine immediately resulted in an error. This happened because the Kilo networks did not have the port security binding information. There exists a neutron migration to add this (35a0f3365720_add_port_security_in_ml2.py), but it appears to be run during Kilo install, and does not re-run when Liberty updates. This fix simply runs the same insert commands after neutron is upgraded in order to add security bindings to the pre-existing networks. Change-Id: Idea369449990f34525448f0ce07f5fed73e1f376 Addresses-Bug: #1509312",12892,Nolan Brubaker,"[3, 7219, 12892]","['Jenkins', 'git-harry', 'Nolan Brubaker']",workaround missing neutron security bindings kilo liberty upgrades creating new virtual machine immediately resulted error happened kilo networks port security binding information exists neutron migration add 35a0f3365720addportsecurityinml2py appears run kilo install rerun liberty updates fix simply runs insert commands neutron upgraded order add security bindings preexisting networks changeid idea369449990f34525448f0ce07f5fed73e1f376 addressesbug 1509312
https://review.opendev.org/273257,Add config option + docs for security hardening,"Add config option + docs for security hardening This patch adds a configurable option for deployers to apply security hardening by adjusting apply_security_hardening to true within the user_variables.yml file. In addition, security hardening is enabled on AIO builds by default. Documentation about the security role and how to enable it are also included in this patch. This is a backport of Ic05ab7eacd6a1966814764b8290817fb78732758 from master. Implements: blueprint security-hardening Change-Id: Ic05ab7eacd6a1966814764b8290817fb78732758",538,Major Hayden,"[3, 538, 6816, 7353]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Kevin Carter']",add config option docs security hardening patch adds configurable option deployers apply security hardening adjusting applysecurityhardening true within uservariablesyml file addition security hardening enabled aio builds default documentation security role enable also included patch backport ic05ab7eacd6a1966814764b8290817fb78732758 master implements blueprint securityhardening changeid ic05ab7eacd6a1966814764b8290817fb78732758
https://review.opendev.org/230679,Add data security related metadata to image,"Add data security related metadata to image Enterprises need to be compliant with data security laws and regulations that require sensitive data to be encrypted at all times. Many OpenStack services have features (e.g. transparent data encryption in Nova) that can be combined together to form a data security compliance plan. However, the burden of verifying that such features have been enabled falls on the operator. We propose a new metadata category related to data security that can be defined on an image. This can form the basis of a declarative data security enforcement model in which this image metadata is used by various OpenStack services to enforce/enable the data security features that they are capable of. Change-Id: I386de387ce086e169ab5c76448fb422e39ab96ac",15225,Deepti Ramakrishna,"[3, 6159, 6802, 6804, 7012, 12000, 15524]","['Jenkins', 'Flavio Percoco Premoli', 'Joel Coffman', 'bruce-benjamin', 'Brianna Poulos', 'Ian Cordasco', 'dane-fichter']",add data security related metadata image enterprises need compliant data security laws regulations require sensitive data encrypted times many openstack services features eg transparent data encryption nova combined together form data security compliance plan however burden verifying features enabled falls operator propose new metadata category related data security defined image form basis declarative data security enforcement model image metadata used various openstack services enforceenable data security features capable changeid i386de387ce086e169ab5c76448fb422e39ab96ac
https://review.opendev.org/285636,Implement security group - Neutron plugin part,"Implement security group - Neutron plugin part The task Neutron plugin needs to finish for security group functionality is simple. When a rule is created or deleted in a security group, it just updates the corresponding bottom security group. Also, creating or deleting a rule with ""remote_group_id and changing rules in default security group will be rejected by plugin. Currently this task runs in synchronous way. Later it can be implemented in asynchronous way for better response time. Change-Id: I0702b0db14269b1e2f6cb37d7e0f9f698d9cb6ec",12076,Zhiyuan Cai,"[3, 10556, 11819, 13305, 13779, 18858, 19960, 20165]","['Jenkins', 'Dimitri Mazmanov', 'Chaoyi Huang', 'Khayam Gondal', 'Pengfei Shi', 'ashish singh', 'newypei', 'Bean Zhang']",implement security group neutron plugin part task neutron plugin needs finish security group functionality simple rule created deleted security group updates corresponding bottom security group also creating deleting rule remotegroupid changing rules default security group rejected plugin currently task runs synchronous way later implemented asynchronous way better response time changeid i0702b0db14269b1e2f6cb37d7e0f9f698d9cb6ec
https://review.opendev.org/281710,Add RPC handler for security group,"Add RPC handler for security group To support cross-pod security group, we need to divide rule with remote_group_id into rules with remote_ip_prefix since security group id can not cross pods, so we add the following RPC handlers to support. (1) Given a port, find the security gruop rules associated with it, and retrieve IP addresses in the remote groups of those rules. So when a port is added, we know what IP addresses to allowed to access the port. This is already implemented in Neutron plugin so we just inherit the proper base class. (2) Given a security group, retrieve security groups that use it as the remote group. So when a port is added, we can update those security groups to add new rule to allow the new port to access. Security group management will be implemented in later patch. Change-Id: Id71e655e8d6b1a4e8670eddc7d379d0c6a7998bc",12076,Zhiyuan Cai,"[3, 10556, 11819, 12076, 13305, 13779, 18858, 19960]","['Jenkins', 'Dimitri Mazmanov', 'Chaoyi Huang', 'Zhiyuan Cai', 'Khayam Gondal', 'Pengfei Shi', 'ashish singh', 'newypei']",add rpc handler security group support crosspod security group need divide rule remotegroupid rules remoteipprefix since security group id cross pods add following rpc handlers support 1 given port find security gruop rules associated retrieve ip addresses remote groups rules port added know ip addresses allowed access port already implemented neutron plugin inherit proper base class 2 given security group retrieve security groups use remote group port added update security groups add new rule allow new port access security group management implemented later patch changeid id71e655e8d6b1a4e8670eddc7d379d0c6a7998bc
https://review.opendev.org/286421,Add popular ip protocols name in security group,"Add popular ip protocols name in security group Currently, ip protocols are specified as integer in security group. However, due to a recent commit[1], most of the useful ip protocols are supported and can be specified by its common name in neutron. If horizon can support it, it will greatly help ease the input of various ip protocols. [1]https://review.openstack.org/#/c/259037/ Change-Id: I617c16ab807d1e49325f0caeb67b2e86046e931f closes-bug:#1547998",17645,Shan Guo,[17645],['Shan Guo'],add popular ip protocols name security group currently ip protocols specified integer security group however due recent commit1 useful ip protocols supported specified common name neutron horizon support greatly help ease input various ip protocols 1httpsreviewopenstackorgc259037 changeid i617c16ab807d1e49325f0caeb67b2e86046e931f closesbug1547998
https://review.opendev.org/280630,[WIP] Check for security groups on failed ping,"[WIP] Check for security groups on failed ping When ping diagnostics fails, check for security groups settings. Report failure if no matching rule for ICMP is found Change-Id: I9505e548db04467dfd5d47ce0ee800dbbe39f345",19797,Hynek Mlnarik,"[3, 5170, 9681, 9732, 10184, 14208, 14212, 14213, 14323, 14571, 15443, 15752, 19797]","['Jenkins', 'Microsoft Hyper-V CI', 'Ryu CI', 'Mellanox CI', 'Nuage CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'Cisco UCSM CI', 'Intel SR-IOV CI', 'Hynek Mlnarik']",wip check security groups failed ping ping diagnostics fails check security groups settings report failure matching rule icmp found changeid i9505e548db04467dfd5d47ce0ee800dbbe39f345
https://review.opendev.org/282612,Add popular IP protocols for security group,Add popular IP protocols for security group The patch for neutron is merged. Link: https://review.openstack.org/252155 This is to update the documentation. Change-Id: I1e62a78ce6c9b7dd77579204a759f6f04d737dac Related-Bug: #1542352,7805,Li Ma,"[3, 7805, 10497]","['Jenkins', 'Li Ma', 'KATO Tomoyuki']",add popular ip protocols security group patch neutron merged link httpsreviewopenstackorg252155 update documentation changeid i1e62a78ce6c9b7dd77579204a759f6f04d737dac relatedbug 1542352
https://review.opendev.org/276053,"BVS-5248, register callback functions for security group operation.","BVS-5248, register callback functions for security group operation. Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs5248 register callback functions security group operation changeid i2474bf92dc22c77d6ab7569245518c96542df07e
https://review.opendev.org/261980,auto install security rules for egress port of sfc,"auto install security rules for egress port of sfc by default, the port security of Neutron port is enabled. the fixed security rule <ip/mac> pair will be installed for egress traffic. only the fixed ips and allowed address pair can be permitted. The traffic on the service chain will travel multiple sfc group ports. if these sfc group ports enable the port security, the source ip of traffic should be configured on these groups ports' allowed_address_pairs, then the traffic can be outbound from these ports. at present, There are two selections to install the security rules for sfc group ports, one is the upper layer MANO(Management and Orchestration) to configure for sfc groups. the other is sfc plugin or driver to auto install security rules according the extension configuration. the patch implements the second one. 1. portchain interface extension define auto_install_security_rules for the extension parameters chain-parameters, when auto_install_security_rules=True, it indicate driver will auto install security rules for egress port of sfc 2. how to enable this feature eg, neutron port-chain-create --chain-parameters auto_install_security_rules=True --port-pair-group e65a5dd6-5a8c-49e0-91d4-90351cf8cdde --flow-classifier 8a583d69-7eb6-4cf4-b10f-8060caee0b20 client1_sf1_server1 Change-Id: I72b5e342e5896d48f1e2fa3d1053431bd7fb8109",11364,Fei Rao,"[3, 7776, 9375, 9396, 11313, 11364, 11604, 11907, 14605, 16788, 17540, 19948]","['Jenkins', 'Paul Carver', 'Stephen Wong', 'Igor D.C.', 'Louis Fourie', 'Fei Rao', 'sean mooney', 'cathy', 'vikram.choudhary', 'Ramanjaneya Reddy Palleti', 'xiaodongwang991481', 'Farhad Sunavala']",auto install security rules egress port sfc default port security neutron port enabled fixed security rule ipmac pair installed egress traffic fixed ips allowed address pair permitted traffic service chain travel multiple sfc group ports sfc group ports enable port security source ip traffic configured groups ports allowedaddresspairs traffic outbound ports present two selections install security rules sfc group ports one upper layer manomanagement orchestration configure sfc groups sfc plugin driver auto install security rules according extension configuration patch implements second one 1 portchain interface extension define autoinstallsecurityrules extension parameters chainparameters autoinstallsecurityrulestrue indicate driver auto install security rules egress port sfc 2 enable feature eg neutron portchaincreate chainparameters autoinstallsecurityrulestrue portpairgroup e65a5dd65a8c49e091d490351cf8cdde flowclassifier 8a583d697eb64cf4b10f8060caee0b20 client1sf1server1 changeid i72b5e342e5896d48f1e2fa3d1053431bd7fb8109
https://review.opendev.org/279559,WIP: test security group can have optional desc,WIP: test security group can have optional desc Related-Bug: #1434172 Change-Id: Ied5abf368737d7f8fe4f0227b7b426f38fbcbdd9 Depends-On: I67943f96bed0966c1f2bb018852c57da5e40e854,2750,Sean Dague,"[3, 10385]","['Jenkins', 'Citrix XenServer CI']",wip test security group optional desc relatedbug 1434172 changeid ied5abf368737d7f8fe4f0227b7b426f38fbcbdd9 dependson i67943f96bed0966c1f2bb018852c57da5e40e854
https://review.opendev.org/279552,Make security group API work like documentation,"Make security group API work like documentation All the documentation for the security group API has stated description is optional. Except, it's not, because of an enforcement point that's done incorrectly. This will allow the security group to be created without a description as per the API spec. Change-Id: I67943f96bed0966c1f2bb018852c57da5e40e854",2750,Sean Dague,"[3, 5170, 6167, 6873, 9578, 10385, 15751, 16898]","['Jenkins', 'Microsoft Hyper-V CI', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'DB Datasets CI', 'Citrix XenServer CI', 'Intel PCI CI', 'Virtuozzo CI']",make security group api work like documentation documentation security group api stated description optional except enforcement point thats done incorrectly allow security group created without description per api spec changeid i67943f96bed0966c1f2bb018852c57da5e40e854
https://review.opendev.org/276048,"session.py file was initially using eval() which is not recommended for security purposes, hence I used other safe equivalent function. Close-bug: 1414529","session.py file was initially using eval() which is not recommended for security purposes, hence I used other safe equivalent function. Close-bug: 1414529 Change-Id: I832f41ea4092f7a1d084f2d016cf110811e4fe03",19583,Abhilash Goyal,"[3, 5170, 6735, 9578, 10118, 10385, 14384, 15751, 16376, 16898]","['Jenkins', 'Microsoft Hyper-V CI', 'Bob Ball', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo CI']",sessionpy file initially using eval recommended security purposes hence used safe equivalent function closebug 1414529 changeid i832f41ea4092f7a1d084f2d016cf110811e4fe03
https://review.opendev.org/200755,Adding Security Guide Meeting,"Adding Security Guide Meeting Adding new security-guide-meeting.yaml to add our regular meeting at Mondays at 10am PST, 1700 UTC in #openstack-meeting-alt. Change-Id: I194cdbb16c0c2bcbb8ac30238d0311710640e105",12325,Nathaniel Dillon,"[1, 3, 308, 979, 12325, 12898]","['James E. Blair', 'Jenkins', 'Thierry Carrez', 'Dave Walker', 'Nathaniel Dillon', 'Tony Breeds']",adding security guide meeting adding new securityguidemeetingyaml add regular meeting mondays 10am pst 1700 utc openstackmeetingalt changeid i194cdbb16c0c2bcbb8ac30238d0311710640e105
https://review.opendev.org/195036,Resource to add security group to port,Resource to add security group to port Implments blueprint add-security-group-to-port Change-Id: I98a3d85c5008afd26879a7c935c6b4e1f305e962,7230,Vijendar Komalla,"[3, 4571, 8289, 16203]","['Jenkins', 'Steve Baker', 'huangtianhua', 'zengyingzhe']",resource add security group port implments blueprint addsecuritygrouptoport changeid i98a3d85c5008afd26879a7c935c6b4e1f305e962
https://review.opendev.org/265325,Add security improvement to glance's default policy,"Add security improvement to glance's default policy These policy changes improve the security of Glance by allowing only the admin or owner to: - publish an image publically - admin, remove or modify an image's membership Change-Id: I63deb23629b306f4e2aca0e359edc2007c419727",6816,Jesse Pretorius,"[3, 6816, 17068]","['Jenkins', 'Jesse Pretorius', 'Jean-Philippe Evrard']",add security improvement glances default policy policy changes improve security glance allowing admin owner publish image publically admin remove modify images membership changeid i63deb23629b306f4e2aca0e359edc2007c419727
https://review.opendev.org/264131,Implementation of Security Groups Firewall for OVS driver.,Implementation of Security Groups Firewall for OVS driver. This implementation is based on OVS learn actions. Each new rule manually added to a security group (ingress or egress) will create a mirror action to allow this traffic (and only this one) to return. Supports IPv4 and IPv6. Multicast support enabled by default. DocImpact: added a new topic in openvswitch_agent doc to enable the firewall for OVS. Closes-Bug: #1531205 Change-Id: I1c3ada221eacd9cdec8a910ac160d69a8e25a83c,16688,Rodolfo Alonso,"[3, 748, 1131, 1653, 5170, 7249, 8655, 8788, 9396, 9681, 9732, 9845, 10153, 10692, 11604, 14323, 14571, 15752, 16688]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'garyk', 'Microsoft Hyper-V CI', 'Ann Taraday', 'Jakub Libosvar', 'Miguel Angel Ajo', 'Igor D.C.', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'One Convergence CI', 'Brocade Vyatta CI', 'sean mooney', 'HP Networking CI', 'Intel Experimental CI', 'Intel SR-IOV CI', 'Rodolfo Alonso']",implementation security groups firewall ovs driver implementation based ovs learn actions new rule manually added security group ingress egress create mirror action allow traffic one return supports ipv4 ipv6 multicast support enabled default docimpact added new topic openvswitchagent doc enable firewall ovs closesbug 1531205 changeid i1c3ada221eacd9cdec8a910ac160d69a8e25a83c
https://review.opendev.org/248848,Launch Instance Wizard - Security Group Available table,"Launch Instance Wizard - Security Group Available table Default Security Group is allocated by default, but is still showing up in Available table. Also, the 'No available items' row is there too. So there are two extra rows that should not be there. Also, if there is more than one security group, the Available item count is incorrect. The reason for this is when the allocated transfer-table is created, the 'default' security group has not yet been set. So we need to broadcast this change when it is so that the transfer-table gets updated accordingly. Change-Id: Ibd5ccd08a455ef3f01d3f4d18d0bb4b78aec5f57 Closes-Bug: #1518110",9622,Cindy Lu,"[3, 10063, 12281, 13785, 17013]","['Jenkins', 'Steve McLellan', 'Itxaka', 'Kelly Domico', 'Rajat Vig']",launch instance wizard security group available table default security group allocated default still showing available table also available items row two extra rows also one security group available item count incorrect reason allocated transfertable created default security group yet set need broadcast change transfertable gets updated accordingly changeid ibd5ccd08a455ef3f01d3f4d18d0bb4b78aec5f57 closesbug 1518110
https://review.opendev.org/261921,Update CentOS 7 update and security repo url,"Update CentOS 7 update and security packages repo url Start from Fuel 8.0, we are using CentOS 7 instead of CentOS 6 for host OS, update repo url for this change. Change-Id: Ic8aae2e331a0714ed6a893c1f74978d613acda50 Closes-Bug: #1529564",1313,Yaguang Tang,"[3, 1313, 7195, 8971, 10391, 10959, 18205]","['Jenkins', 'Yaguang Tang', 'Matthew Mosesohn', 'Fuel CI', 'Ihor Kalnytskyi', 'Alexander Kislitsky', 'Bulat Gaifullin']",update centos 7 update security packages repo url start fuel 80 using centos 7 instead centos 6 host os update repo url change changeid ic8aae2e331a0714ed6a893c1f74978d613acda50 closesbug 1529564
https://review.opendev.org/239550,Add Congress as part of OpenStack Security Guide,Add Congress as part of OpenStack Security Guide The presented commit is submitted as part of a request to add Congress to OpenStack Security Guide. Closes bug: 1503914 Change-Id: I4e0f03f6c0087a0c803c0d5c586040379072794f,18469,Gonzalo De La Torre,"[3, 6547, 9162, 12325, 13962, 18469]","['Jenkins', 'Andreas Jaeger', 'Lana Brindley', 'Nathaniel Dillon', 'Victor Ryzhenkin (freerunner)', 'Gonzalo De La Torre']",add congress part openstack security guide presented commit submitted part request add congress openstack security guide closes bug 1503914 changeid i4e0f03f6c0087a0c803c0d5c586040379072794f
https://review.opendev.org/121034,Adds OpenStack security threat analysis folder,Adds OpenStack Security threat analysis folder This provides a skeleton and basics/process for OpenStack threat analysis work Change-Id: I365adead7285ced91a1e2cb65b44ae2845f86f93,10824,Abu Shohel Ahmed,"[3, 964, 2807, 6486, 6547, 7063, 7191, 9098, 9162, 10281, 10824]","['Jenkins', 'Anne Gentle', 'Bryan D. Payne', 'Brant Knudson', 'Andreas Jaeger', 'Robert Clark', 'Jamie Lennox', 'Nathan Kinder', 'Lana Brindley', 'Priti Desai', 'Abu Shohel Ahmed']",adds openstack security threat analysis folder provides skeleton basicsprocess openstack threat analysis work changeid i365adead7285ced91a1e2cb65b44ae2845f86f93
https://review.opendev.org/257419,Add Security Group spec,Add Security Group spec This adds a spec describing the changes needed to be done in Dragonflow pipeline in order to support security group. Change-Id: Id995c62f50dafe9f35d72821c8f82313d693b920,18668,ding bo,"[3, 6835, 7805, 11343, 13070, 18668, 18811, 18903, 19526]","['Jenkins', 'Kun Huang', 'Li Ma', 'Gal Sagie', 'Eran Gampel', 'ding bo', 'Shlomo', 'Yuli', 'Billy Xu']",add security group spec adds spec describing changes needed done dragonflow pipeline order support security group changeid id995c62f50dafe9f35d72821c8f82313d693b920
https://review.opendev.org/218660,Fix ICMP code value is None in security group rule test,"Fix ICMP code value is None in security group rule test Security group rule with ICMP protocol has type/code value. In Neutron API, code is specified but type is None or type is specified but code is None will raise an exception. This patch modifing ICMP code value which is None to normal. Change-Id: Icd9499ea37864a0f68f0af70f9137e8710a3b561",12860,Dongcan Ye,"[3, 5803, 8556, 9732, 10385, 12860, 14131, 14815, 15086]","['Jenkins', 'Attila Fazekas', 'Ghanshyam', 'Mellanox CI', 'Citrix XenServer CI', 'Dongcan Ye', 'shaohef', 'zhufeng', 'WangXiaoFei']",fix icmp code value none security group rule test security group rule icmp protocol typecode value neutron api code specified type none type specified code none raise exception patch modifing icmp code value none normal changeid icd9499ea37864a0f68f0af70f9137e8710a3b561
https://review.opendev.org/259839,Correct some Security Group Rules validation,"Correct some Security Group Rules validation Currently some input of the user Security Group Rules creation form do not treat -1 as a valid value, this patch correct some validation. Closes-Bug: #1528091 Change-Id: Ib42adcdf4cffc52c36f37403ce9165a1d26cea70",9531,liuyulong,[3],['Jenkins'],correct security group rules validation currently input user security group rules creation form treat 1 valid value patch correct validation closesbug 1528091 changeid ib42adcdf4cffc52c36f37403ce9165a1d26cea70
https://review.opendev.org/218507,Wrong Link to External Site Integrity life-cycle in Security Guide,Wrong Link to External Site Integrity life-cycle in Security Guide A link to dm-verify under the section Node Hardening of Integrity life-cycle is incorrect. The current link points to a a Google Code page. The dm-verify project has been moved to Gitlab. Change-Id: I8ef62f8a07cdb2c7bf6576985532220fc7faaec9 Closes-Bug: #1490049,14606,Jeffrey Olsen,"[3, 6804, 12325, 14606, 17277]","['Jenkins', 'bruce-benjamin', 'Nathaniel Dillon', 'Jeffrey Olsen', 'Christopher J Schaefer']",wrong link external site integrity lifecycle security guide link dmverify section node hardening integrity lifecycle incorrect current link points google code page dmverify project moved gitlab changeid i8ef62f8a07cdb2c7bf6576985532220fc7faaec9 closesbug 1490049
https://review.opendev.org/162739,Adds Security Groups for Windows Server 2012,Adds Security Groups for Windows Server 2012 Adds Security Group Rules and Generator for Windows / Hyper-V Server 2012. Change-Id: I40b22bf935f1f59d154c0c0d89e0bdc3c136fcad,8213,Claudiu Belu,"[3, 10760, 15130, 16039]","['Jenkins', 'Vinod Kumar', 'Sonu', 'Krishna Kanth Mallela']",adds security groups windows server 2012 adds security group rules generator windows hyperv server 2012 changeid i40b22bf935f1f59d154c0c0d89e0bdc3c136fcad
https://review.opendev.org/252801,hot resource security group example format change,"hot resource security group example format change in latest devstack, using previous example format doesn't work. modify format to be list and dict format to sepcify security rules. Change-Id: Ib07502e35d51ffa89d2cb6ebfbcc1120fa65ada4",19383,linwei wu,"[3, 6577, 7404, 19383]","['Jenkins', 'Sergey Kraynev', 'Ethan Lynn', 'linwei wu']",hot resource security group example format change latest devstack using previous example format doesnt work modify format list dict format sepcify security rules changeid ib07502e35d51ffa89d2cb6ebfbcc1120fa65ada4
https://review.opendev.org/225429,Exception will not be raised when Port Security is not enabled,"Exception will not be raised when Port Security is not enabled if port_data.get(psec.PORTSECURITY) is None, the variable port_security is True, so AddressPairAndPortSecurityRequired exception will not be raised for ever. Change-Id: I7e9a8022adcdfdc30c3fc528ed84b6570c8df291",16053,Pengtao Huang,"[3, 748, 2874, 5170, 9681, 9732, 9845, 10153, 10386, 11682, 14208, 14212, 14213, 14571, 14615, 15296, 15752]","['Jenkins', 'Armando Migliaccio', 'yong sheng gong', 'Microsoft Hyper-V CI', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'One Convergence CI', 'OpenDaylight CI', 'Ryan Moats', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'Sergey Belous', 'Brocade Openstack CI', 'Intel SR-IOV CI']",exception raised port security enabled portdatagetpsecportsecurity none variable portsecurity true addresspairandportsecurityrequired exception raised ever changeid i7e9a8022adcdfdc30c3fc528ed84b6570c8df291
https://review.opendev.org/248078,Adding example playbook for security role,Adding example playbook for security role This example playbook makes it easier for users to quickly run the openstack-ansible-security role against hosts which are part of an openstack-ansible deployment. Change-Id: If53fb3da24bf9c69b77a2567c6cf12a51e8bb7eb,538,Major Hayden,"[3, 6816, 7353]","['Jenkins', 'Jesse Pretorius', 'Kevin Carter']",adding example playbook security role example playbook makes easier users quickly run openstackansiblesecurity role hosts part openstackansible deployment changeid if53fb3da24bf9c69b77a2567c6cf12a51e8bb7eb
https://review.opendev.org/249546,ICMP type & code validation while adding Security Group rules,"dded appropriate functionality to check ICMP 'type' and 'code' while adding security group rule While adding new security group rule 'Custom ICMP rule' when wrong ICMP 'type' or 'code' was given the errors it would show was 'Not a valid port number'; which is wrong or misleading. Before this patch, for checking/validating ICMP 'type' and 'code', the code for validating 'TCP ports' was used. Now that new improved code is available in 'oslo.utils.netutils' that does validation of ICMP 'type' and ICMP 'code' this code has been used in this patch. Change-Id: I3c9debc0eb156a4a3932b5e3f4dd601a313d065e Closes-Bug: #1511748",18930,Suraj Deshmukh,"[3, 17776]","['Jenkins', 'Reedip']",dded appropriate functionality check icmp type code adding security group rule adding new security group rule custom icmp rule wrong icmp type code given errors would show valid port number wrong misleading patch checkingvalidating icmp type code code validating tcp ports used new improved code available osloutilsnetutils validation icmp type icmp code code used patch changeid i3c9debc0eb156a4a3932b5e3f4dd601a313d065e closesbug 1511748
https://review.opendev.org/230677,Data Security Enforcements In Nova,Data Security Enforcements In Nova Enterprises need to be compliant with data security laws and regulations that require sensitive data to be encrypted at rest (storage) as well in motion (over the wire). Nova has features such as transparent data encryption that can be utilized as part of a data security compliance plan. We propose implementing checks inside Nova that will ensure that such features are enabled. These checks will be triggered based on the presence of specific metadata defined on an image. Such declaration based enforcements can provide additional confidence to the operators tasked with setting up a secure cloud and thereby provide impetus to the enterprise adoption of OpenStack. Change-Id: I0618bf381d1868af7facf991d22e2e8113794193,15225,Deepti Ramakrishna,"[3, 782, 1779, 4992, 5754, 12175, 15961]","['Jenkins', 'John Garbutt', 'Daniel Berrange', 'malini-k-bhandaru', 'Alex Xu', 'Eli Qiao', 'lisali']",data security enforcements nova enterprises need compliant data security laws regulations require sensitive data encrypted rest storage well motion wire nova features transparent data encryption utilized part data security compliance plan propose implementing checks inside nova ensure features enabled checks triggered based presence specific metadata defined image declaration based enforcements provide additional confidence operators tasked setting secure cloud thereby provide impetus enterprise adoption openstack changeid i0618bf381d1868af7facf991d22e2e8113794193
https://review.opendev.org/247758,"BVS-4833, add missig api from listening to security group updates","BVS-4833, add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843 (cherry picked from commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2)",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs4833 add missig api listening security group updates changeid i9532fa321b0493f2601c69b981a58114acf9e843 cherry picked commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2
https://review.opendev.org/792461,Editorial updates on Security Guide upstream,Editorial updates on Security Guide upstream Acted on Greg's comments Signed-off-by: egoncalv <elisamaraaoki.goncalves@windriver.com> Change-Id: I647711ac35f45bc9c79cc490269831770e98e2f4,33342,Elisamara Aoki Gonçalves,"[22348, 26026, 30539, 30859, 32187, 33239]","['Zuul', 'Greg Waines', 'Ron Stone', 'M Camp', 'Juanita-Balaraj', 'Mohamed Adil Assakkali']",editorial updates security guide upstream acted gregs comments signedoffby egoncalv elisamaraaokigoncalveswindrivercom changeid i647711ac35f45bc9c79cc490269831770e98e2f4
https://review.opendev.org/764489,Add exception for insufficient privileges when using security services,"Add exception for insufficient priveleges when using security services When trying to create a share using a security service while having insufficient privileges or providing wrong credentials, manila raises a generic user message that provides little information to the end user on what exactly went wrong. Added a driver-agnostic exception for when this happens, accompanied with a user message to provide more useful information to end users. Partial-Bug: #1900755 Change-Id: I2b0bc5c0715c225cd5b38b55fb3967ff7fc86fa8",32411,Eduardo Santos,"[9003, 16643, 22348, 29632, 30407]","['Tom Barron', 'Goutham Pacha Ravi', 'Zuul', 'Carlos Eduardo', 'haixin']",add exception insufficient priveleges using security services trying create share using security service insufficient privileges providing wrong credentials manila raises generic user message provides little information end user exactly went wrong added driveragnostic exception happens accompanied user message provide useful information end users partialbug 1900755 changeid i2b0bc5c0715c225cd5b38b55fb3967ff7fc86fa8
https://review.opendev.org/635578,Horizon: Expose additional security config params,Horizon: Expose additional security config params Expose additional Horizon security params in accordance with the OpenStack Security Guide [0] - ALLOWED_HOSTS - HORIZON_IMAGES_UPLOAD_MODE [0] https://docs.openstack.org/security-guide/dashboard/domains-dashboard-upgrades-basic-web-server-configuration.html Change-Id: I071c8fbfc5ea9b41d3c35840e342d83349ae1613,24780,Sangeet Gupta,"[8898, 17896, 20466, 21420, 22348, 22636, 23928, 24780, 28372, 28701]","['Chris Wedgwood', 'Rick Bartra', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Cliff Parsons', 'Pete Birley', 'Sangeet Gupta', 'chinasubbareddy mallavarapu', 'Dustin Specker']",horizon expose additional security config params expose additional horizon security params accordance openstack security guide 0 allowedhosts horizonimagesuploadmode 0 httpsdocsopenstackorgsecurityguidedashboarddomainsdashboardupgradesbasicwebserverconfigurationhtml changeid i071c8fbfc5ea9b41d3c35840e342d83349ae1613
https://review.opendev.org/668976,[NSX-v] Improve handling of port security transition,"[NSX-v] Improve handling of port security transition - When network port security is set to True, ensure the same IP is not used for multiple ports - Extend checks for netork port security to all ports, not only ports with a nova compute device_id - When creating or updating a port, perform checks if port security is enabled for the network or the flag for allowing multiple addresses is unset. Change-Id: I5d81257b55730d4544537bb269030ec7f1a277c1",27546,Michal Kelner Mishali,"[261, 9008, 20363, 22348, 27546]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",nsxv improve handling port security transition network port security set true ensure ip used multiple ports extend checks netork port security ports ports nova compute deviceid creating updating port perform checks port security enabled network flag allowing multiple addresses unset changeid i5d81257b55730d4544537bb269030ec7f1a277c1
https://review.opendev.org/670075,Fix list security groups performance with RBAC,"Fix list security groups performance with RBAC After change [1], if the system has a high number of security groups with no associated RBAC entries, a non admin user owning only one security group will experience unacceptable response times when listing her security groups. Change [1] added methods get_object and get_objects to class RbacNeutronDbObjectMixin in neutron.objects.rbac_db, which retrieve with and admin context all the objects (networks, subnets or security groups) in the DB and then decide in memory whether the project that made the query has access to them or not, based on their associated RBAC policies. This change proposes to remove those methods and revert to their counterparts in NeutronDbObject (neutron.objects.base), which use a DB query scoped to the project to retrieve the objects based on their associated RBAC policies by calling [2]. In this way, the potential number of objects that are retrieved from the DB and that have to be converted to OVOs is greatly reduced, improving significantly the response time to the user. [1] https://review.opendev.org/#/c/635311 [2] https://github.com/openstack/neutron-lib/blob/7a58374fde64fdc14e327940dde6bea4a8a39345/neutron_lib/db/model_query.py#L100 Change-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e Closes-Bug: #1830679 (cherry picked from commit a240c68022d96c8639652cbdf57e707e68fb2a88)",4694,Miguel Lavalle,"[1131, 9732, 17130, 20363, 21798, 22348, 26622]","['Brian Haley', 'Mellanox CI', 'melissaml', 'Adit Sarfaty', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fix list security groups performance rbac change 1 system high number security groups associated rbac entries non admin user owning one security group experience unacceptable response times listing security groups change 1 added methods getobject getobjects class rbacneutrondbobjectmixin neutronobjectsrbacdb retrieve admin context objects networks subnets security groups db decide memory whether project made query access based associated rbac policies change proposes remove methods revert counterparts neutrondbobject neutronobjectsbase use db query scoped project retrieve objects based associated rbac policies calling 2 way potential number objects retrieved db converted ovos greatly reduced improving significantly response time user 1 httpsreviewopendevorgc635311 2 httpsgithubcomopenstackneutronlibblob7a58374fde64fdc14e327940dde6bea4a8a39345neutronlibdbmodelquerypyl100 changeid idd303778d83089da8fbeff40e3dda2bd19008d8e closesbug 1830679 cherry picked commit a240c68022d96c8639652cbdf57e707e68fb2a88
https://review.opendev.org/665566,Fix list security groups performance with RBAC,"Fix list security groups performace with RBAC After change [1], if the system has a high number of security groups with no associated RBAC entries, a non admin user owning only one security group will experience unacceptable response times when listing her security groups. This patch proposes an optimization whereby we only check the RBAC entries of a security group if we know it has such entries. This is likely going to be the first in a series of patches aimed at improving the performance of RBAC code for cases when associated resources exist in high numbers. [1] https://review.opendev.org/#/c/635311 Change-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e Partial-Bug: #1830679",4694,Miguel Lavalle,"[1131, 4694, 5367, 9732, 9845, 11975, 13995, 16376, 20363, 21798, 22348, 26622]","['Brian Haley', 'Miguel Lavalle', 'boden', 'Mellanox CI', 'Arista CI', 'Slawek Kaplonski', 'Nate Johnston', 'Intel NFV CI', 'Adit Sarfaty', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fix list security groups performace rbac change 1 system high number security groups associated rbac entries non admin user owning one security group experience unacceptable response times listing security groups patch proposes optimization whereby check rbac entries security group know entries likely going first series patches aimed improving performance rbac code cases associated resources exist high numbers 1 httpsreviewopendevorgc635311 changeid idd303778d83089da8fbeff40e3dda2bd19008d8e partialbug 1830679
https://review.opendev.org/669358,Using HTK for cinder security policies,Using htk for glance security policies Overriding the values in values.yaml Change-Id: Ib7cd343b4b95cae088a4fe564524448af79de785,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17591, 20466, 22348, 22477, 23928, 29144, 29161]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",using htk glance security policies overriding values valuesyaml changeid ib7cd343b4b95cae088a4fe564524448af79de785
https://review.opendev.org/669744,Neutron: fix security context typo,Neutron: fix security context typo This PS fixes a typo in the security context settings for neutrons sriov agent. Change-Id: I8cd255969b0f47d541cd5df68dbddde0b1fcf898 Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,"[17591, 20466, 21420, 22348]","['Steve Wilkerson', 'Tin Lam', 'Gage Hugo', 'Zuul']",neutron fix security context typo ps fixes typo security context settings neutrons sriov agent changeid i8cd255969b0f47d541cd5df68dbddde0b1fcf898 signedoffby pete birley peteportdirect
https://review.opendev.org/669357,Neutron: Fix security context values keys,Neutron: Fix security context values keys This updates the values used for generating the pod and container security contexts for the components of the neutron chart. This moves to using a unique application key for each neutron service instead of a single 'neutron' key that maps to every pod Change-Id: I1c87a5b4b74e2a2d17b8913dd34f40dc1c38fbe0 Signed-off-by: Steve Wilkerson <sw5822@att.com>,17591,Steve Wilkerson,"[7769, 17591, 22348, 23928]","['Pentheus', 'Steve Wilkerson', 'Zuul', 'Pete Birley']",neutron fix security context values keys updates values used generating pod container security contexts components neutron chart moves using unique application key neutron service instead single neutron key maps every pod changeid i1c87a5b4b74e2a2d17b8913dd34f40dc1c38fbe0 signedoffby steve wilkerson sw5822attcom
https://review.opendev.org/666462,Implement Security Context for Neutron,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: Ic2600c2301bd9d7c91bc72c22a7813d07e3a8ef6,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17591, 20466, 22348, 22477, 23928, 29144, 29161]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",implement security context neutron implement container security context following neutron resources neutron server deployment changeid ic2600c2301bd9d7c91bc72c22a7813d07e3a8ef6
https://review.opendev.org/668629,[NSX-v] Improve handling of port security transition,"[NSX-v] Improve handling of port security transition - When network port security is set to True, ensure the same IP is not used for multiple ports - Extend checks for netork port security to all ports, not only ports with a nova compute device_id - When creating or updating a port, perform checks if port security is enabled for the network or the flag for allowing multiple addresses is unset. Cherry-picked from commit: 8280be510a897df79b0bfc28a5f89093e6e8f595 Change-Id: I5d81257b55730d4544537bb269030ec7f1a277c1",261,Salvatore Orlando,"[9008, 20363, 22348, 27546]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",nsxv improve handling port security transition network port security set true ensure ip used multiple ports extend checks netork port security ports ports nova compute deviceid creating updating port perform checks port security enabled network flag allowing multiple addresses unset cherrypicked commit 8280be510a897df79b0bfc28a5f89093e6e8f595 changeid i5d81257b55730d4544537bb269030ec7f1a277c1
https://review.opendev.org/668477,[NSX-v] Improve handling of port security transition,"[NSX-v] Improve handling of port security transition - When network port security is set to True, ensure the same IP is not used for multiple ports - When creating or updating a port, perform checks if port security is enabled for the network and the flag for allowing multiple addresses is unset. Change-Id: I5d81257b55730d4544537bb269030ec7f1a277c1",261,Salvatore Orlando,"[9008, 20363, 22348, 27546]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",nsxv improve handling port security transition network port security set true ensure ip used multiple ports creating updating port perform checks port security enabled network flag allowing multiple addresses unset changeid i5d81257b55730d4544537bb269030ec7f1a277c1
https://review.opendev.org/668066,Manual: Regression Security passw rule,Manual: Regression Security passw rule Updating test steps for horizon secure login. Change-Id: I7bd3f700b85737e812b275720331dfd3ce3c98d0,29903,Fernando Hernandez Gonzalez,"[22348, 29817, 29897]","['Zuul', 'Cristopher Lemus', 'Elio Martinez']",manual regression security passw rule updating test steps horizon secure login changeid i7bd3f700b85737e812b275720331dfd3ce3c98d0
https://review.opendev.org/667745,Manual: Regression Security Malformed localhost.yml,Manual: Regression Security Malformed localhost.yml Updating test steps for ansible-playbook command in order to validate localhost.yml malformed format. Change-Id: Ibb20a2c10b23a3e02504bb20c665e33e2a33bdbd,29903,Fernando Hernandez Gonzalez,"[22348, 28285, 29052, 29817, 29897, 29898]","['Zuul', 'Abraham Arce', 'Juan Pablo Gomez', 'Cristopher Lemus', 'Elio Martinez', 'Juan Carlos Alonso']",manual regression security malformed localhostyml updating test steps ansibleplaybook command order validate localhostyml malformed format changeid ibb20a2c10b23a3e02504bb20c665e33e2a33bdbd
https://review.opendev.org/667732,Manual: Regression Security OAM iptable changes.,Manual: Regression Security OAM iptable changes. Updating test steps for ansible-playbook command in order to verify iptables are set correctly. Change-Id: Ida54a0060235e4e04c6c311ea66e40ce50dcdd3e,29903,Fernando Hernandez Gonzalez,"[22348, 28285, 29052, 29817, 29897, 29898]","['Zuul', 'Abraham Arce', 'Juan Pablo Gomez', 'Cristopher Lemus', 'Elio Martinez', 'Juan Carlos Alonso']",manual regression security oam iptable changes updating test steps ansibleplaybook command order verify iptables set correctly changeid ida54a0060235e4e04c6c311ea66e40ce50dcdd3e
https://review.opendev.org/667033,NSX|V3+P: Ignore IP ::/x in security group rules,"NSX|V3+P: Ignore IP ::/x in security group rules Setting ::/x as remote/local IP of a security group rule is not allowed by the NSX. This patch uses 'ANY' instead, similar to the way it handles 0.0.0.0/x for IPv4. Change-Id: I1a2c1e0111d24c24fe51e60e70bd663cabeed346",20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxv3p ignore ip x security group rules setting x remotelocal ip security group rule allowed nsx patch uses instead similar way handles 0000x ipv4 changeid i1a2c1e0111d24c24fe51e60e70bd663cabeed346
https://review.opendev.org/667512,NSX|V3+P: Ignore IP ::/x in security group rules,"NSX|V3+P: Ignore IP ::/x in security group rules Setting ::/x as remote/local IP of a security group rule is not allowed by the NSX. This patch uses 'ANY' instead, similar to the way it handles 0.0.0.0/x for IPv4. Change-Id: I1a2c1e0111d24c24fe51e60e70bd663cabeed346",20363,Adit Sarfaty,"[261, 13438, 22348]","['Salvatore Orlando', 'Kobi Samoray', 'Zuul']",nsxv3p ignore ip x security group rules setting x remotelocal ip security group rule allowed nsx patch uses instead similar way handles 0000x ipv4 changeid i1a2c1e0111d24c24fe51e60e70bd663cabeed346
https://review.opendev.org/518954,Change default security group protocol to 'any',"Change default security group protocol to 'any' The default protocol used to create a security rule was changed to ``tcp``, which was a regression from the neutron client. Change it back to ``any``, which skips sending the protocol to the API server entirely. Users that had been creating rules without specifying a protocol and expecting ``tcp`` need to change to use ``--protocol tcp`` explicitly. Change-Id: Iedaa027240e00dced551513d8fa828564386b79f Closes-bug: #1716789",1131,Brian Haley,"[841, 970, 1131, 6482, 22348, 25564, 28935]","['Akihiro Motoki', 'Dean Troyer', 'Brian Haley', 'Steve Martinelli', 'Zuul', 'yanpuqing', '98k']",change default security group protocol default protocol used create security rule changed tcp regression neutron client change back skips sending protocol api server entirely users creating rules without specifying protocol expecting tcp need change use protocol tcp explicitly changeid iedaa027240e00dced551513d8fa828564386b79f closesbug 1716789
https://review.opendev.org/666091,[IPv6] Adding port security scenarios,[WIP][IPv6] Adding port security scenarios and api Change-Id: I2fc2ec31b5a6aaa2ca35978790ce8e016b09e86a,22387,Deepthi Kandavara Jayarama,"[22348, 22387]","['Zuul', 'Deepthi Kandavara Jayarama']",wipipv6 adding port security scenarios api changeid i2fc2ec31b5a6aaa2ca35978790ce8e016b09e86a
https://review.opendev.org/664662,Coredns: Add pod/container security context,[WIP] Coredns: Add pod/container security context This updates k8s chart to include the podsecurity context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: Ib44e7b9e5d0ccc642ee095062f3aefcfef2a98f8,29144,PRATEEK REDDY DODDA,"[7769, 8749, 22348, 22477, 23186, 23928, 26365, 26449, 26628, 26686, 27715, 28208, 28235, 28618, 29144]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Bryan Strassner', 'Scott Hussey', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'PRATEEK REDDY DODDA']",wip coredns add podcontainer security context updates k8s chart include podsecurity context pod template also adds container security context set readonlyrootfilesystem true changeid ib44e7b9e5d0ccc642ee095062f3aefcfef2a98f8
https://review.opendev.org/666448,[IPv6] Adding port security api tests,[IPv6] Adding port security api tests Change-Id: I62ec417161b6d108438ab63f3d588f5fee967b54,22387,Deepthi Kandavara Jayarama,"[22348, 22387]","['Zuul', 'Deepthi Kandavara Jayarama']",ipv6 adding port security api tests changeid i62ec417161b6d108438ab63f3d588f5fee967b54
https://review.opendev.org/775032,[NetApp] Implement security service update,"[NetApp] Implement security service update This patch implements support for security service updates for in use share networks. It works with 'active_directory' and 'kerberos' security service types. For both types, the 'domain' attribute update isn't supported yet since it can might affect user's access to all related shares. Change-Id: I8556e4e2e05deb9b116eacbd5afe2f7c5d77b44b Depends-On: I129a794dfd2d179fa2b9a2fed050459d6f00b0de Implements: bp netapp-security-service-update Co-Authored-By: Carlos Eduardo <ces.eduardo98@gmail.com> Signed-off-by: Douglas Viroel <viroel@gmail.com>",30002,Douglas Viroel,"[9003, 16643, 22348, 29632]","['Tom Barron', 'Goutham Pacha Ravi', 'Zuul', 'Carlos Eduardo']",netapp implement security service update patch implements support security service updates use share networks works activedirectory kerberos security service types types domain attribute update isnt supported yet since might affect users access related shares changeid i8556e4e2e05deb9b116eacbd5afe2f7c5d77b44b dependson i129a794dfd2d179fa2b9a2fed050459d6f00b0de implements bp netappsecurityserviceupdate coauthoredby carlos eduardo ceseduardo98gmailcom signedoffby douglas viroel viroelgmailcom
https://review.opendev.org/666231,Sync in security guide fixes and fix local,"Sync in security guide fixes and fix local Neutron.conf, in Ocata, has a multi valued string config option which ConfigParser treats as invalid INI. This change resovles that and allows it to parse. Closes-Bug: #1833368 Change-Id: I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53",20634,Chris MacNaughton,"[20634, 20648, 20870, 22348]","['Chris MacNaughton', 'Canonical CI', 'Alex Kavanagh', 'Zuul']",sync security guide fixes fix local neutronconf ocata multi valued string config option configparser treats invalid ini change resovles allows parse closesbug 1833368 changeid i838ca6e7bf505d316e0dd703a0a50a8bc2e16e53
https://review.opendev.org/665748,[IPv6] Fixing API security group test Adding changes for creating custom rules,[IPv6] Fixing API security group test Adding changes for creating custom rules Change-Id: I65fcb49cea4992382da46cce5b688f69406e27c1,22387,Deepthi Kandavara Jayarama,"[22348, 22387]","['Zuul', 'Deepthi Kandavara Jayarama']",ipv6 fixing api security group test adding changes creating custom rules changeid i65fcb49cea4992382da46cce5b688f69406e27c1
https://review.opendev.org/663812,Ingress: Fix security context for pod/container,"Revert ""Ingress: Add pod/container security context"" This reverts commit a0d67a11171ae70b2123c7a8ad1ed4ceced4d9b9. Change-Id: Icf7e29e95e0c3cf2bf71a22711a03218390c90cb",20106,Alexander Noskov,"[7769, 8749, 8898, 12281, 17591, 20106, 20466, 22259, 22348, 22477, 23928, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Alexander Noskov', 'Tin Lam', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",revert ingress add podcontainer security context reverts commit a0d67a11171ae70b2123c7a8ad1ed4ceced4d9b9 changeid icf7e29e95e0c3cf2bf71a22711a03218390c90cb
https://review.opendev.org/664964,Barbican: Add security context to chart and read-only-fs,"Barbican: Add security context to chart and read-only-fs This PS adds the security context macros to the barbican chart, and sets the default to read-only-rootfs Change-Id: I2dad0a50b23f2d202d6cd89b96d308321001fbe9",29161,Rahul Khiyani,"[8898, 22348, 22477]","['Chris Wedgwood', 'Zuul', 'Matt McEuen']",barbican add security context chart readonlyfs ps adds security context macros barbican chart sets default readonlyrootfs changeid i2dad0a50b23f2d202d6cd89b96d308321001fbe9
https://review.opendev.org/662334,ETCD: Add pod/container security context,[WIP]ETCD: Add pod/container security context This updates the etcd chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: I34a8ab3e850779192491b9b127a82b82f05fa00b,29161,Rahul Khiyani,"[8749, 9079, 17896, 22348, 22477, 26449, 28618, 29161]","['Evgeniy L', 'Sreejith P', 'Rick Bartra', 'Zuul', 'Matt McEuen', 'Scott Hussey', 'Drew Walters', 'Rahul Khiyani']",wipetcd add podcontainer security context updates etcd chart include pod security context pod template also adds container security context set readonlyrootfilesystem true changeid i34a8ab3e850779192491b9b127a82b82f05fa00b
https://review.opendev.org/651574,Haproxy: Add pod/container security context,Haproxy: Add pod/container security context This updates k8s chart to include the podsecurity context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: Ic823232fbbb3b0967047d88de81f6a2ee83dcd3e,29144,PRATEEK REDDY DODDA,"[7769, 8749, 8898, 17896, 20466, 22259, 22348, 22477, 23186, 23928, 24816, 26365, 26449, 26628, 26686, 27715, 28208, 28235, 28618, 28664, 29134, 29144, 29161, 29624, 30173]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Rick Bartra', 'Tin Lam', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Bryan Strassner', 'Scott Hussey', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Ahmad Mahmoudi', 'Sandeep Reddy Thumma', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Alexander Hughes', 'Ian Pittwood']",haproxy add podcontainer security context updates k8s chart include podsecurity context pod template also adds container security context set readonlyrootfilesystem true changeid ic823232fbbb3b0967047d88de81f6a2ee83dcd3e
https://review.opendev.org/635311,Allow sharing of security groups via RBAC mechanism,"DNM: Allow sharing of security groups via RBAC mechanism Neutron-lib api ref and tempest test reviews are being submitted at the same time to their respective repos. Marking DNS, because I think the list/show isn't quite flushed out yet. Change-Id: I974b0a603b6ca75cf080fb7b0751c7fb87df8443",10980,Doug Wiegley,"[4694, 7249, 9531, 9732, 9845, 10980, 11975, 16376, 22348, 26622]","['Miguel Lavalle', 'Ann Taraday', 'liuyulong', 'Mellanox CI', 'Arista CI', 'Doug Wiegley', 'Slawek Kaplonski', 'Intel NFV CI', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",dnm allow sharing security groups via rbac mechanism neutronlib api ref tempest test reviews submitted time respective repos marking dns think listshow isnt quite flushed yet changeid i974b0a603b6ca75cf080fb7b0751c7fb87df8443
https://review.opendev.org/650148,Ensure NP Security Group is update on pod events,"Ensure CRD Security Group is update on pod events When a pod event happens and a Network Policy with a named port is already being enforced, the CRD Security Group should be updated in case the pod is selected by any ingress/egress selector of that policy and contains a container port with same name as the one defined in the policy. Change-Id: Ia695306bed7835cefe101b579000f577136a5c07",27032,Maysa de Macedo Souza,"[6598, 11600, 14352, 14885, 22348, 23567, 27032]","['Berezovsky Irena', 'Micha? Dulko', 'Antoni Segura Puimedon', 'Daniel Mellado', 'Zuul', 'Luis Tomas Bolivar', 'Maysa de Macedo Souza']",ensure crd security group update pod events pod event happens network policy named port already enforced crd security group updated case pod selected ingressegress selector policy contains container port name one defined policy changeid ia695306bed7835cefe101b579000f577136a5c07
https://review.opendev.org/641964,Add UI for making security teams related to projects,Add UI for making security teams related to projects Change-Id: Ief2ad18b10ba51da7a42b2ebf88d9a4e4f98c630,16960,Adam Coldrick,"[5263, 16708, 22348]","['Jeremy Stanley', 'Kendall Nelson', 'Zuul']",add ui making security teams related projects changeid ief2ad18b10ba51da7a42b2ebf88d9a4e4f98c630
https://review.opendev.org/661411,Adding IPv6 provider security group tests,Adding IPv6 provider security group tests Change-Id: Id081ec0689c96466d93fe3596c71a7804138e992,22387,Deepthi Kandavara Jayarama,"[22348, 22387, 28451, 28732, 30111]","['Zuul', 'Deepthi Kandavara Jayarama', 'Shubham Kadam', 'Bharath bhushan Patel', 'Nilesh Lokhande']",adding ipv6 provider security group tests changeid id081ec0689c96466d93fe3596c71a7804138e992
https://review.opendev.org/663886,Move security group stack fixture to shared package,Move security group stack fixture to shared package Change-Id: I56cc623cb3a425bb1bc2ea2ac8619ee28a7b8e77,27329,Federico Ressi,"[22348, 27329]","['Zuul', 'Federico Ressi']",move security group stack fixture shared package changeid i56cc623cb3a425bb1bc2ea2ac8619ee28a7b8e77
https://review.opendev.org/661805,Ceph-client: Fix security context for pod/container,Ceph-client: Fix security context for pod/container This changes the user from root to the nobody user instead in ceph-client chart whereever needed Change-Id: I4c56b97f85093bbbaaef617f1981f67215a8bc00,29161,Rahul Khiyani,"[8749, 8898, 9079, 17591, 22348, 22477, 23928, 28372, 29132, 29161, 29974]","['Evgeniy L', 'Chris Wedgwood', 'Sreejith P', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'chinasubbareddy mallavarapu', 'Krishna Venkata', 'Rahul Khiyani', 'Stephen Taylor']",cephclient fix security context podcontainer changes user root nobody user instead cephclient chart whereever needed changeid i4c56b97f85093bbbaaef617f1981f67215a8bc00
https://review.opendev.org/661831,Ceph-mon: Fix security context for pod/container,Ceph-mon: Fix security context for pod/container This changes the user from root to the nobody user instead in ceph-mon chart whereever needed Change-Id: I5d3c1fbc8f983688807b73867773bfa2d83b91b3,29161,Rahul Khiyani,"[8749, 8898, 9079, 17591, 22348, 22477, 23928, 28372, 29132, 29161, 29974]","['Evgeniy L', 'Chris Wedgwood', 'Sreejith P', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'chinasubbareddy mallavarapu', 'Krishna Venkata', 'Rahul Khiyani', 'Stephen Taylor']",cephmon fix security context podcontainer changes user root nobody user instead cephmon chart whereever needed changeid i5d3c1fbc8f983688807b73867773bfa2d83b91b3
https://review.opendev.org/661796,Ceph-osd: Fix security context for pod/container,Ceph-osd: Fix security context for pod/container This changes the user from root to the nobody user instead in ceph-osd chart whereever needed This also permits read-only filesystems to back the containers by setting the default to true Change-Id: Ia777bf212e0e3414909c70a4bd839e12d4919bb2,29161,Rahul Khiyani,"[8749, 8898, 9079, 22348, 22477, 23928, 28372, 29132, 29161]","['Evgeniy L', 'Chris Wedgwood', 'Sreejith P', 'Zuul', 'Matt McEuen', 'Pete Birley', 'chinasubbareddy mallavarapu', 'Krishna Venkata', 'Rahul Khiyani']",cephosd fix security context podcontainer changes user root nobody user instead cephosd chart whereever needed also permits readonly filesystems back containers setting default true changeid ia777bf212e0e3414909c70a4bd839e12d4919bb2
https://review.opendev.org/661574,Document mitigation for Intel MDS security flaws,"Document mitigation for Intel MDS security flaws (MDS == ""Microarchitectural Data Sampling"") References: - https://access.redhat.com/security/vulnerabilities/mds - https://mdsattacks.com/ - https://zombieloadattack.com/ Change-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3 Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>",6962,Kashyap Chamarthy,"[5754, 6962, 10135, 14070, 14384, 15334, 15941, 16128, 16376, 22348, 23498, 26515]","['Alex Xu', 'Kashyap Chamarthy', 'Lee Yarwood', 'Eric Fried', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",document mitigation intel mds security flaws mds microarchitectural data sampling references httpsaccessredhatcomsecurityvulnerabilitiesmds httpsmdsattackscom httpszombieloadattackcom changeid i1bb472c3438cc9a91945999d2350b2c59fa6a1f3 signedoffby kashyap chamarthy kchamartredhatcom
https://review.opendev.org/653348,Disable add rules button when quotas are exceeded in security rule panel,Disable add rules button when quotas are exceeded in security rule panel Change-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555,27822,pengyuesheng,"[841, 1736, 22348, 23294, 27822, 29313]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Zuul', 'LiuFu', 'pengyuesheng', 'Vishal Manchanda']",disable add rules button quotas exceeded security rule panel changeid i662e5ca2bc4e36377cf9044d1f2759bbf6cbb555
https://review.opendev.org/453346,Canonicalize IPv6 ICMP protocol name in security groups,"Canonicalize ICMP protocol name in security groups Currently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be specified as an IPv6 ICMP protocol value. This can lead to duplicate entries in the DB for doing exactly the same thing. Change them all to be 'icmp' so this doesn't happen. ** Still need to work on squashing existing duplicates Change-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76 Particl-Bug: #1582500",1131,Brian Haley,"[3, 1131, 4187, 4694, 7249, 9732, 9845, 10385, 11975, 14571, 15752, 16376, 16688, 17776, 20330, 22348, 26622]","['Jenkins', 'Brian Haley', 'Ryan Tidwell', 'Miguel Lavalle', 'Ann Taraday', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Intel Experimental CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Rodolfo Alonso', 'Reedip', 'Microsoft Hyper-V Networking CI', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",canonicalize icmp protocol name security groups currently icmp ipv6icmp icmpv6 specified ipv6 icmp protocol value lead duplicate entries db exactly thing change icmp doesnt happen still need work squashing existing duplicates changeid i7cd146691dce1a690e1d2c309dfd54b4a0032f76 particlbug 1582500
https://review.opendev.org/642056,Add a security flag to Stories,"Add a security flag to Stories This is more specific than ""private"" and can therefore be sensibly used for automating ACLs based on projects/teams affected by the story. Change-Id: Ib8ff53d11ba3977b15d735cef420ac44fd9aa288 Story: 2000568 Task: 29891",16960,Adam Coldrick,"[5263, 16708, 16960, 22348]","['Jeremy Stanley', 'Kendall Nelson', 'Adam Coldrick', 'Zuul']",add security flag stories specific private therefore sensibly used automating acls based projectsteams affected story changeid ib8ff53d11ba3977b15d735cef420ac44fd9aa288 story 2000568 task 29891
https://review.opendev.org/656942,Ranger-Agent: Add pod/container security context,Ranger-Agent: Add pod/container security context This updates the Ranger chart to include the pod security context on the pod template Change-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366,29134,Sandeep Reddy Thumma,"[7769, 8749, 8898, 17591, 20466, 22348, 22477, 23928, 24999, 28235, 28849, 29131, 29134, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Hari', 'Aaron Sheffield', 'Meghan Heisler', 'diwakar thyagaraj', 'Sandeep Reddy Thumma', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",rangeragent add podcontainer security context updates ranger chart include pod security context pod template changeid i69f99d651a7d60f27c75f1718e894c84bcfea366
https://review.opendev.org/660387,Change IPv6 ICMP security group rule check,"Change IPv6 ICMP security group rule check A neutron change, https://review.opendev.org/#/c/453346/ is standardizing the protocol name for IPv6 ICMP in security group rules to be 'ipv6-icmp', even if 'icmp' or 'icmpv6' was passed during creation. Change the IPv6 ICMP test to use 'ipv6-icmp' as the protocol name when the ethertype is IPv6. Change-Id: I7c0e0caf67ab39743cdd7600dba099aecacd86db Partial-Bug: #1582500",1131,Brian Haley,"[1131, 4187, 5689, 8556, 11975, 22348]","['Brian Haley', 'Ryan Tidwell', 'Masayuki Igawa', 'Ghanshyam', 'Slawek Kaplonski', 'Zuul']",change ipv6 icmp security group rule check neutron change httpsreviewopendevorgc453346 standardizing protocol name ipv6 icmp security group rules ipv6icmp even icmp icmpv6 passed creation change ipv6 icmp test use ipv6icmp protocol name ethertype ipv6 changeid i7c0e0caf67ab39743cdd7600dba099aecacd86db partialbug 1582500
https://review.opendev.org/662633,NSXP: place project id in security rule tag,NSXP: place project id in security rule tag Change-Id: I9d3f9238c3f08d704ca495e5059f57b279c93271,13438,Kobi Samoray,"[9008, 13438, 20363, 22348, 24247]","['VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxp place project id security rule tag changeid i9d3f9238c3f08d704ca495e5059f57b279c93271
https://review.opendev.org/662962,Change openstack security group rule create CLI,Change openstack security group rule create CLI Change-Id: I74290f12f9c98cf7cb610e14611c90ec8739763e,29811,"WEN-SHENG,LI","[11600, 22348, 23567]","['Micha? Dulko', 'Zuul', 'Luis Tomas Bolivar']",change openstack security group rule create cli changeid i74290f12f9c98cf7cb610e14611c90ec8739763e
https://review.opendev.org/654612,Implement Security Context for Nova,Implement Security Context for Nova Implement container security context for the following Nova resources: - Nova server deployment Change-Id: I02743cff46d9a043ccb029547c819fafd9da3611,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17591, 20466, 22348, 22477, 23928, 29144, 29161]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",implement security context nova implement container security context following nova resources nova server deployment changeid i02743cff46d9a043ccb029547c819fafd9da3611
https://review.opendev.org/662521,Remove note in README regarding security hardened images,"Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens, not as TechPreview. Removing the section of README that indicates it is TechPreview. Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c (cherry picked from commit 37b74a670a8569566f5c928f80b46ae125d21d41)",21909,Bob Fournier,"[14985, 22348, 24245]","['Alex Schultz', 'Zuul', 'Harald Jensås']",remove note readme regarding security hardened images support security hardened images delivered queens techpreview removing section readme indicates techpreview changeid i579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c cherry picked commit 37b74a670a8569566f5c928f80b46ae125d21d41
https://review.opendev.org/662520,Remove note in README regarding security hardened images,"Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens, not as TechPreview. Removing the section of README that indicates it is TechPreview. Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c (cherry picked from commit 37b74a670a8569566f5c928f80b46ae125d21d41)",21909,Bob Fournier,"[14985, 22348]","['Alex Schultz', 'Zuul']",remove note readme regarding security hardened images support security hardened images delivered queens techpreview removing section readme indicates techpreview changeid i579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c cherry picked commit 37b74a670a8569566f5c928f80b46ae125d21d41
https://review.opendev.org/662519,Remove note in README regarding security hardened images,"Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens, not as TechPreview. Removing the section of README that indicates it is TechPreview. Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c (cherry picked from commit 37b74a670a8569566f5c928f80b46ae125d21d41)",21909,Bob Fournier,"[14985, 22348]","['Alex Schultz', 'Zuul']",remove note readme regarding security hardened images support security hardened images delivered queens techpreview removing section readme indicates techpreview changeid i579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c cherry picked commit 37b74a670a8569566f5c928f80b46ae125d21d41
https://review.opendev.org/656405,Ranger: Add pod/container security context,Ranger: Add pod/container security context This updates the Ranger chart to include the pod security context on the pod template Change-Id: I00304483de5109e75860bde826ed18370610e286,29134,Sandeep Reddy Thumma,"[7769, 8749, 8898, 17591, 20466, 22348, 22477, 23928, 24780, 24999, 26365, 26686, 28235, 28618, 28849, 29131, 29134, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Hari', 'Bryan Strassner', 'Craig Anderson', 'Aaron Sheffield', 'Drew Walters', 'Meghan Heisler', 'diwakar thyagaraj', 'Sandeep Reddy Thumma', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",ranger add podcontainer security context updates ranger chart include pod security context pod template changeid i00304483de5109e75860bde826ed18370610e286
https://review.opendev.org/660819,Remove note in README regarding security hardened images,"Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens, not as TechPreview. Removing the section of README that indicates it is TechPreview. Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c",21909,Bob Fournier,"[6133, 14985, 22348, 24245]","['yolanda.robla', 'Alex Schultz', 'Zuul', 'Harald Jensås']",remove note readme regarding security hardened images support security hardened images delivered queens techpreview removing section readme indicates techpreview changeid i579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c
https://review.opendev.org/661731,Compare port security groups as sets.,Compare port security groups as sets. Change-Id: Ifaf8dbf481b29db7ea203a669ba8a44b9720f4e8,27329,Federico Ressi,"[22348, 27329]","['Zuul', 'Federico Ressi']",compare port security groups sets changeid ifaf8dbf481b29db7ea203a669ba8a44b9720f4e8
https://review.opendev.org/660206,Change legacy security group rule check,"Change legacy security group rule check A neutron change, https://review.opendev.org/#/c/453346/ is standardizing the protocol name for IPv6 ICMP in security group rules to be 'ipv6-icmp', even if 'icmp' or 'icmpv6' was passed during creation. Change the API test to check against a list of possible values so it covers both old and new behaviors. Change-Id: I0ca8d743ca56f7d67ef8c1ae45ca518bd6e6dc35 Partial-Bug: #1582500",1131,Brian Haley,"[1131, 4187, 4694, 11975, 22348]","['Brian Haley', 'Ryan Tidwell', 'Miguel Lavalle', 'Slawek Kaplonski', 'Zuul']",change legacy security group rule check neutron change httpsreviewopendevorgc453346 standardizing protocol name ipv6 icmp security group rules ipv6icmp even icmp icmpv6 passed creation change api test check list possible values covers old new behaviors changeid i0ca8d743ca56f7d67ef8c1ae45ca518bd6e6dc35 partialbug 1582500
https://review.opendev.org/780137,Update images to pass security scan,Update images to pass security scan Change-Id: Ibd06325074805d80f2043e108ed212ac14e2b75a,6507,Shturm Svetlana,"[20466, 22348, 33020]","['Tin Lam', 'Zuul', 'Danny Massa']",update images pass security scan changeid ibd06325074805d80f2043e108ed212ac14e2b75a
https://review.opendev.org/782255,Fix LB failover for amphorav2: set security group,"Fix LB failover for amphorav2: set security group Fix for the issue that an amphorav2 LB cannot be reached after loadbalancer failover. The LB security group in was not set in the amphora port. Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the security group id (v1 already did). The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup which is supposed to provide VIP_SG_ID, which is later needed in get_amphora_for_lb_failover_subflow as a requirement for CreateVIPBasePort. Story: 2008735 Task: 42087 Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc",31976,Bodo Petermann,"[10273, 22348, 29244]","['Adam Harwell', 'Zuul', 'Gregory Thiemonge']",fix lb failover amphorav2 set security group fix issue amphorav2 lb reached loadbalancer failover lb security group set amphora port fixed v2 variant updatevipsecuritygroup actually return security group id v1 already flow created getfailoverlbflow uses updatevipsecuritygroup supposed provide vipsgid later needed getamphoraforlbfailoversubflow requirement createvipbaseport story 2008735 task 42087 changeid i1bb334ef0c11a79038b21a873a6675d76b0fbefc
https://review.opendev.org/649701,Divide-and-conquer security group beasts,"Divide-and-conquer security group beasts In one specific compute node, the security group rules can be enormous quantity. This patch adds a step-by-step processing method to deal with the large number of the security group rules. And also changes or adds some LOG. Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constants.py neutron/agent/common/ovs_lib.py Conflicts: neutron/agent/securitygroups_rpc.py neutron/common/constants.py neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py Conflicts: neutron/agent/common/ovs_lib.py neutron/common/constants.py Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b) (cherry picked from commit f5d110e15f60753d056da942414ca6ecd6b78d8a) (cherry picked from commit 5424b9a68cb3ac1fcc04ed8ae603c421bde2dee3)",7016,Swaminathan Vasudevan,"[1131, 7016, 9531, 16376, 21798, 22348, 25257, 26622, 30103]","['Brian Haley', 'Swaminathan Vasudevan', 'liuyulong', 'Intel NFV CI', 'Bernard Cafarelli', 'Zuul', 'limeng', 'Cloudbase Neutron Hyper-V CI', 'xiaosa']",divideandconquer security group beasts one specific compute node security group rules enormous quantity patch adds stepbystep processing method deal large number security group rules also changes adds log relatedbug 1813703 relatedbug 1813704 relatedbug 1813707 conflicts neutroncommonconstantspy neutronagentcommonovslibpy conflicts neutronagentsecuritygroupsrpcpy neutroncommonconstantspy neutronpluginsml2driversopenvswitchagentovsneutronagentpy conflicts neutronagentcommonovslibpy neutroncommonconstantspy changeid i57bf27ec75cf848271c5a28b22beee12b8bd5faa cherry picked commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b cherry picked commit f5d110e15f60753d056da942414ca6ecd6b78d8a cherry picked commit 5424b9a68cb3ac1fcc04ed8ae603c421bde2dee3
https://review.opendev.org/650525,Use dynamic lazy mode for fetching security group rules,"Use dynamic lazy mode for fetching security group rules In conjunction with the prior fix to only get a subset of fields when needed, this makes the querying of non-rules SG objects very very fast. Before the two fixes, if you have about ten security groups with 2000 rules each: list all: 14s list all, just 'id' field: 14s list one: 0.6s list one, just 'id' field: 0.6s With just the previous partial fix: list all: 14s list all, just 'id' field: 6s list one: 0.6s list one, just 'id' field: 0.2s Now with this change: list all: 14s list all, just 'id' field: 0.04s list one: 0.6s list one, just 'id' field: 0.03s Closes-Bug: #1810563 Change-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954 (cherry picked from commit 1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651)",10980,Doug Wiegley,"[4694, 9732, 10980, 21798, 22348, 26622]","['Miguel Lavalle', 'Mellanox CI', 'Doug Wiegley', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",use dynamic lazy mode fetching security group rules conjunction prior fix get subset fields needed makes querying nonrules sg objects fast two fixes ten security groups 2000 rules list 14s list id field 14s list one 06s list one id field 06s previous partial fix list 14s list id field 6s list one 06s list one id field 02s change list 14s list id field 004s list one 06s list one id field 003s closesbug 1810563 changeid i15df276ba7dbcb3763ab20b63b26cddf2d594954 cherry picked commit 1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651
https://review.opendev.org/650517,Use dynamic lazy mode for fetching security group rules,"Use dynamic lazy mode for fetching security group rules In conjunction with the prior fix to only get a subset of fields when needed, this makes the querying of non-rules SG objects very very fast. Before the two fixes, if you have about ten security groups with 2000 rules each: list all: 14s list all, just 'id' field: 14s list one: 0.6s list one, just 'id' field: 0.6s With just the previous partial fix: list all: 14s list all, just 'id' field: 6s list one: 0.6s list one, just 'id' field: 0.2s Now with this change: list all: 14s list all, just 'id' field: 0.04s list one: 0.6s list one, just 'id' field: 0.03s Closes-Bug: #1810563 Change-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954 (cherry picked from commit 1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651)",10980,Doug Wiegley,"[4694, 9732, 10980, 16688, 21798, 22348, 26622]","['Miguel Lavalle', 'Mellanox CI', 'Doug Wiegley', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",use dynamic lazy mode fetching security group rules conjunction prior fix get subset fields needed makes querying nonrules sg objects fast two fixes ten security groups 2000 rules list 14s list id field 14s list one 06s list one id field 06s previous partial fix list 14s list id field 6s list one 06s list one id field 02s change list 14s list id field 004s list one 06s list one id field 003s closesbug 1810563 changeid i15df276ba7dbcb3763ab20b63b26cddf2d594954 cherry picked commit 1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651
https://review.opendev.org/659588,Change to use non-deprecated security group rule syntax,"Change to use non-deprecated security group rule syntax --src-ip and --src-group were deprecated in 2016, change to use --remote-ip and --remote-group, respectively. Related to https://review.opendev.org/#/c/659400/ Change-Id: Ie609380b130410e3548eeacffd72871c6b5722ea",1131,Brian Haley,"[9414, 16137, 22348, 23181]","['zhongshengping', 'Tobias Urdin', 'Zuul', 'RDO Third Party CI']",change use nondeprecated security group rule syntax srcip srcgroup deprecated 2016 change use remoteip remotegroup respectively related httpsreviewopendevorgc659400 changeid ie609380b130410e3548eeacffd72871c6b5722ea
https://review.opendev.org/657164,Add remote_ip_prefix on security group rule,Add remote_ip_prefix on security group rule Specify 'remote_ip_prefix' as '0.0.0.0/0' on creating security group rule for exposing ports. Change-Id: I6a5824090ab2ca5cbfc7f7e446bc8596dca8809c,11536,hongbin,"[11536, 22348, 23365]","['hongbin', 'Zuul', 'feng.shengqin']",add remoteipprefix security group rule specify remoteipprefix 00000 creating security group rule exposing ports changeid i6a5824090ab2ca5cbfc7f7e446bc8596dca8809c
https://review.opendev.org/656710,Postgresql: Fix security context,Postgresql: Fix security context This PS fixes the use of the security context macros for the postgresql chart Change-Id: I7d5080686e98837b95297b9a33e7241c79193830,29161,Rahul Khiyani,"[7769, 8749, 8898, 17966, 20466, 22348, 22477, 23928, 28543, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steven Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Vieri', 'Rahul Khiyani']",postgresql fix security context ps fixes use security context macros postgresql chart changeid i7d5080686e98837b95297b9a33e7241c79193830
https://review.opendev.org/654642,Grafana: Add security context to chart and read-only-fs,"Kibana: Add security context to chart and read-only-fs This PS adds the security context macros to the Kibana chart, and moves the default to read-only-rootfs for all containers Change-Id: Ie79e3bfc6af07b16cd53eddae17eceac3d9f8613",29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928, 29161]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",kibana add security context chart readonlyfs ps adds security context macros kibana chart moves default readonlyrootfs containers changeid ie79e3bfc6af07b16cd53eddae17eceac3d9f8613
https://review.opendev.org/655291,ceph-osd: Fix security context,ceph-osd: Fix security context This PS fixes the use of the security context macros for the ceph-osd chart Change-Id: I75cb057d08831fb39e9846fbab53e3ee6e113ada,29161,Rahul Khiyani,"[7769, 8749, 8898, 17591, 22348, 22477, 23928, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",cephosd fix security context ps fixes use security context macros cephosd chart changeid i75cb057d08831fb39e9846fbab53e3ee6e113ada
https://review.opendev.org/654790,ceph-mon: Fix security context,ceph-mon: Fix security context This PS fixes the use of the security context macros for the ceph-mon chart. Change-Id: Ibde448481c44f2753ddfe57e590ea7d05671793a,29161,Rahul Khiyani,"[7769, 8749, 8898, 17966, 22348, 22477, 23928, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steven Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",cephmon fix security context ps fixes use security context macros cephmon chart changeid ibde448481c44f2753ddfe57e590ea7d05671793a
https://review.opendev.org/653508,prometheus-process-exporter: Add pod/container security context,prometheus-process-exporter: Add pod/container security context This updates the prometheus-process-exporter chart to include the pod security context on the pod template. This changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I623227f9f9c878a8e7745f46f2cc77f6904005fb,29161,Rahul Khiyani,"[8749, 8898, 17966, 22348, 22477, 23928, 24780, 29161]","['Evgeniy L', 'Chris Wedgwood', 'Steven Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Rahul Khiyani']",prometheusprocessexporter add podcontainer security context updates prometheusprocessexporter chart include pod security context pod template changes pods user root nobody user instead also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid i623227f9f9c878a8e7745f46f2cc77f6904005fb
https://review.opendev.org/657830,OVSvApp Security Group Changes,OVSvApp Security Group Changes 1. OVSvApp Security Group Agent no longer override the security_group_*_updated methods from neutron's SecurityGroupAgentRpc. 2. Neutron DB may report ports having more than one port bindings. So ovsvapp routines that process port info needs accomodate the new structure. Closes-bug: #1825421 Change-Id: I4a09731751d31f469b16477b3481aa6c001a6a5b (cherry picked from commit 82ae4151c61c87df6cba35bb3f64381967a2cb17),6876,stephen-ma,"[6876, 7016, 13770, 22348]","['stephen-ma', 'Swaminathan Vasudevan', 'Adolfo Duarte', 'Zuul']",ovsvapp security group changes 1 ovsvapp security group agent longer override securitygroupupdated methods neutrons securitygroupagentrpc 2 neutron db may report ports one port bindings ovsvapp routines process port info needs accomodate new structure closesbug 1825421 changeid i4a09731751d31f469b16477b3481aa6c001a6a5b cherry picked commit 82ae4151c61c87df6cba35bb3f64381967a2cb17
https://review.opendev.org/653826,OVSvApp Security Group Changes,OVSvApp Security Group Changes 1. OVSvApp Security Group Agent no longer override the security_group_*_updated methods from neutron's SecurityGroupAgentRpc. 2. Neutron DB may report ports having more than one port bindings. So ovsvapp routines that process port info needs accomodate the new structure. Change-Id: I4a09731751d31f469b16477b3481aa6c001a6a5b,6876,stephen-ma,"[6876, 7016, 13770, 22348]","['stephen-ma', 'Swaminathan Vasudevan', 'Adolfo Duarte', 'Zuul']",ovsvapp security group changes 1 ovsvapp security group agent longer override securitygroupupdated methods neutrons securitygroupagentrpc 2 neutron db may report ports one port bindings ovsvapp routines process port info needs accomodate new structure changeid i4a09731751d31f469b16477b3481aa6c001a6a5b
https://review.opendev.org/651417,controller_manager: Add pod/container security context,controller_manager: Add pod/container security context This updates the controller_manager chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: Icee324ef7ddbd230c7c99f4dc284e2866d9acf1a,29161,Rahul Khiyani,"[7769, 8749, 8898, 22348, 22477, 23186, 23928, 26365, 26449, 26628, 26686, 27715, 28208, 28235, 28618, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Bryan Strassner', 'Scott Hussey', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",controllermanager add podcontainer security context updates controllermanager chart include pod security context pod template also adds container security context set readonlyrootfilesystem true changeid icee324ef7ddbd230c7c99f4dc284e2866d9acf1a
https://review.opendev.org/655593,Fix the bug of deleting security group after testing changing password.,"Fix the bug of deleting a security group after testing changing password. Before deleting a security group, adding the logic of remove the security group from instance. Change-Id: I3d4a3816196f42af3ea3f891473d09208651ae68",26617,zhangyangyang,"[5689, 20190, 22348, 26617]","['Masayuki Igawa', 'zhufl', 'Zuul', 'zhangyangyang']",fix bug deleting security group testing changing password deleting security group adding logic remove security group instance changeid i3d4a3816196f42af3ea3f891473d09208651ae68
https://review.opendev.org/655780,Bug:2333131 Adding updated policy path for port security and security group,Bug:2333131 Adding updated policy path for port security and security group Change-Id: I86c3d1cdfb8febb30359943c699f7de73edbee7b,22387,Deepthi Kandavara Jayarama,"[22348, 22387, 28451]","['Zuul', 'Deepthi Kandavara Jayarama', 'Shubham Kadam']",bug2333131 adding updated policy path port security security group changeid i86c3d1cdfb8febb30359943c699f7de73edbee7b
https://review.opendev.org/654809,Ceph-provisioners: Fix security context,Ceph-provisioners: Fix security context This PS fixes the use of the security context macros for the ceph-provisioners chart Change-Id: Iddeb643139f2e7798282e67e319f38d3a22cd10d,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928, 29161]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",cephprovisioners fix security context ps fixes use security context macros cephprovisioners chart changeid iddeb643139f2e7798282e67e319f38d3a22cd10d
https://review.opendev.org/654689,Elasticsearch: Fix security context,Elasticsearch: Fix security context This PS fixes the use of the security context macros for the elasticsearch chart. Change-Id: I85a37aa4dec88222107323f17d10e5ff29f41648,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley']",elasticsearch fix security context ps fixes use security context macros elasticsearch chart changeid i85a37aa4dec88222107323f17d10e5ff29f41648
https://review.opendev.org/653799,Ingress: Add pod/container security context,"Ingress: Add pod/container security context - deployment-error.yaml - deployment-ingress.yaml This updates the ingress-error chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true removing readOnlyRootFilesystem flag for ingress since pods are running to ""crashLoopBackOff"" state by implementing HTK functionality Change-Id: I28171d529a27c3f203b02c031a6cf289fcc5f3e6",29161,Rahul Khiyani,"[7769, 8749, 8898, 17591, 22348, 22477, 23928, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",ingress add podcontainer security context deploymenterroryaml deploymentingressyaml updates ingresserror chart include pod security context pod template also adds container security context set readonlyrootfilesystem true removing readonlyrootfilesystem flag ingress since pods running crashloopbackoff state implementing htk functionality changeid i28171d529a27c3f203b02c031a6cf289fcc5f3e6
https://review.opendev.org/655184,Allow configuring security options,Allow configuring security options Change-Id: I27c202344c1e8be5f0e0da710c8fb18f0bc398b9 (cherry picked from commit 9b8c252b75572b8b4b80c419de913d11c7236983),3153,Emilien Macchi,"[360, 3153, 10873, 14985, 22348, 23181]","['Dan Prince', 'Emilien Macchi', 'Juan Antonio Osorio Robles', 'Alex Schultz', 'Zuul', 'RDO Third Party CI']",allow configuring security options changeid i27c202344c1e8be5f0e0da710c8fb18f0bc398b9 cherry picked commit 9b8c252b75572b8b4b80c419de913d11c7236983
https://review.opendev.org/654656,Fluent-logging: Fix security context,Fluent-logging: Fix security context This PS fixes the use of the security context macros for the fluent-logging chart. Change-Id: I2cd12015732bddb642136ba14f88ed2c248d519d,29161,Rahul Khiyani,"[8898, 17591, 22348, 23928, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley', 'Rahul Khiyani']",fluentlogging fix security context ps fixes use security context macros fluentlogging chart changeid i2cd12015732bddb642136ba14f88ed2c248d519d
https://review.opendev.org/654607,Memcached: Fix security context,Memcached: Fix security context This PS adds the missing allowPrivilegeEscalation flag in container securityContext Change-Id: Ie10951bd43de563fec09795feedc0050dcd4ebbe,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley']",memcached fix security context ps adds missing allowprivilegeescalation flag container securitycontext changeid ie10951bd43de563fec09795feedc0050dcd4ebbe
https://review.opendev.org/653163,[Policy] Converting port security tests to policy,[Policy] Converting port security tests to policy Change-Id: Ib7b35c1bb898203ed2ff5937c8652338dfdc9b47,22387,Deepthi Kandavara Jayarama,"[22348, 22387]","['Zuul', 'Deepthi Kandavara Jayarama']",policy converting port security tests policy changeid ib7b35c1bb898203ed2ff5937c8652338dfdc9b47
https://review.opendev.org/554542,Allow configuring security options,Allow configuring security options Change-Id: I27c202344c1e8be5f0e0da710c8fb18f0bc398b9,10873,Juan Antonio Osorio Robles,"[3153, 4571, 6926, 6928, 8042, 10873, 13039, 22348, 23181, 23811]","['Emilien Macchi', 'Steve Baker', 'Bogdan Dobrelya', 'Ben Nemec', 'Ji?í Stránský', 'Juan Antonio Osorio Robles', 'Martin André', 'Zuul', 'RDO Third Party CI', 'Oliver Walsh']",allow configuring security options changeid i27c202344c1e8be5f0e0da710c8fb18f0bc398b9
https://review.opendev.org/654581,prometheus: Fix security context,prometheus: Fix security context This PS fixes the use of the security context macros for the prometheus chart. Change-Id: I0abb309132a9954a140cbf76463724c5e2c7c5f3,29161,Rahul Khiyani,"[8898, 22348, 23928]","['Chris Wedgwood', 'Zuul', 'Pete Birley']",prometheus fix security context ps fixes use security context macros prometheus chart changeid i0abb309132a9954a140cbf76463724c5e2c7c5f3
https://review.opendev.org/654558,prometheus-alertmanager: Fix security context,prometheus-alertmanager: Fix security context This PS fixes the pod application name and also adds security context to initcontainer Change-Id: Ia7cd5057247b0a07f88406259d41601659688f1a,29161,Rahul Khiyani,"[7769, 8898, 17966, 22348, 22477, 23928, 29161]","['Pentheus', 'Chris Wedgwood', 'Steven Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",prometheusalertmanager fix security context ps fixes pod application name also adds security context initcontainer changeid ia7cd5057247b0a07f88406259d41601659688f1a
https://review.opendev.org/654486,prometheus-kube-state-metrics: Fix security context,prometheus-kube-state-metrics: Fix security context This PS fixes the application name to holistic manner Change-Id: Ib68c6fc114962fd53a5fcd2ce9e79bfefd5d94a3,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928, 29161]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",prometheuskubestatemetrics fix security context ps fixes application name holistic manner changeid ib68c6fc114962fd53a5fcd2ce9e79bfefd5d94a3
https://review.opendev.org/654479,prometheus-node-exporter: Fix security context,prometheus-node-exporter: Fix security context This PS fixes the use of the security context macros for the node-exporter chart. Change-Id: I7009a5675096036ac9f214d70c853830b7132264,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley']",prometheusnodeexporter fix security context ps fixes use security context macros nodeexporter chart changeid i7009a5675096036ac9f214d70c853830b7132264
https://review.opendev.org/654311,Nagios: Fix security context,Nagios: Fix security context This PS fixes the use of the security context macros for the nagios chart. Change-Id: Ibe7ca7b87153f4e5535b9c8b1bf1ba63edb5e3af,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928, 29161]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",nagios fix security context ps fixes use security context macros nagios chart changeid ibe7ca7b87153f4e5535b9c8b1bf1ba63edb5e3af
https://review.opendev.org/654271,Kibana: Fix security context,Kibana: Fix security context This PS fixes the use of the security context macros for the Kibana chart. Change-Id: Iaad821ac3df7e42eb52ba2f274fe47e4847d30af,29161,Rahul Khiyani,"[7769, 8898, 17591, 20466, 22348, 22477, 23928, 29161]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",kibana fix security context ps fixes use security context macros kibana chart changeid iaad821ac3df7e42eb52ba2f274fe47e4847d30af
https://review.opendev.org/654473,prometheus-openstack-exporter: Fix security context,prometheus-openstack-exporter: Fix security context This PS fixes the use of the security context macros for the openstack-exporter chart. Change-Id: I91e9f6810442477c167a07e2d8ffa4f01beb66d3,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley']",prometheusopenstackexporter fix security context ps fixes use security context macros openstackexporter chart changeid i91e9f6810442477c167a07e2d8ffa4f01beb66d3
https://review.opendev.org/648554,ceph-rgw: Add pod/container security context,ceph-rgw: Add pod/container security context This updates the ceph-rgw chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ic75a1decfe156e1e8aa2ebe38238f6b77abb71f8,29161,Rahul Khiyani,"[8898, 17591, 22348, 22477, 23928, 24780, 29144, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",cephrgw add podcontainer security context updates cephrgw chart include pod security context pod template also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid ic75a1decfe156e1e8aa2ebe38238f6b77abb71f8
https://review.opendev.org/654275,Libvirt: Fix security context,Libvirt: Fix security context This PS fixes the use of the security context macros for the libvirt chart. Change-Id: I3340742a0eaf9cffa9263642fd2b987363128ed5,29161,Rahul Khiyani,"[7769, 8898, 17591, 22348, 22477, 23928, 29161]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani']",libvirt fix security context ps fixes use security context macros libvirt chart changeid i3340742a0eaf9cffa9263642fd2b987363128ed5
https://review.opendev.org/781902,Update security sig frequency and chair,"Update security sig frequency and chair This change updates the security sig irc meeting details, both the chair to the current chair and the meeting frequency to the new proposed monthly, keeping the same time/day. Change-Id: I13ef2f0808184f242fecac623cb40e63a13a6542",21420,Gage Hugo,"[5263, 22348]","['Jeremy Stanley', 'Zuul']",update security sig frequency chair change updates security sig irc meeting details chair current chair meeting frequency new proposed monthly keeping timeday changeid i13ef2f0808184f242fecac623cb40e63a13a6542
https://review.opendev.org/774407,Don't try to create default SG when security groups are disabled,"Don't try to create default SG when security groups are disabled If security group API is disabled, there is no point to create default security group for tenant when e.g. network is created. Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)",11975,Slawek Kaplonski,"[1131, 5948, 9373, 16688, 21798, 22348]","['Brian Haley', 'Oleg Bondarev', 'Vlad Gusev', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",dont try create default sg security groups disabled security group api disabled point create default security group tenant eg network created closesbug 1913297 changeid ib73babdd563e3e8c21ce6f63456cc87af414c5aa cherry picked commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae
https://review.opendev.org/645881,Registry: Add pod/container security context,Registry: Add pod/container security context This updates the registry chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false Change-Id: I36b6a2cf291dda2f991843c07ba116f3bf936d03,29161,Rahul Khiyani,"[7769, 8749, 8898, 17591, 22348, 22477, 23928, 24780, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",registry add podcontainer security context updates registry chart include pod security context pod template also adds container security context set allowprivilegeescalation false changeid i36b6a2cf291dda2f991843c07ba116f3bf936d03
https://review.opendev.org/654234,Ceph-Client: Add security context to chart and read-only-fs,"Ceph-Client: Add security context to ceph-client chart and read-only-fs This PS adds the security context macros to the ceph-client chart, and moves the default to read-only-rootfs for all containers. Change-Id: I2fe03f31cc59e1cda2bf0396ae6e3aca5c440a16 Signed-off-by: Pete Birley <pete@port.direct>",23928,Pete Birley,"[17591, 20466, 22348, 23928, 29161]","['Steve Wilkerson', 'Tin Lam', 'Zuul', 'Pete Birley', 'Rahul Khiyani']",cephclient add security context cephclient chart readonlyfs ps adds security context macros cephclient chart moves default readonlyrootfs containers changeid i2fe03f31cc59e1cda2bf0396ae6e3aca5c440a16 signedoffby pete birley peteportdirect
https://review.opendev.org/654232,Calico: Fix security context,Calico: Fix security context Change-Id: I2ed8a5e994726b625d76a2c308895441c7d174a9 Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,"[17591, 20466, 22348, 23928]","['Steve Wilkerson', 'Tin Lam', 'Zuul', 'Pete Birley']",calico fix security context changeid i2ed8a5e994726b625d76a2c308895441c7d174a9 signedoffby pete birley peteportdirect
https://review.opendev.org/653944,OpenvSwitch: use security context macros,"OpenvSwitch: use security context macros This PS updates to use security context macros from HTK, in line with other charts. Change-Id: I5ca0af17eccc4856baef871cf199554aad075ebe Signed-off-by: Pete Birley <pete@port.direct>",23928,Pete Birley,"[8898, 17591, 22348]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul']",openvswitch use security context macros ps updates use security context macros htk line charts changeid i5ca0af17eccc4856baef871cf199554aad075ebe signedoffby pete birley peteportdirect
https://review.opendev.org/647282,Postgresql-exporter: Add security context for pod/container,"Postgresql-exporter: Add security context for pod/container This adds a security context to the postgresql exporter, which changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ibe49f77ed2d0a588b5abe175318edd1c82a57cca",29161,Rahul Khiyani,"[7769, 8749, 8898, 17591, 22348, 22477, 23928, 24780, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",postgresqlexporter add security context podcontainer adds security context postgresql exporter changes pods user root nobody user instead also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid ibe49f77ed2d0a588b5abe175318edd1c82a57cca
https://review.opendev.org/644291,Prometheus: Add pod/container security context,Prometheus: Add pod/container security context This updates the prometheus chart to include the pod security context on the pod template. This changes the pod's user from root to the nobody user instead This also adds the container security context to explicitly set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I2a3a4b77d9b25c086dc23b4fd66dca92872c422d,29161,Rahul Khiyani,"[7769, 8749, 8898, 17591, 22348, 22477, 23928, 24780, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",prometheus add podcontainer security context updates prometheus chart include pod security context pod template changes pods user root nobody user instead also adds container security context explicitly set allowprivilegeescalation false readonlyrootfilesystem true changeid i2a3a4b77d9b25c086dc23b4fd66dca92872c422d
https://review.opendev.org/653868,Enhance updating a group and security policy,Enhance updating a group and security policy - Allow updating a group and conditions in a single request - Allow updating a security policy with entries in a single request Change-Id: Ifb643365a0072e4b7094d09b0a632a2e3a1306b0 (cherry picked from commit e55f95e2904454ee782461438d9e790659f44956),24247,Anna Khmelnitsky,"[9008, 17734, 22348, 24247]","['VMware NSX CI', 'Shih-Hao Li', 'Zuul', 'Anna Khmelnitsky']",enhance updating group security policy allow updating group conditions single request allow updating security policy entries single request changeid ifb643365a0072e4b7094d09b0a632a2e3a1306b0 cherry picked commit e55f95e2904454ee782461438d9e790659f44956
https://review.opendev.org/652173,Enhance updating a group and security policy,Enhance updating a group and security policy - Allow updating a group and conditions in a single request - Allow updating a security policy with entries in a single request Change-Id: Ifb643365a0072e4b7094d09b0a632a2e3a1306b0,17734,Shih-Hao Li,"[7018, 9008, 20363, 22348, 24247]","['Abhishek Raut', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",enhance updating group security policy allow updating group conditions single request allow updating security policy entries single request changeid ifb643365a0072e4b7094d09b0a632a2e3a1306b0
https://review.opendev.org/645875,Neutron: Add pod/container security context,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: I221bdb54b1e94e4089fb079f161dcb4de4dd3571,29144,PRATEEK REDDY DODDA,"[7769, 8749, 8898, 17591, 20466, 22348, 22477, 23928, 29144, 29161]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",implement security context neutron implement container security context following neutron resources neutron server deployment changeid i221bdb54b1e94e4089fb079f161dcb4de4dd3571
https://review.opendev.org/651416,Promenade: Add security context for pod/container,"Promenade: Add security context for pod/container This adds a security context to the promenade chart, which changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I269d034f6f8a1c14f2897bb375e899abc99e0c01",29161,Rahul Khiyani,"[7769, 8749, 22348, 22477, 23186, 23928, 26365, 26449, 26628, 26686, 27715, 28208, 28235, 28618, 29161]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Bryan Strassner', 'Scott Hussey', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Rahul Khiyani']",promenade add security context podcontainer adds security context promenade chart changes pods user root nobody user instead also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid i269d034f6f8a1c14f2897bb375e899abc99e0c01
https://review.opendev.org/647555,ceph-provisioners: Add pod/container security context,ceph-provisioners: Add pod/container security context This updates the ceph-provisioners chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Iee49ffe17f2cd08fc978461269b654d3b2cb4406,29161,Rahul Khiyani,"[8898, 17591, 20466, 22348, 22477, 23928, 24780, 28935, 29131, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', '98k', 'diwakar thyagaraj', 'Rahul Khiyani']",cephprovisioners add podcontainer security context updates cephprovisioners chart include pod security context pod template also adds container security context set allowprivilegeescalation false readonlyrootfilesystem true changeid iee49ffe17f2cd08fc978461269b654d3b2cb4406
https://review.opendev.org/645884,Tiller: Add pod/container security context,Tiller: Add pod/container security context This updates the tiller chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false Change-Id: Ic0d87ba2e933444ebe8a6d59d7bb74aae81a051d,29161,Rahul Khiyani,"[8898, 17591, 22348, 22477, 23928, 24780, 29131, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'diwakar thyagaraj', 'Rahul Khiyani']",tiller add podcontainer security context updates tiller chart include pod security context pod template also adds container security context set allowprivilegeescalation false changeid ic0d87ba2e933444ebe8a6d59d7bb74aae81a051d
https://review.opendev.org/649198,elasticsearch-exporter: Add security context for exporter pod/container,elasticsearch-exporter: Add security context for exporter pod/container This adds the security context snippet for the elasticsearch prometheus exporter container to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ia80aa9cfc837073fae0a884de5245764147d7ded,29161,Rahul Khiyani,"[8898, 17591, 22348, 22477, 23928, 24780]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta']",elasticsearchexporter add security context exporter podcontainer adds security context snippet elasticsearch prometheus exporter container set allowprivilegeescalation false readonlyrootfilesystem true changeid ia80aa9cfc837073fae0a884de5245764147d7ded
https://review.opendev.org/652723,Set random security policy rule id if not set in build_entry,Set random security policy rule id if not set in build_entry Change-Id: I4fde9dba80b78d841cad9d48ae1dcc80718adcaa (cherry picked from commit adadd2a94790cec1dced544f478d12523d71c236),20363,Adit Sarfaty,"[7018, 9008, 22348, 24247]","['Abhishek Raut', 'VMware NSX CI', 'Zuul', 'Anna Khmelnitsky']",set random security policy rule id set buildentry changeid i4fde9dba80b78d841cad9d48ae1dcc80718adcaa cherry picked commit adadd2a94790cec1dced544f478d12523d71c236
https://review.opendev.org/651434,Set random security policy rule id if not set in build_entry,Set random security policy rule id if not set in build_entry Change-Id: I4fde9dba80b78d841cad9d48ae1dcc80718adcaa,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247, 27546]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky', 'Michal Kelner Mishali']",set random security policy rule id set buildentry changeid i4fde9dba80b78d841cad9d48ae1dcc80718adcaa
https://review.opendev.org/651435,NSX|P: Fix removal of provider security groups from port,NSX|P: Fix removal of provider security groups from port Change-Id: I74e39328858fe91515f7796d3bef80de934843c4,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp fix removal provider security groups port changeid i74e39328858fe91515f7796d3bef80de934843c4
https://review.opendev.org/650634,NSX|P: Fix removal of provider security groups from port,NSX|P: Fix removal of provider security groups from port Change-Id: I74e39328858fe91515f7796d3bef80de934843c4,20363,Adit Sarfaty,"[9008, 20363, 22348, 27546]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",nsxp fix removal provider security groups port changeid i74e39328858fe91515f7796d3bef80de934843c4
https://review.opendev.org/651045,Fix update_entries in security policy,"Fix update_entries in security policy When updating entries in a security policy, if there are old entries in the update list, we need to preserve the attributes of those old entries (such as revision) in the update request. Otherwise MP will complain rule already exists. Change-Id: Ia9a30c725f1c9d83d5370216d4b87e493ad6c84b (cherry picked from commit e88d308651e1af06c9320fa28ce1a44be61eaa5f)",17734,Shih-Hao Li,"[7018, 9008, 20363, 22348]","['Abhishek Raut', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",fix updateentries security policy updating entries security policy old entries update list need preserve attributes old entries revision update request otherwise mp complain rule already exists changeid ia9a30c725f1c9d83d5370216d4b87e493ad6c84b cherry picked commit e88d308651e1af06c9320fa28ce1a44be61eaa5f
https://review.opendev.org/649365,Divide-and-conquer security group beasts,"Divide-and-conquer security group beasts In one specific compute node, the security group rules can be enormous quantity. This patch adds a step-by-step processing method to deal with the large number of the security group rules. And also changes or adds some LOG. Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constants.py Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b)",9531,liuyulong,"[1131, 7016, 9373, 9531, 21798, 22348, 26622]","['Brian Haley', 'Swaminathan Vasudevan', 'Vlad Gusev', 'liuyulong', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",divideandconquer security group beasts one specific compute node security group rules enormous quantity patch adds stepbystep processing method deal large number security group rules also changes adds log relatedbug 1813703 relatedbug 1813704 relatedbug 1813707 conflicts neutroncommonconstantspy changeid i57bf27ec75cf848271c5a28b22beee12b8bd5faa cherry picked commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b
https://review.opendev.org/650518,Fix update_entries in security policy,"Fix update_entries in security policy When updating entries in a security policy, if there are old entries in the update list, we need to preserve the attributes of those old extries (such as revision) in the update request. Otherwise MP will complain rule already exists. Change-Id: Ia9a30c725f1c9d83d5370216d4b87e493ad6c84b",17734,Shih-Hao Li,"[7018, 9008, 12024, 20363, 22348]","['Abhishek Raut', 'VMware NSX CI', 'Tong Liu', 'Adit Sarfaty', 'Zuul']",fix updateentries security policy updating entries security policy old entries update list need preserve attributes old extries revision update request otherwise mp complain rule already exists changeid ia9a30c725f1c9d83d5370216d4b87e493ad6c84b
https://review.opendev.org/649369,Divide-and-conquer security group beasts,"Divide-and-conquer security group beasts In one specific compute node, the security group rules can be enormous quantity. This patch adds a step-by-step processing method to deal with the large number of the security group rules. And also changes or adds some LOG. Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constants.py Conflicts: neutron/agent/securitygroups_rpc.py neutron/common/constants.py neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py Conflicts: neutron/agent/common/ovs_lib.py neutron/common/constants.py Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b) (cherry picked from commit f5d110e15f60753d056da942414ca6ecd6b78d8a) (cherry picked from commit 5424b9a68cb3ac1fcc04ed8ae603c421bde2dee3)",9531,liuyulong,"[1131, 7016, 21798, 22348, 26622]","['Brian Haley', 'Swaminathan Vasudevan', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",divideandconquer security group beasts one specific compute node security group rules enormous quantity patch adds stepbystep processing method deal large number security group rules also changes adds log relatedbug 1813703 relatedbug 1813704 relatedbug 1813707 conflicts neutroncommonconstantspy conflicts neutronagentsecuritygroupsrpcpy neutroncommonconstantspy neutronpluginsml2driversopenvswitchagentovsneutronagentpy conflicts neutronagentcommonovslibpy neutroncommonconstantspy changeid i57bf27ec75cf848271c5a28b22beee12b8bd5faa cherry picked commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b cherry picked commit f5d110e15f60753d056da942414ca6ecd6b78d8a cherry picked commit 5424b9a68cb3ac1fcc04ed8ae603c421bde2dee3
https://review.opendev.org/649366,Divide-and-conquer security group beasts,"Divide-and-conquer security group beasts In one specific compute node, the security group rules can be enormous quantity. This patch adds a step-by-step processing method to deal with the large number of the security group rules. And also changes or adds some LOG. Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constants.py Conflicts: neutron/agent/securitygroups_rpc.py neutron/common/constants.py neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b) (cherry picked from commit f5d110e15f60753d056da942414ca6ecd6b78d8a)",9531,liuyulong,"[1131, 7016, 9531, 21798, 22348, 26622]","['Brian Haley', 'Swaminathan Vasudevan', 'liuyulong', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",divideandconquer security group beasts one specific compute node security group rules enormous quantity patch adds stepbystep processing method deal large number security group rules also changes adds log relatedbug 1813703 relatedbug 1813704 relatedbug 1813707 conflicts neutroncommonconstantspy conflicts neutronagentsecuritygroupsrpcpy neutroncommonconstantspy neutronpluginsml2driversopenvswitchagentovsneutronagentpy changeid i57bf27ec75cf848271c5a28b22beee12b8bd5faa cherry picked commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b cherry picked commit f5d110e15f60753d056da942414ca6ecd6b78d8a
https://review.opendev.org/649343,Divide-and-conquer security group beasts,"Divide-and-conquer security group beasts In one specific compute node, the security group rules can be enormous quantity. This patch adds a step-by-step processing method to deal with the large number of the security group rules. And also changes or adds some LOG. Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b)",9531,liuyulong,"[1131, 7016, 9373, 9531, 16688, 21798, 22348]","['Brian Haley', 'Swaminathan Vasudevan', 'Vlad Gusev', 'liuyulong', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",divideandconquer security group beasts one specific compute node security group rules enormous quantity patch adds stepbystep processing method deal large number security group rules also changes adds log relatedbug 1813703 relatedbug 1813704 relatedbug 1813707 changeid i57bf27ec75cf848271c5a28b22beee12b8bd5faa cherry picked commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b
https://review.opendev.org/650519,HTK: Update k8s-entrypoint container macro to add security context,"HTK: Update k8s-entrypoint container macro to add security context This PS updates the htk k8s-entrypoint container macro to add security context, with a set of defaults to allow operation with existing charts. Change-Id: Ib41600e2e3c848ae0d62181ad7e01f3cf00a26a0 Signed-off-by: Pete Birley <pete@port.direct>",23928,Pete Birley,"[8898, 17591, 22348, 23928, 28237, 28543]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley', 'ATT Airship CI', 'Vieri']",htk update k8sentrypoint container macro add security context ps updates htk k8sentrypoint container macro add security context set defaults allow operation existing charts changeid ib41600e2e3c848ae0d62181ad7e01f3cf00a26a0 signedoffby pete birley peteportdirect
https://review.opendev.org/649736,Mariadb: Add security policy functions,WIP: Mariadb: Add security policy functions Change-Id: Ic0f035e0281281fb3f2977ea130385f65c9a04e4 Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,"[7769, 8898, 17591, 20466, 22348, 22477, 23928, 28025, 28237]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Randeep Jalli', 'ATT Airship CI']",wip mariadb add security policy functions changeid ic0f035e0281281fb3f2977ea130385f65c9a04e4 signedoffby pete birley peteportdirect
https://review.opendev.org/650405,Add Security Headers into Ranger-Agent,Add Security Headers into Ranger-Agent Change-Id: I427424702597e9b1bdcbb1d67d1863c13322f025,21111,STEW TY,"[19391, 22348, 24999]","['Chi Lo', 'Zuul', 'Hari']",add security headers rangeragent changeid i427424702597e9b1bdcbb1d67d1863c13322f025
https://review.opendev.org/638642,Divide-and-conquer security group beasts,"Divide-and-conquer security group beasts In one specific compute node, the security group rules can be enormous quantity. This patch adds a step-by-step processing method to deal with the large number of the security group rules. And also changes or adds some LOG. Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa",9531,liuyulong,"[841, 4187, 6593, 7016, 9531, 9732, 9845, 11975, 13995, 15752, 16376, 16688, 17120, 22348, 26622, 30103]","['Akihiro Motoki', 'Ryan Tidwell', 'Dirk Mueller', 'Swaminathan Vasudevan', 'liuyulong', 'Mellanox CI', 'Arista CI', 'Slawek Kaplonski', 'Nate Johnston', 'Intel SR-IOV CI', 'Intel NFV CI', 'Rodolfo Alonso', 'Manjeet Singh Bhatia', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'xiaosa']",divideandconquer security group beasts one specific compute node security group rules enormous quantity patch adds stepbystep processing method deal large number security group rules also changes adds log relatedbug 1813703 relatedbug 1813704 relatedbug 1813707 changeid i57bf27ec75cf848271c5a28b22beee12b8bd5faa
https://review.opendev.org/645054,Enable security group support for OVS agent,"Enable security group support for OVS agent The neutron OVS firewall_driver driver is currently set to noop since there is no suitable firewall driver packaged. The security group support for OVS agent is now enabled with the native ""openvswitch"" firewall driver, which is stateful and based on openflow + conntrack implementation. Change-Id: Ie49ea124b3dd1ad2c5d405274fa891d88c7e39bf Story: 2002944 Task: 22937",28373,Kailun Qin,"[8768, 15435, 22348, 28373, 28431, 28439, 28917]","['Chris Friesen', 'Al Bailey', 'Zuul', 'Kailun Qin', 'Don Penney', 'Matt Peters', 'Joseph Richard']",enable security group support ovs agent neutron ovs firewalldriver driver currently set noop since suitable firewall driver packaged security group support ovs agent enabled native openvswitch firewall driver stateful based openflow conntrack implementation changeid ie49ea124b3dd1ad2c5d405274fa891d88c7e39bf story 2002944 task 22937
https://review.opendev.org/628286,Adds HTTP Security Headers,Adds HTTP Security Headers Adds HTTP security headers to Shipyard API handling Change-Id: Ia68d2364d40c0a1e528f0f27d1ce999981a0b5bf,23185,Samantha Blanco,"[7769, 8749, 18180, 20998, 22348, 22477, 23185, 23186, 23928, 25907, 26365, 26449, 26628, 26686, 27715, 28025, 28208, 28235, 28618]","['Pentheus', 'Evgeniy L', 'Marshall Margenau', 'Anthony Lin', 'Zuul', 'Matt McEuen', 'Samantha Blanco', 'Felipe Monteiro', 'Pete Birley', 'Mark Burnett', 'Bryan Strassner', 'Scott Hussey', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Randeep Jalli', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters']",adds http security headers adds http security headers shipyard api handling changeid ia68d2364d40c0a1e528f0f27d1ce999981a0b5bf
https://review.opendev.org/649174,Ignore case in security group rule --ethertype,"Ignore case in security group rule --ethertype Currently, this only allows 'IPv4' or 'IPv6', but one can imagine a user frequently typing e.g. 'ipv6' and getting frustrated. Allow any case, while still keeping correct case for the choices and the value sent to Neutron. Change-Id: I70ce1f43d32aad01b174437d03c984a5b608b161",10343,Jim Rollenhagen,"[2, 970, 22348]","['Monty Taylor', 'Dean Troyer', 'Zuul']",ignore case security group rule ethertype currently allows ipv4 ipv6 one imagine user frequently typing eg ipv6 getting frustrated allow case still keeping correct case choices value sent neutron changeid i70ce1f43d32aad01b174437d03c984a5b608b161
https://review.opendev.org/649346,Remove security squad from list,Remove security squad from list The squad is being disbanded for the time being. Change-Id: I6527a8bf34ec7bb0ebaaa12cf9f57498b042f28a,10873,Juan Antonio Osorio Robles,"[3153, 8449, 14985, 22348]","['Emilien Macchi', 'Marios Andreou', 'Alex Schultz', 'Zuul']",remove security squad list squad disbanded time changeid i6527a8bf34ec7bb0ebaaa12cf9f57498b042f28a
https://review.opendev.org/648364,NSX|P: Fix provider security groups,NSX|P: Fix provider security groups 1. Add unit tests 2. Change rules action to Block 3. Fix _build_port_tags not to add the provider SG to the list of port SGs. Change-Id: I7c36dbf463f019310c6c83233b1806f87c366559,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxp fix provider security groups 1 add unit tests 2 change rules action block 3 fix buildporttags add provider sg list port sgs changeid i7c36dbf463f019310c6c83233b1806f87c366559
https://review.opendev.org/774438,"API v2.44, added 'ou' field to security service","WIP: API v2.44 update, security service 'ou' field Change-Id: I03c0cb01cc04745e67d94a45e3f7570c1609ede0",32531,Dina Saparbaeva,"[6413, 16643, 22348]","['Victoria Martinez de la Cruz', 'Goutham Pacha Ravi', 'Zuul']",wip api v244 update security service ou field changeid i03c0cb01cc04745e67d94a45e3f7570c1609ede0
https://review.opendev.org/775020,Add security add/update services for in-use share networks,Add security add/update services for in-use share networks This change adds two new commands to the client: - `share-network-security-service-update` - `share-network-reset-state` Partially Implements: bp add-security-service-in-use-share-networks Co-Authored-By: Carlos Eduardo <ces.eduardo98@gmail.com> Co-Authored-By: Andre Beltrami <debeltrami@gmail.com> Depends-On: I129a794dfd2d179fa2b9a2fed050459d6f00b0de Change-Id: Ib7b67b4c0ce9b16e1ee4a8291cb48c0b1c7ca367,29632,Carlos Eduardo,"[9003, 16643, 22348, 30002, 30998]","['Tom Barron', 'Goutham Pacha Ravi', 'Zuul', 'Douglas Viroel', 'Andre Luiz Beltrami Rocha']",add security addupdate services inuse share networks change adds two new commands client sharenetworksecurityserviceupdate sharenetworkresetstate partially implements bp addsecurityserviceinusesharenetworks coauthoredby carlos eduardo ceseduardo98gmailcom coauthoredby andre beltrami debeltramigmailcom dependson i129a794dfd2d179fa2b9a2fed050459d6f00b0de changeid ib7b67b4c0ce9b16e1ee4a8291cb48c0b1c7ca367
https://review.opendev.org/775050,Add security service update support to the container driver,"WIP Add security service update support to the container driver This implementation adds the functionality to add/update security services to in use share networks using the container driver. The container driver will also try to setup security services while creating share servers. Currently, the only supported security service type is LDAP. Co-Authored-By: Carlos Eduardo <ces.eduardo98@gmail.com> Partially Implements: bp add-security-service-in-use-share-networks Depends-On: I129a794dfd2d179fa2b9a2fed050459d6f00b0de Change-Id: Ifb8b9ebe6eb0661844c794ca1a32e35105652f72",32411,Eduardo Santos,"[16643, 22348, 29632, 30002]","['Goutham Pacha Ravi', 'Zuul', 'Carlos Eduardo', 'Douglas Viroel']",wip add security service update support container driver implementation adds functionality addupdate security services use share networks using container driver container driver also try setup security services creating share servers currently supported security service type ldap coauthoredby carlos eduardo ceseduardo98gmailcom partially implements bp addsecurityserviceinusesharenetworks dependson i129a794dfd2d179fa2b9a2fed050459d6f00b0de changeid ifb8b9ebe6eb0661844c794ca1a32e35105652f72
https://review.opendev.org/635835,NSX-P Automation Patch Added nsxp client support for router and security group api cases,NSX-P Automation Patch Added nsxp client support for router and security group api cases Change-Id: I88cf258557a0fed54a4c7954e362c4c05cd51b5e,28451,Shubham Kadam,"[22348, 22387]","['Zuul', 'Deepthi Kandavara Jayarama']",nsxp automation patch added nsxp client support router security group api cases changeid i88cf258557a0fed54a4c7954e362c4c05cd51b5e
https://review.opendev.org/648370,Fix TF DNS port's security groups,Fix TF DNS port's security groups Set the TungstenFabric DNS placeholder port's security-groups to an empty list to avoid unexpected implicit behavior. Change-Id: I04326df6e391b1c17989558da447f258f5b77d3d,29784,Adrian Szczepa?ski,"[22348, 27603]","['Zuul', 'Maciej Jagiello']",fix tf dns ports security groups set tungstenfabric dns placeholder ports securitygroups empty list avoid unexpected implicit behavior changeid i04326df6e391b1c17989558da447f258f5b77d3d
https://review.opendev.org/648006,Allow updating a single rule entry in a Security Policy,Allow updating a single rule entry in a Security Policy Change-Id: I0ce43ba8d664e4260f8bdf20fdecfa74f68cb4b8,17734,Shih-Hao Li,"[9008, 13438, 20363, 22348]","['VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul']",allow updating single rule entry security policy changeid i0ce43ba8d664e4260f8bdf20fdecfa74f68cb4b8
https://review.opendev.org/636667,Add bandit for security static analysis and fix potential security issues,Add bandit for security static analysis This change adds a basic bandit config for cloudkitty. It can be invoked by running the tox environment for bandit; tox -e bandit Change-Id: Iae7d7604457345fe6d482cf48311c9b75fdde947,28522,Hervé Beraud,"[22348, 23060, 28522, 29503]","['Zuul', 'Luka Peschke', 'Hervé Beraud', 'Justin Ferrieu']",add bandit security static analysis change adds basic bandit config cloudkitty invoked running tox environment bandit tox e bandit changeid iae7d7604457345fe6d482cf48311c9b75fdde947
https://review.opendev.org/634286,Use Octavia's project for lb security group ops,WIP: Use Octavia's project for lb security group ops The security group is created under the service tenant but the operations are being run as the admin tenant causing rule creation operations to fail. Change-Id: I3cb1918d94ab56fc96663ae3db6015bcd5c9c547 NOTE: needs a bug,6681,Brent Eagles,"[3153, 6469, 6681, 6926, 8449, 10873, 11082, 14985, 22348, 23181, 28223]","['Emilien Macchi', 'Carlos Gonçalves', 'Brent Eagles', 'Bogdan Dobrelya', 'Marios Andreou', 'Juan Antonio Osorio Robles', 'Kamil Sambor', 'Alex Schultz', 'Zuul', 'RDO Third Party CI', 'Cedric Jeanneret']",wip use octavias project lb security group ops security group created service tenant operations run admin tenant causing rule creation operations fail changeid i3cb1918d94ab56fc96663ae3db6015bcd5c9c547 note needs bug
https://review.opendev.org/644406,Implement Security Context for Horizon,Implement Security Context for Heat Implement container security context for the following Heat resources: - Heat server deployment Change-Id: I8202cd011f4c4f73d778c5f0ad2648440e259e5d,29144,PRATEEK REDDY DODDA,"[8898, 17591, 22348, 22477, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley']",implement security context heat implement container security context following heat resources heat server deployment changeid i8202cd011f4c4f73d778c5f0ad2648440e259e5d
https://review.opendev.org/644399,Implement Security Context for Glance,Implement Security Context for Glance Implement container security context for the following Glance resources: - Glance server deployment Change-Id: I32b63226f5f2bcfff09f0b6760f5475ef7d1b5b5,29144,PRATEEK REDDY DODDA,"[8898, 17591, 22348, 22477, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley']",implement security context glance implement container security context following glance resources glance server deployment changeid i32b63226f5f2bcfff09f0b6760f5475ef7d1b5b5
https://review.opendev.org/644395,Implement Security Context for Heat,Implement Security Context for Heat Implement container security context for the following Heat resources: - Heat server deployment Change-Id: I4c1efb0807c56f750cc8d74155b96f06735e5051,29144,PRATEEK REDDY DODDA,"[8898, 17591, 22348, 22477, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley']",implement security context heat implement container security context following heat resources heat server deployment changeid i4c1efb0807c56f750cc8d74155b96f06735e5051
https://review.opendev.org/644627,Implement Security Context for Keystone,Implement Security Context for Keystone Implement container security context for the following Keystone resources: - Keystone server deployment Change-Id: Ia68b5ebe4d76e0405d67224d976fee013cc02d0b,29144,PRATEEK REDDY DODDA,"[8898, 12281, 17966, 22348, 22477, 23928, 29144]","['Chris Wedgwood', 'Itxaka', 'Steven Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA']",implement security context keystone implement container security context following keystone resources keystone server deployment changeid ia68b5ebe4d76e0405d67224d976fee013cc02d0b
https://review.opendev.org/644408,prometheus-kube-state-metrics: Add container security context,prometheus-kube-state-metrics: Add container security context This adds the container security context to set readOnlyRootFilesystem to true Change-Id: I1cc81e2284dbbe94739fd498ccfd3e0ee96dfdbd,29161,Rahul Khiyani,"[8898, 17591, 22348, 22477, 23928, 24780, 28701]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Dustin Specker']",prometheuskubestatemetrics add container security context adds container security context set readonlyrootfilesystem true changeid i1cc81e2284dbbe94739fd498ccfd3e0ee96dfdbd
https://review.opendev.org/644407,prometheus-alertmanager: Add container security context,prometheus-alertmanager: Add container security context This adds the container security context to set readOnlyRootFilesystem to true Change-Id: Ic8d33ae817ace49bf5ead40b2b41c6002217aa5e,29161,Rahul Khiyani,"[8898, 17591, 20466, 22348, 22477, 23928, 24780, 28701, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Dustin Specker', 'Rahul Khiyani']",prometheusalertmanager add container security context adds container security context set readonlyrootfilesystem true changeid ic8d33ae817ace49bf5ead40b2b41c6002217aa5e
https://review.opendev.org/644413,prometheus-openstack-exporter: Add container security context,prometheus-node-exporter: Add container security context This adds the container security context to set readOnlyRootFilesystem to true and allowPrivilegeEscalation to false Change-Id: I7b2f78b51b6ff219c371893f975a30fd89f1719b,29161,Rahul Khiyani,"[8898, 17591, 17966, 22348, 22477, 23928, 24780, 28618, 28701, 29144, 29161]","['Chris Wedgwood', 'Steve Wilkerson', 'Steven Wilkerson', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sangeet Gupta', 'Drew Walters', 'Dustin Specker', 'PRATEEK REDDY DODDA', 'Rahul Khiyani']",prometheusnodeexporter add container security context adds container security context set readonlyrootfilesystem true allowprivilegeescalation false changeid i7b2f78b51b6ff219c371893f975a30fd89f1719b
https://review.opendev.org/643940,Make pod security policy job nonvoting check,"Make pod security policy job nonvoting check This moves the pod security policy job to a nonvoting check and removes it as a gating job. This was overlooked previously. Once the job has been vetted, we can revisit potentially making it a voting and gating job This had been done previously, but was overlooked in a change that reintroduced the podsecuritypolicy job as a voting check and gate Change-Id: I604efb9c608da69a04eaf87a54899cea34d7cd59",17591,Steve Wilkerson,"[1091, 17068, 17591, 22348, 23928]","['Arun Kant', 'Jean-Philippe Evrard', 'Steve Wilkerson', 'Zuul', 'Pete Birley']",make pod security policy job nonvoting check moves pod security policy job nonvoting check removes gating job overlooked previously job vetted revisit potentially making voting gating job done previously overlooked change reintroduced podsecuritypolicy job voting check gate changeid i604efb9c608da69a04eaf87a54899cea34d7cd59
https://review.opendev.org/643425,Start running bandit security analyser,"Start running bandit security analyser Fix the path bandit was using to networking_ovn, and add the package to test-requirements.txt so it's installed. Also run it from the pep8 target now, along with genconfig. Change-Id: Ibaba1f5a446d9d109de1b41dbe4cad75cc15dbdf",1131,Brian Haley,"[5756, 6773, 22348]","['Terry Wilson', 'Lucas Alvares Gomes', 'Zuul']",start running bandit security analyser fix path bandit using networkingovn add package testrequirementstxt installed also run pep8 target along genconfig changeid ibaba1f5a446d9d109de1b41dbe4cad75cc15dbdf
https://review.opendev.org/642145,Better handle ports in security groups,"Better handle ports in security groups After taking a closer look at bug 1818385, I found a couple of follow-on things to fix in the security group code. First, there are very few protocols that accept ports, especially via iptables. For this reason I think it's acceptable that the API rejects them as invalid. Second, UDPlite has some interesting support in iptables. It does not support using --dport directly, but does using '-m multiport --dports 123', and also supports port ranges using '-m multiport --dports 123:124'. Added code for this special case. Change-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4 Closes-Bug: #1818385",1131,Brian Haley,"[1131, 4694, 9845, 10980, 11975, 13995, 15752, 16376, 22348, 22623, 26622, 30103]","['Brian Haley', 'Miguel Lavalle', 'Arista CI', 'Doug Wiegley', 'Slawek Kaplonski', 'Nate Johnston', 'Intel SR-IOV CI', 'Intel NFV CI', 'Zuul', 'Erik Olof Gunnar Andersson', 'Cloudbase Neutron Hyper-V CI', 'xiaosa']",better handle ports security groups taking closer look bug 1818385 found couple followon things fix security group code first protocols accept ports especially via iptables reason think acceptable api rejects invalid second udplite interesting support iptables support using dport directly using multiport dports 123 also supports port ranges using multiport dports 123124 added code special case changeid ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4 closesbug 1818385
https://review.opendev.org/638515,Kubernetes-keystone-webhook: Add security context,Kubernetes-keystone-webhook: Add security context This adds the security context to the kubernetes-keystone-webhook. This changes the default user from root to the nobody user. This also adds the container security context to explicitly set allowPrivilegeEscalation to false Change-Id: I54621e94f2866a4b4301baa6b570472c5fcda291,24780,Sangeet Gupta,"[8898, 17591, 22348, 24780]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Sangeet Gupta']",kuberneteskeystonewebhook add security context adds security context kuberneteskeystonewebhook changes default user root nobody user also adds container security context explicitly set allowprivilegeescalation false changeid i54621e94f2866a4b4301baa6b570472c5fcda291
https://review.opendev.org/637407,Use dynamic lazy mode for fetching security group rules,"Use dynamic lazy mode for fetching security group rules In conjunction with the prior fix to only get a subset of fields when needed, this makes the querying of non-rules SG objects very very fast. Depends-On: https://review.openstack.org/637389 Change-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954",10980,Doug Wiegley,"[1131, 9531, 9732, 9845, 10980, 11975, 16376, 22348, 26622, 27654]","['Brian Haley', 'liuyulong', 'Mellanox CI', 'Arista CI', 'Doug Wiegley', 'Slawek Kaplonski', 'Intel NFV CI', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'Hongbin Lu']",use dynamic lazy mode fetching security group rules conjunction prior fix get subset fields needed makes querying nonrules sg objects fast dependson httpsreviewopenstackorg637389 changeid i15df276ba7dbcb3763ab20b63b26cddf2d594954
https://review.opendev.org/642915,Manual Tests: Security Password rule setup.,"Manual Tests: Security Password rule setup. Password rule sub-domain, adding 6 test cases. Change-Id: Iff7b9052a0dae4b2175d0f6eb3b167bf44a054db",29903,Fernando Hernandez Gonzalez,"[22348, 28285, 29897]","['Zuul', 'Abraham Arce', 'Elio Martinez']",manual tests security password rule setup password rule subdomain adding 6 test cases changeid iff7b9052a0dae4b2175d0f6eb3b167bf44a054db
https://review.opendev.org/642804,Make pod security policy job nonvoting check,"Make pod security policy job nonvoting check This moves the pod security policy job to a nonvoting check and removes it as a gating job. This was overlooked previously. Once the job has been vetted, we can revisit potentially making it a voting and gating job Change-Id: I5d06343f94ae64355bce9d4f7862a8b18b5ea827",17591,Steve Wilkerson,"[7769, 8749, 22259, 22348, 23928, 28701]","['Pentheus', 'Evgeniy L', 'Nishant Kumar', 'Zuul', 'Pete Birley', 'Dustin Specker']",make pod security policy job nonvoting check moves pod security policy job nonvoting check removes gating job overlooked previously job vetted revisit potentially making voting gating job changeid i5d06343f94ae64355bce9d4f7862a8b18b5ea827
https://review.opendev.org/642726,Fix hyperlink reference to security section,Fix hyperlink reference to security section Change-Id: Id936885d51054a2c4aa93d4b2a051e9e5e37bce5,15197,Pierre Riteau,"[9003, 12016, 21863, 22248, 22348, 24236, 24863]","['Tom Barron', 'DellEMC PowerMAX CI', 'Jenkins of Infinidat', 'HPE STORAGE CI', 'Zuul', 'INSPUR CI', 'Veritas Access CI']",fix hyperlink reference security section changeid id936885d51054a2c4aa93d4b2a051e9e5e37bce5
https://review.opendev.org/642819,Manual Tests: Security Keystone Authentication,Adding keystone authentication sub domain for Security TCs. Change-Id: Ib3e179de4b814bce6b246686a956da588c12ec68,29903,Fernando Hernandez Gonzalez,"[22348, 28285, 29897]","['Zuul', 'Abraham Arce', 'Elio Martinez']",adding keystone authentication sub domain security tcs changeid ib3e179de4b814bce6b246686a956da588c12ec68
https://review.opendev.org/642793,Manual Tests: Security Appropriate File Access,Adding Appropriate File Access subdomain for Security Test Suite. Change-Id: I4ee004cc457ce9af928311f12a23aa989e4b8f56,29903,Fernando Hernandez Gonzalez,"[22348, 28285, 29897]","['Zuul', 'Abraham Arce', 'Elio Martinez']",adding appropriate file access subdomain security test suite changeid i4ee004cc457ce9af928311f12a23aa989e4b8f56
https://review.opendev.org/642606,Manual Tests: Security HTTPS,Adding https sub-domain for Security test suite. Change-Id: Ie5d5720355c06e73cc7b9b7f3d34f86f4de2e0b3,29903,Fernando Hernandez Gonzalez,"[22348, 28285, 29897]","['Zuul', 'Abraham Arce', 'Elio Martinez']",adding https subdomain security test suite changeid ie5d5720355c06e73cc7b9b7f3d34f86f4de2e0b3
https://review.opendev.org/642598,Manual Tests: Security VM Password,Adding VM password protection sub-domain for Security test cases Change-Id: I4d9439e9a3e654bb4b8cf20cff5ec8131a8b6400,29903,Fernando Hernandez Gonzalez,"[22348, 28285, 29897]","['Zuul', 'Abraham Arce', 'Elio Martinez']",adding vm password protection subdomain security test cases changeid i4d9439e9a3e654bb4b8cf20cff5ec8131a8b6400
https://review.opendev.org/774728,Add security service update for in-use share networks,"Add security service update for in-use share networks This patch implements the update of security service's association with in-use share networks. The following changes were added: - New share network APIs: `share_network_security_service_update` and `share_network_reset_state`. - A new `status` attribute was added to share network model to identify when it's in a modification state, called 'network_change'. Other supported status that were added: 'active' and 'error'. - New 'security_service_update_support' property was added to both share server and share network models, to identify when this resources are able to process security service update for in-use share networks. - New driver interface was added to support update of security service's configuration of a given share server. DocImpact APIImpact Partially Implements: bp add-security-service-in-use-share-networks Co-Authored-By: Carlos Eduardo <ces.eduardo98@gmail.com> Co-Authored-By: Douglas Viroel <viroel@gmail.com> Co-Authored-By: Andre Beltrami <debeltrami@gmail.com> Change-Id: I129a794dfd2d179fa2b9a2fed050459d6f00b0de",29632,Carlos Eduardo,"[9003, 16643, 22348, 29632, 30002, 30998]","['Tom Barron', 'Goutham Pacha Ravi', 'Zuul', 'Carlos Eduardo', 'Douglas Viroel', 'Andre Luiz Beltrami Rocha']",add security service update inuse share networks patch implements update security services association inuse share networks following changes added new share network apis sharenetworksecurityserviceupdate sharenetworkresetstate new status attribute added share network model identify modification state called networkchange supported status added active error new securityserviceupdatesupport property added share server share network models identify resources able process security service update inuse share networks new driver interface added support update security services configuration given share server docimpact apiimpact partially implements bp addsecurityserviceinusesharenetworks coauthoredby carlos eduardo ceseduardo98gmailcom coauthoredby douglas viroel viroelgmailcom coauthoredby andre beltrami debeltramigmailcom changeid i129a794dfd2d179fa2b9a2fed050459d6f00b0de
https://review.opendev.org/772177,[NetApp] Fix kerberos security service issues,"[NetApp] Fix kerberos security service issues - Fixes the zapi calls for setting up a kerberos, which have changed since ONTAP 8.3. - Fixes kerberos configuration cleanup when deleting a share server. - Fixes access rules authentication methods for NFS when a share server is configured for Kerberos. Change-Id: I60b4f92979045b1fdb90ad8df4f65c1dfe463ae8 Closes-Bug: #1901189 Closes-Bug: #1904746 Closes-Bug: #1907669 Co-Authored-By: Felipe Rodrigues <felipefuty01@gmail.com> Signed-off-by: Douglas Viroel <viroel@gmail.com>",30002,Douglas Viroel,"[16643, 22348, 29632, 31721]","['Goutham Pacha Ravi', 'Zuul', 'Carlos Eduardo', 'Felipe Rodrigues']",netapp fix kerberos security service issues fixes zapi calls setting kerberos changed since ontap 83 fixes kerberos configuration cleanup deleting share server fixes access rules authentication methods nfs share server configured kerberos changeid i60b4f92979045b1fdb90ad8df4f65c1dfe463ae8 closesbug 1901189 closesbug 1904746 closesbug 1907669 coauthoredby felipe rodrigues felipefuty01gmailcom signedoffby douglas viroel viroelgmailcom
https://review.opendev.org/779350,[NetApp] Fix security service configuration for LDAP servers,"[NetApp] Fix security service configuration for LDAP servers This patch fixes some issues with LDAP client configuration on ONTAP SVMs. With ldap security service, users should be able to configure a LDAP client that can be used for authentication and name mapping. The name service switch order remains: ldap,files. Issues fixed: - The driver now identifies when user provide a Active Directory domain or a Linux/Unix LDAP server IP and sets the correct schema. - LDAP configuration parameter `servers` was replaced by `ldap-servers` in ONTAP 9.2, and now accepts host names too. - Fix DNS configuration for LDAP security service - User can now specify base search DN for LDAP queries, which can be mandatory for Unix/Linux servers, using the security service `ou` parameter. Closes-Bug: #1916534 Change-Id: Ieaa53abbe50e7b708e508c132dfc4bb36b71a4f5 Signed-off-by: Douglas Viroel <viroel@gmail.com>",30002,Douglas Viroel,"[9003, 16643, 18816, 22348, 29632, 30002]","['Tom Barron', 'Goutham Pacha Ravi', 'Maurice Escher', 'Zuul', 'Carlos Eduardo', 'Douglas Viroel']",netapp fix security service configuration ldap servers patch fixes issues ldap client configuration ontap svms ldap security service users able configure ldap client used authentication name mapping name service switch order remains ldapfiles issues fixed driver identifies user provide active directory domain linuxunix ldap server ip sets correct schema ldap configuration parameter servers replaced ldapservers ontap 92 accepts host names fix dns configuration ldap security service user specify base search dn ldap queries mandatory unixlinux servers using security service ou parameter closesbug 1916534 changeid ieaa53abbe50e7b708e508c132dfc4bb36b71a4f5 signedoffby douglas viroel viroelgmailcom
https://review.opendev.org/638450,Add security checklist to Keystone,"Add security checklist to Keystone This charm adds the general ownership audits, as well as keystone specific security checklist audits. Change-Id: Iee093b36c54081f14a07c95e677ea08c72d72ca4",20634,Chris MacNaughton,"[12549, 13686, 20634, 20635, 20648, 20870, 22348]","['gnuoy', 'Frode Nordahl', 'Chris MacNaughton', 'Ryan Beisner', 'Canonical CI', 'Alex Kavanagh', 'Zuul']",add security checklist keystone charm adds general ownership audits well keystone specific security checklist audits changeid iee093b36c54081f14a07c95e677ea08c72d72ca4
https://review.opendev.org/639659,NSX|P: Add scope to security group rules,NSX|P: Add scope to security group rules Distributed firewall rules better have the scope of the security group so that it will match only relevant ports. Same for the default section rules that should match only openstack traffic. Depends-on: I492e0f9b7bfae8507ee11634f405a8f0f6669d04 Change-Id: I04b2a6e73317750e2cf368ce3ca0008106b38ce6,20363,Adit Sarfaty,"[261, 9008, 20363, 22348, 24247]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxp add scope security group rules distributed firewall rules better scope security group match relevant ports default section rules match openstack traffic dependson i492e0f9b7bfae8507ee11634f405a8f0f6669d04 changeid i04b2a6e73317750e2cf368ce3ca0008106b38ce6
https://review.opendev.org/641320,Add function to get security policy rule,Add function to get security policy rule Add function to get a specific security policy rule Change-Id: I07da7baba990206087cf9a67e3baea92d67a4884,8989,xiao pei liu,"[261, 7018, 9008, 12024, 14668, 17734, 20363, 22348, 25095]","['Salvatore Orlando', 'Abhishek Raut', 'VMware NSX CI', 'Tong Liu', 'Zhou Zheng Sheng', 'Shih-Hao Li', 'Adit Sarfaty', 'Zuul', 'Danting Liu']",add function get security policy rule add function get specific security policy rule changeid i07da7baba990206087cf9a67e3baea92d67a4884
https://review.opendev.org/640201,Implement Security Context for Memcached,Implement Security Context for Memcached Implement a pod security context for the following Memcached resources: - Memcached server deployment Change-Id: I8628ceb246e7c435a2ddd20bf1bcecd94db8ea26,22636,Cliff Parsons,"[7769, 8898, 17591, 20466, 22348, 22477, 22636, 23928, 24780]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Cliff Parsons', 'Pete Birley', 'Sangeet Gupta']",implement security context memcached implement pod security context following memcached resources memcached server deployment changeid i8628ceb246e7c435a2ddd20bf1bcecd94db8ea26
https://review.opendev.org/639031,Support ip version in policy security rules,Support ip version in policy security rules Change-Id: I97bcbd99fcced02592a6e5f10d0d43a3e99efbe6,20363,Adit Sarfaty,"[9008, 12024, 13438, 20363, 22348, 24247]","['VMware NSX CI', 'Tong Liu', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",support ip version policy security rules changeid i97bcbd99fcced02592a6e5f10d0d43a3e99efbe6
https://review.opendev.org/638069,[k8s-fedora-atomic] Security group definition for worker nodes,"[k8s-fedora-atomic] Security group definition for worker nodes Rather than allowing all the inbound traffic to worker nodes, this patch explicitly defines the security group rules. Change-Id: Idbc67cb95133d3a4029105e6d4dc92519c816288",6732,Lingxian Kong,"[6484, 6732, 20498, 22348, 22623, 28022]","['Feilong Wang', 'Lingxian Kong', 'Spyros Trigazis', 'Zuul', 'Erik Olof Gunnar Andersson', 'Bharat Kunwar']",k8sfedoraatomic security group definition worker nodes rather allowing inbound traffic worker nodes patch explicitly defines security group rules changeid idbc67cb95133d3a4029105e6d4dc92519c816288
https://review.opendev.org/634750,Add Security Group integration tests,Add Security Group integration tests Change-Id: Ief0a44e7908e8e77c951f245ab7cc581f6dbec09,29779,Filip Chmielewski,"[22348, 27603, 29035, 29779]","['Zuul', 'Maciej Jagiello', 'Kamil Ma?kowski', 'Filip Chmielewski']",add security group integration tests changeid ief0a44e7908e8e77c951f245ab7cc581f6dbec09
https://review.opendev.org/636011,Add 'unknown' to the address list if the port's port security is disabled,"Add 'unknown' to the address list if the port's port security is disabled When a port's port security is disabled then the port should be allowed to use any mac address. And for this to work, OVN expects 'unknown' address to be added into the Logical_Switch_Port.addresses column. This patch adds this 'unknown' address if the port security is disabled. Change-Id: I5f25f4d4b2acccada3ab2944e9cfd2461149ef3e Closes-bug: #1815270",10237,Numan Siddique,"[6773, 8788, 10237, 22348, 23804]","['Lucas Alvares Gomes', 'Miguel Angel Ajo', 'Numan Siddique', 'Zuul', 'Daniel Alvarez']",add unknown address list ports port security disabled ports port security disabled port allowed use mac address work ovn expects unknown address added logicalswitchportaddresses column patch adds unknown address port security disabled changeid i5f25f4d4b2acccada3ab2944e9cfd2461149ef3e closesbug 1815270
https://review.opendev.org/637824,Fix provider security group exception call,Fix provider security group exception call Change-Id: I02de68b4b457757ccd1c25535e8d2dd4d732ee36,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",fix provider security group exception call changeid i02de68b4b457757ccd1c25535e8d2dd4d732ee36
https://review.opendev.org/637823,Fix provider security group exception call,Fix provider security group exception call Change-Id: I02de68b4b457757ccd1c25535e8d2dd4d732ee36,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",fix provider security group exception call changeid i02de68b4b457757ccd1c25535e8d2dd4d732ee36
https://review.opendev.org/637822,Fix provider security group exception call,Fix provider security group exception call Change-Id: I02de68b4b457757ccd1c25535e8d2dd4d732ee36,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",fix provider security group exception call changeid i02de68b4b457757ccd1c25535e8d2dd4d732ee36
https://review.opendev.org/636680,Upgrade Flask version due to security concerns,Upgrade Flask version due to security concerns Change-Id: I080716f5fcdea5d50b4a5c30ffb9c83ab501da46,23567,Luis Tomas Bolivar,"[6598, 11600, 14352, 22348, 23567]","['Berezovsky Irena', 'Micha? Dulko', 'Antoni Segura Puimedon', 'Zuul', 'Luis Tomas Bolivar']",upgrade flask version due security concerns changeid i080716f5fcdea5d50b4a5c30ffb9c83ab501da46
https://review.opendev.org/637343,HTK: Update pod security context snippet,HTK: Update pod security context snippet This PS updates the pod security context snippet to support a more sane values layout. Change-Id: Id25441802a23e2dd00ad656cec2428432359dbe5 Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,"[8898, 17591, 22348, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley']",htk update pod security context snippet ps updates pod security context snippet support sane values layout changeid id25441802a23e2dd00ad656cec2428432359dbe5 signedoffby pete birley peteportdirect
https://review.opendev.org/637236,HTK: Fix k8s pod security context example,HTK: Fix k8s pod security context example This PS fixes the k8s prod security context example. Change-Id: I1b1d6875dda852bebb428708d4acf9c460360510 Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,"[8898, 17591, 22348]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul']",htk fix k8s pod security context example ps fixes k8s prod security context example changeid i1b1d6875dda852bebb428708d4acf9c460360510 signedoffby pete birley peteportdirect
https://review.opendev.org/779609,V2T migration: Validate direct vnic ports security disabled,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration validate direct vnic ports security disabled changeid i66a8b2efe6d882c5247fdf9b2d118b0212ab31a7
https://review.opendev.org/779607,V2T migration: Validate direct vnic ports security disabled,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration validate direct vnic ports security disabled changeid i66a8b2efe6d882c5247fdf9b2d118b0212ab31a7
https://review.opendev.org/779608,V2T migration: Validate direct vnic ports security disabled,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration validate direct vnic ports security disabled changeid i66a8b2efe6d882c5247fdf9b2d118b0212ab31a7
https://review.opendev.org/779650,V2T migration: Validate direct vnic ports security disabled,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration validate direct vnic ports security disabled changeid i66a8b2efe6d882c5247fdf9b2d118b0212ab31a7
https://review.opendev.org/634735,doc: update the security groups admin doc,doc: update the security groups admin doc This makes the following changes: * re-orders the page to move the nova-network specific information to the bottom * creates two sections: one for CLI and one for nova-network * mentions at the top that by default neutron manages security groups and their quota and links to the neutron docs * drops the mention of the 'nova' CLI since there are no examples in this doc using that CLI Change-Id: Ifd23424ac14bacf4bf7a0716c268f48ec869a41e,6873,Matt Riedemann,"[6167, 7634, 15334, 15941, 16128, 22348, 23498, 26515]","[""Ken'ichi Ohmichi"", 'Takashi Natsume', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",doc update security groups admin doc makes following changes reorders page move novanetwork specific information bottom creates two sections one cli one novanetwork mentions top default neutron manages security groups quota links neutron docs drops mention nova cli since examples doc using cli changeid ifd23424ac14bacf4bf7a0716c268f48ec869a41e
https://review.opendev.org/636058,Fix security group broken code & tests,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests. This patches fixes those. Change-Id: I9634583ce22f4c1be53283495426905979c9ea81 (cherry picked from commit baafb2a16ab110b0dbb383a140d8055671c3714a),20363,Adit Sarfaty,"[20363, 22348]","['Adit Sarfaty', 'Zuul']",fix security group broken code tests commit i34e41a128f28211f2e7ab814a2611ce22620fcf3 broke mh plugin security groups sg tests patches fixes changeid i9634583ce22f4c1be53283495426905979c9ea81 cherry picked commit baafb2a16ab110b0dbb383a140d8055671c3714a
https://review.opendev.org/636057,Fix security group broken code & tests,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests. This patches fixes those. Change-Id: I9634583ce22f4c1be53283495426905979c9ea81 (cherry picked from commit baafb2a16ab110b0dbb383a140d8055671c3714a),20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",fix security group broken code tests commit i34e41a128f28211f2e7ab814a2611ce22620fcf3 broke mh plugin security groups sg tests patches fixes changeid i9634583ce22f4c1be53283495426905979c9ea81 cherry picked commit baafb2a16ab110b0dbb383a140d8055671c3714a
https://review.opendev.org/636056,Fix security group broken code & tests,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests. This patches fixes those. Change-Id: I9634583ce22f4c1be53283495426905979c9ea81 (cherry picked from commit baafb2a16ab110b0dbb383a140d8055671c3714a),20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",fix security group broken code tests commit i34e41a128f28211f2e7ab814a2611ce22620fcf3 broke mh plugin security groups sg tests patches fixes changeid i9634583ce22f4c1be53283495426905979c9ea81 cherry picked commit baafb2a16ab110b0dbb383a140d8055671c3714a
https://review.opendev.org/632994,Fix security group broken code & tests,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests. This patches fixes those. Change-Id: I9634583ce22f4c1be53283495426905979c9ea81,20363,Adit Sarfaty,"[9008, 13438, 22348]","['VMware NSX CI', 'Kobi Samoray', 'Zuul']",fix security group broken code tests commit i34e41a128f28211f2e7ab814a2611ce22620fcf3 broke mh plugin security groups sg tests patches fixes changeid i9634583ce22f4c1be53283495426905979c9ea81
https://review.opendev.org/633145,Fix performance regression adding rules to security groups,"Fix performance regression adding rules to security groups Sometime between liberty and pike, adding rules to SG's got slow, and slower with every rule. Streamline the rule create path, and get close to the old performance back. Two performance fixes: 1. Get rid of an n^2 duplicate check, using a hash table instead, on bulk creates. This is more memory intensive than the previous loop, but usable far past where the other becomes too slow to be useful. 2. Use an object existence check in a few places where we do not want to load all of the child rules. Co-Authored-By: William Hager <whager@salesforce.com> Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563 (cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)",10980,Doug Wiegley,"[4694, 10980, 21798, 22348, 26622]","['Miguel Lavalle', 'Doug Wiegley', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fix performance regression adding rules security groups sometime liberty pike adding rules sgs got slow slower every rule streamline rule create path get close old performance back two performance fixes 1 get rid n2 duplicate check using hash table instead bulk creates memory intensive previous loop usable far past becomes slow useful 2 use object existence check places want load child rules coauthoredby william hager whagersalesforcecom changeid i34e41a128f28211f2e7ab814a2611ce22620fcf3 closesbug 1810563 cherry picked commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3
https://review.opendev.org/633144,Fix performance regression adding rules to security groups,"Fix performance regression adding rules to security groups Sometime between liberty and pike, adding rules to SG's got slow, and slower with every rule. Streamline the rule create path, and get close to the old performance back. Two performance fixes: 1. Get rid of an n^2 duplicate check, using a hash table instead, on bulk creates. This is more memory intensive than the previous loop, but usable far past where the other becomes too slow to be useful. 2. Use an object existence check in a few places where we do not want to load all of the child rules. Co-Authored-By: William Hager <whager@salesforce.com> Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563 (cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)",10980,Doug Wiegley,"[4694, 9373, 10980, 16688, 21798, 22348, 26622]","['Miguel Lavalle', 'Vlad Gusev', 'Doug Wiegley', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fix performance regression adding rules security groups sometime liberty pike adding rules sgs got slow slower every rule streamline rule create path get close old performance back two performance fixes 1 get rid n2 duplicate check using hash table instead bulk creates memory intensive previous loop usable far past becomes slow useful 2 use object existence check places want load child rules coauthoredby william hager whagersalesforcecom changeid i34e41a128f28211f2e7ab814a2611ce22620fcf3 closesbug 1810563 cherry picked commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3
https://review.opendev.org/633143,Fix performance regression adding rules to security groups,"Fix performance regression adding rules to security groups Sometime between liberty and pike, adding rules to SG's got slow, and slower with every rule. Streamline the rule create path, and get close to the old performance back. Two performance fixes: 1. Get rid of an n^2 duplicate check, using a hash table instead, on bulk creates. This is more memory intensive than the previous loop, but usable far past where the other becomes too slow to be useful. 2. Use an object existence check in a few places where we do not want to load all of the child rules. Co-Authored-By: William Hager <whager@salesforce.com> Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563 (cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3)",10980,Doug Wiegley,"[4694, 10980, 16688, 21798, 22348, 26622]","['Miguel Lavalle', 'Doug Wiegley', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fix performance regression adding rules security groups sometime liberty pike adding rules sgs got slow slower every rule streamline rule create path get close old performance back two performance fixes 1 get rid n2 duplicate check using hash table instead bulk creates memory intensive previous loop usable far past becomes slow useful 2 use object existence check places want load child rules coauthoredby william hager whagersalesforcecom changeid i34e41a128f28211f2e7ab814a2611ce22620fcf3 closesbug 1810563 cherry picked commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3
https://review.opendev.org/634705,Horizon: Expose additional security config params,Horizon: Expose additional security config params Expose additional Horizon security params in accordance with the OpenStack Security Guide [0] - Check-Dashboard-03: Is DISALLOW_IFRAME_EMBED parameter set to True - Check-Dashboard-07: Is PASSWORD_AUTOCOMPLETE set to False [0] https://docs.openstack.org/security-guide/dashboard/checklist.html Change-Id: I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd,17896,Rick Bartra,"[7769, 8898, 17591, 17896, 20466, 22348, 22477, 22636, 23928, 24780]","['Pentheus', 'Chris Wedgwood', 'Steve Wilkerson', 'Rick Bartra', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Cliff Parsons', 'Pete Birley', 'Sangeet Gupta']",horizon expose additional security config params expose additional horizon security params accordance openstack security guide 0 checkdashboard03 disallowiframeembed parameter set true checkdashboard07 passwordautocomplete set false 0 httpsdocsopenstackorgsecurityguidedashboardchecklisthtml changeid i355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd
https://review.opendev.org/632154,Add Security Group scenarios to rally-jobs,Add Security Group scenarios to rally-jobs This commit adds security group related rally scenarios to CI. Change-Id: I11fd3a6d30f743dbeea923407bc72753ba488da4,16845,Sindhur,"[1131, 9531, 10267, 10385, 10980, 11975, 13995, 16376, 16688, 16845, 22348, 26622]","['Brian Haley', 'liuyulong', 'venkata anil', 'Citrix XenServer CI', 'Doug Wiegley', 'Slawek Kaplonski', 'Nate Johnston', 'Intel NFV CI', 'Rodolfo Alonso', 'Sindhur', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",add security group scenarios rallyjobs commit adds security group related rally scenarios ci changeid i11fd3a6d30f743dbeea923407bc72753ba488da4
https://review.opendev.org/634492,Horizon: Expose security config params,Horizon: Expose security config params This PS exposes security related config params Change-Id: Ia6d2e089301cfc8fd809380ad3f31c6e37dc5607 Signed-off-by: Pete Birley <pete@port.direct>,23928,Pete Birley,"[8898, 17591, 17896, 22348, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Rick Bartra', 'Zuul', 'Pete Birley']",horizon expose security config params ps exposes security related config params changeid ia6d2e089301cfc8fd809380ad3f31c6e37dc5607 signedoffby pete birley peteportdirect
https://review.opendev.org/633778,Restore tenant_id check on security group rule adds to previous semantic,Restore tenant_id check on security group rule adds to previous semantic We switched from swapping the tenant_id in the context to explicitly checking the db column. Switch back. Change-Id: I6af4d414b1972e14692a8356ef95db7323e3a09a,10980,Doug Wiegley,"[9845, 10980, 11600, 11975, 13995, 22348, 26622]","['Arista CI', 'Doug Wiegley', 'Micha? Dulko', 'Slawek Kaplonski', 'Nate Johnston', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",restore tenantid check security group rule adds previous semantic switched swapping tenantid context explicitly checking db column switch back changeid i6af4d414b1972e14692a8356ef95db7323e3a09a
https://review.opendev.org/633248,Misc updates to security and configuration documentation,Misc updates to security and configuration documentation - Improve docs on ARA_ENV - Refresh outdated defaults - Fix broken link on ara-web git repo Change-Id: Ib882dc7415cc7b50f35a3a6bfbf1bc0fbe401dc8,9061,David Moreau Simard,"[9061, 22348]","['David Moreau Simard', 'Zuul']",misc updates security configuration documentation improve docs araenv refresh outdated defaults fix broken link araweb git repo changeid ib882dc7415cc7b50f35a3a6bfbf1bc0fbe401dc8
https://review.opendev.org/632181,First iteration of authentication and security docs,First iteration of authentication and security docs This is a first iteration on basic security and authentication documentation. It documents the security settings users might want to pay attention to and explains how to configure them. Change-Id: I694eb1a2aa03193335f11cbda40ed6962357c428,9061,David Moreau Simard,"[9061, 22348, 28047, 29199]","['David Moreau Simard', 'Zuul', 'Guillaume Vincent', 'Florian Apolloner']",first iteration authentication security docs first iteration basic security authentication documentation documents security settings users might want pay attention explains configure changeid i694eb1a2aa03193335f11cbda40ed6962357c428
https://review.opendev.org/628691,Fix performance regression adding rules to security groups,"Fix performance regression adding rules to security groups Sometime between liberty and pike, adding rules to SG's got slow, and slower with every rule. Streamline the rule create path, and get close to the old performance back. The most controversial change is likely using the sqla db models to write the rules instead of the neutron objects. Restoring that part loses some performance, but keeps most of it, so if that interface is important, we can do that. Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563",10980,Doug Wiegley,"[1131, 8871, 9373, 9531, 9845, 10267, 10385, 10980, 11975, 13995, 16376, 16688, 22348, 26622, 27654, 28239]","['Brian Haley', 'Elastic Recheck', 'Vlad Gusev', 'liuyulong', 'Arista CI', 'venkata anil', 'Citrix XenServer CI', 'Doug Wiegley', 'Slawek Kaplonski', 'Nate Johnston', 'Intel NFV CI', 'Rodolfo Alonso', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'Hongbin Lu', 'zhaixiaojun']",fix performance regression adding rules security groups sometime liberty pike adding rules sgs got slow slower every rule streamline rule create path get close old performance back controversial change likely using sqla db models write rules instead neutron objects restoring part loses performance keeps interface important changeid i34e41a128f28211f2e7ab814a2611ce22620fcf3 closesbug 1810563
https://review.opendev.org/779560,Include latest security updates when building image,Include latest security updates when building image Change-Id: I529c159d8a0c8c238a1da15b86d75bbe9bbc6435,2592,Mark McClain,"[2592, 22348]","['Mark McClain', 'Zuul']",include latest security updates building image changeid i529c159d8a0c8c238a1da15b86d75bbe9bbc6435
https://review.opendev.org/763446,Implement secure RBAC for security services,Implement secure RBAC for security services This commit updates the policies for security services to understand scope checking and account for a read-only role. This is part of a broader series of changes across OpenStack to provide a consistent RBAC experience and improve security. Change-Id: I399a61691dad3a80c289c9f3f99f3c48be07846f,5046,Lance Bragstad,"[9954, 16643, 21884, 22348, 29632, 30002]","['Lance Bragstad', 'Goutham Pacha Ravi', 'DellEMC Unity CI', 'Zuul', 'Carlos Eduardo', 'Douglas Viroel']",implement secure rbac security services commit updates policies security services understand scope checking account readonly role part broader series changes across openstack provide consistent rbac experience improve security changeid i399a61691dad3a80c289c9f3f99f3c48be07846f
https://review.opendev.org/629634,Improve security by avoiding buffer overflows,"Improve security by avoiding buffer overflows This patch adds compiler flags to improve the security of STX code. Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors, so at compiling level, buffer overflow is avoided. Story: 2004380 Task: 28823 Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Suggested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: I45a0002288db434bc79c477c231f900e477347a1",29242,Luis Botello,"[9926, 15405, 22348, 28464, 28466]","['John Kung', 'Erich Cordoba', 'Zuul', 'Eric MacDonald', 'Bin Qian']",improve security avoiding buffer overflows patch adds compiler flags improve security stx code flags added format string vulnerabilities cflagswformat wformatsecurity compiler treat string format warnings errors compiling level buffer overflow avoided story 2004380 task 28823 signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom suggestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid i45a0002288db434bc79c477c231f900e477347a1
https://review.opendev.org/629331,Improve security by avoiding buffer overflows,"This patch adds compiler flags to improve the security of STX code. Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors, so at compiling level, buffer overflow is avoided. Story: 2004380 Task: 28808 Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Sugested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: I7e844718e14b35893f9eeb725e32d9d7477f0d57",29242,Luis Botello,"[14174, 15435, 22348, 26477, 28433, 29242, 29281]","['Bart Wensley', 'Al Bailey', 'Zuul', 'Ken Young', 'Jack Ding', 'Luis Botello', 'Victor Manuel Rodriguez Bahena']",patch adds compiler flags improve security stx code flags added format string vulnerabilities cflagswformat wformatsecurity compiler treat string format warnings errors compiling level buffer overflow avoided story 2004380 task 28808 signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom sugestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid i7e844718e14b35893f9eeb725e32d9d7477f0d57
https://review.opendev.org/629329,Improve security by avoiding buffer overflows,"Improve security by avoiding buffer overflows This patch adds compiler flags to improve the security of STX code. Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors, so at compiling level, buffer overflow is avoided. Story: 2004380 Task: 28806 Signed-off-by: Luis Botello <luis.botello.ortega@intel.com> Reviewed-by: Erich Cordoba <erich.cordoba.malibran@intel.com> Victor Rodriguez <vm.rod25@gmail.com> Sugested-by: Victor Rodriguez <vm.rod25@gmail.com> Erich Cordoba <erich.cordoba.malibran@intel.com> Change-Id: Ia1ffaf18e7050d9099b80f9023b2bf255b4750fa",29242,Luis Botello,"[15435, 22348, 26477, 28286, 28468]","['Al Bailey', 'Zuul', 'Ken Young', 'Bruce Jones', 'Tao Liu']",improve security avoiding buffer overflows patch adds compiler flags improve security stx code flags added format string vulnerabilities cflagswformat wformatsecurity compiler treat string format warnings errors compiling level buffer overflow avoided story 2004380 task 28806 signedoffby luis botello luisbotelloortegaintelcom reviewedby erich cordoba erichcordobamalibranintelcom victor rodriguez vmrod25gmailcom sugestedby victor rodriguez vmrod25gmailcom erich cordoba erichcordobamalibranintelcom changeid ia1ffaf18e7050d9099b80f9023b2bf255b4750fa
https://review.opendev.org/628637,Increase size for security hardened images,"Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume. Increase the global size, as well as give more percentage to /var and reduce /root. Also fix fsck-passno setting, that was incorrectly set. Change-Id: I8d820f668ffffe5993d5fef38e0c1e8c5f5862ec Depends-On: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit aa19a7f92af8d7683b84221550f3850ceec85363) (cherry picked from commit 9f1c8002385be0173dee1b5c6e2ce33530c20101)",21909,Bob Fournier,"[3153, 6133, 14985, 21909, 22348, 23181, 29222]","['Emilien Macchi', 'yolanda.robla', 'Alex Schultz', 'Bob Fournier', 'Zuul', 'RDO Third Party CI', 'Natal Ngétal']",increase size security hardened images move containers increase demand var volume increase global size well give percentage var reduce root also fix fsckpassno setting incorrectly set changeid i8d820f668ffffe5993d5fef38e0c1e8c5f5862ec dependson ib806bac815077c2508060719469b5d0f1acc0f99 cherry picked commit aa19a7f92af8d7683b84221550f3850ceec85363 cherry picked commit 9f1c8002385be0173dee1b5c6e2ce33530c20101
https://review.opendev.org/628638,Increase size for security hardened images,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume. Increase the global size. Change-Id: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit 83c7887ffb361b33cd150098708fe3e06ea5e77b) (cherry picked from commit a32cbdee414f9bd20f03fe7eebb3e13cde5ca9e8),21909,Bob Fournier,"[3153, 6133, 22348, 23181]","['Emilien Macchi', 'yolanda.robla', 'Zuul', 'RDO Third Party CI']",increase size security hardened images move containers increase demand var volume increase global size changeid ib806bac815077c2508060719469b5d0f1acc0f99 cherry picked commit 83c7887ffb361b33cd150098708fe3e06ea5e77b cherry picked commit a32cbdee414f9bd20f03fe7eebb3e13cde5ca9e8
https://review.opendev.org/628291,Fluentd: Add security context for pods/containers,Fluentd: Add security context for pod uids This adds the security context snippet to the fluentd and fluentd exporter templates. This changes the users for these two pods from root to the nobody user instead Change-Id: Ibf1da152f4aa78d425bbd00f514c2787d8ad9c5f,17591,Steve Wilkerson,"[8898, 17591, 22348, 23928, 28701]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley', 'Dustin Specker']",fluentd add security context pod uids adds security context snippet fluentd fluentd exporter templates changes users two pods root nobody user instead changeid ibf1da152f4aa78d425bbd00f514c2787d8ad9c5f
https://review.opendev.org/628315,Grafana: Add container security context,"Grafana: Add container security context This adds the container security context to grafana, which explicitly sets allowPrivilegeEscalation to false Change-Id: I3723a0c96699b9a517dafa2df08bf8cc916bf117",17591,Steve Wilkerson,"[8898, 17591, 22348, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley']",grafana add container security context adds container security context grafana explicitly sets allowprivilegeescalation false changeid i3723a0c96699b9a517dafa2df08bf8cc916bf117
https://review.opendev.org/628309,Openstack exporter: Add security context for pod/container,"Openstack exporter: Add security context for pod uid This adds a security context to the openstack exporter, which changes the pod's user from root to the nobody user instead Change-Id: Ie3f105ee8b489f7641b5b7256a2023ae35257343",17591,Steve Wilkerson,"[8898, 17591, 22348, 22477, 28701]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Matt McEuen', 'Dustin Specker']",openstack exporter add security context pod uid adds security context openstack exporter changes pods user root nobody user instead changeid ie3f105ee8b489f7641b5b7256a2023ae35257343
https://review.opendev.org/628303,Mariadb: Add security context for mysql exporter pod/container,"Mariadb: Add security context for mysql exporter uid This adds a security context to the mysql prometheus exporter pod, which changes the user from root to the nobody user (uid 99 here) instead Change-Id: I5ddebb059e3c31c231fdc4c24190a65f23e37785",17591,Steve Wilkerson,"[8898, 17591, 22348, 23928, 28701]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley', 'Dustin Specker']",mariadb add security context mysql exporter uid adds security context mysql prometheus exporter pod changes user root nobody user uid 99 instead changeid i5ddebb059e3c31c231fdc4c24190a65f23e37785
https://review.opendev.org/628298,Memcached: Add security context for exporter pod/container,"Memcached: Add security context for exporter pod uid This adds the security context to the memcached prometheus exporter pod, which changes the default user from root to the nobody user instead Change-Id: I3401c1a67f17cef49a478be98f9ab42691b84d66",17591,Steve Wilkerson,"[8898, 22348, 23928, 28701]","['Chris Wedgwood', 'Zuul', 'Pete Birley', 'Dustin Specker']",memcached add security context exporter pod uid adds security context memcached prometheus exporter pod changes default user root nobody user instead changeid i3401c1a67f17cef49a478be98f9ab42691b84d66
https://review.opendev.org/628297,Alertmanager: Add security context for pod/container,Alertmanager: Add security context snippet for pod uid This adds the security context snipper to the alertmanager pod. This changes the default user from root to the nobody user instead Change-Id: Ie4423c57e871a03ab4baea346ac777c9f2ca3e2e,17591,Steve Wilkerson,"[8898, 17591, 22348, 23928, 28701]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley', 'Dustin Specker']",alertmanager add security context snippet pod uid adds security context snipper alertmanager pod changes default user root nobody user instead changeid ie4423c57e871a03ab4baea346ac777c9f2ca3e2e
https://review.opendev.org/628293,Elasticsearch: Add security context for exporter pod/container,Elasticsearch: Add security context for exporter pod uid This adds the security context snippet for the elasticsearch prometheus exporter pod. This changes the pod's user from root to the nobody user instead Change-Id: If692fccaf4dd362b28fecb4656036289a3a97122,17591,Steve Wilkerson,"[8898, 17591, 22348, 23928, 28701]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley', 'Dustin Specker']",elasticsearch add security context exporter pod uid adds security context snippet elasticsearch prometheus exporter pod changes pods user root nobody user instead changeid if692fccaf4dd362b28fecb4656036289a3a97122
https://review.opendev.org/628263,Kube-State-Metrics: Add pod/container security context,Kube-State-Metrics: Add pod security context for pod user This updates the kube-state-metrics chart to include the pod security context on the pod template. This changes the pod's user from root to the nobody user instead Change-Id: I17748b299a6e7a394cae63a0e713c49fbf68b4eb,17591,Steve Wilkerson,"[8898, 17591, 20466, 22348, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Pete Birley']",kubestatemetrics add pod security context pod user updates kubestatemetrics chart include pod security context pod template changes pods user root nobody user instead changeid i17748b299a6e7a394cae63a0e713c49fbf68b4eb
https://review.opendev.org/613087,Increase size for security hardened images,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume. Increase the global size. Change-Id: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit 83c7887ffb361b33cd150098708fe3e06ea5e77b),6133,yolanda.robla,"[6133, 10873, 11444, 14985, 21909, 22348, 22600, 23181, 25207]","['yolanda.robla', 'Juan Antonio Osorio Robles', 'Radoslaw Smigielski', 'Alex Schultz', 'Bob Fournier', 'Zuul', 'Alexander Chuzhoy', 'RDO Third Party CI', 'Michael Lammon']",increase size security hardened images move containers increase demand var volume increase global size changeid ib806bac815077c2508060719469b5d0f1acc0f99 cherry picked commit 83c7887ffb361b33cd150098708fe3e06ea5e77b
https://review.opendev.org/613088,Increase size for security hardened images,"Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume. Increase the global size, as well as give more percentage to /var and reduce /root. Also fix fsck-passno setting, that was incorrectly set. Change-Id: I8d820f668ffffe5993d5fef38e0c1e8c5f5862ec Depends-On: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit aa19a7f92af8d7683b84221550f3850ceec85363)",6133,yolanda.robla,"[10873, 14985, 21909, 22348, 22600, 23181, 25207]","['Juan Antonio Osorio Robles', 'Alex Schultz', 'Bob Fournier', 'Zuul', 'Alexander Chuzhoy', 'RDO Third Party CI', 'Michael Lammon']",increase size security hardened images move containers increase demand var volume increase global size well give percentage var reduce root also fix fsckpassno setting incorrectly set changeid i8d820f668ffffe5993d5fef38e0c1e8c5f5862ec dependson ib806bac815077c2508060719469b5d0f1acc0f99 cherry picked commit aa19a7f92af8d7683b84221550f3850ceec85363
https://review.opendev.org/628260,Grafana: Add pod security context for grafana user,Grafana: Add pod security context for grafana user This updates the Grafana chart to include the pod security context on the grafana pod. This changes the pod's user from root to the grafana user instead Change-Id: Id64853640f1941001b83566865defe93227b4291,17591,Steve Wilkerson,"[8898, 17591, 22348, 23928]","['Chris Wedgwood', 'Steve Wilkerson', 'Zuul', 'Pete Birley']",grafana add pod security context grafana user updates grafana chart include pod security context grafana pod changes pods user root grafana user instead changeid id64853640f1941001b83566865defe93227b4291
https://review.opendev.org/624383,NSX|P add port security support,[WIP] NSX|P add port security profiles Change-Id: Ief4a3989316f7b7097c5be6145aae169cde87e8e,20363,Adit Sarfaty,"[261, 9008, 20363, 22348, 24247]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",wip nsxp add port security profiles changeid ief4a3989316f7b7097c5be6145aae169cde87e8e
https://review.opendev.org/619563,NetApp ONTAP: cifs add AD security service server as preferred DC,NetApp ONTAP: cifs add AD security service server as preferred DC multiple comma separated entries can be given Change-Id: I9d6c79704d0ceb7a6fdc18035992e707327dd908 Closes-Bug: #1804651,18816,Maurice Escher,"[7102, 12016, 12017, 14384, 14567, 16643, 17097, 18816, 21863, 21884, 22248, 22348, 24863, 25243]","['Thomas Bechtold', 'DellEMC PowerMAX CI', 'DellEMC VNX CI', 'Quobyte CI', 'Rodrigo Barbieri', 'Goutham Pacha Ravi', 'Tiago Pasqualini da Silva', 'Maurice Escher', 'Jenkins of Infinidat', 'DellEMC Unity CI', 'HPE STORAGE CI', 'Zuul', 'Veritas Access CI', 'NetApp CI']",netapp ontap cifs add ad security service server preferred dc multiple comma separated entries given changeid i9d6c79704d0ceb7a6fdc18035992e707327dd908 closesbug 1804651
https://review.opendev.org/625301,Helm-toolkit: Fix hasKey call for security context snippet,"Helm-toolkit: Fix hasKey call for security context snippet This fixes the hasKey call in the pod security context snippet template, as the call requires 2 args: a map and a key. This addresses the problem by indexing the provided map on the application key, before passing it to the hasKey call Change-Id: I95264c933b51e2a8e38f63faa1e239bb3c1ebfda",17591,Steve Wilkerson,"[8898, 22348, 23928]","['Chris Wedgwood', 'Zuul', 'Pete Birley']",helmtoolkit fix haskey call security context snippet fixes haskey call pod security context snippet template call requires 2 args map key addresses problem indexing provided map application key passing haskey call changeid i95264c933b51e2a8e38f63faa1e239bb3c1ebfda
https://review.opendev.org/775782,Add authtoken security options,"Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware. The keys for individual services are hashed with a salt, to isolate them. Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 (cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)",14250,Grzegorz Grasza,"[3153, 7144, 7353, 9816, 14985, 22348, 23181]","['Emilien Macchi', 'James Slagle', 'Kevin Carter', 'Takashi Kajinami', 'Alex Schultz', 'Zuul', 'RDO Third Party CI']",add authtoken security options add ability specify memcachesecuritystrategy memcachesecretkey keystone authtoken middleware keys individual services hashed salt isolate changeid i8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 cherry picked commit 59b54b6f46b2089b0480a276463f8d5d1de9f307
https://review.opendev.org/768129,[OVN] security group logging support (2 of 2),[DNM] [WIP] Please ignore -- [OVN] security group logging support Change-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98,11952,Flavio Fernandes,"[841, 6773, 8655, 9845, 11952, 11975, 15471, 16688, 22348]","['Akihiro Motoki', 'Lucas Alvares Gomes', 'Jakub Libosvar', 'Arista CI', 'Flavio Fernandes', 'Slawek Kaplonski', 'Nguyen Phuong An', 'Rodolfo Alonso', 'Zuul']",dnm wip please ignore ovn security group logging support changeid ic86fa70eb34c9b178267b80de1f8883a3ef03e98
https://review.opendev.org/774460,[OVN] security group logging support (1 of 2),[OVN] security group logging support (1 of 3) This patchset 1 of 3 for OVN driver handling of security-group-logging. It includes the design documentation for this feature. Related-Bug: 1914757 Partially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509 Change-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2,11952,Flavio Fernandes,"[841, 5756, 6773, 8655, 11952, 11975, 15471, 16688, 22348, 23804]","['Akihiro Motoki', 'Terry Wilson', 'Lucas Alvares Gomes', 'Jakub Libosvar', 'Flavio Fernandes', 'Slawek Kaplonski', 'Nguyen Phuong An', 'Rodolfo Alonso', 'Zuul', 'Daniel Alvarez']",ovn security group logging support 1 3 patchset 1 3 ovn driver handling securitygrouplogging includes design documentation feature relatedbug 1914757 partiallyimplements httpsreviewopendevorgcopenstackneutronspecs203509 changeid i95d57613cef3b6892d3a0dd5705e2e8f3386a3a2
https://review.opendev.org/609409,Update test cases after security group menthods improvements.,Update test cases after security group menthods improvements. Change-Id: I8589b31db996702c3da2235fa72182badfd84c02,27329,Federico Ressi,"[1131, 11975, 22348, 27329]","['Brian Haley', 'Slawek Kaplonski', 'Zuul', 'Federico Ressi']",update test cases security group menthods improvements changeid i8589b31db996702c3da2235fa72182badfd84c02
https://review.opendev.org/608616,Add security groups driver for NP,[WIP] Add security groups driver for NP This commit creates a new security group driver for handling network policies sg and sg rules. Change-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d,14885,Daniel Mellado,"[6598, 11600, 14352, 14885, 21041, 22348, 23567, 27032]","['Berezovsky Irena', 'Micha? Dulko', 'Antoni Segura Puimedon', 'Daniel Mellado', 'Yossi Boaron', 'Zuul', 'Luis Tomas Bolivar', 'Maysa de Macedo Souza']",wip add security groups driver np commit creates new security group driver handling network policies sg sg rules changeid ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d
https://review.opendev.org/620067,Set admin security context in the action execution checker thread,Set admin security context in the action execution checker thread Change-Id: I4c7abff04b8797618294d9e13fbec4b5876bcdb6 Closes-Bug: #1805080,8731,Renat Akhmerov,"[8731, 9029, 22348]","['Renat Akhmerov', 'Moshe Elisha', 'Zuul']",set admin security context action execution checker thread changeid i4c7abff04b8797618294d9e13fbec4b5876bcdb6 closesbug 1805080
https://review.opendev.org/619687,[doc]Fix: Modify content of configure access and security for instance,[doc] Fix: Modify the content of the configure access and security for instance Step 7 of 'Add a key pair' instructs end users to respond to the prompt to download but Horizon now automatically download Key pair and no prompt to download the key pair is displayed. This patch updates the doc correctly. Change-Id: Ic96de6983c7d95c4eca19ae0b6e3d1c700aac9b5 Closes-Bug: #1804139,29313,Vishal Manchanda,"[841, 1736, 22348, 29313]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Zuul', 'Vishal Manchanda']",doc fix modify content configure access security instance step 7 add key pair instructs end users respond prompt download horizon automatically download key pair prompt download key pair displayed patch updates doc correctly changeid ic96de6983c7d95c4eca19ae0b6e3d1c700aac9b5 closesbug 1804139
https://review.opendev.org/619964,Set admin security context in the action execution checker thread,Set admin security context in the action execution checker thread Change-Id: I4c7abff04b8797618294d9e13fbec4b5876bcdb6 Closes-Bug: #1805080,8731,Renat Akhmerov,"[7700, 8731, 9029, 9712, 15895, 21970, 22348, 27008]","['Nikolay Mahotkin', 'Renat Akhmerov', 'Moshe Elisha', 'Dougal Matthews', 'Adriano Petrich', 'Andras Kovi', 'Zuul', 'Vitalii Solodilov']",set admin security context action execution checker thread changeid i4c7abff04b8797618294d9e13fbec4b5876bcdb6 closesbug 1805080
https://review.opendev.org/616960,Set correct switch security profile when port sec disabled,Set correct switch security profile when port sec disabled Ensure that the swicth security profile does not have any security features on it when port security is disabled. Change-Id: Ib3aa7f3b960d3a03d1c9eb24ce376b311abd9324,1653,garyk,"[261, 1653, 9008, 17130, 20363, 22348, 29032]","['Salvatore Orlando', 'garyk', 'VMware NSX CI', 'melissaml', 'Adit Sarfaty', 'Zuul', 'Sujeet Banerjee']",set correct switch security profile port sec disabled ensure swicth security profile security features port security disabled changeid ib3aa7f3b960d3a03d1c9eb24ce376b311abd9324
https://review.opendev.org/617616,[cleanup]catch 404 exception while there is not any neutron security group,"[cleanup]catch the exception while there is not any neutron security group In some environment, the security group is not configured, so we need to catch the exception which is raised by security group list. Change-Id: Iaa5d2af6040a54011b8cbf788797c2c199f30ab4",21528,chenhb,"[8871, 9545, 22348]","['Elastic Recheck', 'Andrey Kurilin', 'Zuul']",cleanupcatch exception neutron security group environment security group configured need catch exception raised security group list changeid iaa5d2af6040a54011b8cbf788797c2c199f30ab4
https://review.opendev.org/617905,Add security groups tests,"Add security groups tests Pre test: two VMs created, one of them with blank sg. verify there is ping only to one of the VMs. Post test: verify status is the same and add rules to the blank sg to allow ICMP. verify ping is working for both VMs. Change-Id: I1f36c52e085f293e3011c7eeea18f8762e2d4ee1",16615,Arie Bregman,"[16615, 22348, 27329]","['Arie Bregman', 'Zuul', 'Federico Ressi']",add security groups tests pre test two vms created one blank sg verify ping one vms post test verify status add rules blank sg allow icmp verify ping working vms changeid i1f36c52e085f293e3011c7eeea18f8762e2d4ee1
https://review.opendev.org/775800,Add Monasca Grafana security note,Add Monasca Grafana security note Update the Monasca docs to improve security considerations. Trivial-Fix Change-Id: I97eb8441466f8c6abdbd66068257765bdbe32d4d,17669,Doug Szumski,"[14826, 17669, 22348, 30491]","['Mark Goddard', 'Doug Szumski', 'Zuul', 'Rados?aw Piliszek']",add monasca grafana security note update monasca docs improve security considerations trivialfix changeid i97eb8441466f8c6abdbd66068257765bdbe32d4d
https://review.opendev.org/775783,Add authtoken security options,"Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware. The keys for individual services are hashed with a salt, to isolate them. Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 (cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)",14250,Grzegorz Grasza,"[14985, 22348, 23181]","['Alex Schultz', 'Zuul', 'RDO Third Party CI']",add authtoken security options add ability specify memcachesecuritystrategy memcachesecretkey keystone authtoken middleware keys individual services hashed salt isolate changeid i8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 cherry picked commit 59b54b6f46b2089b0480a276463f8d5d1de9f307
https://review.opendev.org/602443,Update policy security roadmap,Update policy security roadmap Some things have changed since this was originally written and this patch attempts to update those things. Change-Id: Ibc24b4192f5cec2efa4eef79e94bdbcf27ffc162,5046,Lance Bragstad,"[5046, 8482, 15054, 22348]","['Lance Bragstad', 'Colleen Murphy', 'wangxiyuan', 'Zuul']",update policy security roadmap things changed since originally written patch attempts update things changeid ibc24b4192f5cec2efa4eef79e94bdbcf27ffc162
https://review.opendev.org/614741,[Tempest] Added uni-scale cases for below entites - Port-security - Provider Security groups - Also changed to function name to test vm internal traffic,[Tempest] Added uni-scale cases for below entites - Port-security - Provider Security groups - Also changed to function name to test vm internal traffic Change-Id: I28d92272f100a76b7239a006580f605f91ed14ba,22107,Puneet Arora,"[22107, 22348]","['Puneet Arora', 'Zuul']",tempest added uniscale cases entites portsecurity provider security groups also changed function name test vm internal traffic changeid i28d92272f100a76b7239a006580f605f91ed14ba
https://review.opendev.org/608372,Document security considerations for detailed healthcheck,Document security considerations for detailed healthcheck The detailed healthcheck output includes some potentially sensitive information like stack traces of the service. This may be unacceptable in some organizations and we should point it out in the help for the option. Change-Id: Ic10c29f39ef601e4c7873acb0d56e1ec8e4ebcb3,6928,Ben Nemec,"[9796, 15334, 22348]","['ChangBo Guo(gcb)', 'Stephen Finucane', 'Zuul']",document security considerations detailed healthcheck detailed healthcheck output includes potentially sensitive information like stack traces service may unacceptable organizations point help option changeid ic10c29f39ef601e4c7873acb0d56e1ec8e4ebcb3
https://review.opendev.org/612378,NSX|P: Fix security group rule validation,NSX|P: Fix security group rule validation Duplicate rule validation failed since _check_local_ip_prefix should be called before addign the ruels to the DB Change-Id: I931ad9e42ff76dd5fd7582ddad0ffbb3f4e8fc45,20363,Adit Sarfaty,"[9008, 20363, 22348, 27546]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",nsxp fix security group rule validation duplicate rule validation failed since checklocalipprefix called addign ruels db changeid i931ad9e42ff76dd5fd7582ddad0ffbb3f4e8fc45
https://review.opendev.org/608015,Increase size for security hardened images,"Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume. Increase the global size, as well as give more percentage to /var and reduce /root. Also fix fsck-passno setting, that was incorrectly set. Change-Id: I8d820f668ffffe5993d5fef38e0c1e8c5f5862ec",6133,yolanda.robla,"[3153, 6133, 10873, 14985, 21909, 22348, 22600, 23181, 24245, 25207]","['Emilien Macchi', 'yolanda.robla', 'Juan Antonio Osorio Robles', 'Alex Schultz', 'Bob Fournier', 'Zuul', 'Alexander Chuzhoy', 'RDO Third Party CI', 'Harald Jensås', 'Michael Lammon']",increase size security hardened images move containers increase demand var volume increase global size well give percentage var reduce root also fix fsckpassno setting incorrectly set changeid i8d820f668ffffe5993d5fef38e0c1e8c5f5862ec
https://review.opendev.org/608017,Increase size for security hardened images,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume. Increase the global size. Change-Id: Ib806bac815077c2508060719469b5d0f1acc0f99,6133,yolanda.robla,"[3153, 6133, 10873, 14985, 22348, 22600, 23181, 24245, 25207]","['Emilien Macchi', 'yolanda.robla', 'Juan Antonio Osorio Robles', 'Alex Schultz', 'Zuul', 'Alexander Chuzhoy', 'RDO Third Party CI', 'Harald Jensås', 'Michael Lammon']",increase size security hardened images move containers increase demand var volume increase global size changeid ib806bac815077c2508060719469b5d0f1acc0f99
https://review.opendev.org/609621,Create default security group in TF with different name,"Create default security group in TF with different name vnc_openstack does not allow to create sg with name 'default' in TF, but the networking-openstack requires to have security group in TF with the same uuid as in neutron db. Change-Id: I614cdf89d2d075e79ebd962820bf4dd53e4347f7",27603,Maciej Jagiello,"[6558, 22348, 27603, 28066, 29035]","['Sukhdev Kapur', 'Zuul', 'Maciej Jagiello', 'Pawel Zadrozny', 'Kamil Ma?kowski']",create default security group tf different name vncopenstack allow create sg name default tf networkingopenstack requires security group tf uuid neutron db changeid i614cdf89d2d075e79ebd962820bf4dd53e4347f7
https://review.opendev.org/607954,NSX|V3: Support security features for ENS switches,"NSX|V3: Support security features for ENS switches Depending on the platform version, support port-security, and allow disabling mac learning for ENS netowrks and ports. Change-Id: I412c30aa87a7706603696ddff476ac58600d7b87",20363,Adit Sarfaty,"[261, 9008, 13438, 20363, 22348, 24247, 27546]","['Salvatore Orlando', 'VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky', 'Michal Kelner Mishali']",nsxv3 support security features ens switches depending platform version support portsecurity allow disabling mac learning ens netowrks ports changeid i412c30aa87a7706603696ddff476ac58600d7b87
https://review.opendev.org/610333,NSX|V Allow updating port security and mac learning together,NSX|V Allow updating port security and mac learning together Change-Id: Ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxv allow updating port security mac learning together changeid ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177
https://review.opendev.org/610332,NSX|V Allow updating port security and mac learning together,NSX|V Allow updating port security and mac learning together Change-Id: Ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxv allow updating port security mac learning together changeid ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177
https://review.opendev.org/608851,NSX|V Allow updating port security and mac learning together,NSX|V Allow updating port security and mac learning together Change-Id: Ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177,20363,Adit Sarfaty,"[261, 9008, 20363, 22348, 24247]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxv allow updating port security mac learning together changeid ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177
https://review.opendev.org/777602,Correct OpenStack Security URL in sites,"Correct OpenStack Security URL in sites Our Mailman site templates and similar content contain links to an old openstack-security page on the foundation-run site which no longer exists. Correct this to the OpenStack community's security site, which should be much more stable. Change-Id: I9577540319c53f76afc40a33b2c5697280397149",5263,Jeremy Stanley,"[4146, 22348]","['Clark Boylan', 'Zuul']",correct openstack security url sites mailman site templates similar content contain links old openstacksecurity page foundationrun site longer exists correct openstack communitys security site much stable changeid i9577540319c53f76afc40a33b2c5697280397149
https://review.opendev.org/774406,Don't try to create default SG when security groups are disabled,"Don't try to create default SG when security groups are disabled If security group API is disabled, there is no point to create default security group for tenant when e.g. network is created. Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)",11975,Slawek Kaplonski,"[1131, 5948, 16688, 21798, 22348]","['Brian Haley', 'Oleg Bondarev', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",dont try create default sg security groups disabled security group api disabled point create default security group tenant eg network created closesbug 1913297 changeid ib73babdd563e3e8c21ce6f63456cc87af414c5aa cherry picked commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae
https://review.opendev.org/609164,Fixes too low security group rules quota,Fixes too low security group rules quota The quota for security group rules was erroneously set to 100 with the aim to have 100 security group rules per security group instead of to 100*#security group rules. This patch fixes this discrepancy. It also uses the int filter to avoid string mis- interpretation. Change-Id: Iafd15276524988e7240a26a1f362593c05529931 (cherry picked from commit b2d820d3fc19514b2827599a563066b9ec276702),6816,Jesse Pretorius,"[1004, 6816, 22348, 25023]","['Mohammed Naser', 'Jesse Pretorius', 'Zuul', 'Jonathan Rosser']",fixes low security group rules quota quota security group rules erroneously set 100 aim 100 security group rules per security group instead 100security group rules patch fixes discrepancy also uses int filter avoid string mis interpretation changeid iafd15276524988e7240a26a1f362593c05529931 cherry picked commit b2d820d3fc19514b2827599a563066b9ec276702
https://review.opendev.org/600826,Fixes too low security group rules quota,Fixes too low security group rules quota The quota for security group rules was erroneously set to 100 with the aim to have 100 security group rules per security group instead of to 100*#security group rules. This patch fixes this discrepancy. Change-Id: Iafd15276524988e7240a26a1f362593c05529931,10850,German Eichberger,"[6816, 7353, 10850, 11628, 22348, 25023]","['Jesse Pretorius', 'Kevin Carter', 'German Eichberger', 'Michael Johnson', 'Zuul', 'Jonathan Rosser']",fixes low security group rules quota quota security group rules erroneously set 100 aim 100 security group rules per security group instead 100security group rules patch fixes discrepancy changeid iafd15276524988e7240a26a1f362593c05529931
https://review.opendev.org/607870,Ignore missing ports when handling security groups,"Ignore missing ports when handling security groups This issue affects the neutron OVS agent, when using the Hyper-V security groups driver. In quite a few situations, OVS ports may be leaked. This becomes more troublesome as the OVS agent will try to update rules for Hyper-V switch ports that do not exist anymore and fail. Note that the agent handles multiple ports at a time. If one of them is a leaked port, the others won't get processed. The security groups driver may just ignore missing ports. Closes-Bug: #1794975 Change-Id: Ic59ba7ca68828dcead99973fadc4ec798e116833 (cherry picked from commit 15a7db5e4f6224023860c1feaa32fd5fb77adb6d)",8543,Lucian Petrut,"[8543, 22348]","['Lucian Petrut', 'Zuul']",ignore missing ports handling security groups issue affects neutron ovs agent using hyperv security groups driver quite situations ovs ports may leaked becomes troublesome ovs agent try update rules hyperv switch ports exist anymore fail note agent handles multiple ports time one leaked port others wont get processed security groups driver may ignore missing ports closesbug 1794975 changeid ic59ba7ca68828dcead99973fadc4ec798e116833 cherry picked commit 15a7db5e4f6224023860c1feaa32fd5fb77adb6d
https://review.opendev.org/607869,Ignore missing ports when handling security groups,"Ignore missing ports when handling security groups This issue affects the neutron OVS agent, when using the Hyper-V security groups driver. In quite a few situations, OVS ports may be leaked. This becomes more troublesome as the OVS agent will try to update rules for Hyper-V switch ports that do not exist anymore and fail. Note that the agent handles multiple ports at a time. If one of them is a leaked port, the others won't get processed. The security groups driver may just ignore missing ports. Closes-Bug: #1794975 Change-Id: Ic59ba7ca68828dcead99973fadc4ec798e116833 (cherry picked from commit 15a7db5e4f6224023860c1feaa32fd5fb77adb6d)",8543,Lucian Petrut,"[8543, 22348]","['Lucian Petrut', 'Zuul']",ignore missing ports handling security groups issue affects neutron ovs agent using hyperv security groups driver quite situations ovs ports may leaked becomes troublesome ovs agent try update rules hyperv switch ports exist anymore fail note agent handles multiple ports time one leaked port others wont get processed security groups driver may ignore missing ports closesbug 1794975 changeid ic59ba7ca68828dcead99973fadc4ec798e116833 cherry picked commit 15a7db5e4f6224023860c1feaa32fd5fb77adb6d
https://review.opendev.org/606057,Ignore missing ports when handling security groups,"Ignore missing ports when handling security groups This issue affects the neutron OVS agent, when using the Hyper-V security groups driver. In quite a few situations, OVS ports may be leaked. This becomes more troublesome as the OVS agent will try to update rules for Hyper-V switch ports that do not exist anymore and fail. Note that the agent handles multiple ports at a time. If one of them is a leaked port, the others won't get processed. The security groups driver may just ignore missing ports. Closes-Bug: #1794975 Change-Id: Ic59ba7ca68828dcead99973fadc4ec798e116833",8543,Lucian Petrut,"[8213, 8543, 22348]","['Claudiu Belu', 'Lucian Petrut', 'Zuul']",ignore missing ports handling security groups issue affects neutron ovs agent using hyperv security groups driver quite situations ovs ports may leaked becomes troublesome ovs agent try update rules hyperv switch ports exist anymore fail note agent handles multiple ports time one leaked port others wont get processed security groups driver may ignore missing ports closesbug 1794975 changeid ic59ba7ca68828dcead99973fadc4ec798e116833
https://review.opendev.org/605493,Improve security of default and example configurations,Improve security of default and example configurations * Enabled the NodeRestriction Admission Controller. * Configured the default terminated-pod-gc-threshold in the controller-manager. * Disable repair-malformed-updates. * Disable anonymous-auth in the Kubelet. * Further restrict permissions for contents of /etc/kubernetes and /var/lib/etcd. Change-Id: I112652a5aa7bde054de253234f65755d90ab65ad,25907,Mark Burnett,"[22348, 26449, 28235]","['Zuul', 'Scott Hussey', 'Aaron Sheffield']",improve security default example configurations enabled noderestriction admission controller configured default terminatedpodgcthreshold controllermanager disable repairmalformedupdates disable anonymousauth kubelet restrict permissions contents etckubernetes varlibetcd changeid i112652a5aa7bde054de253234f65755d90ab65ad
https://review.opendev.org/589318,Airship Ubuntu/MAAS security guide,[WIP] Airship Ubuntu/MAAS security guide Security item list for how Ubuntu is configured on Airship deployed nodes. Change-Id: I8a784f01d4487658f23d6901a8bb3f4702887e19,26449,Scott Hussey,"[22348, 23186, 25907, 28235, 28237]","['Zuul', 'Felipe Monteiro', 'Mark Burnett', 'Aaron Sheffield', 'ATT Airship CI']",wip airship ubuntumaas security guide security item list ubuntu configured airship deployed nodes changeid i8a784f01d4487658f23d6901a8bb3f4702887e19
https://review.opendev.org/602147,Normalize security groups when using Neutron,"Normalize security groups when using Neutron When Neutron was used, the listed security groups were not being normalized, which doesn't help end users on having a consistent representation of them regardless the cloud configuration choices. Story: #2003741 Task: #26423 Change-Id: I6b132c9aac119d94b1085741f557fa405836a703",17860,Samuel de Medeiros Queiroz,"[2, 10239, 17860, 22348]","['Monty Taylor', 'Dmitry Tantsur', 'Samuel de Medeiros Queiroz', 'Zuul']",normalize security groups using neutron neutron used listed security groups normalized doesnt help end users consistent representation regardless cloud configuration choices story 2003741 task 26423 changeid i6b132c9aac119d94b1085741f557fa405836a703
https://review.opendev.org/603977,Fix the revision needed for security rules version,Fix the revision needed for security rules version This feature was added in NSX 2.4 instead of 2.3 Change-Id: I24aaafb82e67f4cab9d8b379491d204441462213,20363,Adit Sarfaty,"[9008, 12024, 20363, 22348, 24247]","['VMware NSX CI', 'Tong Liu', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",fix revision needed security rules version feature added nsx 24 instead 23 changeid i24aaafb82e67f4cab9d8b379491d204441462213
https://review.opendev.org/603976,Fix the revision needed for security rules version,Fix the revision needed for security rules version This feature was added in NSX 2.4 instead of 2.3 Change-Id: I24aaafb82e67f4cab9d8b379491d204441462213,20363,Adit Sarfaty,"[7018, 9008, 12024, 20363, 22348]","['Abhishek Raut', 'VMware NSX CI', 'Tong Liu', 'Adit Sarfaty', 'Zuul']",fix revision needed security rules version feature added nsx 24 instead 23 changeid i24aaafb82e67f4cab9d8b379491d204441462213
https://review.opendev.org/774405,Don't try to create default SG when security groups are disabled,"Don't try to create default SG when security groups are disabled If security group API is disabled, there is no point to create default security group for tenant when e.g. network is created. Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)",11975,Slawek Kaplonski,"[1131, 5948, 16688, 21798, 22348]","['Brian Haley', 'Oleg Bondarev', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",dont try create default sg security groups disabled security group api disabled point create default security group tenant eg network created closesbug 1913297 changeid ib73babdd563e3e8c21ce6f63456cc87af414c5aa cherry picked commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae
https://review.opendev.org/775786,Add authtoken security options,"Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware. The keys for individual services are hashed with a salt, to isolate them. Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 (cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)",14250,Grzegorz Grasza,"[3153, 7353, 9816, 14985, 22348, 23181]","['Emilien Macchi', 'Kevin Carter', 'Takashi Kajinami', 'Alex Schultz', 'Zuul', 'RDO Third Party CI']",add authtoken security options add ability specify memcachesecuritystrategy memcachesecretkey keystone authtoken middleware keys individual services hashed salt isolate changeid i8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 cherry picked commit 59b54b6f46b2089b0480a276463f8d5d1de9f307
https://review.opendev.org/774404,Don't try to create default SG when security groups are disabled,"Don't try to create default SG when security groups are disabled If security group API is disabled, there is no point to create default security group for tenant when e.g. network is created. Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)",11975,Slawek Kaplonski,"[1131, 5948, 8313, 16688, 21798, 22348]","['Brian Haley', 'Oleg Bondarev', 'Lajos Katona', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",dont try create default sg security groups disabled security group api disabled point create default security group tenant eg network created closesbug 1913297 changeid ib73babdd563e3e8c21ce6f63456cc87af414c5aa cherry picked commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae
https://review.opendev.org/585475,Merge security groups extension response into server view builder,Merge security groups extension response into server view builder As nova extensions has been deprecated already and goal is to merge all scattered code into main controller side. Currently schema and request/response extended code are there among all extensions. This commit merge the security groups extension resposne into server view builder. Partially implements: blueprint api-extensions-merge-rocky Change-Id: I57141fc6b1ee87ad3933edd9dc255294d03b5651,8556,Ghanshyam,"[782, 6167, 6873, 7634, 8556, 8871, 9008, 9732, 10118, 10385, 14384, 14595, 15751, 15941, 16128, 16376, 16898, 22348, 23498, 24230, 26077, 26458, 26515, 26936]","['John Garbutt', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'Takashi Natsume', 'Ghanshyam', 'Elastic Recheck', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'IBM zKVM CI', 'Intel PCI CI', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo CI', 'Zuul', 'IBM zVM CI', 'NetApp E-Series CI', 'NetApp SolidFire CI', 'Brin Zhang', 'Cloudbase Nova Hyper-V CI', 'Surya Seetharaman']",merge security groups extension response server view builder nova extensions deprecated already goal merge scattered code main controller side currently schema requestresponse extended code among extensions commit merge security groups extension resposne server view builder partially implements blueprint apiextensionsmergerocky changeid i57141fc6b1ee87ad3933edd9dc255294d03b5651
https://review.opendev.org/600557,Don't set security groups in openstackci-packethost,"Don't set security groups in openstackci-packethost This account is an admin account and sees every project's default security group. This leads to: FAILED! => {""changed"": false, ""msg"": ""Multiple matches found for default""} When attempting to set the properties of the default security group for this account. There doesn't appear to be a good way to filter the other default security groups out currently so avoid setting them for now. Change-Id: I9a8cc7d59c0295caa71bf107b9b78745a4617981",4146,Clark Boylan,"[1, 5263, 22348]","['James E. Blair', 'Jeremy Stanley', 'Zuul']",dont set security groups openstackcipackethost account admin account sees every projects default security group leads failed changed false msg multiple matches found default attempting set properties default security group account doesnt appear good way filter default security groups currently avoid setting changeid i9a8cc7d59c0295caa71bf107b9b78745a4617981
https://review.opendev.org/591487,HAProxy Security Guide,HAProxy Security Guide - Added a basic HAProxy security guide. Guide is light due to using TCP mode. Change-Id: Ic5d5126c6ca45112acad640826fdbbb2b0e080f4,28235,Aaron Sheffield,"[7769, 18180, 20466, 20998, 22348, 23186, 23928, 25907, 26365, 26449, 28235, 28237]","['Pentheus', 'Marshall Margenau', 'Tin Lam', 'Anthony Lin', 'Zuul', 'Felipe Monteiro', 'Pete Birley', 'Mark Burnett', 'Bryan Strassner', 'Scott Hussey', 'Aaron Sheffield', 'ATT Airship CI']",haproxy security guide added basic haproxy security guide guide light due using tcp mode changeid ic5d5126c6ca45112acad640826fdbbb2b0e080f4
https://review.opendev.org/593534,Fix lost connection when create security group log,"Fix lost connection when create security group log Packet sent to table 91 are considered accepted by the egress pipeline and NORMAL action is used by default in this table. However, if we create a security group logging resource, then ovs flows log will be added into this table with higher priority. Therefore packet matches with ovs flows log will be sent to CONTROLLER and never forward. So this patch append action=NORMAL into ovs flows log to forward the packet and send it to CONTROLLER for logging. Closes-Bug: #1787106 Change-Id: I6e95e2e646ec8a5507c7f140ab2c4a56be8404c3 (cherry picked from commit 7d2ac2d0aff90d17d2e46aba2af3b4cc32d1833c)",15471,Nguyen Phuong An,"[1131, 4694, 8313, 9531, 9732, 10385, 13995, 15471, 22348]","['Brian Haley', 'Miguel Lavalle', 'Lajos Katona', 'liuyulong', 'Mellanox CI', 'Citrix XenServer CI', 'Nate Johnston', 'Nguyen Phuong An', 'Zuul']",fix lost connection create security group log packet sent table 91 considered accepted egress pipeline normal action used default table however create security group logging resource ovs flows log added table higher priority therefore packet matches ovs flows log sent controller never forward patch append actionnormal ovs flows log forward packet send controller logging closesbug 1787106 changeid i6e95e2e646ec8a5507c7f140ab2c4a56be8404c3 cherry picked commit 7d2ac2d0aff90d17d2e46aba2af3b4cc32d1833c
https://review.opendev.org/591547,Fix no ACCEPT event can get for security group logging,"Fix no ACCEPT event can get for security group logging Currently, we cannot get ACCEPT packet log because there are some changed related to ovs firewall code since ovs firewall logging has been merged. Regarding to performance perspective, we only log first accepted packet. So we only need to forward first accepted packet of each connection session to table 91 and table 92. So this patch fixes these issues. Closes-Bug: #1782576 Change-Id: Ib6ced838a7ec6d5c459a8475318556001c31bdf0 (cherry picked from commit ced78395a7952d0e616055892645fd2a6165833f)",15471,Nguyen Phuong An,"[841, 1131, 4694, 9531, 9732, 10385, 11975, 13702, 13995, 15471, 22348]","['Akihiro Motoki', 'Brian Haley', 'Miguel Lavalle', 'liuyulong', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'yushiro', 'Nate Johnston', 'Nguyen Phuong An', 'Zuul']",fix accept event get security group logging currently get accept packet log changed related ovs firewall code since ovs firewall logging merged regarding performance perspective log first accepted packet need forward first accepted packet connection session table 91 table 92 patch fixes issues closesbug 1782576 changeid ib6ced838a7ec6d5c459a8475318556001c31bdf0 cherry picked commit ced78395a7952d0e616055892645fd2a6165833f
https://review.opendev.org/591542,Fix no ACCEPT event can get for security group logging,"Fix no ACCEPT event can get for security group logging Currently, we cannot get ACCEPT packet log because there are some changed related to ovs firewall code since ovs firewall logging has been merged. Regarding to performance perspective, we only log first accepted packet. So we only need to forward first accepted packet of each connection session to table 91 and table 92. So this patch fixes these issues. Closes-Bug: #1782576 Change-Id: Ib6ced838a7ec6d5c459a8475318556001c31bdf0 (cherry picked from commit ced78395a7952d0e616055892645fd2a6165833f)",15471,Nguyen Phuong An,"[841, 1131, 4694, 9732, 10385, 11975, 13702, 13995, 15471, 22348]","['Akihiro Motoki', 'Brian Haley', 'Miguel Lavalle', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'yushiro', 'Nate Johnston', 'Nguyen Phuong An', 'Zuul']",fix accept event get security group logging currently get accept packet log changed related ovs firewall code since ovs firewall logging merged regarding performance perspective log first accepted packet need forward first accepted packet connection session table 91 table 92 patch fixes issues closesbug 1782576 changeid ib6ced838a7ec6d5c459a8475318556001c31bdf0 cherry picked commit ced78395a7952d0e616055892645fd2a6165833f
https://review.opendev.org/593533,Fix lost connection when create security group log,"Fix lost connection when create security group log Packet sent to table 91 are considered accepted by the egress pipeline and NORMAL action is used by default in this table. However, if we create a security group logging resource, then ovs flows log will be added into this table with higher priority. Therefore packet matches with ovs flows log will be sent to CONTROLLER and never forward. So this patch append action=NORMAL into ovs flows log to forward the packet and send it to CONTROLLER for logging. Closes-Bug: #1787106 Change-Id: I6e95e2e646ec8a5507c7f140ab2c4a56be8404c3 (cherry picked from commit 7d2ac2d0aff90d17d2e46aba2af3b4cc32d1833c)",15471,Nguyen Phuong An,"[841, 1131, 4694, 8313, 9732, 10385, 15471, 22348]","['Akihiro Motoki', 'Brian Haley', 'Miguel Lavalle', 'Lajos Katona', 'Mellanox CI', 'Citrix XenServer CI', 'Nguyen Phuong An', 'Zuul']",fix lost connection create security group log packet sent table 91 considered accepted egress pipeline normal action used default table however create security group logging resource ovs flows log added table higher priority therefore packet matches ovs flows log sent controller never forward patch append actionnormal ovs flows log forward packet send controller logging closesbug 1787106 changeid i6e95e2e646ec8a5507c7f140ab2c4a56be8404c3 cherry picked commit 7d2ac2d0aff90d17d2e46aba2af3b4cc32d1833c
https://review.opendev.org/594549,Add bandit python security scanning to pep8,Add bandit python security scanning to pep8 This change adds bandit python security code scanning to the pep8 zuul check. Change-Id: I8b6c52bd3fae87c5b49f3cde8bb9e63526155973,21420,Gage Hugo,"[8556, 22348, 23186]","['Ghanshyam', 'Zuul', 'Felipe Monteiro']",add bandit python security scanning pep8 change adds bandit python security code scanning pep8 zuul check changeid i8b6c52bd3fae87c5b49f3cde8bb9e63526155973
https://review.opendev.org/566484,Deprecate security groups related commands,Deprecate security groups related commands * Print a warning message on the security groups commands to tell users these commands are deprecated. * Bump the API microversion to 1.15 * Add a TODO comment to indicate that the OSC security group commands need further work. Depends-On: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61 Change-Id: I01bf45aa00c3f8e4c4c86636304e675c8d402d55 Implements: blueprint rework-security-group-api,11536,hongbin,"[21785, 22348, 23365]","['Namrata', 'Zuul', 'feng.shengqin']",deprecate security groups related commands print warning message security groups commands tell users commands deprecated bump api microversion 115 add todo comment indicate osc security group commands need work dependson ifd39948fec7e94b6e78298b3a6ccbed947f7ce61 changeid i01bf45aa00c3f8e4c4c86636304e675c8d402d55 implements blueprint reworksecuritygroupapi
https://review.opendev.org/593385,NSX|V Fix policy security group update,NSX|V Fix policy security group update Updating the policy of the security group was not reflected in the DB Change-Id: I83ce48404722df67daa00e3df703c6902a5ef84d,20363,Adit Sarfaty,"[261, 9008, 20363, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxv fix policy security group update updating policy security group reflected db changeid i83ce48404722df67daa00e3df703c6902a5ef84d
https://review.opendev.org/591645,[Fullstack] Add debug_iptables=True in security groups tests,"[Fullstack] Add debug_iptables=True in security groups tests In security groups tests with ""iptables"" or ""iptables_hybrid"" driver it will be useful to have debug_iptables_rules enabled to check what rules are applied by L2 agent in case of test failures. Change-Id: Ib7d12b2e589019bc6043affe371ef5aa5425945b Related-Bug: #1779328",11975,Slawek Kaplonski,"[1131, 1653, 4694, 8655, 8871, 9732, 11975, 13995, 15752, 16376, 21798, 22348, 26622]","['Brian Haley', 'garyk', 'Miguel Lavalle', 'Jakub Libosvar', 'Elastic Recheck', 'Mellanox CI', 'Slawek Kaplonski', 'Nate Johnston', 'Intel SR-IOV CI', 'Intel NFV CI', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fullstack add debugiptablestrue security groups tests security groups tests iptables iptableshybrid driver useful debugiptablesrules enabled check rules applied l2 agent case test failures changeid ib7d12b2e589019bc6043affe371ef5aa5425945b relatedbug 1779328
https://review.opendev.org/593386,NSX|V Fix policy security group update,NSX|V Fix policy security group update Updating the policy of the security group was not reflected in the DB Change-Id: I83ce48404722df67daa00e3df703c6902a5ef84d,20363,Adit Sarfaty,"[261, 9008, 20363, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxv fix policy security group update updating policy security group reflected db changeid i83ce48404722df67daa00e3df703c6902a5ef84d
https://review.opendev.org/593384,NSX|V Fix policy security group update,NSX|V Fix policy security group update Updating the policy of the security group was not reflected in the DB Change-Id: I83ce48404722df67daa00e3df703c6902a5ef84d,20363,Adit Sarfaty,"[261, 9008, 20363, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxv fix policy security group update updating policy security group reflected db changeid i83ce48404722df67daa00e3df703c6902a5ef84d
https://review.opendev.org/591918,Fix lost connection when create security group log,WIP: Fix lost connection when create security group log Change-Id: I6e95e2e646ec8a5507c7f140ab2c4a56be8404c3,15471,Nguyen Phuong An,"[1131, 4694, 8655, 8871, 9531, 9732, 10385, 11975, 13702, 13995, 15471, 15752, 16376, 17120, 22348, 26622, 28174]","['Brian Haley', 'Miguel Lavalle', 'Jakub Libosvar', 'Elastic Recheck', 'liuyulong', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'yushiro', 'Nate Johnston', 'Nguyen Phuong An', 'Intel SR-IOV CI', 'Intel NFV CI', 'Manjeet Singh Bhatia', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'Kim Bao Long']",wip fix lost connection create security group log changeid i6e95e2e646ec8a5507c7f140ab2c4a56be8404c3
https://review.opendev.org/587979,(security) Airship Security Guide framework,(security) Airship Security Guide framework The document shell for holding Airship security guide topics Change-Id: I35b216f742b93c984506674d20344a74b26c876c,26449,Scott Hussey,"[22348, 22604, 23186, 26285, 26431, 26449, 28025, 28208, 28235, 28237]","['Zuul', 'Samuel Pilla', 'Felipe Monteiro', 'wu.chunyang', 'daixianmeng', 'Scott Hussey', 'Randeep Jalli', 'Roman Gorshunov', 'Aaron Sheffield', 'ATT Airship CI']",security airship security guide framework document shell holding airship security guide topics changeid i35b216f742b93c984506674d20344a74b26c876c
https://review.opendev.org/769349,Add authtoken security options,"Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware. The keys for individual services are hashed with a salt, to isolate them. Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7",14250,Grzegorz Grasza,"[6926, 7144, 14985, 22348, 23181, 27419, 27954]","['Bogdan Dobrelya', 'James Slagle', 'Alex Schultz', 'Zuul', 'RDO Third Party CI', 'David Vallee Delisle', 'Moisés Guimarães de Medeiros']",add authtoken security options add ability specify memcachesecuritystrategy memcachesecretkey keystone authtoken middleware keys individual services hashed salt isolate changeid i8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
https://review.opendev.org/775484,V2T migration: Create security group rules in bulk,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration create security group rules bulk changeid id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb
https://review.opendev.org/775485,V2T migration: Create security group rules in bulk,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration create security group rules bulk changeid id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb
https://review.opendev.org/775483,V2T migration: Create security group rules in bulk,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,20363,Adit Sarfaty,"[261, 9008, 20363, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration create security group rules bulk changeid id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb
https://review.opendev.org/775116,V2T migration: Create security group rules in bulk,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v2t migration create security group rules bulk changeid id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb
https://review.opendev.org/574756,NetApp cDOT: use security service ou,NetApp cDOT: use security service ou sets organizational unit in AD at NetApp C-mode CIFS server Change-Id: Ifbbd98d0ad414985ac15da52d9e3305dd109e927 Closes-Bug: #1696669,18816,Maurice Escher,"[2417, 9003, 12016, 12017, 14384, 14567, 15100, 16643, 17097, 18816, 21863, 21884, 22248, 22348, 24236, 24863, 25243]","['Ben Swartzlander', 'Tom Barron', 'DellEMC PowerMAX CI', 'DellEMC VNX CI', 'Quobyte CI', 'Rodrigo Barbieri', 'zhongjun', 'Goutham Pacha Ravi', 'Tiago Pasqualini da Silva', 'Maurice Escher', 'Jenkins of Infinidat', 'DellEMC Unity CI', 'HPE STORAGE CI', 'Zuul', 'INSPUR CI', 'Veritas Access CI', 'NetApp CI']",netapp cdot use security service ou sets organizational unit ad netapp cmode cifs server changeid ifbbd98d0ad414985ac15da52d9e3305dd109e927 closesbug 1696669
https://review.opendev.org/580007,Improve Security Group support,"Improve Security Group support This implements the use of dynamic ACLs to ensure that stale security groups and rules do not persist on TORs. It also adds logic to query TORs for dynamic ACLs and ACL bindings. This allows us to cleanup any stale config that might be present as a result of intermittent connection loss. It also allows to only send config that may be missing, rather than reconfiguring everything on each sync. Change-Id: I2beaa0b182cf054e2846145322b083781467d018",19710,Mitchell Jameson,"[2592, 9845, 10393, 19710, 22348]","['Mark McClain', 'Arista CI', 'nlahouti', 'Mitchell Jameson', 'Zuul']",improve security group support implements use dynamic acls ensure stale security groups rules persist tors also adds logic query tors dynamic acls acl bindings allows us cleanup stale config might present result intermittent connection loss also allows send config may missing rather reconfiguring everything sync changeid i2beaa0b182cf054e2846145322b083781467d018
https://review.opendev.org/586896,Remove Security project team,"Remove Stable branch maintenance as a project team Remove the defunct Security project team and reassign all its remaining Git repositories to the Security SIG which was created May 29, 2018 in change Id51c8dbe9a3cc790d90b30dcf13cbac72fb0b730. Change-Id: Id5db19efc66abc1f92b7226f344e4030e84158e0",5263,Jeremy Stanley,"[308, 1004, 2472, 3153, 4162, 4257, 11904, 21420, 22348]","['Thierry Carrez', 'Mohammed Naser', 'Doug Hellmann', 'Emilien Macchi', 'Paul Belanger', 'Zane Bitter', 'Sean McGinnis', 'Gage Hugo', 'Zuul']",remove stable branch maintenance project team remove defunct security project team reassign remaining git repositories security sig created may 29 2018 change id51c8dbe9a3cc790d90b30dcf13cbac72fb0b730 changeid id5db19efc66abc1f92b7226f344e4030e84158e0
https://review.opendev.org/588487,Set namespace security group driver for namespace gate,Set namespace security group driver for namespace gate Depends-On: I37025bf65b67fe04f2a6d9b14bbe1b7bc387e370 Implements: blueprint openshift-project-isolation-support Change-Id: I49c23532b1f6669bfef1504eb8f07a35d16b2cf8,23567,Luis Tomas Bolivar,"[6598, 11600, 14352, 14885, 22348, 23567]","['Berezovsky Irena', 'Micha? Dulko', 'Antoni Segura Puimedon', 'Daniel Mellado', 'Zuul', 'Luis Tomas Bolivar']",set namespace security group driver namespace gate dependson i37025bf65b67fe04f2a6d9b14bbe1b7bc387e370 implements blueprint openshiftprojectisolationsupport changeid i49c23532b1f6669bfef1504eb8f07a35d16b2cf8
https://review.opendev.org/587668,library policy create security groups up-front,"library policy create security groups up-front minor improvement to the library policy to improve robustness. Because actions by default execute in asynchronously, if we wait to create the security group until the security group is needed, the policy may attempt to attach to a security group before it is created. Change-Id: I0c2b1939c5b48d4576f821b482f120537c923808",18591,Eric Kao,"[18591, 22348, 25553]","['Eric Kao', 'Zuul', 'Akhil jain']",library policy create security groups upfront minor improvement library policy improve robustness actions default execute asynchronously wait create security group security group needed policy may attempt attach security group created changeid i0c2b1939c5b48d4576f821b482f120537c923808
https://review.opendev.org/588176,Execute security group setup against octavia_service_setup_host,"Execute security group setup against octavia_service_setup_host In order to reduce the packages required to pip install on to the hosts, we use service delegation to octavia_service_setup_host so that instead of installing software on the target host, and putting credentials on every target host, we isolate the software and credentials to a single host. In this patch we make the security group tasks execute using clouds.yaml so that we do not need to expose the credentials in the task (it will leak the credentials in vebose mode or on failure). We also set the tasks to execute on octavia_service_setup_host so that we do not need as much software installed on the target host. There are any other tasks in the role which need updating before we can eliminate the octavia_requires_pip_packages, but for the sake of keeping the patch smaller and easier to review they will be done in follow up patches. Change-Id: Idc8e5aa922541ab5f8464c83c006b1b7fc8308c5",6816,Jesse Pretorius,"[1004, 6816, 17068, 22348]","['Mohammed Naser', 'Jesse Pretorius', 'Jean-Philippe Evrard', 'Zuul']",execute security group setup octaviaservicesetuphost order reduce packages required pip install hosts use service delegation octaviaservicesetuphost instead installing software target host putting credentials every target host isolate software credentials single host patch make security group tasks execute using cloudsyaml need expose credentials task leak credentials vebose mode failure also set tasks execute octaviaservicesetuphost need much software installed target host tasks role need updating eliminate octaviarequirespippackages sake keeping patch smaller easier review done follow patches changeid idc8e5aa922541ab5f8464c83c006b1b7fc8308c5
https://review.opendev.org/588197,Avoid namespace security group overwrite,Avoid namespace security group override Ensure default security group value does not get override in subsequent calls to get_security_groups Closes-Bug: 1785035 Change-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f,23567,Luis Tomas Bolivar,"[6598, 11600, 14352, 22348]","['Berezovsky Irena', 'Micha? Dulko', 'Antoni Segura Puimedon', 'Zuul']",avoid namespace security group override ensure default security group value get override subsequent calls getsecuritygroups closesbug 1785035 changeid i9a79601beae7d58027418e0a9e3c4768606eb15f
https://review.opendev.org/580109,Complete the api-ref of security group rule,Complete the api-ref of security group rule Adding the correct path of examples in security group rules api-ref. Change-Id: I9b7ee5d6da7837901089861d0252f9792a817ce4,8556,Ghanshyam,"[6062, 6167, 7634, 8556, 9008, 9732, 10385, 14384, 15334, 15751, 15888, 15941, 16128, 16376, 16898, 20722, 22348, 23498, 26515]","['jichencom', ""Ken'ichi Ohmichi"", 'Takashi Natsume', 'Ghanshyam', 'VMware NSX CI', 'Mellanox CI', 'Citrix XenServer CI', 'Quobyte CI', 'Stephen Finucane', 'Intel PCI CI', 'Zhenyu Zheng', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo CI', 'Yikun Jiang', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",complete apiref security group rule adding correct path examples security group rules apiref changeid i9b7ee5d6da7837901089861d0252f9792a817ce4
https://review.opendev.org/587686,NetApp cDOT: Fix security style for CIFS shares,"NetApp cDOT: Fix security style for CIFS shares If the backing FlexVol security style is configured incorrectly, end users cannot write to their manila shares. Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976 Closes-Bug: #1696000 (cherry picked from commit 5e8df296abcc2f08aac085b09aeae202508d5dc7) (cherry picked from commit 48b5c91ad73e74a8e35b3649b0433ba86d6bdf06)",16643,Goutham Pacha Ravi,"[9003, 21863, 22348, 24236]","['Tom Barron', 'Jenkins of Infinidat', 'Zuul', 'INSPUR CI']",netapp cdot fix security style cifs shares backing flexvol security style configured incorrectly end users write manila shares changeid i12c85c54c7318592ac0b34efe3624d175d2e6976 closesbug 1696000 cherry picked commit 5e8df296abcc2f08aac085b09aeae202508d5dc7 cherry picked commit 48b5c91ad73e74a8e35b3649b0433ba86d6bdf06
https://review.opendev.org/587684,Fix getting share networks and security services error,"Fix getting share networks and security services error It will fail when non-admin tenants try to get share networks and security services with option '{all_tenants: 1}'. The reason is that the policy of 'get_all_share_networks' and 'get_all_security_services' are admin api, they do not allow the non-admin tenants list the share networks and security services with all_tenants=1. This patch removes the policy check of non-admin tenants and allows non-admin tenants to request to list with 'all_tenants=1', however 'all_tenants' in the request is just ignored. Change-Id: Ied021b66333f1254cd232bbc38562a4a9b762ad2 Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com> Related-Bug: #1721787 (cherry picked from commit 9f69258cab9baf77384282b67feb390d0487d3b9) (cherry picked from commit 7a6955dd7fa47b51e5f2a7766061066ffaa0af8d)",16643,Goutham Pacha Ravi,"[9003, 21863, 22348, 24236, 25243]","['Tom Barron', 'Jenkins of Infinidat', 'Zuul', 'INSPUR CI', 'NetApp CI']",fix getting share networks security services error fail nonadmin tenants try get share networks security services option alltenants 1 reason policy getallsharenetworks getallsecurityservices admin api allow nonadmin tenants list share networks security services alltenants1 patch removes policy check nonadmin tenants allows nonadmin tenants request list alltenants1 however alltenants request ignored changeid ied021b66333f1254cd232bbc38562a4a9b762ad2 coauthoredby goutham pacha ravi gouthampravigmailcom relatedbug 1721787 cherry picked commit 9f69258cab9baf77384282b67feb390d0487d3b9 cherry picked commit 7a6955dd7fa47b51e5f2a7766061066ffaa0af8d
https://review.opendev.org/584692,Log exceptions on security group callbacks,"Log exceptions on security group callbacks This patch adds EXCEPTION-level logging for non-retriable exceptions during security groups and rules callbacks. The reason is that the callback manager triggering these callbacks wont do any logging on its own for precommit events. On situations like [1], it was necessary to enable debug logging to check the reason behind the error. Regarding [1], see change [2] for a fix that prevents the exception. [1] http://jira.opendaylight.org/browse/NETVIRT-896 [2] https://review.openstack.org/#/c/536935 Change-Id: I49872b5b65372ac333ad759bb506fac7348c3fa9 co-authored-by: Jaime Caamaño Ruiz <jcaamano@suse.com> (cherry picked from commit 496e9a2a7e2827efdf1f060ee4765fc16c1c3e3c)",28373,Kailun Qin,"[333, 1131, 1653, 4694, 5367, 11975, 16771, 17120, 22348, 26507, 28373]","['Isaku Yamahata', 'Brian Haley', 'garyk', 'Miguel Lavalle', 'boden', 'Slawek Kaplonski', 'mpolenchuk', 'Manjeet Singh Bhatia', 'Zuul', 'Michel Peterson', 'Kailun Qin']",log exceptions security group callbacks patch adds exceptionlevel logging nonretriable exceptions security groups rules callbacks reason callback manager triggering callbacks wont logging precommit events situations like 1 necessary enable debug logging check reason behind error regarding 1 see change 2 fix prevents exception 1 httpjiraopendaylightorgbrowsenetvirt896 2 httpsreviewopenstackorgc536935 changeid i49872b5b65372ac333ad759bb506fac7348c3fa9 coauthoredby jaime caamaño ruiz jcaamanosusecom cherry picked commit 496e9a2a7e2827efdf1f060ee4765fc16c1c3e3c
https://review.opendev.org/492323,NetApp cDOT: Fix security style for CIFS shares,"NetApp cDOT: Fix security style for CIFS shares If the backing FlexVol security style is configured incorrectly, end users cannot write to their manila shares. Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976 Closes-Bug: #1696000 (cherry picked from commit 5e8df296abcc2f08aac085b09aeae202508d5dc7)",16643,Goutham Pacha Ravi,"[3, 2417, 6491, 9003]","['Jenkins', 'Ben Swartzlander', 'xing-yang', 'Tom Barron']",netapp cdot fix security style cifs shares backing flexvol security style configured incorrectly end users write manila shares changeid i12c85c54c7318592ac0b34efe3624d175d2e6976 closesbug 1696000 cherry picked commit 5e8df296abcc2f08aac085b09aeae202508d5dc7
https://review.opendev.org/528731,Fix getting share networks and security services error,"Fix getting share networks and security services error It will fail when non-admin tenants try to get share networks and security services with option '{all_tenants: 1}'. The reason is that the policy of 'get_all_share_networks' and 'get_all_security_services' are admin api, they do not allow the non-admin tenants list the share networks and security services with all_tenants=1. This patch removes the policy check of non-admin tenants and allows non-admin tenants to request to list with 'all_tenants=1', however 'all_tenants' in the request is just ignored. Change-Id: Ied021b66333f1254cd232bbc38562a4a9b762ad2 Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com> Related-Bug: #1721787 (cherry picked from commit 9f69258cab9baf77384282b67feb390d0487d3b9)",9003,Tom Barron,"[9003, 16643, 16657, 21863, 22348, 25243]","['Tom Barron', 'Goutham Pacha Ravi', 'Huawei Manila CI', 'Jenkins of Infinidat', 'Zuul', 'NetApp CI']",fix getting share networks security services error fail nonadmin tenants try get share networks security services option alltenants 1 reason policy getallsharenetworks getallsecurityservices admin api allow nonadmin tenants list share networks security services alltenants1 patch removes policy check nonadmin tenants allows nonadmin tenants request list alltenants1 however alltenants request ignored changeid ied021b66333f1254cd232bbc38562a4a9b762ad2 coauthoredby goutham pacha ravi gouthampravigmailcom relatedbug 1721787 cherry picked commit 9f69258cab9baf77384282b67feb390d0487d3b9
https://review.opendev.org/587166,Adds toggle port security on network create,"Adds toggle port security on network create Added a new property, 'port_security_enabled' which is a boolean to enable or disable port_secuirty during network creation. The default behavior will enable port security, security group and anti spoofing will act as before. When the attribute is set to False, security group and anti spoofing are disabled on the ports created on this network. Change-Id: If984a82ca5f6fb69ee644f4fa84333df09d7f8bc",2,Monty Taylor,"[2, 11975, 22348, 27893]","['Monty Taylor', 'Slawek Kaplonski', 'Zuul', 'rarm nagalingam']",adds toggle port security network create added new property portsecurityenabled boolean enable disable portsecuirty network creation default behavior enable port security security group anti spoofing act attribute set false security group anti spoofing disabled ports created network changeid if984a82ca5f6fb69ee644f4fa84333df09d7f8bc
https://review.opendev.org/586855,Upgrade OSC security groups code,"Upgrade OSC security groups code The openstack client new version added functionality that the vmware_nsx code should also add. This patch adds the missing code, with a condition on its existance, to avoid mandatory upgrade of the openstack client. Change-Id: Iac22f2204c5215f5d20dc9accdae2a5e75779de5",20363,Adit Sarfaty,"[9008, 13438, 20363, 22348]","['VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul']",upgrade osc security groups code openstack client new version added functionality vmwarensx code also add patch adds missing code condition existance avoid mandatory upgrade openstack client changeid iac22f2204c5215f5d20dc9accdae2a5e75779de5
https://review.opendev.org/586335,Update base image with latest security fixes,Update base image with latest security fixes This ensures freshly built kolla images include the latest security fixes for severity Important and above. This was suggested by Jon Schlueter and based on the code available at https://github.com/brianwcook/happywebserver/blob/master/Dockerfile#L27 Change-Id: Ib14f326a335d9519fb888f5486950275985a788c (cherry picked from commit 38f18f2d1280d7429a7be45b993bb5f166f39134),16282,YaZug,"[13039, 19316, 22348, 26431]","['Martin André', 'Eduardo Gonzalez', 'Zuul', 'daixianmeng']",update base image latest security fixes ensures freshly built kolla images include latest security fixes severity important suggested jon schlueter based code available httpsgithubcombrianwcookhappywebserverblobmasterdockerfilel27 changeid ib14f326a335d9519fb888f5486950275985a788c cherry picked commit 38f18f2d1280d7429a7be45b993bb5f166f39134
https://review.opendev.org/547082,Update base image with latest security fixes,Update base image with latest security fixes This ensures freshly built kolla images include the latest security fixes for severity Important and above. This was suggested by Jon Schlueter and based on the code available at https://github.com/brianwcook/happywebserver/blob/master/Dockerfile#L27 Change-Id: Ib14f326a335d9519fb888f5486950275985a788c,13039,Martin André,"[1390, 7488, 13039, 16282, 22348, 22722, 23215, 23717, 24072]","['Paul Bourke (pbourke)', 'Jeffrey Zhang', 'Martin André', 'YaZug', 'Zuul', 'Jason Joyce', 'Thierry Vignaud', 'Surya Prakash (spsurya)', 'Marcin Juszkiewicz']",update base image latest security fixes ensures freshly built kolla images include latest security fixes severity important suggested jon schlueter based code available httpsgithubcombrianwcookhappywebserverblobmasterdockerfilel27 changeid ib14f326a335d9519fb888f5486950275985a788c
https://review.opendev.org/585664,Add bandit for security static analysis,Add bandit for security static analysis This change adds a basic bandit config for Cinder. It can be invoked by running the tox environment for bandit; tox -e bandit Change-Id: I0aa5a9ef82d93401bd4459ec761366f3f98cc20b,14107,zhurong,"[14107, 22348]","['zhurong', 'Zuul']",add bandit security static analysis change adds basic bandit config cinder invoked running tox environment bandit tox e bandit changeid i0aa5a9ef82d93401bd4459ec761366f3f98cc20b
https://review.opendev.org/576503,Add security hardened images that can boot from uefi,"Add security hardened images that can boot from uefi This is a similar image than the hardened one, but it has some differences: - removes the blacklist of vfat module, as we need it - Sets DIB_BLOCK_DEVICE to efi instead of mbr - Uses the overcloud-secure-uefi element, that creates the proper layout Change-Id: I0e1c79462da170fb9dc99e12c05817b9f565c0de Depends-On: If9e0504438632f1a22b45b7c95e7bfb8cb6f41d3",6133,yolanda.robla,"[3153, 6133, 7144, 10873, 11090, 14985, 22348, 23181]","['Emilien Macchi', 'yolanda.robla', 'James Slagle', 'Juan Antonio Osorio Robles', 'Sergii Golovatiuk', 'Alex Schultz', 'Zuul', 'RDO Third Party CI']",add security hardened images boot uefi similar image hardened one differences removes blacklist vfat module need sets dibblockdevice efi instead mbr uses overcloudsecureuefi element creates proper layout changeid i0e1c79462da170fb9dc99e12c05817b9f565c0de dependson if9e0504438632f1a22b45b7c95e7bfb8cb6f41d3
https://review.opendev.org/582353,OSP-192: speed-up security group rule deletion,"OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID, only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp192 speedup security group rule deletion changing mode event receipt callback post delete rpc callback method include parent sec group id sec group rule id tenant info included post delete notification sec group id post delete rpc also used sec grup createdelete keystone related methods changeid ic0e8bc2160737728a6181886651141fbf5f29362
https://review.opendev.org/582355,OSP-192: speed-up security group rule deletion,"OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID, only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp192 speedup security group rule deletion changing mode event receipt callback post delete rpc callback method include parent sec group id sec group rule id tenant info included post delete notification sec group id post delete rpc also used sec grup createdelete keystone related methods changeid ic0e8bc2160737728a6181886651141fbf5f29362
https://review.opendev.org/582647,OSP-192: speed-up security group rule deletion,"OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID, only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp192 speedup security group rule deletion changing mode event receipt callback post delete rpc callback method include parent sec group id sec group rule id tenant info included post delete notification sec group id post delete rpc also used sec grup createdelete keystone related methods changeid ic0e8bc2160737728a6181886651141fbf5f29362
https://review.opendev.org/582357,OSP-192: speed-up security group rule deletion,"OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID, only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp192 speedup security group rule deletion changing mode event receipt callback post delete rpc callback method include parent sec group id sec group rule id tenant info included post delete notification sec group id post delete rpc also used sec grup createdelete keystone related methods changeid ic0e8bc2160737728a6181886651141fbf5f29362
https://review.opendev.org/581569,Add a preliminary structure for admin security guide,Add a preliminary structure for admin security guide Change-Id: I4b624f7f8f87c6cd847cd4b8fa282304c7d4ebd6,6732,Lingxian Kong,"[21781, 22348]","['Hunt Xu', 'Zuul']",add preliminary structure admin security guide changeid i4b624f7f8f87c6cd847cd4b8fa282304c7d4ebd6
https://review.opendev.org/578714,Merge server create for security group extension,Merge server create for security group extension As nova extensions has been deprecated already and goal is to merge all scattered code into main controller side. Currently schema and request/response extended code are there among all extensions. This commit merge the server_create for security group extensions. Partially implements: blueprint api-extensions-merge-rocky Note- unit tests will be moved to test_serversV21 when we will merge the extended response for security group. Change-Id: I447947e23451d3898a5eee0e25facc3d9ae8c01e,8556,Ghanshyam,"[7, 782, 7634, 8556, 9008, 9732, 10118, 10385, 14595, 15334, 15751, 16128, 16376, 17130, 20722, 22348, 23498, 26515]","['Jay Pipes', 'John Garbutt', 'Takashi Natsume', 'Ghanshyam', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'IBM zKVM CI', 'Stephen Finucane', 'Intel PCI CI', 'IBM PowerVM CI', 'Intel NFV CI', 'melissaml', 'Yikun Jiang', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",merge server create security group extension nova extensions deprecated already goal merge scattered code main controller side currently schema requestresponse extended code among extensions commit merge servercreate security group extensions partially implements blueprint apiextensionsmergerocky note unit tests moved testserversv21 merge extended response security group changeid i447947e23451d3898a5eee0e25facc3d9ae8c01e
https://review.opendev.org/539969,Add ou to security service tests,Add ou to security service tests This patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac by adding tests for ou parameter at security services with new microversion 2.43. Change-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964,18816,Maurice Escher,"[8871, 9003, 15100, 16643, 18816, 22348]","['Elastic Recheck', 'Tom Barron', 'zhongjun', 'Goutham Pacha Ravi', 'Maurice Escher', 'Zuul']",add ou security service tests patch complements i70fd4e0ea7898e85dff59a927b3cb086d5e408ac adding tests ou parameter security services new microversion 243 changeid i77d87c8e6f98054f2f02bc4202c14314ff321964
https://review.opendev.org/575226,Fix the bandit security linter test,Fix the bandit security linter test Add the bandit security linter test to the pep8 target Change-Id: I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525,8770,Ken Giusti,"[6928, 8770, 9796, 22348]","['Ben Nemec', 'Ken Giusti', 'ChangBo Guo(gcb)', 'Zuul']",fix bandit security linter test add bandit security linter test pep8 target changeid i9324b9d9df77fd05c2e10bb48d7ccf8b4c634525
https://review.opendev.org/578345,Merge server create schema for security group extension,Merge server create schema for security group extension As nova extensions has been deprecated already and goal is to merge all scattered code into main controller side. Currently schema and request/response extended code are there among all extensions. This commit merge the schema part of create server for security group extensions. Partially implements: blueprint api-extensions-merge-rocky Change-Id: I160028d77e84705106aad5ec8b2d9a54a3c54b18,8556,Ghanshyam,"[782, 6062, 7634, 8556, 9008, 9732, 10118, 10385, 14384, 14595, 15334, 15751, 15888, 16128, 16376, 17130, 22348, 23498, 26515]","['John Garbutt', 'jichencom', 'Takashi Natsume', 'Ghanshyam', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'IBM zKVM CI', 'Stephen Finucane', 'Intel PCI CI', 'Zhenyu Zheng', 'IBM PowerVM CI', 'Intel NFV CI', 'melissaml', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",merge server create schema security group extension nova extensions deprecated already goal merge scattered code main controller side currently schema requestresponse extended code among extensions commit merge schema part create server security group extensions partially implements blueprint apiextensionsmergerocky changeid i160028d77e84705106aad5ec8b2d9a54a3c54b18
https://review.opendev.org/576730,Fix security groups ext_properties loading,"Fix security groups ext_properties loading Commit I123ae390bec489a931180a2e33f4bf7b1d51edb2 broke the extended security group code, by removing the 'is_default' attribute from the list of fields that should have been updated in the DB. Not sure exactly why it broke us. Change-Id: I891bc792e62ac90683ce8745f98a3139c9ffd3d9 (cherry picked from commit f9071f3f9f47a143150768abb99def3b53960349)",20363,Adit Sarfaty,"[9008, 13438, 20363, 22348, 24247]","['VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",fix security groups extproperties loading commit i123ae390bec489a931180a2e33f4bf7b1d51edb2 broke extended security group code removing isdefault attribute list fields updated db sure exactly broke us changeid i891bc792e62ac90683ce8745f98a3139c9ffd3d9 cherry picked commit f9071f3f9f47a143150768abb99def3b53960349
https://review.opendev.org/774319,starlingx_dashboard should enable optional security settings,starlingx_dashboard should enable optional security settings - Turning on ENFORCE_PASSWORD_CHECK to require admin password re-entry when updating password - Turning on disable_password_reveal so that passwords cannot be revealed in password fields Closes-bug: 1914831 Signed-off-by: Tyler Smith <tyler.smith@windriver.com> Change-Id: I630839fd2b39ea3a9fca2b2e1d827404bc50f77d,26438,Tyler Smith,"[14174, 22348, 28435, 28531]","['Bart Wensley', 'Zuul', 'Angie Wang', 'Kristine Bujold']",starlingxdashboard enable optional security settings turning enforcepasswordcheck require admin password reentry updating password turning disablepasswordreveal passwords revealed password fields closesbug 1914831 signedoffby tyler smith tylersmithwindrivercom changeid i630839fd2b39ea3a9fca2b2e1d827404bc50f77d
https://review.opendev.org/772526,Don't try to create default SG when security groups are disabled,"Don't try to create default SG when security groups are disabled If security group API is disabled, there is no point to create default security group for tenant when e.g. network is created. Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa",11975,Slawek Kaplonski,"[841, 5948, 8313, 9845, 13995, 16688, 21798, 22348]","['Akihiro Motoki', 'Oleg Bondarev', 'Lajos Katona', 'Arista CI', 'Nate Johnston', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",dont try create default sg security groups disabled security group api disabled point create default security group tenant eg network created closesbug 1913297 changeid ib73babdd563e3e8c21ce6f63456cc87af414c5aa
https://review.opendev.org/577225,OSP-192: speed-up security group rule deletion,"OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID, only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362",20751,Aditya Vaja,"[20751, 21977, 22348, 28026]","['Aditya Vaja', 'Sarath Kumar Sankaran Kutty', 'Zuul', 'Weifan Fu']",osp192 speedup security group rule deletion changing mode event receipt callback post delete rpc callback method include parent sec group id sec group rule id tenant info included post delete notification sec group id post delete rpc also used sec grup createdelete keystone related methods changeid ic0e8bc2160737728a6181886651141fbf5f29362
https://review.opendev.org/578464,Clear security group rules before adding new ones,"Clear security group rules before adding new ones Due to a recent change on EOS, duplicate rules are no longer treated idempotently. The fix is to clear all ACL rules when creating/recreating an ACL. Change-Id: I306c30b2fe035f4ad0205e38b3c8c94affe6a098",19710,Mitchell Jameson,"[2592, 9845, 22348]","['Mark McClain', 'Arista CI', 'Zuul']",clear security group rules adding new ones due recent change eos duplicate rules longer treated idempotently fix clear acl rules creatingrecreating acl changeid i306c30b2fe035f4ad0205e38b3c8c94affe6a098
https://review.opendev.org/576237,Clear security group rules before adding new ones,"Clear security group rules before adding new ones Due to a recent change on EOS, duplicate rules are no longer treated idempotently. The fix is to clear all ACL rules when creating/recreating an ACL. Change-Id: I306c30b2fe035f4ad0205e38b3c8c94affe6a098",19710,Mitchell Jameson,"[2592, 10393, 22348]","['Mark McClain', 'nlahouti', 'Zuul']",clear security group rules adding new ones due recent change eos duplicate rules longer treated idempotently fix clear acl rules creatingrecreating acl changeid i306c30b2fe035f4ad0205e38b3c8c94affe6a098
https://review.opendev.org/576731,Fix security groups ext_properties loading,"Fix security groups ext_properties loading Commit I123ae390bec489a931180a2e33f4bf7b1d51edb2 broke the extended security group code, by removing the 'is_default' attribute from the list of fields that should have been updated in the DB. Not sure exactly why it broke us. Change-Id: I891bc792e62ac90683ce8745f98a3139c9ffd3d9 (cherry picked from commit f9071f3f9f47a143150768abb99def3b53960349)",20363,Adit Sarfaty,"[5367, 9008, 13438, 22348, 24247]","['boden', 'VMware NSX CI', 'Kobi Samoray', 'Zuul', 'Anna Khmelnitsky']",fix security groups extproperties loading commit i123ae390bec489a931180a2e33f4bf7b1d51edb2 broke extended security group code removing isdefault attribute list fields updated db sure exactly broke us changeid i891bc792e62ac90683ce8745f98a3139c9ffd3d9 cherry picked commit f9071f3f9f47a143150768abb99def3b53960349
https://review.opendev.org/547733,Network: Add tag support for security group,"Network: Add tag support for security group TODO: reno, UTs for unset Change-Id: Icccb23429913724c6a8bd15d4737672b47a5f13a Closes-Bug: #1750983",12860,Dongcan Ye,"[841, 970, 2472, 6482, 8276, 11975, 12860, 13252, 22348, 25564]","['Akihiro Motoki', 'Dean Troyer', 'Doug Hellmann', 'Steve Martinelli', 'kiwik', 'Slawek Kaplonski', 'Dongcan Ye', 'Dr. Jens Harbott', 'Zuul', 'yanpuqing']",network add tag support security group todo reno uts unset changeid icccb23429913724c6a8bd15d4737672b47a5f13a closesbug 1750983
https://review.opendev.org/551954,Fix security groups ext_properties loading,"DNM Fix security groups ext_properties loading Commit I123ae390bec489a931180a2e33f4bf7b1d51edb2 broke the extended security group code, by removing the 'is_default' attribute from the list of fields that should have been updated in the DB. Not sure wxactly why it broke us. Change-Id: I891bc792e62ac90683ce8745f98a3139c9ffd3d9",20363,Adit Sarfaty,"[1653, 9008, 13438, 20363, 22348]","['garyk', 'VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul']",dnm fix security groups extproperties loading commit i123ae390bec489a931180a2e33f4bf7b1d51edb2 broke extended security group code removing isdefault attribute list fields updated db sure wxactly broke us changeid i891bc792e62ac90683ce8745f98a3139c9ffd3d9
https://review.opendev.org/547999,SNMPv3 security features added to the `snmp` driver,"SNMPv3 security features added to the `snmp` driver SNMPv3 message authentication and encryption features added to Ironic ``snmp`` driver. Added support for the ContextName parameter of the SNMPv3 message at Ironic's ``snmp`` driver. The ``snmp_security`` parameter of Ironic ``snmp`` driver is obsoleted by the ``snmp_user`` parameter. Though ``snmp_security`` parameter remains supported. For the sake of patch reviewability, it does not touch similar SNMP features in the `iLO` and `irmc` drivers. A followup patch might converge these similar SNMP uses onto the core ``snmp`` driver's functionality this patch introduces. Change-Id: Ic8a4fc37a42377c4ec50ffae421b3f47922ef982 Closes-Bug: #1710850",26340,Ilya Etingof,"[6618, 10118, 10239, 11076, 11655, 13719, 14208, 14629, 17998, 19003, 19339, 21909, 22348, 26340]","['Ruby Loo', 'IBM PowerKVM CI', 'Dmitry Tantsur', 'Shivanand Tendulker', 'Julia Kreger', 'Naohiro Tamura', 'Cisco CI', 'HPE Proliant', 'UFCG OneView CI', 'Fujitsu iRMC CI', 'Dell EMC Ironic CI', 'Bob Fournier', 'Zuul', 'Ilya Etingof']",snmpv3 security features added snmp driver snmpv3 message authentication encryption features added ironic snmp driver added support contextname parameter snmpv3 message ironics snmp driver snmpsecurity parameter ironic snmp driver obsoleted snmpuser parameter though snmpsecurity parameter remains supported sake patch reviewability touch similar snmp features ilo irmc drivers followup patch might converge similar snmp uses onto core snmp drivers functionality patch introduces changeid ic8a4fc37a42377c4ec50ffae421b3f47922ef982 closesbug 1710850
https://review.opendev.org/573692,Fix Port OVO filtering based on security groups,Fix Port OVO filtering based on security groups Filtering of port OVO based on ids of security groups which are used by ports is now available. Closes-Bug: 1744447 Change-Id: Ie5a3effe668db119d40728be5357f0851bdcebbe (cherry picked from commit e7c0ec17df83da3c7ba3f453ad8935320c471eb8),21798,Bernard Cafarelli,"[1131, 4694, 9732, 21798, 22348]","['Brian Haley', 'Miguel Lavalle', 'Mellanox CI', 'Bernard Cafarelli', 'Zuul']",fix port ovo filtering based security groups filtering port ovo based ids security groups used ports available closesbug 1744447 changeid ie5a3effe668db119d40728be5357f0851bdcebbe cherry picked commit e7c0ec17df83da3c7ba3f453ad8935320c471eb8
https://review.opendev.org/563983,Import correct registry in security group callback for ocata,Import correct registry in security group callback for ocata Change-Id: I0200ec579c932f2d505e2989a2a959e23c89823f,27603,Maciej Jagiello,"[6558, 22348, 24846, 28066]","['Sukhdev Kapur', 'Zuul', 'Kamil', 'Pawel Zadrozny']",import correct registry security group callback ocata changeid i0200ec579c932f2d505e2989a2a959e23c89823f
https://review.opendev.org/574386,[AIM] Fix validation of security groups,"[AIM] Fix validation of security groups Add a unit test for validation of security groups, and ensure port numbers are converted to strings. Change-Id: I59b201bda32445b678137355763e6e4de81ce269",1689,Robert Kukura,"[490, 7987, 17416, 18031, 22348, 24247]","['Sumit Naiksatam', 'Ivar Lazzaro', 'Amit Bose', 'Thomas Bachman', 'Zuul', 'Anna Khmelnitsky']",aim fix validation security groups add unit test validation security groups ensure port numbers converted strings changeid i59b201bda32445b678137355763e6e4de81ce269
https://review.opendev.org/574422,[AIM] Fix validation of security groups,"[AIM] Fix validation of security groups Add a unit test for validation of security groups, and ensure port numbers are converted to strings. Change-Id: I59b201bda32445b678137355763e6e4de81ce269",1689,Robert Kukura,"[490, 7987, 17416, 18031, 22348, 24247]","['Sumit Naiksatam', 'Ivar Lazzaro', 'Amit Bose', 'Thomas Bachman', 'Zuul', 'Anna Khmelnitsky']",aim fix validation security groups add unit test validation security groups ensure port numbers converted strings changeid i59b201bda32445b678137355763e6e4de81ce269
https://review.opendev.org/574421,[AIM] Fix validation of security groups,"[AIM] Fix validation of security groups Add a unit test for validation of security groups, and ensure port numbers are converted to strings. Change-Id: I59b201bda32445b678137355763e6e4de81ce269",1689,Robert Kukura,"[490, 7987, 17416, 18031, 22348, 24247]","['Sumit Naiksatam', 'Ivar Lazzaro', 'Amit Bose', 'Thomas Bachman', 'Zuul', 'Anna Khmelnitsky']",aim fix validation security groups add unit test validation security groups ensure port numbers converted strings changeid i59b201bda32445b678137355763e6e4de81ce269
https://review.opendev.org/574420,[AIM] Fix validation of security groups,"[AIM] Fix validation of security groups Add a unit test for validation of security groups, and ensure port numbers are converted to strings. Change-Id: I59b201bda32445b678137355763e6e4de81ce269",1689,Robert Kukura,"[490, 7987, 9008, 17416, 18031, 22348, 24247]","['Sumit Naiksatam', 'Ivar Lazzaro', 'VMware NSX CI', 'Amit Bose', 'Thomas Bachman', 'Zuul', 'Anna Khmelnitsky']",aim fix validation security groups add unit test validation security groups ensure port numbers converted strings changeid i59b201bda32445b678137355763e6e4de81ce269
https://review.opendev.org/566401,Ignore default values for deprecated security parameters,"Ignore default values for deprecated security parameters The command line parameters, ca-file, key-file, and cert-file, are deprecated. The problem is that the argument parser stores the values for the deprecated parameters into the same attributes used by Keystone. As a result the murano dashboard is overriding the default values of the Keystone attributes with its own default values. This is wrong. The change is to ignore these parameters if they are not specified on the command line. This will allow the Keystone client's method, register_cli_options, to set them to the correct default values. If the user specifies these parameters on the command line, then we will honor them. Change-Id: I08974f7fea0cd0cb2a906e26c9f197209c473b9b Closes-bug: #1767144",26101,Ellen Batbouta,"[14107, 22348, 23186, 26101]","['zhurong', 'Zuul', 'Felipe Monteiro', 'Ellen Batbouta']",ignore default values deprecated security parameters command line parameters cafile keyfile certfile deprecated problem argument parser stores values deprecated parameters attributes used keystone result murano dashboard overriding default values keystone attributes default values wrong change ignore parameters specified command line allow keystone clients method registerclioptions set correct default values user specifies parameters command line honor changeid i08974f7fea0cd0cb2a906e26c9f197209c473b9b closesbug 1767144
https://review.opendev.org/567954,Document how to manage security groups,Document how to manage security groups Change-Id: Iee43da3b18395c3fad796e1bed223420ccf10d1e Closes-Bug: #1770566,11536,hongbin,"[22076, 22348, 25695]","['Kevin Zhao', 'Zuul', 'Deepak Mourya']",document manage security groups changeid iee43da3b18395c3fad796e1bed223420ccf10d1e closesbug 1770566
https://review.opendev.org/536342,Fix Port OVO filtering based on security groups,Fix Port OVO filtering based on security groups Filtring of port OVO based on ids of security groups which are used by ports is now available. Closes-Bug: 1744447 Change-Id: Ie5a3effe668db119d40728be5357f0851bdcebbe,11975,Slawek Kaplonski,"[748, 841, 1131, 1653, 4694, 7249, 8655, 9656, 9845, 10385, 11975, 22348]","['Armando Migliaccio', 'Akihiro Motoki', 'Brian Haley', 'garyk', 'Miguel Lavalle', 'Ann Taraday', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Arista CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Zuul']",fix port ovo filtering based security groups filtring port ovo based ids security groups used ports available closesbug 1744447 changeid ie5a3effe668db119d40728be5357f0851bdcebbe
https://review.opendev.org/735572,Raise 409 when removing security group from instance,"Raise 409 when removing security group from instance currently when attempting to remove a security group from instance, nova api returns 500 when there are more than one secuity groups with such name in the project. This patch makes it return 409 Conflict, using the same logic as already present when adding a security group to the instance in such scenario of duplicate names for security groups. Change-Id: I28ad999c49d4e11add54405b89185b3f56f165b5",9542,Pavlo Shchelokovskyy,"[782, 5754, 9008, 9542, 9732, 10118, 14384, 14595, 15334, 15751, 15941, 22348, 23498, 26515, 29963]","['John Garbutt', 'Alex Xu', 'VMware NSX CI', 'Pavlo Shchelokovskyy', 'Mellanox CI', 'IBM PowerKVM CI', 'Quobyte CI', 'IBM zKVM CI', 'Stephen Finucane', 'Intel PCI CI', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",raise 409 removing security group instance currently attempting remove security group instance nova api returns 500 one secuity groups name project patch makes return 409 conflict using logic already present adding security group instance scenario duplicate names security groups changeid i28ad999c49d4e11add54405b89185b3f56f165b5
https://review.opendev.org/536005,Disable security group rule when create port,"Disable security group rule when create port Use ""driver_handles_share_servers=True"" backend driver. When create service neutron port to connect with service instances, we should set the port security group is disable, to prevent be added the default security group in neutron. Because some cases the default security group would lead to the port can not connect with the service instances. Change-Id: Ib13e4f80c5a54b2b863b511ebb6e8f82700a3639 Closes-Bug:#1720283 (cherry picked from commit 3c3d899837e256d4692c4195f0e77ff600817e5c)",20160,haobing1,"[2417, 6491, 7102, 9003, 11047, 11865, 14567, 15100, 16643, 18883, 20160, 21863, 22348, 25243, 27173, 27577]","['Ben Swartzlander', 'xing-yang', 'Thomas Bechtold', 'Tom Barron', 'Mark Sturdevant', 'Clinton Knight', 'Rodrigo Barbieri', 'zhongjun', 'Goutham Pacha Ravi', 'IBM Storage CI', 'haobing1', 'Jenkins of Infinidat', 'Zuul', 'NetApp CI', 'shuaili.wang', 'caishan']",disable security group rule create port use driverhandlesshareserverstrue backend driver create service neutron port connect service instances set port security group disable prevent added default security group neutron cases default security group would lead port connect service instances changeid ib13e4f80c5a54b2b863b511ebb6e8f82700a3639 closesbug1720283 cherry picked commit 3c3d899837e256d4692c4195f0e77ff600817e5c
https://review.opendev.org/557108,Set max_microversion 2.35 for nova security group tests,"Set max_microversion 2.35 for nova security group tests The compute os-security-groups API is deprecated from the Microversion 2.36, so we should set max_microversion = '2.35' for compute security group tests. Implements blueprint: clear-deprecated-api Change-Id: I2084ddcac0f8b4b9f81e5263ac4058939418626d",20190,zhufl,"[5803, 8556, 10385, 20190, 22348, 23081, 23181]","['Attila Fazekas', 'Ghanshyam', 'Citrix XenServer CI', 'zhufl', 'Zuul', 'Jeremy Zhang', 'RDO Third Party CI']",set maxmicroversion 235 nova security group tests compute ossecuritygroups api deprecated microversion 236 set maxmicroversion 235 compute security group tests implements blueprint cleardeprecatedapi changeid i2084ddcac0f8b4b9f81e5263ac4058939418626d
https://review.opendev.org/570251,Add Security SIG to list of SIGs,Add Security SIG to list of SIGs This change adds the Security SIG to the total list of SIGs as well as information related to the SIG. Change-Id: Id51c8dbe9a3cc790d90b30dcf13cbac72fb0b730,21420,Gage Hugo,"[308, 17556, 22348]","['Thierry Carrez', 'Melvin Hillsman', 'Zuul']",add security sig list sigs change adds security sig total list sigs well information related sig changeid id51c8dbe9a3cc790d90b30dcf13cbac72fb0b730
https://review.opendev.org/558735,Fixes port security settings caching issue,"Fixes port security settings caching issue When updating the MAC spoofing for a given vswitch port, its Msvm_EthernetSwitchPortSecuritySettingData object is removed and a new one is created, but the original object is not cleared from the cache. Because of this, the next update will fail with a Not Found exception. This patch addresses this issue. Closes-Bug: #1744755 Change-Id: I91b9000c64d269b7d5b1db9e0c6344bbd70e37b2 (cherry picked from commit 776270c4b3be0523f2ee2a73792b4a41bb52d6f5)",8213,Claudiu Belu,"[8213, 22348]","['Claudiu Belu', 'Zuul']",fixes port security settings caching issue updating mac spoofing given vswitch port msvmethernetswitchportsecuritysettingdata object removed new one created original object cleared cache next update fail found exception patch addresses issue closesbug 1744755 changeid i91b9000c64d269b7d5b1db9e0c6344bbd70e37b2 cherry picked commit 776270c4b3be0523f2ee2a73792b4a41bb52d6f5
https://review.opendev.org/566472,Remove APIs for managing security groups,"[WIP] Remove APIs for managing security groups These APIs are proxy to Neutron API calls. Users can achieve the equivalent functionality by directly calling the Neutron APIs. In particular, these APIs are removed after microversion 1.15 * POST /containers/<ident>/add_security_group * POST /containers/<ident>/remove_security_group Change-Id: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61 Implements: blueprint rework-security-group-api",11536,hongbin,"[11536, 21428, 22348, 22406, 23517, 25695]","['hongbin', 'JiWei', 'Zuul', 'Kien Nguyen', 'chenyb4', 'Deepak Mourya']",wip remove apis managing security groups apis proxy neutron api calls users achieve equivalent functionality directly calling neutron apis particular apis removed microversion 115 post containersidentaddsecuritygroup post containersidentremovesecuritygroup changeid ifd39948fec7e94b6e78298b3a6ccbed947f7ce61 implements blueprint reworksecuritygroupapi
https://review.opendev.org/472154,Add ou to security service,Add ou to security service Allows to configure in which organizational unit the share ends up APIImpact Change-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac Partial-Bug: #1696669,18816,Maurice Escher,"[3, 6491, 7102, 7582, 8871, 9003, 11047, 12016, 12017, 14384, 15100, 15831, 15942, 16643, 17565, 18128, 18752, 18816, 18883, 21863, 21884, 22248, 22348, 22450, 23630, 24236, 24863, 25243, 26297]","['Jenkins', 'xing-yang', 'Thomas Bechtold', 'Jan Provaznik', 'Elastic Recheck', 'Tom Barron', 'Mark Sturdevant', 'DellEMC PowerMAX CI', 'DellEMC VNX CI', 'Quobyte CI', 'zhongjun', 'Infortrend CI', 'Dell EMC Isilon CI', 'Goutham Pacha Ravi', 'IBM GPFS CI', 'Microsoft Manila CI', 'Tegile Storage CI', 'Maurice Escher', 'IBM Storage CI', 'Jenkins of Infinidat', 'DellEMC Unity CI', 'HPE STORAGE CI', 'Zuul', 'QNAP ES CI', 'Tovin Seven', 'INSPUR CI', 'Veritas Access CI', 'NetApp CI', 'Andriy Shevchenko']",add ou security service allows configure organizational unit share ends apiimpact changeid i70fd4e0ea7898e85dff59a927b3cb086d5e408ac partialbug 1696669
https://review.opendev.org/562399,Cleanup Arista Security Group Support,Cleanup Arista Security Group Support Move all security group logic to a service plugin. ACLs are now applied to ports in response to PORT callbacks rather than via the ML2 mechanism driver. eAPI commands are also now built incrementally rather than by dictionary lookup. Change-Id: Ide2d61b2ea29d6ed34c972d006c322c66a2de3f1,19710,Mitchell Jameson,"[2592, 9845, 10393, 22348]","['Mark McClain', 'Arista CI', 'nlahouti', 'Zuul']",cleanup arista security group support move security group logic service plugin acls applied ports response port callbacks rather via ml2 mechanism driver eapi commands also built incrementally rather dictionary lookup changeid ide2d61b2ea29d6ed34c972d006c322c66a2de3f1
https://review.opendev.org/485564,Fullstack: Add using multiple security groups,Fullstack: Add using multiple security groups Change-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83 Closes-Bug: #1690998,12860,Dongcan Ye,"[3, 1131, 8655, 8871, 9732, 11975, 12860, 15752, 16376, 20330, 21691, 22348, 23630]","['Jenkins', 'Brian Haley', 'Jakub Libosvar', 'Elastic Recheck', 'Mellanox CI', 'Slawek Kaplonski', 'Dongcan Ye', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'weizj', 'Zuul', 'Tovin Seven']",fullstack add using multiple security groups changeid i8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83 closesbug 1690998
https://review.opendev.org/567500,NSX|V3: Do not add security profile for native DHCP ports,NSX|V3: Do not add security profile for native DHCP ports The NSX does not support setting custom switch profiles to a DHCP port. Change-Id: I30fb5c24edf7d190ebbceec27b843bc5feb180e8,20363,Adit Sarfaty,"[1653, 9008, 13438, 22348]","['garyk', 'VMware NSX CI', 'Kobi Samoray', 'Zuul']",nsxv3 add security profile native dhcp ports nsx support setting custom switch profiles dhcp port changeid i30fb5c24edf7d190ebbceec27b843bc5feb180e8
https://review.opendev.org/568221,NSX|v: Support icmp-v6 security group rules,NSX|v: Support icmp-v6 security group rules Change-Id: Iffbd322220ad7b5d08146ee6939d41888f3d5c4e,20363,Adit Sarfaty,"[1653, 9008, 13438, 22348, 23630]","['garyk', 'VMware NSX CI', 'Kobi Samoray', 'Zuul', 'Tovin Seven']",nsxv support icmpv6 security group rules changeid iffbd322220ad7b5d08146ee6939d41888f3d5c4e
https://review.opendev.org/567958,Restore Ambari with newer JDK security policies,"Restore Ambari with newer JDK security policies Recent changes in JDK security policies disabled TLSv1, which is used by default in the communications between ambari-agent and ambari-server. More details here: https://community.hortonworks.com/articles/188269/javapython-updates-and-ambari-agent-tls-settings.html In order to restore the functionalities, two changes are needed: - Ambari 2.4.3.0, a minor update in the 2.4.x line; - a change in the ambari-agent configuration file to force a newer TLS. Story: 2002012 Task: 19651 Change-Id: I3782ce9acb8c895e4e1f3fb9046b54f2a57acdbf (cherry picked from commit 522627e0e6ba1686bdb2cfdfde279da9ef6d615c)",10459,Luigi Toscano,"[8932, 22348]","['Telles Mota Vidal Nóbrega', 'Zuul']",restore ambari newer jdk security policies recent changes jdk security policies disabled tlsv1 used default communications ambariagent ambariserver details httpscommunityhortonworkscomarticles188269javapythonupdatesandambariagenttlssettingshtml order restore functionalities two changes needed ambari 2430 minor update 24x line change ambariagent configuration file force newer tls story 2002012 task 19651 changeid i3782ce9acb8c895e4e1f3fb9046b54f2a57acdbf cherry picked commit 522627e0e6ba1686bdb2cfdfde279da9ef6d615c
https://review.opendev.org/567946,Restore Ambari with newer JDK security policies,"Restore Ambari with newer JDK security policies Recent changes in JDK security policies disabled TLSv1, which is used by default in the communications between ambari-agent and ambari-server. More details here: https://community.hortonworks.com/articles/188269/javapython-updates-and-ambari-agent-tls-settings.html In order to restore the functionalities, two changes are needed: - Ambari 2.4.3.0, a minor update in the 2.4.x line; - a change in the ambari-agent configuration file to force a newer TLS. Story: 2002012 Task: 19651 Change-Id: I3782ce9acb8c895e4e1f3fb9046b54f2a57acdbf",10459,Luigi Toscano,"[8932, 10459, 22348]","['Telles Mota Vidal Nóbrega', 'Luigi Toscano', 'Zuul']",restore ambari newer jdk security policies recent changes jdk security policies disabled tlsv1 used default communications ambariagent ambariserver details httpscommunityhortonworkscomarticles188269javapythonupdatesandambariagenttlssettingshtml order restore functionalities two changes needed ambari 2430 minor update 24x line change ambariagent configuration file force newer tls story 2002012 task 19651 changeid i3782ce9acb8c895e4e1f3fb9046b54f2a57acdbf
https://review.opendev.org/567589,"Revert ""Add lock for security group rules""","Revert ""Add lock for security group rules"" This reverts commit 6abc8435a22a8bf43e0e79fe7566ec005afefba1. Change-Id: I1aea9c65f3abf31ea52073a985adb66c16fc86ec",18031,Thomas Bachman,"[490, 1689, 7987, 9008, 9722, 10965, 17416, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'VMware NSX CI', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",revert add lock security group rules reverts commit 6abc8435a22a8bf43e0e79fe7566ec005afefba1 changeid i1aea9c65f3abf31ea52073a985adb66c16fc86ec
https://review.opendev.org/567590,"Revert ""Add lock for security group rules""","Revert ""Add lock for security group rules"" This reverts commit 473751f51f6329d8400e236683c66e022c093f23. Change-Id: I106d6fa065eb1381d62203308b55a56a4d7d5977",18031,Thomas Bachman,"[490, 1689, 7987, 9722, 10965, 17416, 18031, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Thomas Bachman', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",revert add lock security group rules reverts commit 473751f51f6329d8400e236683c66e022c093f23 changeid i106d6fa065eb1381d62203308b55a56a4d7d5977
https://review.opendev.org/567588,"Revert ""Add lock for security group rules""","Revert ""Add lock for security group rules"" This reverts commit 0041f47b0bec33086aa828f2b8c83714c53fb54c. Change-Id: Id36cec6c3900f8e1491beee2ded60f20a074aac7",18031,Thomas Bachman,"[490, 1689, 7987, 9008, 9722, 10965, 17416, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'VMware NSX CI', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",revert add lock security group rules reverts commit 0041f47b0bec33086aa828f2b8c83714c53fb54c changeid id36cec6c3900f8e1491beee2ded60f20a074aac7
https://review.opendev.org/567587,"Revert ""Add lock for security group rules""","Revert ""Add lock for security group rules"" This reverts commit da526e783e072281d567cc3a568c4389fa7ebf7e. Change-Id: I50335507fc1b50cb4c0b4818d5e070e5bcbd147a",18031,Thomas Bachman,"[490, 1689, 7987, 9722, 10965, 17416, 18031, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Thomas Bachman', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",revert add lock security group rules reverts commit da526e783e072281d567cc3a568c4389fa7ebf7e changeid i50335507fc1b50cb4c0b4818d5e070e5bcbd147a
https://review.opendev.org/565635,Add lock for security group rules,"Add lock for security group rules In order to reduce concurrency exceptions, lock updates to remote IPs for security group rules. Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8",18031,Thomas Bachman,"[490, 1689, 7987, 9722, 10965, 17416, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",add lock security group rules order reduce concurrency exceptions lock updates remote ips security group rules changeid i2d662850e4b09afa43df4be6a9004e4776248cd8
https://review.opendev.org/565634,Add lock for security group rules,"Add lock for security group rules In order to reduce concurrency exceptions, lock updates to remote IPs for security group rules. Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8",18031,Thomas Bachman,"[490, 1689, 7987, 9008, 9722, 10965, 17416, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'VMware NSX CI', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",add lock security group rules order reduce concurrency exceptions lock updates remote ips security group rules changeid i2d662850e4b09afa43df4be6a9004e4776248cd8
https://review.opendev.org/565633,Add lock for security group rules,"Add lock for security group rules In order to reduce concurrency exceptions, lock updates to remote IPs for security group rules. Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8",18031,Thomas Bachman,"[490, 1689, 7987, 9008, 9722, 10965, 17416, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'VMware NSX CI', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",add lock security group rules order reduce concurrency exceptions lock updates remote ips security group rules changeid i2d662850e4b09afa43df4be6a9004e4776248cd8
https://review.opendev.org/565623,Add lock for security group rules,"Add lock for security group rules In order to reduce concurrency exceptions, lock updates to remote IPs for security group rules. Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8",18031,Thomas Bachman,"[490, 1689, 7987, 9722, 10965, 17416, 18031, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'Hemanth Ravi', 'Magesh GV', 'Amit Bose', 'Thomas Bachman', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",add lock security group rules order reduce concurrency exceptions lock updates remote ips security group rules changeid i2d662850e4b09afa43df4be6a9004e4776248cd8
https://review.opendev.org/567215,V and D: make security group logging more robust,V and D: make security group logging more robust Prevent exceptions Change-Id: I1a318347f92d6d793768dd20d653c872a3f75da3 (cherry picked from commit 89602824597db2dcf7c90fbfa46723df46f9c64a) (cherry picked from commit c9e0278f8aef886de7a4c5f1f1c4f222166832cb),1653,garyk,"[1653, 22348]","['garyk', 'Zuul']",v make security group logging robust prevent exceptions changeid i1a318347f92d6d793768dd20d653c872a3f75da3 cherry picked commit 89602824597db2dcf7c90fbfa46723df46f9c64a cherry picked commit c9e0278f8aef886de7a4c5f1f1c4f222166832cb
https://review.opendev.org/565972,V and D: make security group logging more robust,V and D: make security group logging more robust Prevent exceptions Change-Id: I1a318347f92d6d793768dd20d653c872a3f75da3 (cherry picked from commit 89602824597db2dcf7c90fbfa46723df46f9c64a),1653,garyk,"[1653, 9008, 20363, 22348]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",v make security group logging robust prevent exceptions changeid i1a318347f92d6d793768dd20d653c872a3f75da3 cherry picked commit 89602824597db2dcf7c90fbfa46723df46f9c64a
https://review.opendev.org/565592,api-ref: several fixes on security group rules,"api-ref: several fixes on security group rules * Fix the attributes 'remote_ip_prefix' and 'direction' that were messed up with metering rules. * Fix the attributes 'ethertype', 'port_range_max', 'port_range_min' and 'remote_group_id' that have the wrong required/optional. Change-Id: I92ff1ad5921695c569c8c831a70d388a7900809c",27654,Hongbin Lu,"[5367, 11975, 22348, 27654]","['boden', 'Slawek Kaplonski', 'Zuul', 'Hongbin Lu']",apiref several fixes security group rules fix attributes remoteipprefix direction messed metering rules fix attributes ethertype portrangemax portrangemin remotegroupid wrong requiredoptional changeid i92ff1ad5921695c569c8c831a70d388a7900809c
https://review.opendev.org/772942,Fix 'ss-type' conflicts in security service tests,"WIP - Fix 'ss-type' conflicts in security service tests This patch fixes security service conflict errors when security service tests are executed. In these tests, no security services should be automatically created during share network creation, or the test may fail due conflicting types. This issue can be seen when 'security_service' config option is set to use a 'kerberos' or 'ldap' security service. Change-Id: I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af Signed-off-by: Douglas Viroel <viroel@gmail.com>",30002,Douglas Viroel,"[16643, 22348, 29632, 30998]","['Goutham Pacha Ravi', 'Zuul', 'Carlos Eduardo', 'Andre Luiz Beltrami Rocha']",wip fix sstype conflicts security service tests patch fixes security service conflict errors security service tests executed tests security services automatically created share network creation test may fail due conflicting types issue seen securityservice config option set use kerberos ldap security service changeid i4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af signedoffby douglas viroel viroelgmailcom
https://review.opendev.org/770635,Enable neutron port security for Octavia tests,Enable neutron port security for Octavia tests Some Octavia tempest tests require that neutron port security feature is enabled. Change-Id: I0b35080f065df09b460e33431545f70ac3cb9557,6681,Brent Eagles,"[10459, 22348, 22873, 29244]","['Luigi Toscano', 'Zuul', 'Martin Kopec', 'Gregory Thiemonge']",enable neutron port security octavia tests octavia tempest tests require neutron port security feature enabled changeid i0b35080f065df09b460e33431545f70ac3cb9557
https://review.opendev.org/536102,TVD: make security group logging more robust,TVD: make security group logging more robust Ensure that DVS security groups (which do not have this extension) do not cause exceptions Change-Id: I1a318347f92d6d793768dd20d653c872a3f75da3,1653,garyk,"[1653, 9008, 20363, 22348]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",tvd make security group logging robust ensure dvs security groups extension cause exceptions changeid i1a318347f92d6d793768dd20d653c872a3f75da3
https://review.opendev.org/545602,"Add ""Edit Port Security Groups"" action","Add ""Edit Port Security Groups"" action This commit adds a new action ""Edit Port Security Groups"" which jumps the interfaces tab of the instance detail page. In addition, a warning message is added to the ""Edit Security Groups"" form because if a user change security groups as an instance level the change will be applied to all interfaces of the instance, so it would be nice if we can provide a good navigation to a page of editting security groups per port. Previously, UpdateMembersStep does not support help_text_template option. To use a bold tag in the added help message, we need to use a template instead of help_text, so _workflow_step_update_members.html is updated. Closes-Bug: #1750147 Change-Id: I71437a376b94cab90df0e423aa7e1d2d0d8387ee",841,Akihiro Motoki,"[841, 1736, 8478, 16628, 22348]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Vladislav Kuzmin', 'Beth Elwell', 'Zuul']",add edit port security groups action commit adds new action edit port security groups jumps interfaces tab instance detail page addition warning message added edit security groups form user change security groups instance level change applied interfaces instance would nice provide good navigation page editting security groups per port previously updatemembersstep support helptexttemplate option use bold tag added help message need use template instead helptext workflowstepupdatemembershtml updated closesbug 1750147 changeid i71437a376b94cab90df0e423aa7e1d2d0d8387ee
https://review.opendev.org/564475,Add vxlan port to the multinodes security group,"Add vxlan port at the multinodes security group There are problems with RDO cloud + multinode communication, there is no vxlan package arriving from subnode-1 to subnode-0, to allow that vxlan port needs to be open. Close-Bug: 1767099 Change-Id: I9d070e208000194e73654299c9645679bea27169",27898,Quique Llorente,"[6926, 8175, 8367, 9592, 9976, 10022, 10873, 10969, 12715, 13861, 18846, 22348, 23181, 27898]","['Bogdan Dobrelya', 'Rafael Folco', 'Arx Cruz', 'wes hayutin', 'Ronelle Landy', 'Gabriele Cerami', 'Juan Antonio Osorio Robles', 'Shnaidman Sagi (Sergey)', 'John Trowbridge', 'yatin', 'RedHat RDO CI', 'Zuul', 'RDO Third Party CI', 'Quique Llorente']",add vxlan port multinodes security group problems rdo cloud multinode communication vxlan package arriving subnode1 subnode0 allow vxlan port needs open closebug 1767099 changeid i9d070e208000194e73654299c9645679bea27169
https://review.opendev.org/565193,OSP-167: handle exception during security group rule deletion,"OSP-167: handle exception during security group rule deletion - when deleting a security group rule, we update the security group on BCF i.e. overwrite SG with new set of rules - hence, we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp167 handle exception security group rule deletion deleting security group rule update security group bcf ie overwrite sg new set rules hence query neutron db security group fail security group deleted expected find sg changeid i48792ac029b42475a184c920b54130b1265df7b9
https://review.opendev.org/565192,OSP-167: handle exception during security group rule deletion,"OSP-167: handle exception during security group rule deletion - when deleting a security group rule, we update the security group on BCF i.e. overwrite SG with new set of rules - hence, we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp167 handle exception security group rule deletion deleting security group rule update security group bcf ie overwrite sg new set rules hence query neutron db security group fail security group deleted expected find sg changeid i48792ac029b42475a184c920b54130b1265df7b9
https://review.opendev.org/565190,OSP-167: handle exception during security group rule deletion,"OSP-167: handle exception during security group rule deletion - when deleting a security group rule, we update the security group on BCF i.e. overwrite SG with new set of rules - hence, we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp167 handle exception security group rule deletion deleting security group rule update security group bcf ie overwrite sg new set rules hence query neutron db security group fail security group deleted expected find sg changeid i48792ac029b42475a184c920b54130b1265df7b9
https://review.opendev.org/565189,OSP-167: handle exception during security group rule deletion,"OSP-167: handle exception during security group rule deletion - when deleting a security group rule, we update the security group on BCF i.e. overwrite SG with new set of rules - hence, we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9",20751,Aditya Vaja,"[20751, 22348]","['Aditya Vaja', 'Zuul']",osp167 handle exception security group rule deletion deleting security group rule update security group bcf ie overwrite sg new set rules hence query neutron db security group fail security group deleted expected find sg changeid i48792ac029b42475a184c920b54130b1265df7b9
https://review.opendev.org/564802,OSP-167: handle exception during security group rule deletion,"OSP-167: handle exception during security group rule deletion - when deleting a security group rule, we update the security group on BCF i.e. overwrite SG with new set of rules - hence, we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9",20751,Aditya Vaja,"[21977, 22348, 28026]","['Sarath Kumar Sankaran Kutty', 'Zuul', 'Weifan Fu']",osp167 handle exception security group rule deletion deleting security group rule update security group bcf ie overwrite sg new set rules hence query neutron db security group fail security group deleted expected find sg changeid i48792ac029b42475a184c920b54130b1265df7b9
https://review.opendev.org/545601,Add instance interfaces tab for easy security group edit,Add instance interfaces tab for easy security group edit Partial-Bug: #1750147 Change-Id: Ia2bd19f92251702878be3b12d0ea2a5c6618c65e,841,Akihiro Motoki,"[841, 1736, 22348]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Zuul']",add instance interfaces tab easy security group edit partialbug 1750147 changeid ia2bd19f92251702878be3b12d0ea2a5c6618c65e
https://review.opendev.org/561439,NSX-T: Disable Port Security by default for ENS TZ,NSX-T: Disable Port Security by default for ENS TZ fix for: https://bugzilla.eng.vmware.com/show_bug.cgi?id=2093846 Change-Id: I2115108be664e0d1f09752d10a11107b215d5590 Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>,27546,Michal Kelner Mishali,"[1653, 9008, 20363, 22348, 27546]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",nsxt disable port security default ens tz fix httpsbugzillaengvmwarecomshowbugcgiid2093846 changeid i2115108be664e0d1f09752d10a11107b215d5590 signedoffby michal kelner mishali mkelnermishalvmwarecom
https://review.opendev.org/562671,Ensure security of etcd connection,Ensure security of etcd connection The code assumes that etc.tls.available has been set; however that might not be the case so guard the configuration of vault to use etcd to check for this flag before adding etcd configuration. Change-Id: I52f6fb2db309564634ba1698bd7905b2c1e8ceeb,935,James Page,"[935, 12549, 20648, 22348]","['James Page', 'gnuoy', 'Canonical CI', 'Zuul']",ensure security etcd connection code assumes etctlsavailable set however might case guard configuration vault use etcd check flag adding etcd configuration changeid i52f6fb2db309564634ba1698bd7905b2c1e8ceeb
https://review.opendev.org/559276,Add Manage Security Groups action for container,"Add Security Groups tab for container update This patch adds ""Security Groups"" tab into container update dialog to add/remove security groups. Change-Id: Ic39a985c7daffdb7f5e5616a0eb3c07d57c4db22",16352,Shu Muto,"[11536, 16352, 22348]","['hongbin', 'Shu Muto', 'Zuul']",add security groups tab container update patch adds security groups tab container update dialog addremove security groups changeid ic39a985c7daffdb7f5e5616a0eb3c07d57c4db22
https://review.opendev.org/561765,Describe more about security group on create,Describe more about security group on create This patch adds description for security group on container creation dialog. Change-Id: Idb019f9956aefca275d7554e4eff203b7a2724f8 (cherry picked from commit 1fb13fefcb630b51b5759462887dc5fe57786a35),16352,Shu Muto,"[11536, 16352, 22348]","['hongbin', 'Shu Muto', 'Zuul']",describe security group create patch adds description security group container creation dialog changeid idb019f9956aefca275d7554e4eff203b7a2724f8 cherry picked commit 1fb13fefcb630b51b5759462887dc5fe57786a35
https://review.opendev.org/560288,Describe more about security group on create,Describe more about security group on create This patch adds description for security group on container creation dialog. Change-Id: Idb019f9956aefca275d7554e4eff203b7a2724f8,16352,Shu Muto,"[11536, 16352, 22348]","['hongbin', 'Shu Muto', 'Zuul']",describe security group create patch adds description security group container creation dialog changeid idb019f9956aefca275d7554e4eff203b7a2724f8
https://review.opendev.org/560034,Doc: Add driver security notes to contributor doc,Doc: Add driver security notes to contributor doc Document some requirements that driver authors should consider when creating drivers. Change-Id: Ieae8863d5e4c140545d89c4cfa4e019dbb301a36,4523,Eric Harney,"[1736, 9008, 9732, 10622, 11904, 12017, 13144, 13628, 14384, 15670, 15941, 19933, 21863, 21884, 22248, 22348, 22510, 23613, 24230, 24236, 24502, 24863, 24921, 25243, 25677, 26537]","['Ivan Kolodyazhny', 'VMware NSX CI', 'Mellanox CI', 'SolidFire CI', 'Sean McGinnis', 'DellEMC VNX CI', 'Oracle ZFSSA CI', 'Huawei Volume CI', 'Quobyte CI', 'StorPool distributed storage CI', 'DellEMC PowerFlex CI', 'ZadaraStorage VPSA CI', 'Jenkins of Infinidat', 'DellEMC Unity CI', 'HPE STORAGE CI', 'Zuul', 'Synology DSM CI', 'NEC Cinder CI', 'NetApp E-Series CI', 'INSPUR CI', 'Veritas HyperScale CI', 'Veritas Access CI', 'Hedvig CI', 'NetApp CI', 'Dell EMC PS CI', 'Cloudbase Cinder SMB3 CI']",doc add driver security notes contributor doc document requirements driver authors consider creating drivers changeid ieae8863d5e4c140545d89c4cfa4e019dbb301a36
https://review.opendev.org/557827,Allow port security to be disabled,"Allow port security to be disabled Allow Murano application packages to specify whether port security should be disabled for a network. By default, the Heat service will enable port security for all ports in a network. With this change, Murano will now propagate to Heat the application's desire to disable port security if the application sets a new flag, port_security_enabled, to false in the Neutron network object. Change-Id: Iab25b4901010c24aef42213a7a9082b7594a5a16 Closes-Bug: 1759914",26101,Ellen Batbouta,"[14107, 22348, 23186, 26101]","['zhurong', 'Zuul', 'Felipe Monteiro', 'Ellen Batbouta']",allow port security disabled allow murano application packages specify whether port security disabled network default heat service enable port security ports network change murano propagate heat applications desire disable port security application sets new flag portsecurityenabled false neutron network object changeid iab25b4901010c24aef42213a7a9082b7594a5a16 closesbug 1759914
https://review.opendev.org/535118,A description can now be added to a security rule,A description can now be added to a security rule This patch fixes Bug #1742332 (Security Rule Description neither editable nor shown). I have added the option for a description to be added to a security rule which will show the description on the related table. Change-Id: Ie723deb412977ae460c1e897f5d71fc8dbb7a853 Closes: #1742332,27659,Samuel Gillies-Smith,"[841, 1736, 8478, 10420, 11885, 14151, 22348, 26263, 27659]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Vladislav Kuzmin', 'Adrian Turjak', 'Ying Zuo', 'ziyu032', 'Zuul', 'Amelia Cordwell', 'Samuel Gillies-Smith']",description added security rule patch fixes bug 1742332 security rule description neither editable shown added option description added security rule show description related table changeid ie723deb412977ae460c1e897f5d71fc8dbb7a853 closes 1742332
https://review.opendev.org/765394,Implement secure RBAC for security group API,Implement secure RBAC for security group API This commit updates the security group policies to understand scope checking and account for a read-only role. This is part of a broader series of changes across OpenStack to provide a consistent RBAC experience and improve security. Change-Id: I0c2062619a72184e6681530de6c074fb3c23635f,5046,Lance Bragstad,"[5948, 8313, 9845, 11975, 22348]","['Oleg Bondarev', 'Lajos Katona', 'Arista CI', 'Slawek Kaplonski', 'Zuul']",implement secure rbac security group api commit updates security group policies understand scope checking account readonly role part broader series changes across openstack provide consistent rbac experience improve security changeid i0c2062619a72184e6681530de6c074fb3c23635f
https://review.opendev.org/545600,Ensure to show security groups only from current project,"Ensure to show security groups only from current project Previously when logging in as a user with admin role, if we visit ""Edit Security Group"" action of the instance table, security groups from all projects are listed. Change-Id: I71ff940434ef8dc146e934dc833c4d26829930c0 Closes-Bug: #1750140",841,Akihiro Motoki,"[841, 1736, 8478, 8648, 22348, 24056]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Vladislav Kuzmin', 'Radomir Dopieralski', 'Zuul', 'wei.ying']",ensure show security groups current project previously logging user admin role visit edit security group action instance table security groups projects listed changeid i71ff940434ef8dc146e934dc833c4d26829930c0 closesbug 1750140
https://review.opendev.org/558341,Describe unmasking fields in security document,Describe unmasking fields in security document This adds some words about how to unmask passwords or secrets applied by default policy. Change-Id: I0295cfa3bce09b336a3f460e3fd7741549e8483b Story: #1669331 Task: #9725,24828,Kaifeng Wang,"[6637, 10239, 19339, 22348, 24828]","['Sam Betts', 'Dmitry Tantsur', 'Dell EMC Ironic CI', 'Zuul', 'Kaifeng Wang']",describe unmasking fields security document adds words unmask passwords secrets applied default policy changeid i0295cfa3bce09b336a3f460e3fd7741549e8483b story 1669331 task 9725
https://review.opendev.org/495911,Load networks and security groups in parallel,Load networks and security groups in parallel We need both networks and security groups info on the port details page. To speedup page loading we loads this data in parallel using futurist library Change-Id: Id51f4d0b4c90e8dd1f72366b9edf6b98ec6ce6f7,1736,Ivan Kolodyazhny,"[3, 841, 1736, 5623, 8478, 8648, 11885, 14151, 15209, 16628, 22348, 22405, 24056]","['Jenkins', 'Akihiro Motoki', 'Ivan Kolodyazhny', 'David Lyle', 'Vladislav Kuzmin', 'Radomir Dopieralski', 'Ying Zuo', 'ziyu032', 'Lucas Xu', 'Beth Elwell', 'Zuul', 'Vitaliy Nogin', 'wei.ying']",load networks security groups parallel need networks security groups info port details page speedup page loading loads data parallel using futurist library changeid id51f4d0b4c90e8dd1f72366b9edf6b98ec6ce6f7
https://review.opendev.org/555729,Increase the image size for security hardened images to 23G,Increase the image size for security hardened images to 23G In recent deployes we needed to increase size of /var volume by 3G. So we need to give the image the right size to fit there. Change-Id: I3885a5c359b56c515dbb9286ded1dee062cdcffc (cherry picked from commit 654804cd0812b30b410bc188ce2811d164a50c6b),6133,yolanda.robla,"[14985, 22348, 23181, 27997]","['Alex Schultz', 'Zuul', 'RDO Third Party CI', 'Huifeng Qin']",increase image size security hardened images 23g recent deployes needed increase size var volume 3g need give image right size fit changeid i3885a5c359b56c515dbb9286ded1dee062cdcffc cherry picked commit 654804cd0812b30b410bc188ce2811d164a50c6b
https://review.opendev.org/555726,Increase the image size for security hardened images to 23G,Increase the image size for security hardened images to 23G In recent deployes we needed to increase size of /var volume by 3G. So we need to give the image the right size to fit there. Change-Id: I3885a5c359b56c515dbb9286ded1dee062cdcffc (cherry picked from commit 654804cd0812b30b410bc188ce2811d164a50c6b),6133,yolanda.robla,"[3153, 14985, 22348, 23181, 27997]","['Emilien Macchi', 'Alex Schultz', 'Zuul', 'RDO Third Party CI', 'Huifeng Qin']",increase image size security hardened images 23g recent deployes needed increase size var volume 3g need give image right size fit changeid i3885a5c359b56c515dbb9286ded1dee062cdcffc cherry picked commit 654804cd0812b30b410bc188ce2811d164a50c6b
https://review.opendev.org/555098,Fix port security disabling,"Fix port security disabling Introduced with the change to fix the use of empty secgroup rule sets, port security off does not disable all rules, leaving the antispoofing rule in place. This addresses that problem. Change-Id: Ia6da2cb54f4bf2eb206b51b9ca6c35c82328aa19",3217,Ian Wells,"[1356, 3217, 13786, 22348]","['Naveen Joy', 'Ian Wells', 'Yichen Wang', 'Zuul']",fix port security disabling introduced change fix use empty secgroup rule sets port security disable rules leaving antispoofing rule place addresses problem changeid ia6da2cb54f4bf2eb206b51b9ca6c35c82328aa19
https://review.opendev.org/554709,"Revert ""[Fullstack] Mark security group test as unstable""","Revert ""[Fullstack] Mark security group test as unstable"" It is possible that issue with ncat process can be already fixed by [1] so there is no need to mark as unstable anymore. This reverts commit 685596f89c02711410bd6b650a12264ca99145fe. [1] https://review.openstack.org/#/c/545820/ Change-Id: Ia4ea2ed86ec1fd7aee5428319efb956672c9d1a8",11975,Slawek Kaplonski,"[1653, 8655, 9656, 9732, 15752, 16376, 22348]","['garyk', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Mellanox CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Zuul']",revert fullstack mark security group test unstable possible issue ncat process already fixed 1 need mark unstable anymore reverts commit 685596f89c02711410bd6b650a12264ca99145fe 1 httpsreviewopenstackorgc545820 changeid ia4ea2ed86ec1fd7aee5428319efb956672c9d1a8
https://review.opendev.org/541242,[Fullstack] Mark security group test as unstable,"[Fullstack] Mark security group test as unstable As is described in related bug report this tests is failing quite often due to some problem with spawning ""ncat"" process. Change-Id: I0651da07fb786cce82262703bfab8ca30ad4125d Related-Bug: 1744402",11975,Slawek Kaplonski,"[1653, 8655, 9656, 22348]","['garyk', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Zuul']",fullstack mark security group test unstable described related bug report tests failing quite often due problem spawning ncat process changeid i0651da07fb786cce82262703bfab8ca30ad4125d relatedbug 1744402
https://review.opendev.org/544160,Cleanup the created security groups,"Cleanup the created security groups The security groups created in test needs to be cleanup after. In addition, refactor the image cleanup code. Change-Id: Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9",11536,hongbin,"[11536, 22348, 22406, 25695]","['hongbin', 'Zuul', 'Kien Nguyen', 'Deepak Mourya']",cleanup created security groups security groups created test needs cleanup addition refactor image cleanup code changeid ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9
https://review.opendev.org/553784,Increase the image size for security hardened images to 23G,Increase the image size for security hardened images to 23G In recent deployes we needed to increase size of /var volume by 3G. So we need to give the image the right size to fit there. Change-Id: I3885a5c359b56c515dbb9286ded1dee062cdcffc,6133,yolanda.robla,"[3153, 6133, 11391, 14985, 22348, 23181]","['Emilien Macchi', 'yolanda.robla', 'Mike Fedosin', 'Alex Schultz', 'Zuul', 'RDO Third Party CI']",increase image size security hardened images 23g recent deployes needed increase size var volume 3g need give image right size fit changeid i3885a5c359b56c515dbb9286ded1dee062cdcffc
https://review.opendev.org/771055,Remove protocols choice in security rules,Remove protocols choice in security rules Security group rule can support a lot of protocols now and their integer representations in 0-255 range. Let's not limit for this option anymore. Change-Id: I0432e5d5d6d5f5ce935cf59a00f35153649c22dd,10969,Shnaidman Sagi (Sergey),"[2, 10969, 22348, 27900, 32458]","['Monty Taylor', 'Shnaidman Sagi (Sergey)', 'Zuul', 'Artem Goncharov', 'Ananya Banerjee']",remove protocols choice security rules security group rule support lot protocols integer representations 0255 range lets limit option anymore changeid i0432e5d5d6d5f5ce935cf59a00f35153649c22dd
https://review.opendev.org/762835,Create security groups with the same name,Create security groups with the same name Test scenario: Create a number of security groups using the same name. Make sure that all the security groups have been created successfully and that each group has it own unique ID. Change-Id: I044e8f86cd8999d1bde5e4995239b0dfa55489f0,28609,Arkady Shtempler,"[1131, 8313, 11975, 13995, 16688, 18894, 19118, 21798, 22348, 28609, 29088, 29350, 31450, 32029]","['Brian Haley', 'Lajos Katona', 'Slawek Kaplonski', 'Nate Johnston', 'Rodolfo Alonso', 'Toni Freger', 'Eran Kuris', 'Bernard Cafarelli', 'Zuul', 'Arkady Shtempler', 'Candido Campos Rivas', 'Roman Safronov', 'Alex Katz', 'likui']",create security groups name test scenario create number security groups using name make sure security groups created successfully group unique id changeid i044e8f86cd8999d1bde5e4995239b0dfa55489f0
https://review.opendev.org/466729,Add 'Other considerations' to security doc,Add security tips Some security tips added to security documentation. List of the tips can be extended in the future. Change-Id: Ic4a854a9fb8e12e0d6cdf969ef804e25f6341a32 Related-bug: #1659455 Related-bug: #1692511,7711,Yuriy Zveryanskyy,"[3, 6618, 6637, 7711, 11655, 11878, 12356, 14208, 14614, 14629, 19339, 22348, 23375]","['Jenkins', 'Ruby Loo', 'Sam Betts', 'Yuriy Zveryanskyy', 'Julia Kreger', 'Rushil Chugh', 'Vladyslav Drok', 'Cisco CI', 'Kyrylo Romanenko', 'HPE Proliant', 'Dell EMC Ironic CI', 'Zuul', 'Stenio Araujo']",add security tips security tips added security documentation list tips extended future changeid ic4a854a9fb8e12e0d6cdf969ef804e25f6341a32 relatedbug 1659455 relatedbug 1692511
https://review.opendev.org/553125,Add debian security gpg key,"Add debian security gpg key We have debian-security defined for mirroring in [1] with key C857C906; however we don't seem to be importing this key. Possibly it was manually imported on the old server and this has now gone missing on the new Xenial server. Import this key from https://ftp-master.debian.org/keys/archive-key-8-security.asc The keys are renamed to have ""jessie"" in it, to avoid confusion (see [2]) [1] http://git.openstack.org/cgit/openstack-infra/system-config/tree/modules/openstack_project/files/reprepro/debuntu-updates#n41 [2] https://ftp-master.debian.org/keys.html Change-Id: Iabfd5e3fa7aa39716a120998663f5ad0e30afe25",7118,Ian Wienand,"[7118, 22348]","['Ian Wienand', 'Zuul']",add debian security gpg key debiansecurity defined mirroring 1 key c857c906 however dont seem importing key possibly manually imported old server gone missing new xenial server import key httpsftpmasterdebianorgkeysarchivekey8securityasc keys renamed jessie avoid confusion see 2 1 httpgitopenstackorgcgitopenstackinfrasystemconfigtreemodulesopenstackprojectfilesrepreprodebuntuupdatesn41 2 httpsftpmasterdebianorgkeyshtml changeid iabfd5e3fa7aa39716a120998663f5ad0e30afe25
https://review.opendev.org/550018,[Tempest]: Removing of extra security groups added to port,[Tempest]: Removing of extra security groups added to port Earlier ICMP rule were added to ports due to this even after applying port security to instane port vms were able to communicate with each other. Change-Id: Iaea4fd3e0533f14b157b95a5cf17eefed771281d,22107,Puneet Arora,"[20363, 22107, 22348]","['Adit Sarfaty', 'Puneet Arora', 'Zuul']",tempest removing extra security groups added port earlier icmp rule added ports due even applying port security instane port vms able communicate changeid iaea4fd3e0533f14b157b95a5cf17eefed771281d
https://review.opendev.org/550001,Add security squad to document,Add security squad to document Change-Id: I4ff4d69dccc714c26567f7e355f3bce902eb8eea,10873,Juan Antonio Osorio Robles,"[3153, 11589, 14985, 22348]","['Emilien Macchi', 'Harry Rybacki', 'Alex Schultz', 'Zuul']",add security squad document changeid i4ff4d69dccc714c26567f7e355f3bce902eb8eea
https://review.opendev.org/550850,ovsfw: Use bundle when adding security group rules,"ovsfw: Use bundle when adding security group rules Sometimes ports can have a lot of security group rules. Adding OpenFlow rules to the integration bridge can be a bottle neck when bundle option is not used. As OVS firewall currently uses CLI interface, the bundle support is implemented only for that. The native interface has on-going work but before we switch completely to the native, we can benefit from bundle option now. e.g. when adding 100 000 flows the bundle option takes the time down from ~10 seconds to 1 seconds. So it's about 10 times faster. Change-Id: I1feaeb659c8badf23230e36145235d49d50b6bfb (cherry picked from commit b3b2df142e5906a1da0c8c9b2cfb3a60a6527e77)",8655,Jakub Libosvar,"[1131, 4694, 9732, 10385, 22348]","['Brian Haley', 'Miguel Lavalle', 'Mellanox CI', 'Citrix XenServer CI', 'Zuul']",ovsfw use bundle adding security group rules sometimes ports lot security group rules adding openflow rules integration bridge bottle neck bundle option used ovs firewall currently uses cli interface bundle support implemented native interface ongoing work switch completely native benefit bundle option eg adding 100 000 flows bundle option takes time 10 seconds 1 seconds 10 times faster changeid i1feaeb659c8badf23230e36145235d49d50b6bfb cherry picked commit b3b2df142e5906a1da0c8c9b2cfb3a60a6527e77
https://review.opendev.org/548131,Test remove security group in tempest tests,[WIP] Test remove security group in tempest tests This test will use to remove security group from the container. Change-Id: Id9accbc8139e268775be68a85b7d3892033181df Closes-Bug: #1749351,25695,Deepak Mourya,"[11536, 22076, 22348, 25695]","['hongbin', 'Kevin Zhao', 'Zuul', 'Deepak Mourya']",wip test remove security group tempest tests test use remove security group container changeid id9accbc8139e268775be68a85b7d3892033181df closesbug 1749351
https://review.opendev.org/550646,Adds toggle port security on network create,"Adds toggle port security on network create Added a new property, 'port_security_enabled' which is a boolean to enable or disable port_secuirty during network creation. The default behavior will enable port security, security group and anti spoofing will act as before. When the attribute is set to False, security group and anti spoofing are disabled on the ports created on this network. Change-Id: If984a82ca5f6fb69ee644f4fa84333df09d7f8bc",27893,rarm nagalingam,"[2, 10068, 11975, 12898, 22348]","['Monty Taylor', 'Welcome, new contributor!', 'Slawek Kaplonski', 'Tony Breeds', 'Zuul']",adds toggle port security network create added new property portsecurityenabled boolean enable disable portsecuirty network creation default behavior enable port security security group anti spoofing act attribute set false security group anti spoofing disabled ports created network changeid if984a82ca5f6fb69ee644f4fa84333df09d7f8bc
https://review.opendev.org/551036,Update start_date for new Security SIG meeting,"Update start_date for new Security SIG meeting In Ic5a81ac1b2ef49c28522d9bd01d29a75b67eba95 we retired the schedule for the Security Project team and created a new one fror the Security SIG, as not part of the meeting schedule were shared keeping the 2 years of history is slightly misleading. So update the start_date to be now'ish Change-Id: I8d00adb0f3c1989dc6b52ed267a35a1aab60488d",12898,Tony Breeds,"[308, 22348]","['Thierry Carrez', 'Zuul']",update startdate new security sig meeting ic5a81ac1b2ef49c28522d9bd01d29a75b67eba95 retired schedule security project team created new one fror security sig part meeting schedule shared keeping 2 years history slightly misleading update startdate nowish changeid i8d00adb0f3c1989dc6b52ed267a35a1aab60488d
https://review.opendev.org/550929,Changes required for security project > sig,"Changes required for security project > sig Includes chair, new time, and new channel Change-Id: Ic5a81ac1b2ef49c28522d9bd01d29a75b67eba95",17893,Luke Hinds,"[308, 5263, 22348]","['Thierry Carrez', 'Jeremy Stanley', 'Zuul']",changes required security project sig includes chair new time new channel changeid ic5a81ac1b2ef49c28522d9bd01d29a75b67eba95
https://review.opendev.org/549953,Fix Hardware Security Modules (HSM) link broken,Fix Hardware Security Modules (HSM) link broken Change-Id: Iaf43b2be169f30657116c44030d6d4bbf9c28552 Closes-bug: #1750587,21797,liujiong,"[6547, 22348]","['Andreas Jaeger', 'Zuul']",fix hardware security modules hsm link broken changeid iaf43b2be169f30657116c44030d6d4bbf9c28552 closesbug 1750587
https://review.opendev.org/547369,Network: Add tag support for security group,Network: Add tag support for security group This patch adds set tags operation and query parameters for security group. Change-Id: I80fd6494fd4b86f5ace81297ec4617d94bcf5d06 Partial-Bug: #1750983,12860,Dongcan Ye,"[2, 8246, 11975, 12860, 22348]","['Monty Taylor', 'Qiming Teng', 'Slawek Kaplonski', 'Dongcan Ye', 'Zuul']",network add tag support security group patch adds set tags operation query parameters security group changeid i80fd6494fd4b86f5ace81297ec4617d94bcf5d06 partialbug 1750983
https://review.opendev.org/548047,Model security groups as NetworkPolicy instead of Profiles,Model security groups as NetworkPolicy instead of Profiles Change-Id: Ie2675839488b1ce9cf570db0bf16f25a855c6217,13734,Neil Jerram,"[13734, 19461, 22348]","['Neil Jerram', 'Shaun Crampton', 'Zuul']",model security groups networkpolicy instead profiles changeid ie2675839488b1ce9cf570db0bf16f25a855c6217
https://review.opendev.org/548913,AdminUtils: Improve NSXv security admin utils,AdminUtils: Improve NSXv security admin utils documentation Better explain the security groups / nsx security groups / firewall sections admiun utilities. Also remove the unrelated firewall sections reorder form the fix-mismatch utility Change-Id: Ie9868d1fb196964ce479bca2c42d4a6eea7ef427,20363,Adit Sarfaty,"[1653, 9008, 20363, 22348]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",adminutils improve nsxv security admin utils documentation better explain security groups nsx security groups firewall sections admiun utilities also remove unrelated firewall sections reorder form fixmismatch utility changeid ie9868d1fb196964ce479bca2c42d4a6eea7ef427
https://review.opendev.org/530582,Refactor security modules and retry,[WIP] refactor security modules and retry A small refactor to the nslib: 1. change the security object code to be more similar to the other resources 2. Use retry code in base resources cladd only and not in resources implementations 3. Adding some tests to verify the fix does not damage anything Change-Id: Iac2cc1d55d3525ad21cb6399da691e212d6d4722,20363,Adit Sarfaty,"[1653, 9008, 20363, 22348, 24247]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",wip refactor security modules retry small refactor nslib 1 change security object code similar resources 2 use retry code base resources cladd resources implementations 3 adding tests verify fix damage anything changeid iac2cc1d55d3525ad21cb6399da691e212d6d4722
https://review.opendev.org/539017,Add kafka config options for security (ssl/sasl),Add kafka config options for security (ssl/sasl) Change-Id: Ia1be1b67a7151d449185e2ad52eff1787e8b0933,20523,Andy Smith,"[8770, 9796, 20523, 22348, 26159]","['Ken Giusti', 'ChangBo Guo(gcb)', 'Andy Smith', 'Zuul', 'xiexianbin']",add kafka config options security sslsasl changeid ia1be1b67a7151d449185e2ad52eff1787e8b0933
https://review.opendev.org/754898,Delete default security groups created by stack.,Delete default security groups created by stack Default security group gets created during project creation through stack launch. But it's not getting deleted through stack-delete. So added function to delete default security groups created by stack. Closes Bug: #2006692 Change-Id: I00de452057c4589628d963d0e51d44ec9b7ea959,32450,kumari paluru,"[12404, 22348]","['Rico Lin', 'Zuul']",delete default security groups created stack default security group gets created project creation stack launch getting deleted stackdelete added function delete default security groups created stack closes bug 2006692 changeid i00de452057c4589628d963d0e51d44ec9b7ea959
https://review.opendev.org/547151,[Docs] Migrate security into user guide,[Docs] Migrate security into user guide Migrate all the security related user configurations into a user story. Change-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0,17068,Jean-Philippe Evrard,"[538, 6816, 22348, 24468]","['Major Hayden', 'Jesse Pretorius', 'Zuul', 'Limestone Networks CI']",docs migrate security user guide migrate security related user configurations user story changeid i4dfc5941abfd834d1d53a9c737db7afcce2841a0
https://review.opendev.org/544147,admin utility enabled nsx-update for security groups (V and T),admin utility enabled nsx-update for security groups (V and T) Provide ability to update security groups on NSX Change-Id: Ia16dfcd5618a3584bc9d0acfbf8a0de155997e58 (cherry picked from commit 5ffb1de1e68c37b0cffec12451ee8da3b36e20c8),1653,garyk,"[1653, 22348]","['garyk', 'Zuul']",admin utility enabled nsxupdate security groups v provide ability update security groups nsx changeid ia16dfcd5618a3584bc9d0acfbf8a0de155997e58 cherry picked commit 5ffb1de1e68c37b0cffec12451ee8da3b36e20c8
https://review.opendev.org/543527,admin utility enabled nsx-update for security groups (V and T),admin utility enabled nsx-update for security groups (V and T) Provide ability to update security groups on NSX Change-Id: Ia16dfcd5618a3584bc9d0acfbf8a0de155997e58,1653,garyk,"[1653, 20363, 22348]","['garyk', 'Adit Sarfaty', 'Zuul']",admin utility enabled nsxupdate security groups v provide ability update security groups nsx changeid ia16dfcd5618a3584bc9d0acfbf8a0de155997e58
https://review.opendev.org/542467,Add logging to help detect port security conflicts,Add logging to help detect port security conflicts Add logs that indicate if there are conflicting flags on a port for port security and security groups. Change-Id: I0eeadfcfaf2b90b7006b26ab59b61d9449ec37de,1653,garyk,"[1653, 9008, 20363, 22348]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",add logging help detect port security conflicts add logs indicate conflicting flags port port security security groups changeid i0eeadfcfaf2b90b7006b26ab59b61d9449ec37de
https://review.opendev.org/540463,Support specified security groups when creating a port,"Support specified security groups when creating a port This patch allows users to specifie security groups when creating a port. After a port is created, the backend specifies a 'default' security group. To be consistent with this configuration, the page initialization also defaults to a 'default' security group. Change-Id: I13fe4648c3b5f8311602844e08044af8f7b47fd8 Closes-Bug:#1746985",24056,wei.ying,"[841, 14151, 22348, 24056]","['Akihiro Motoki', 'ziyu032', 'Zuul', 'wei.ying']",support specified security groups creating port patch allows users specifie security groups creating port port created backend specifies default security group consistent configuration page initialization also defaults default security group changeid i13fe4648c3b5f8311602844e08044af8f7b47fd8 closesbug1746985
https://review.opendev.org/541057,Ability to skip security hardening tags in leap,Ability to skip security hardening tags in leap Add the ability to skip certain hardening tags during the leap process if required. Change-Id: If30c27d370e0bdf18bf71a4df895e89a40efbca7,290,Antony Messerli,"[538, 21740, 22348, 23163]","['Major Hayden', 'Xin', 'Zuul', 'Markos Chandras (hwoarang)']",ability skip security hardening tags leap add ability skip certain hardening tags leap process required changeid if30c27d370e0bdf18bf71a4df895e89a40efbca7
https://review.opendev.org/540743,Correct security group pull down option,Correct security group pull down option Key of security groups in pull down options is mistaken in singular format. Correct it to match plural format. Change-Id: Ib569418f767e4b94ecd9fbc90e8e08f932735abd,19224,Xinni Ge,"[19224, 22348, 25221]","['Xinni Ge', 'Zuul', 'Kazunori Shinohara']",correct security group pull option key security groups pull options mistaken singular format correct match plural format changeid ib569418f767e4b94ecd9fbc90e8e08f932735abd
https://review.opendev.org/540959,Also add the dhcp ipv6 rules to the default security group.,Also add the dhcp ipv6 rules to the default security group. Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,18065,Kent Wu,"[490, 1689, 7987, 9008, 17416, 18031, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'VMware NSX CI', 'Amit Bose', 'Thomas Bachman', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",also add dhcp ipv6 rules default security group changeid i4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8
https://review.opendev.org/540961,Also add the dhcp ipv6 rules to the default security group.,Also add the dhcp ipv6 rules to the default security group. Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,18065,Kent Wu,"[490, 1689, 7987, 17416, 18031, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'Amit Bose', 'Thomas Bachman', 'Zuul', 'Anna Khmelnitsky']",also add dhcp ipv6 rules default security group changeid i4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8
https://review.opendev.org/540960,Also add the dhcp ipv6 rules to the default security group.,Also add the dhcp ipv6 rules to the default security group. Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,18065,Kent Wu,"[490, 1689, 7987, 9008, 17416, 18031, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'VMware NSX CI', 'Amit Bose', 'Thomas Bachman', 'Zuul', 'Anna Khmelnitsky']",also add dhcp ipv6 rules default security group changeid i4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8
https://review.opendev.org/540558,Also add the dhcp ipv6 rules to the default security group.,Also add the dhcp ipv6 rules to the default security group. Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,18065,Kent Wu,"[490, 1689, 7987, 17416, 18031, 18065, 22348, 24247]","['Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'Amit Bose', 'Thomas Bachman', 'Kent Wu', 'Zuul', 'Anna Khmelnitsky']",also add dhcp ipv6 rules default security group changeid i4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8
https://review.opendev.org/538408,Handle missing security groups on listener delete,"Handle missing security groups on listener delete On listener create or delete we update the VIP security group rules to reflect the addition or removal of the TCP port on the VIP. In the unusual event that the security group is missing in neutron, even listener delete calls would fail. This patch allows listener deletes to continue if the security group is missing from the VIP. Change-Id: Ic0186c34d3215869f1b92bcd4c8e015e0dd54053 Story: 2001381 Task: 5955",11628,Michael Johnson,"[2245, 10273, 10850, 11628, 22348, 25058]","['Jacky Hu', 'Adam Harwell', 'German Eichberger', 'Michael Johnson', 'Zuul', 'huangshan']",handle missing security groups listener delete listener create delete update vip security group rules reflect addition removal tcp port vip unusual event security group missing neutron even listener delete calls would fail patch allows listener deletes continue security group missing vip changeid ic0186c34d3215869f1b92bcd4c8e015e0dd54053 story 2001381 task 5955
https://review.opendev.org/540357,Fixes port security settings caching issue,"Fixes port security settings caching issue When updating the MAC spoofing for a given vswitch port, its Msvm_EthernetSwitchPortSecuritySettingData object is removed and a new one is created, but the original object is not cleared from the cache. Because of this, the next update will fail with a Not Found exception. This patch addresses this issue. Closes-Bug: #1744755 Change-Id: I91b9000c64d269b7d5b1db9e0c6344bbd70e37b2 (cherry picked from commit 776270c4b3be0523f2ee2a73792b4a41bb52d6f5)",8213,Claudiu Belu,"[8213, 22348]","['Claudiu Belu', 'Zuul']",fixes port security settings caching issue updating mac spoofing given vswitch port msvmethernetswitchportsecuritysettingdata object removed new one created original object cleared cache next update fail found exception patch addresses issue closesbug 1744755 changeid i91b9000c64d269b7d5b1db9e0c6344bbd70e37b2 cherry picked commit 776270c4b3be0523f2ee2a73792b4a41bb52d6f5
https://review.opendev.org/539423,Add info for configuring Keystone's security compliance settings,"Add info for configuring Keystone's security compliance settings These were added recently [1], and documentation was needed. [1] I3399129c41054a914bb91417c814cd063ee0c07e Change-Id: Ib586cd1c8a522116364894b1a1e9703e66cad257",10873,Juan Antonio Osorio Robles,"[3153, 4328, 6928, 8042, 8449, 11589, 17823, 18575, 20172, 22348]","['Emilien Macchi', 'Steven Hardy', 'Ben Nemec', 'Ji?í Stránský', 'Marios Andreou', 'Harry Rybacki', 'Michele Baldessari', 'Saravanan KR', 'Michele Baldessari', 'Zuul']",add info configuring keystones security compliance settings added recently 1 documentation needed 1 i3399129c41054a914bb91417c814cd063ee0c07e changeid ib586cd1c8a522116364894b1a1e9703e66cad257
https://review.opendev.org/535795,Fix _port_arg for security rules with icmp/ipv6-icmp aliases,"Fix _port_arg for security rules with icmp/ipv6-icmp aliases When a security group rule is created with icmp/ipv6-icmp alias such as protocol number 1(ICMP), 58(ICMPv6) or string icmpv6(legacy name for ipv6-icmp) as its protocol along with ICMP/ICMPv6 message type specified, _port_arg will generate a wrong str for iptables/ip6tables. Change-Id: Iae01b9a0da34797a5f061a110f06e18be9bbec5a Closes-Bug: #1743552 (cherry picked from commit 0efe1aec185365d8bd7a14ec5b812132d0f9e44d)",1131,Brian Haley,"[748, 1131, 4694, 9732, 10385, 21781, 22348]","['Armando Migliaccio', 'Brian Haley', 'Miguel Lavalle', 'Mellanox CI', 'Citrix XenServer CI', 'Hunt Xu', 'Zuul']",fix portarg security rules icmpipv6icmp aliases security group rule created icmpipv6icmp alias protocol number 1icmp 58icmpv6 string icmpv6legacy name ipv6icmp protocol along icmpicmpv6 message type specified portarg generate wrong str iptablesip6tables changeid iae01b9a0da34797a5f061a110f06e18be9bbec5a closesbug 1743552 cherry picked commit 0efe1aec185365d8bd7a14ec5b812132d0f9e44d
https://review.opendev.org/535796,Fix _port_arg for security rules with icmp/ipv6-icmp aliases,"Fix _port_arg for security rules with icmp/ipv6-icmp aliases When a security group rule is created with icmp/ipv6-icmp alias such as protocol number 1(ICMP), 58(ICMPv6) or string icmpv6(legacy name for ipv6-icmp) as its protocol along with ICMP/ICMPv6 message type specified, _port_arg will generate a wrong str for iptables/ip6tables. Change-Id: Iae01b9a0da34797a5f061a110f06e18be9bbec5a Closes-Bug: #1743552 (cherry picked from commit 0efe1aec185365d8bd7a14ec5b812132d0f9e44d)",1131,Brian Haley,"[748, 1131, 1653, 9732, 10385, 21781, 22348, 27552]","['Armando Migliaccio', 'Brian Haley', 'garyk', 'Mellanox CI', 'Citrix XenServer CI', 'Hunt Xu', 'Zuul', 'guozj']",fix portarg security rules icmpipv6icmp aliases security group rule created icmpipv6icmp alias protocol number 1icmp 58icmpv6 string icmpv6legacy name ipv6icmp protocol along icmpicmpv6 message type specified portarg generate wrong str iptablesip6tables changeid iae01b9a0da34797a5f061a110f06e18be9bbec5a closesbug 1743552 cherry picked commit 0efe1aec185365d8bd7a14ec5b812132d0f9e44d
https://review.opendev.org/536969,Allow disabling security groups on the OVS agent,Allow disabling security groups on the OVS agent Patch adds neutron::agents::ml2::ovs::enable_security_group to allow disabling security groups on the OVS agent. Change-Id: I7ae2499d05861d7c772e65cd1a60fe375b390613,6681,Brent Eagles,"[1004, 3153, 22348]","['Mohammed Naser', 'Emilien Macchi', 'Zuul']",allow disabling security groups ovs agent patch adds neutronagentsml2ovsenablesecuritygroup allow disabling security groups ovs agent changeid i7ae2499d05861d7c772e65cd1a60fe375b390613
https://review.opendev.org/535785,Sets MAC spoof if neutron port security groups enabled / disabled,WIP: Sets MAC spoof if neutron port security groups enabled / disabled Change-Id: I069716fe9a0f4f2d64d43c3c2c565ee7540444a8,8213,Claudiu Belu,"[8213, 8543, 22348]","['Claudiu Belu', 'Lucian Petrut', 'Zuul']",wip sets mac spoof neutron port security groups enabled disabled changeid i069716fe9a0f4f2d64d43c3c2c565ee7540444a8
https://review.opendev.org/536004,Disable security group rule when create port,"Disable security group rule when create port Use ""driver_handles_share_servers=True"" backend driver. When create service neutron port to connect with service instances, we should set the port security group is disable, to prevent be added the default security group in neutron. Because some cases the default security group would lead to the port can not connect with the service instances. Change-Id: Ib13e4f80c5a54b2b863b511ebb6e8f82700a3639 Closes-Bug:#1720283 (cherry picked from commit 3c3d899837e256d4692c4195f0e77ff600817e5c)",20160,haobing1,"[2417, 6491, 7102, 9003, 11047, 11865, 14567, 15100, 16643, 18883, 20160, 21863, 22348, 25243]","['Ben Swartzlander', 'xing-yang', 'Thomas Bechtold', 'Tom Barron', 'Mark Sturdevant', 'Clinton Knight', 'Rodrigo Barbieri', 'zhongjun', 'Goutham Pacha Ravi', 'IBM Storage CI', 'haobing1', 'Jenkins of Infinidat', 'Zuul', 'NetApp CI']",disable security group rule create port use driverhandlesshareserverstrue backend driver create service neutron port connect service instances set port security group disable prevent added default security group neutron cases default security group would lead port connect service instances changeid ib13e4f80c5a54b2b863b511ebb6e8f82700a3639 closesbug1720283 cherry picked commit 3c3d899837e256d4692c4195f0e77ff600817e5c
https://review.opendev.org/500544,doc: Document TLS security setup for noVNC proxy,doc: Document TLS security setup for noVNC proxy The nova noVNC proxy server has gained the ability to use the VeNCrypt authentication scheme to secure network communications with the compute node VNC servers. This documents how to configure the QEMU/KVM compute nodes and the noVNC proxy server nodes. Change-Id: If3cea87568efff0874cd8851cabc6770812c545b Blueprint: websocket-proxy-to-host-security Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>,15334,Stephen Finucane,"[3, 7, 1779, 2750, 6873, 8864, 9732, 10385, 14384, 14595, 15286, 15334, 15751, 15888, 15941, 16128, 17130, 19944, 22056, 22348, 23498, 26515]","['Jenkins', 'Jay Pipes', 'Daniel Berrange', 'Sean Dague', 'Matt Riedemann', 'Artom Lifshitz', 'Mellanox CI', 'Citrix XenServer CI', 'Quobyte CI', 'IBM zKVM CI', 'XenProject CI', 'Stephen Finucane', 'Intel PCI CI', 'Zhenyu Zheng', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'melissaml', 'Chen Hanxiao', 'Spencer Yu', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",doc document tls security setup novnc proxy nova novnc proxy server gained ability use vencrypt authentication scheme secure network communications compute node vnc servers documents configure qemukvm compute nodes novnc proxy server nodes changeid if3cea87568efff0874cd8851cabc6770812c545b blueprint websocketproxytohostsecurity coauthoredby stephen finucane sfinucanredhatcom
https://review.opendev.org/535778,Fixes port security settings caching issue,WIP: Fixes port security settings caching issue Change-Id: I91b9000c64d269b7d5b1db9e0c6344bbd70e37b2,8213,Claudiu Belu,"[8213, 8543, 22348]","['Claudiu Belu', 'Lucian Petrut', 'Zuul']",wip fixes port security settings caching issue changeid i91b9000c64d269b7d5b1db9e0c6344bbd70e37b2
https://review.opendev.org/535570,Deal with security groups with duplicated name,Deal with security groups with duplicated name Change-Id: I15107d8e848d542b856e531548844e56dfd0add4 Closes-Bug: #1744154,23365,feng.shengqin,"[11536, 22076, 22348, 22406, 23365]","['hongbin', 'Kevin Zhao', 'Zuul', 'Kien Nguyen', 'feng.shengqin']",deal security groups duplicated name changeid i15107d8e848d542b856e531548844e56dfd0add4 closesbug 1744154
https://review.opendev.org/534631,Disable security group rule when create port,"Disable security group rule when create port Use ""driver_handles_share_servers=True"" backend driver. When create service neutron port to connect with service instances, we should set the port security group is disable, to prevent be added the default security group in neutron. Because some cases the default security group would lead to the port can not connect with the service instances. Change-Id: Ib13e4f80c5a54b2b863b511ebb6e8f82700a3639",20160,haobing1,"[2417, 6491, 7102, 8851, 9003, 11047, 11865, 12016, 12017, 14384, 14567, 15100, 15942, 16643, 20160, 21863, 21884, 22248, 22348, 24863, 25243, 27399, 27577]","['Ben Swartzlander', 'xing-yang', 'Thomas Bechtold', 'Valeriy Ponomaryov', 'Tom Barron', 'Mark Sturdevant', 'Clinton Knight', 'DellEMC PowerMAX CI', 'DellEMC VNX CI', 'Quobyte CI', 'Rodrigo Barbieri', 'zhongjun', 'Dell EMC Isilon CI', 'Goutham Pacha Ravi', 'haobing1', 'Jenkins of Infinidat', 'DellEMC Unity CI', 'HPE STORAGE CI', 'Zuul', 'Veritas Access CI', 'NetApp CI', 'zhouguowei', 'caishan']",disable security group rule create port use driverhandlesshareserverstrue backend driver create service neutron port connect service instances set port security group disable prevent added default security group neutron cases default security group would lead port connect service instances changeid ib13e4f80c5a54b2b863b511ebb6e8f82700a3639
https://review.opendev.org/534263,Fix _port_arg for security rules with icmp/ipv6-icmp aliases,"Fix _port_arg for security rules with icmp/ipv6-icmp aliases When a security group rule is created with icmp/ipv6-icmp alias such as protocol number 1(ICMP), 58(ICMPv6) or string icmpv6(legacy name for ipv6-icmp) as its protocol along with ICMP/ICMPv6 message type specified, _port_arg will generate a wrong str for iptables/ip6tables. This commit fixes this problem. Change-Id: Iae01b9a0da34797a5f061a110f06e18be9bbec5a Closes-Bug: #1743552",21781,Hunt Xu,"[1131, 1653, 9732, 10385, 11975, 15309, 21781, 22348]","['Brian Haley', 'garyk', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'zhaobo', 'Hunt Xu', 'Zuul']",fix portarg security rules icmpipv6icmp aliases security group rule created icmpipv6icmp alias protocol number 1icmp 58icmpv6 string icmpv6legacy name ipv6icmp protocol along icmpicmpv6 message type specified portarg generate wrong str iptablesip6tables commit fixes problem changeid iae01b9a0da34797a5f061a110f06e18be9bbec5a closesbug 1743552
https://review.opendev.org/532775,Add cli for remove security group,Add cli for remove security group Change-Id: I35919f3e6edd0239a4edc0b68c6622f910d85be6 Closes-Bug: #1737152,16190,dharmalingam,"[10206, 11536, 16190, 22348, 23365]","['Madhuri Kumari', 'hongbin', 'dharmalingam', 'Zuul', 'feng.shengqin']",add cli remove security group changeid i35919f3e6edd0239a4edc0b68c6622f910d85be6 closesbug 1737152
https://review.opendev.org/535003,Text clippin in window security groups Fixed text overflow from form by removing limiting max-height media in scss.,Text clippin in window security groups Fixed text overflow from form by removing limiting max-height media in scss. Change-Id: I4960a01ab2a78bb80f0877a8b5b4a3a06590b392 Closes-Bug: #1743685,27656,Emma Hogan,"[10420, 11885, 22348, 27659]","['Adrian Turjak', 'Ying Zuo', 'Zuul', 'Samuel Gillies-Smith']",text clippin window security groups fixed text overflow form removing limiting maxheight media scss changeid i4960a01ab2a78bb80f0877a8b5b4a3a06590b392 closesbug 1743685
https://review.opendev.org/526659,Add API endpoint to remove security group,Add API endpoint to remove security group Change-Id: I817d5b8dde2029e2e70276f1b7196119518d5be0 Closes-Bug: #1698467,16190,dharmalingam,"[10206, 11536, 16190, 17812, 22076, 22348, 23365]","['Madhuri Kumari', 'hongbin', 'dharmalingam', 'chengyang', 'Kevin Zhao', 'Zuul', 'feng.shengqin']",add api endpoint remove security group changeid i817d5b8dde2029e2e70276f1b7196119518d5be0 closesbug 1698467
https://review.opendev.org/534962,Update security group rule protocol parameter text,"Update security group rule protocol parameter text Updated text to include ""any""/""0"" and ""ipip""/""4"" as valid parameters for protocol in security group rules, as well as any integer value from [0-255]. Change-Id: I80ee9bcd885c5c0383925f8d0bb10d34335f8038 Related-bug: #1716790",1131,Brian Haley,"[4694, 5367, 21781, 22348]","['Miguel Lavalle', 'boden', 'Hunt Xu', 'Zuul']",update security group rule protocol parameter text updated text include any0 ipip4 valid parameters protocol security group rules well integer value 0255 changeid i80ee9bcd885c5c0383925f8d0bb10d34335f8038 relatedbug 1716790
https://review.opendev.org/529637,Check for security group correctness,"Check for security group correctness This patch is updating networking-ovn to check for correctness when creating and deleting security groups. Note that, networking-ovn doesn't care about updates on security groups so the patch only cares about whether the security group exist or not. Change-Id: I2add7ba1eb989fd585792c751cba4ec87f3c4974",6773,Lucas Alvares Gomes,"[6773, 8655, 10237, 22348, 23458, 23804, 26001]","['Lucas Alvares Gomes', 'Jakub Libosvar', 'Numan Siddique', 'Zuul', 'Dong Jun', 'Daniel Alvarez', 'gongguilan']",check security group correctness patch updating networkingovn check correctness creating deleting security groups note networkingovn doesnt care updates security groups patch cares whether security group exist changeid i2add7ba1eb989fd585792c751cba4ec87f3c4974
https://review.opendev.org/532461,Fix error when using protocol number in security groups,"Fix error when using protocol number in security groups When the support of protocol numbers in security groups was fixed in [1], it introduced two deficiencies in the iptables code: - it was missing some protocols, for example, 'icmp', 'tcp' and 'udp', so when rules were added by number we did not use their name as iptables expects - it used a dictionary to map numbers to names, but protocol numbers are stored as strings (i.e. '1' != 1) Updated the iptables number mapping dict to have all currently-known values, even those that are already well-known and should have been using a string instead of a number. Also changed the iptables number mapping dict to use strings as the keys instead of numbers, since that's what will be passed from the security group code. Removed IPTABLES_PROTOCOL_MAP as it lives in neutron-lib, and accidentally snuck-in in [1]. [1] I5895250b47ddf664d214cf085be693c3897e0c87 Change-Id: I6b7575eb531b4f35579960c3feb47000cd259b86 Closes-Bug: 1719711 (cherry picked from commit 37bd42e4f5d1be49689032822aca339523cfda33)",11975,Slawek Kaplonski,"[748, 841, 1131, 1653, 4694, 6854, 8655, 9656, 9732, 10385, 11975, 13252, 22348]","['Armando Migliaccio', 'Akihiro Motoki', 'Brian Haley', 'garyk', 'Miguel Lavalle', 'YAMAMOTO Takashi', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Dr. Jens Harbott', 'Zuul']",fix error using protocol number security groups support protocol numbers security groups fixed 1 introduced two deficiencies iptables code missing protocols example icmp tcp udp rules added number use name iptables expects used dictionary map numbers names protocol numbers stored strings ie 1 1 updated iptables number mapping dict currentlyknown values even already wellknown using string instead number also changed iptables number mapping dict use strings keys instead numbers since thats passed security group code removed iptablesprotocolmap lives neutronlib accidentally snuckin 1 1 i5895250b47ddf664d214cf085be693c3897e0c87 changeid i6b7575eb531b4f35579960c3feb47000cd259b86 closesbug 1719711 cherry picked commit 37bd42e4f5d1be49689032822aca339523cfda33
https://review.opendev.org/533573,check the security group has been added to the container,check the security group has been added to the container Change-Id: I06f60fceb6116d2bb7189426295757b5abe5598c,23365,feng.shengqin,"[11536, 22076, 22348, 23365]","['hongbin', 'Kevin Zhao', 'Zuul', 'feng.shengqin']",check security group added container changeid i06f60fceb6116d2bb7189426295757b5abe5598c
https://review.opendev.org/532460,Support protocol numbers in security group API,"Support protocol numbers in security group API Somewhere along the way we broke supporting numbers in the security group API that were not in our known list of protocols. In order to fix this properly we must use the correct arguments when using iptables-save, as it could use a name instead of a number, or vice-versa. Determined the list of mappings by doing: for num in {0..255}; do iptables -A INPUT -p $num; done # iptables-save Change-Id: I5895250b47ddf664d214cf085be693c3897e0c87 Closes-bug: #1716045 Closes-bug: #1716790 (cherry picked from commit 7ff492c5bb9ce9f24f12db40c8e3a33beb47f87b)",11975,Slawek Kaplonski,"[748, 841, 1131, 1653, 4694, 6854, 8655, 9656, 9732, 10385, 11975, 13252, 22348]","['Armando Migliaccio', 'Akihiro Motoki', 'Brian Haley', 'garyk', 'Miguel Lavalle', 'YAMAMOTO Takashi', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Dr. Jens Harbott', 'Zuul']",support protocol numbers security group api somewhere along way broke supporting numbers security group api known list protocols order fix properly must use correct arguments using iptablessave could use name instead number viceversa determined list mappings num 0255 iptables input p num done iptablessave changeid i5895250b47ddf664d214cf085be693c3897e0c87 closesbug 1716045 closesbug 1716790 cherry picked commit 7ff492c5bb9ce9f24f12db40c8e3a33beb47f87b
https://review.opendev.org/345399,console: Provide an RFB security proxy implementation,"console: provide an RFB security proxy implementation Instead of doing straight passthrough of the RFB protocol from the tenant sock to the compute socket, insert an RFB security proxy. This will MITM the initial RFB protocol handshake in order to negotiate an authentication scheme with the compute node that is distinct from that used by the tenant. Based on earlier work by Solly Ross <sross@redhat.com> Implements bp: websocket-proxy-to-host-security Change-Id: I9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2",1779,Daniel Berrange,"[3, 1779, 4690, 5170, 6735, 6873, 8864, 9008, 9732, 10118, 10385, 14384, 14571, 14595, 15286, 15334, 15751, 15941, 16128, 16376, 16897, 16898, 17292, 17920, 17922, 20040, 21784, 22348, 23498, 26515]","['Jenkins', 'Daniel Berrange', 'melanie witt', 'Microsoft Hyper-V CI', 'Bob Ball', 'Matt Riedemann', 'Artom Lifshitz', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'Intel Experimental CI', 'IBM zKVM CI', 'XenProject CI', 'Stephen Finucane', 'Intel PCI CI', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Michal Ptacek', 'Jianghua Wang', 'Huan Xie', 'Microsoft Hyper-V Compute CI', 'Radek Zetik', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",console provide rfb security proxy implementation instead straight passthrough rfb protocol tenant sock compute socket insert rfb security proxy mitm initial rfb protocol handshake order negotiate authentication scheme compute node distinct used tenant based earlier work solly ross srossredhatcom implements bp websocketproxytohostsecurity changeid i9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2
https://review.opendev.org/533515,Migrate to override_role for network security group tests,"Migrate to override_role for network security group tests Now that override_role has supplanted switch_role (which has been deprecated) in [0], the RBAC tests need to switch to use override_role. This PS switches to override_role for the network security group test in test_security_groups_rbac.py. [0] I670fba358bf321eae0d22d18cea6d2f530f00716 Partially Implements: blueprint rbac-utils-contextmanager Change-Id: I960c7fb10b7be2f2dd0422a4986ba12d5ecffa75",23717,Surya Prakash (spsurya),"[8556, 22348, 23186, 23717]","['Ghanshyam', 'Zuul', 'Felipe Monteiro', 'Surya Prakash (spsurya)']",migrate overriderole network security group tests overriderole supplanted switchrole deprecated 0 rbac tests need switch use overriderole ps switches overriderole network security group test testsecuritygroupsrbacpy 0 i670fba358bf321eae0d22d18cea6d2f530f00716 partially implements blueprint rbacutilscontextmanager changeid i960c7fb10b7be2f2dd0422a4986ba12d5ecffa75
https://review.opendev.org/532189,Fix error when using protocol number in security groups,"Fix error when using protocol number in security groups When the support of protocol numbers in security groups was fixed in [1], it introduced two deficiencies in the iptables code: - it was missing some protocols, for example, 'icmp', 'tcp' and 'udp', so when rules were added by number we did not use their name as iptables expects - it used a dictionary to map numbers to names, but protocol numbers are stored as strings (i.e. '1' != 1) Updated the iptables number mapping dict to have all currently-known values, even those that are already well-known and should have been using a string instead of a number. Also changed the iptables number mapping dict to use strings as the keys instead of numbers, since that's what will be passed from the security group code. Removed IPTABLES_PROTOCOL_MAP as it lives in neutron-lib, and accidentally snuck-in in [1]. [1] I5895250b47ddf664d214cf085be693c3897e0c87 Change-Id: I6b7575eb531b4f35579960c3feb47000cd259b86 Closes-Bug: 1719711 (cherry picked from commit 37bd42e4f5d1be49689032822aca339523cfda33)",11975,Slawek Kaplonski,"[748, 1131, 9732, 10385, 11975, 13252, 22348, 27366]","['Armando Migliaccio', 'Brian Haley', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Dr. Jens Harbott', 'Zuul', 'guotao']",fix error using protocol number security groups support protocol numbers security groups fixed 1 introduced two deficiencies iptables code missing protocols example icmp tcp udp rules added number use name iptables expects used dictionary map numbers names protocol numbers stored strings ie 1 1 updated iptables number mapping dict currentlyknown values even already wellknown using string instead number also changed iptables number mapping dict use strings keys instead numbers since thats passed security group code removed iptablesprotocolmap lives neutronlib accidentally snuckin 1 1 i5895250b47ddf664d214cf085be693c3897e0c87 changeid i6b7575eb531b4f35579960c3feb47000cd259b86 closesbug 1719711 cherry picked commit 37bd42e4f5d1be49689032822aca339523cfda33
https://review.opendev.org/531832,NSX|V: ensure port security is enabled for address pair support,NSX|V: ensure port security is enabled for address pair support Change-Id: I7057cd2e6e4723f347c7c5fa854f641ea2b6302f,1653,garyk,"[1653, 9008, 20363, 22348]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxv ensure port security enabled address pair support changeid i7057cd2e6e4723f347c7c5fa854f641ea2b6302f
https://review.opendev.org/532935,Playbook to adjust security parameters,Playbook to adjust security parameters Turn on/off security features if your Overcloud has them. Change-Id: I9918b58af91550cec22165944bc839cf9559ddf9,21143,Alex Krzos,"[10061, 21143, 22348, 24752]","['Joe Talerico', 'Alex Krzos', 'Zuul', 'RedHat RDO Downstream CI']",playbook adjust security parameters turn onoff security features overcloud changeid i9918b58af91550cec22165944bc839cf9559ddf9
https://review.opendev.org/532188,Support protocol numbers in security group API,"Support protocol numbers in security group API Somewhere along the way we broke supporting numbers in the security group API that were not in our known list of protocols. In order to fix this properly we must use the correct arguments when using iptables-save, as it could use a name instead of a number, or vice-versa. Determined the list of mappings by doing: for num in {0..255}; do iptables -A INPUT -p $num; done # iptables-save Change-Id: I5895250b47ddf664d214cf085be693c3897e0c87 Closes-bug: #1716045 Closes-bug: #1716790 (cherry picked from commit 7ff492c5bb9ce9f24f12db40c8e3a33beb47f87b)",11975,Slawek Kaplonski,"[1131, 4694, 9732, 10385, 11975, 22348]","['Brian Haley', 'Miguel Lavalle', 'Mellanox CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Zuul']",support protocol numbers security group api somewhere along way broke supporting numbers security group api known list protocols order fix properly must use correct arguments using iptablessave could use name instead number viceversa determined list mappings num 0255 iptables input p num done iptablessave changeid i5895250b47ddf664d214cf085be693c3897e0c87 closesbug 1716045 closesbug 1716790 cherry picked commit 7ff492c5bb9ce9f24f12db40c8e3a33beb47f87b
https://review.opendev.org/531253,Update tempest for neutron driver attach/detach security group action,Update tempest for neutron driver attach/detach security group action Depends-On: I51ec7452a5a7a77cc8cfc57b87e671685280ea73 Change-Id: I693da5f6f8f67de62daee24a5c7516abf1599a10,18591,Eric Kao,"[11278, 22348]","['Anusha Ramineni', 'Zuul']",update tempest neutron driver attachdetach security group action dependson i51ec7452a5a7a77cc8cfc57b87e671685280ea73 changeid i693da5f6f8f67de62daee24a5c7516abf1599a10
https://review.opendev.org/531554,[doc] Modify the content of the configure access and security for instances,"[doc] Modify the content of the configure access and security for instances The 'Security Groups' is under 'Network' tab, the 'Key Pairs' is under 'Compute' tab, and so on. So this patch fix them. Change-Id: Ieea68cd06b049b5b98c6f7d4b98ef9d5da3d7210",14151,ziyu032,"[841, 22348]","['Akihiro Motoki', 'Zuul']",doc modify content configure access security instances security groups network tab key pairs compute tab patch fix changeid ieea68cd06b049b5b98c6f7d4b98ef9d5da3d7210
https://review.opendev.org/527545,Library policy for tag-based network security zone,Library policy for tag-based network security zone Change-Id: I0233d1560169605be8aa51a79d0e71ff596568ea,18591,Eric Kao,"[11278, 18591, 22348]","['Anusha Ramineni', 'Eric Kao', 'Zuul']",library policy tagbased network security zone changeid i0233d1560169605be8aa51a79d0e71ff596568ea
https://review.opendev.org/508657,Add attach/detach security group action to neutron driver,"Add attach/detach security group action to neutron driver To modify the security groups attached to the list through congress policy, actions to attach/detach a security group to/from port is needed. Because the neutron v2 API and client do not support attach/detach of a single security group, but only the replacement of the entire security group list, we add these custom actions which combine a read and update action to accomplish the attach/detach. Caveat: Another concurrent update to the list of attached ports may be lost. Unfortunately, there is simply no better solution given the limitations of the neutron v2 API. So we enable these actions anyway with documented warning in the driver actions description. Change-Id: I51ec7452a5a7a77cc8cfc57b87e671685280ea73",18591,Eric Kao,"[3, 8215, 8878, 11278, 18591, 22348, 26576]","['Jenkins', 'Tim Hinrichs', 'Masahito Muroi', 'Anusha Ramineni', 'Eric Kao', 'Zuul', 'yanpeifei']",add attachdetach security group action neutron driver modify security groups attached list congress policy actions attachdetach security group tofrom port needed neutron v2 api client support attachdetach single security group replacement entire security group list add custom actions combine read update action accomplish attachdetach caveat another concurrent update list attached ports may lost unfortunately simply better solution given limitations neutron v2 api enable actions anyway documented warning driver actions description changeid i51ec7452a5a7a77cc8cfc57b87e671685280ea73
https://review.opendev.org/523821,Added scenario: spawn instance with port associated to security group,"Add scenario test that associate security group to port and spawning VM using that port. This test is creating two subnets on the same network, creating ports with a pre-made security group, and then spawning two VMs and assigning them with the group created - to verify that it is inherited and enforced. Change-Id: I40f8b0cac360594a65fb9f6023930af3322cac58",26899,Roee Agiman,"[1131, 9656, 11975, 19853, 22348, 26899, 27346]","['Brian Haley', 'Ihar Hrachyshka', 'Slawek Kaplonski', 'Nguyen Hung Phuong', 'Zuul', 'Roee Agiman', 'chenxiangui']",add scenario test associate security group port spawning vm using port test creating two subnets network creating ports premade security group spawning two vms assigning group created verify inherited enforced changeid i40f8b0cac360594a65fb9f6023930af3322cac58
https://review.opendev.org/530316,Bug in updating duplicate rules in security groups,"Bug in updating duplicate rules in security groups After some operations for duplicate rules in security groups, the acls in ovn northbound will be more or less than it should be. Change-Id: Ia7fc9ca678a83185638841e42fa54658ea4e514c Closes-bug: 1740254 Signed-off-by: Dong Jun <dongj@dtdream.com>",23458,Dong Jun,"[11762, 22348, 23458, 23804, 25747, 26576]","['Han Zhou', 'Zuul', 'Dong Jun', 'Daniel Alvarez', 'Debo Zhang', 'yanpeifei']",bug updating duplicate rules security groups operations duplicate rules security groups acls ovn northbound less changeid ia7fc9ca678a83185638841e42fa54658ea4e514c closesbug 1740254 signedoffby dong jun dongjdtdreamcom
https://review.opendev.org/530315,Add security group tests to test_mech_driver.py,"Add security group tests to test_mech_driver.py This set of test cases is supplement to test_acl.py, the purpose is to test acl methods invoking. Content correctness of args of acl methods is mainly guaranteed by acl_test.py. This test patch is also a preparation for bug[1]. [1]https://bugs.launchpad.net/networking-ovn/+bug/1740254 Change-Id: I20756b7666510159aa0499759953ad7c45963765 Signed-off-by: Dong Jun <dongj@dtdream.com>",23458,Dong Jun,"[6773, 17776, 22348, 23458, 23804]","['Lucas Alvares Gomes', 'Reedip', 'Zuul', 'Dong Jun', 'Daniel Alvarez']",add security group tests testmechdriverpy set test cases supplement testaclpy purpose test acl methods invoking content correctness args acl methods mainly guaranteed acltestpy test patch also preparation bug1 1httpsbugslaunchpadnetnetworkingovnbug1740254 changeid i20756b7666510159aa0499759953ad7c45963765 signedoffby dong jun dongjdtdreamcom
https://review.opendev.org/760508,Enable etcd with security setting.,WIP: Enable etcd with security setting. Simplex setup test pass! Change-Id: I27733a881a267e61502b36627dcab4136de23e3f Signed-off-by: Zhipeng Liu <zhipengs.liu@intel.com>,28570,zhipeng liu,"[9926, 14174, 15435, 22348, 26026, 28286, 28402, 28413, 28414, 28415, 28431, 28434, 28486, 28570]","['John Kung', 'Bart Wensley', 'Al Bailey', 'Zuul', 'Greg Waines', 'Bruce Jones', 'Mingyuan Qi', 'yong hu', 'Austin Sun', 'Lin Shuicheng', 'Don Penney', 'David Sullivan', 'Tee Ngo', 'zhipeng liu']",wip enable etcd security setting simplex setup test pass changeid i27733a881a267e61502b36627dcab4136de23e3f signedoffby zhipeng liu zhipengsliuintelcom
https://review.opendev.org/760512,Enable etcd with security setting.,WIP: Enable etcd with security setting. Simplex setup test pass! Depends-on: https://review.opendev.org/#/c/760508/ Change-Id: I88691b84c9acc2e27f0b783d7454a873d3490072 Signed-off-by: Zhipeng Liu <zhipengs.liu@intel.com>,28570,zhipeng liu,"[9926, 14174, 22348, 26026, 28286, 28402, 28413, 28414, 28415, 28434, 28439, 28486, 28570]","['John Kung', 'Bart Wensley', 'Zuul', 'Greg Waines', 'Bruce Jones', 'Mingyuan Qi', 'yong hu', 'Austin Sun', 'Lin Shuicheng', 'David Sullivan', 'Matt Peters', 'Tee Ngo', 'zhipeng liu']",wip enable etcd security setting simplex setup test pass dependson httpsreviewopendevorgc760508 changeid i88691b84c9acc2e27f0b783d7454a873d3490072 signedoffby zhipeng liu zhipengsliuintelcom
https://review.opendev.org/760510,Enable etcd with security setting.,WIP: Enable etcd with security setting. Simplex setup test pass! Change-Id: Ifb5bb2506a260186bf4e8caa487bbeaae04df80b Signed-off-by: Zhipeng Liu <zhipengs.liu@intel.com>,28570,zhipeng liu,"[9926, 14174, 15435, 21776, 22348, 26026, 28286, 28402, 28413, 28414, 28415, 28431, 28434, 28439, 28459, 28570]","['John Kung', 'Bart Wensley', 'Al Bailey', 'Jerry Sun', 'Zuul', 'Greg Waines', 'Bruce Jones', 'Mingyuan Qi', 'yong hu', 'Austin Sun', 'Lin Shuicheng', 'Don Penney', 'David Sullivan', 'Matt Peters', 'Bob Church', 'zhipeng liu']",wip enable etcd security setting simplex setup test pass changeid ifb5bb2506a260186bf4e8caa487bbeaae04df80b signedoffby zhipeng liu zhipengsliuintelcom
https://review.opendev.org/529344,Refactor security groups,"Remove security group updates The only thing that the security group updates did was to update the external_ids of the Address_Set with its current name. That name wasn't used for anything in networking-ovn either other than knowing wheter that was a security group created by networking-ovn or not. So, instead of having the name saved in the external_ids this patch changes it to the security group ID which is the canonical identifier of the resource and won't change. Change-Id: I5a8b64639d38e11050dae1008b14d48de14ecf94",6773,Lucas Alvares Gomes,"[6773, 22348, 23458, 23804]","['Lucas Alvares Gomes', 'Zuul', 'Dong Jun', 'Daniel Alvarez']",remove security group updates thing security group updates update externalids addressset current name name wasnt used anything networkingovn either knowing wheter security group created networkingovn instead name saved externalids patch changes security group id canonical identifier resource wont change changeid i5a8b64639d38e11050dae1008b14d48de14ecf94
https://review.opendev.org/527460,Support all Neutron protocol names in a security group rule,"Support all Neutron protocol names in a security group rule Adds support for all the string values of IP protocols supported by Neutron such as rsvp, ah, esp, ospf and so on. The complete list of all the protocols names could be found in the bug report. Change-Id: Ida2523a401aef60def7749af9033b4467a8cf001 Closes-Bug: #1737785",1356,Naveen Joy,"[1356, 3217, 22348]","['Naveen Joy', 'Ian Wells', 'Zuul']",support neutron protocol names security group rule adds support string values ip protocols supported neutron rsvp ah esp ospf complete list protocols names could found bug report changeid ida2523a401aef60def7749af9033b4467a8cf001 closesbug 1737785
https://review.opendev.org/523696,"[policy in code] Add support for replicas, networks and security services [7/10]","[policy in code] Add support for replica and network resource [7/10] This patch adds policy in code support for replica, network and security service resources. Change-Id: I9a79b5ececc583e85149cc920950e462e805b245 Partial-Implements: blueprint policy-in-code",15100,zhongjun,"[5046, 6491, 12016, 12017, 13984, 14384, 15100, 15831, 15942, 16643, 16657, 21863, 21884, 22248, 22348, 24863, 25243]","['Lance Bragstad', 'xing-yang', 'DellEMC PowerMAX CI', 'DellEMC VNX CI', 'zhongjun', 'Quobyte CI', 'zhongjun', 'Infortrend CI', 'Dell EMC Isilon CI', 'Goutham Pacha Ravi', 'Huawei Manila CI', 'Jenkins of Infinidat', 'DellEMC Unity CI', 'HPE STORAGE CI', 'Zuul', 'Veritas Access CI', 'NetApp CI']",policy code add support replica network resource 710 patch adds policy code support replica network security service resources changeid i9a79b5ececc583e85149cc920950e462e805b245 partialimplements blueprint policyincode
https://review.opendev.org/527369,Apply security group when attach network,"Apply security group when attach network Fix bug: when attach new network on a container which has add a security group before, security group doesn't apply on new port. Change-Id: I091a05078001c7e649afdaf21505e1ed2614da6b",17812,chengyang,"[10206, 11536, 12860, 17812, 22348, 22406, 23317, 25660]","['Madhuri Kumari', 'hongbin', 'Dongcan Ye', 'chengyang', 'Zuul', 'Kien Nguyen', 'ShangXiao', 'Chaolei Li']",apply security group attach network fix bug attach new network container add security group security group doesnt apply new port changeid i091a05078001c7e649afdaf21505e1ed2614da6b
https://review.opendev.org/526754,Resolve a bug in the security group rule with integer IP Protocol values,"Resolve security group rule with integer protocol values When a SG rule is created in Neutron with an integer protocol value, this rule does get configured on the VPP and the vpp-agent throws an error. Neutron sets the protocol value to a string which was not being correctly converted to an integer. Resolved the issue by updating the mech-vpp driver code to recognize empty port ranges and correctly converting from string to int. Change-Id: I6ad1278a7364df9e30b7351adad9579e2369878e",1356,Naveen Joy,"[1356, 3217, 16252, 22348]","['Naveen Joy', 'Ian Wells', 'Deepika Gupta', 'Zuul']",resolve security group rule integer protocol values sg rule created neutron integer protocol value rule get configured vpp vppagent throws error neutron sets protocol value string correctly converted integer resolved issue updating mechvpp driver code recognize empty port ranges correctly converting string int changeid i6ad1278a7364df9e30b7351adad9579e2369878e
https://review.opendev.org/518620,Document security group,"Document security group Nodepool spawns instances under default security groups. This needs to be explained in the documentation, since at least SSH traffic should be allowed, which is not the case in default security groups. Change-Id: I1db22361556c035b61829c35d8f61da414cf0c91",7186,Matthieu Huin,"[1, 2, 6039, 16068, 22348]","['James E. Blair', 'Monty Taylor', 'K Jonathan Harker', 'Tobias Henkel', 'Zuul']",document security group nodepool spawns instances default security groups needs explained documentation since least ssh traffic allowed case default security groups changeid i1db22361556c035b61829c35d8f61da414cf0c91
https://review.opendev.org/523901,Handle race condition deleting security group rule,"Handle race condition deleting security group rule It is possible that during the `_update_security_group_rules` operation, the security group rule which is to be deleted gets removed by some other external operation. If this happens, it raises a NotFound exception is not handled which can lead to a load balancer stuck in a PENDING_DELETE status. Depends-On: I97b52b80efb33749647229a55147a08afa112dd2 Change-Id: Ic9ebe8392758f3de5fc6a94f815f83d6de113188 Story: 2001300 Task: 5851 (cherry picked from commit 709a23cdce016795571695983e38bc8e8b38d355)",1004,Mohammed Naser,"[10850, 11628, 22348]","['German Eichberger', 'Michael Johnson', 'Zuul']",handle race condition deleting security group rule possible updatesecuritygrouprules operation security group rule deleted gets removed external operation happens raises notfound exception handled lead load balancer stuck pendingdelete status dependson i97b52b80efb33749647229a55147a08afa112dd2 changeid ic9ebe8392758f3de5fc6a94f815f83d6de113188 story 2001300 task 5851 cherry picked commit 709a23cdce016795571695983e38bc8e8b38d355
https://review.opendev.org/522114,Handle race condition deleting security group rule,"Handle race condition deleting security group rule It is possible that during the `_update_security_group_rules` operation, the security group rule which is to be deleted gets removed by some other external operation. If this happens, it raises a NotFound exception is not handled which can lead to a load balancer stuck in a PENDING_DELETE status. Change-Id: Ic9ebe8392758f3de5fc6a94f815f83d6de113188 Story: 2001300 Task: 5851",1004,Mohammed Naser,"[1004, 2245, 7822, 10273, 10850, 11628, 22348]","['Mohammed Naser', 'Jacky Hu', 'Chris Hoge (not involved in upstream development)', 'Adam Harwell', 'German Eichberger', 'Michael Johnson', 'Zuul']",handle race condition deleting security group rule possible updatesecuritygrouprules operation security group rule deleted gets removed external operation happens raises notfound exception handled lead load balancer stuck pendingdelete status changeid ic9ebe8392758f3de5fc6a94f815f83d6de113188 story 2001300 task 5851
https://review.opendev.org/521504,Add test for negative security group range scenario,Add test for negative security group range scenario The test added is verifying that security group assigned with bad CIDR is unreachable. Follow-up to the positive test: https://review.openstack.org/516266/ Change-Id: I2a4c50614d20db4f815681d40aa197b5fb16252f,26899,Roee Agiman,"[1131, 8655, 9656, 22348, 26899]","['Brian Haley', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Zuul', 'Roee Agiman']",add test negative security group range scenario test added verifying security group assigned bad cidr unreachable followup positive test httpsreviewopenstackorg516266 changeid i2a4c50614d20db4f815681d40aa197b5fb16252f
https://review.opendev.org/522525,NSX|V3: Do not enable port security on router interface,NSX|V3: Do not enable port security on router interface Router interface ports are created with port security disabled as they are trusted ports. The plugin should not allow to enable the port security on such ports. Cherry picked from: I0271e225f9fdeed8493296ed81348ab4e73679f0 Change-Id: I39be2c9721342d73f16cca3f1aaff03c81f90511,20363,Adit Sarfaty,"[1653, 22348, 23317]","['garyk', 'Zuul', 'ShangXiao']",nsxv3 enable port security router interface router interface ports created port security disabled trusted ports plugin allow enable port security ports cherry picked i0271e225f9fdeed8493296ed81348ab4e73679f0 changeid i39be2c9721342d73f16cca3f1aaff03c81f90511
https://review.opendev.org/522519,NSX|V3: fix create port with provider security group,NSX|V3: fix create port with provider security group If provider security groups are configured and there is no port security then we throw an exception. ensure that port security is enabled if provider cre Change-Id: I14b1a4bca8bde253aee3c25e09442869f45da77e (cherry picked from commit 339606bfc8f3a0a83d6f6aba7b70efa0798cb769),1653,garyk,"[1653, 9008, 22348, 23317]","['garyk', 'VMware NSX CI', 'Zuul', 'ShangXiao']",nsxv3 fix create port provider security group provider security groups configured port security throw exception ensure port security enabled provider cre changeid i14b1a4bca8bde253aee3c25e09442869f45da77e cherry picked commit 339606bfc8f3a0a83d6f6aba7b70efa0798cb769
https://review.opendev.org/517917,NSX|V3: fix create port with provider security group,NSX|V3: fix create port with provider security group If provider security groups are configured and there is no port security then we throw an exception. ensure that port security is enabled if provider cre Change-Id: I14b1a4bca8bde253aee3c25e09442869f45da77e,1653,garyk,"[9008, 12024, 20363, 22348]","['VMware NSX CI', 'Tong Liu', 'Adit Sarfaty', 'Zuul']",nsxv3 fix create port provider security group provider security groups configured port security throw exception ensure port security enabled provider cre changeid i14b1a4bca8bde253aee3c25e09442869f45da77e
https://review.opendev.org/510847,Sort security group rules more meaningfully,"Sort security group rules more meaningfully At now, security gorup rules are sorted based on ip_protocol and from_port by default, but there are more higher level classification like direction and ethertype (like IPv4, IPv6). This commit improves the default sort order in more meaningful order. Change-Id: Ia45830e9953e92141a3ce91a78dd338960b5ac11 Closes-Bug: #1264738",841,Akihiro Motoki,"[3, 1736, 11885, 19554, 22348, 23630, 24056]","['Jenkins', 'Ivan Kolodyazhny', 'Ying Zuo', 'Nam', 'Zuul', 'Tovin Seven', 'wei.ying']",sort security group rules meaningfully security gorup rules sorted based ipprotocol fromport default higher level classification like direction ethertype like ipv4 ipv6 commit improves default sort order meaningful order changeid ia45830e9953e92141a3ce91a78dd338960b5ac11 closesbug 1264738
https://review.opendev.org/519755,Add security release note for OSSA-2017-005,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931 (cherry picked from commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653) (cherry picked from commit 3f63d057a64b688b66ff1903c1afc4d97ba6df6d) (cherry picked from commit ffd4f72d16dacd6ca1e703f9bab37b8917d253e7),6873,Matt Riedemann,"[4393, 6873, 12898, 22348, 26515]","['Dan Smith', 'Matt Riedemann', 'Tony Breeds', 'Zuul', 'Cloudbase Nova Hyper-V CI']",add security release note ossa2017005 changeid i053f1bbc56481bddce8792aa4b5460a55cc0db2d relatedbug 1664931 cherry picked commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653 cherry picked commit 3f63d057a64b688b66ff1903c1afc4d97ba6df6d cherry picked commit ffd4f72d16dacd6ca1e703f9bab37b8917d253e7
https://review.opendev.org/519586,Correct log message when removing a security group,Correct log message when removing a security group When a security group is removed from a port nova incorrectly logs this as a security group addition Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Closes-bug: 1731889 (cherry picked from commit 01da04a0a7eff4c52bd0e35d404545f9a413b602),17505,Saverio Proto,"[6873, 10118, 14595, 17505, 20722, 22348, 26515]","['Matt Riedemann', 'IBM PowerKVM CI', 'IBM zKVM CI', 'Saverio Proto', 'Yikun Jiang', 'Zuul', 'Cloudbase Nova Hyper-V CI']",correct log message removing security group security group removed port nova incorrectly logs security group addition changeid if525313c63c4553abe8bea6f2bfaf75431ed18ea closesbug 1731889 cherry picked commit 01da04a0a7eff4c52bd0e35d404545f9a413b602
https://review.opendev.org/520045,NSX-Migration of default security groups,"NSX-Migration of default security groups When migrating a security from to the nsx-v3 cloud, if it is named 'default' try to mark it as the default SG in the DB Change-Id: Ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f",20363,Adit Sarfaty,"[1653, 22348]","['garyk', 'Zuul']",nsxmigration default security groups migrating security nsxv3 cloud named default try mark default sg db changeid ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f
https://review.opendev.org/520044,NSX-Migration of default security groups,"NSX-Migration of default security groups When migrating a security from to the nsx-v3 cloud, if it is named 'default' try to mark it as the default SG in the DB Change-Id: Ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f",20363,Adit Sarfaty,"[1653, 22348]","['garyk', 'Zuul']",nsxmigration default security groups migrating security nsxv3 cloud named default try mark default sg db changeid ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f
https://review.opendev.org/520019,NSX-Migration of default security groups,"NSX-Migration of default security groups When migrating a security from to the nsx-v3 cloud, if it is named 'default' try to mark it as the default SG in the DB Change-Id: Ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f",20363,Adit Sarfaty,"[1653, 22348]","['garyk', 'Zuul']",nsxmigration default security groups migrating security nsxv3 cloud named default try mark default sg db changeid ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f
https://review.opendev.org/519752,Add security release note for OSSA-2017-005,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931 (cherry picked from commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653),6873,Matt Riedemann,"[4393, 10385, 12898, 16128, 22348, 26515]","['Dan Smith', 'Citrix XenServer CI', 'Tony Breeds', 'IBM PowerVM CI', 'Zuul', 'Cloudbase Nova Hyper-V CI']",add security release note ossa2017005 changeid i053f1bbc56481bddce8792aa4b5460a55cc0db2d relatedbug 1664931 cherry picked commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653
https://review.opendev.org/519738,Add security release note for OSSA-2017-005,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931,6873,Matt Riedemann,"[2750, 4393, 6873, 10385, 14384, 15286, 16128, 22348, 23498, 26515]","['Sean Dague', 'Dan Smith', 'Matt Riedemann', 'Citrix XenServer CI', 'Quobyte CI', 'XenProject CI', 'IBM PowerVM CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",add security release note ossa2017005 changeid i053f1bbc56481bddce8792aa4b5460a55cc0db2d relatedbug 1664931
https://review.opendev.org/519753,Add security release note for OSSA-2017-005,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931 (cherry picked from commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653) (cherry picked from commit 3f63d057a64b688b66ff1903c1afc4d97ba6df6d),6873,Matt Riedemann,"[4393, 10385, 12898, 16128, 22348, 26515]","['Dan Smith', 'Citrix XenServer CI', 'Tony Breeds', 'IBM PowerVM CI', 'Zuul', 'Cloudbase Nova Hyper-V CI']",add security release note ossa2017005 changeid i053f1bbc56481bddce8792aa4b5460a55cc0db2d relatedbug 1664931 cherry picked commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653 cherry picked commit 3f63d057a64b688b66ff1903c1afc4d97ba6df6d
https://review.opendev.org/519585,Correct log message when removing a security group,Correct log message when removing a security group When a security group is removed from a port nova incorrectly logs this as a security group addition Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Closes-bug: 1731889 (cherry picked from commit 01da04a0a7eff4c52bd0e35d404545f9a413b602),17505,Saverio Proto,"[6873, 9732, 10118, 10385, 14595, 16128, 22348, 26515]","['Matt Riedemann', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'IBM zKVM CI', 'IBM PowerVM CI', 'Zuul', 'Cloudbase Nova Hyper-V CI']",correct log message removing security group security group removed port nova incorrectly logs security group addition changeid if525313c63c4553abe8bea6f2bfaf75431ed18ea closesbug 1731889 cherry picked commit 01da04a0a7eff4c52bd0e35d404545f9a413b602
https://review.opendev.org/519583,Correct log message when removing a security group,Correct log message when removing a security group When a security group is removed from a port nova incorrectly logs this as a security group addition Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Closes-bug: 1731889 (cherry picked from commit 01da04a0a7eff4c52bd0e35d404545f9a413b602),17505,Saverio Proto,"[6873, 9732, 10118, 10385, 14595, 16128, 17505, 22348, 26515]","['Matt Riedemann', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'IBM zKVM CI', 'IBM PowerVM CI', 'Saverio Proto', 'Zuul', 'Cloudbase Nova Hyper-V CI']",correct log message removing security group security group removed port nova incorrectly logs security group addition changeid if525313c63c4553abe8bea6f2bfaf75431ed18ea closesbug 1731889 cherry picked commit 01da04a0a7eff4c52bd0e35d404545f9a413b602
https://review.opendev.org/519313,Correct log message when removing a security group,Correct log message when removing a security group from a port Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Fixes-bug: 1731889,17505,Saverio Proto,"[5754, 7634, 9008, 9708, 9732, 10118, 10385, 14384, 14595, 15286, 15888, 16128, 16898, 22348, 23498, 26515]","['Alex Xu', 'Takashi Natsume', 'VMware NSX CI', 'Balazs Gibizer', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'IBM zKVM CI', 'XenProject CI', 'Zhenyu Zheng', 'IBM PowerVM CI', 'Virtuozzo CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",correct log message removing security group port changeid if525313c63c4553abe8bea6f2bfaf75431ed18ea fixesbug 1731889
https://review.opendev.org/510772,Default security group update,"Default security group update 1. What is the problem? Currently we can't update default security group. So when we add a new rule, we must ensure there is a non-default security gruop. Besides, for the addtion or deletion of rules is using a syn way, it needs more time. 2. What is the solution to the problem? When users update the default security group doesn't raise exception and allow users to update default sg. For addtion or deletion using Xjob. 3. What the features need to be implemented to the Tricircle No new features. Change-Id: Ibf896f15390b656bda6d438bd3176e4b15dd359c",26235,Lyman Xu,"[3, 11819, 12076, 19960, 21023, 22348, 22559, 22787, 26235]","['Jenkins', 'Chaoyi Huang', 'Zhiyuan Cai', 'newypei', 'Ronghui Cao', 'Zuul', 'Dongfeng Huang', 'hejiawei', 'Lyman Xu']",default security group update 1 problem currently cant update default security group add new rule must ensure nondefault security gruop besides addtion deletion rules using syn way needs time 2 solution problem users update default security group doesnt raise exception allow users update default sg addtion deletion using xjob 3 features need implemented tricircle new features changeid ibf896f15390b656bda6d438bd3176e4b15dd359c
https://review.opendev.org/506561,Fix security group rule tcp/udp port range failed.,"Fix security group rule tcp/udp port range failed. ovn ACL flow needs to use ""tcp.dst >= 22"", not ""tcp >= 22"". Change-Id: I280a4224ea0fbae281482075981d596102770955 Closes-bug: #1718114 (cherry picked from commit f5fe5e3c623a2a65ee78ec28b053d8e72060c13d)",8788,Miguel Angel Ajo,"[3, 748, 1561, 6773, 6854, 8788, 9656, 10237, 21550, 22348, 23458, 23804, 24438]","['Jenkins', 'Armando Migliaccio', 'Russell Bryant', 'Lucas Alvares Gomes', 'YAMAMOTO Takashi', 'Miguel Angel Ajo', 'Ihar Hrachyshka', 'Numan Siddique', 'xurong00037997', 'Zuul', 'Dong Jun', 'Daniel Alvarez', 'Guoshuai Li']",fix security group rule tcpudp port range failed ovn acl flow needs use tcpdst 22 tcp 22 changeid i280a4224ea0fbae281482075981d596102770955 closesbug 1718114 cherry picked commit f5fe5e3c623a2a65ee78ec28b053d8e72060c13d
https://review.opendev.org/518527,NSX|V: add in security rule tags for 'project_id',NSX|V: add in security rule tags for 'project_id' Leverage the NSX DFW tag to store the neutron project ID. This will help a admin filter logging. The tag will be 'Project_<PROJECT_UUID>' Change-Id: Ie6ff0594012e3fa252aa999eb68cff872d1c2c5e,1653,garyk,"[1653, 9008, 20363, 22348, 24247]","['garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxv add security rule tags projectid leverage nsx dfw tag store neutron project id help admin filter logging tag projectprojectuuid changeid ie6ff0594012e3fa252aa999eb68cff872d1c2c5e
https://review.opendev.org/517018,tests: delete in-use security group,Added a new test case to 'test_security_groups' suite The new test added is a negative test that verifies the inability of deleting in-use security group. Change-Id: I118f1998df2184f9a688213cbaf01006f0426909,26899,Roee Agiman,"[1131, 1653, 9656, 9732, 22348, 26899]","['Brian Haley', 'garyk', 'Ihar Hrachyshka', 'Mellanox CI', 'Zuul', 'Roee Agiman']",added new test case testsecuritygroups suite new test added negative test verifies inability deleting inuse security group changeid i118f1998df2184f9a688213cbaf01006f0426909
https://review.opendev.org/511561,Support protocol numbers in security group API,"Support protocol numbers in security group API Somewhere along the way we broke supporting numbers in the security group API that were not in our known list of protocols. In order to fix this properly we must use the correct arguments when using iptables-save, as it could use a name instead of a number, or vice-versa. Determined the list of mappings by doing: for num in {0..255}; do iptables -A INPUT -p $num; done # iptables-save Change-Id: I5895250b47ddf664d214cf085be693c3897e0c87 Closes-bug: #1716045 Closes-bug: #1716790",1131,Brian Haley,"[3, 1131, 4694, 9656, 9732, 9845, 10385, 12860, 17776, 22348]","['Jenkins', 'Brian Haley', 'Miguel Lavalle', 'Ihar Hrachyshka', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Dongcan Ye', 'Reedip', 'Zuul']",support protocol numbers security group api somewhere along way broke supporting numbers security group api known list protocols order fix properly must use correct arguments using iptablessave could use name instead number viceversa determined list mappings num 0255 iptables input p num done iptablessave changeid i5895250b47ddf664d214cf085be693c3897e0c87 closesbug 1716045 closesbug 1716790
https://review.opendev.org/518761,Provide redirection for all security context attributes,"Provide redirection for all security context attributes The previous attempt at this was to redirect as little as possible. However, this has proven to be problematic twice. auth_cacert wasn't redirected, it was used by some of the OpenStack actions and thus blocked Mistral [1] patch that would have Mistral start using the new context. This change redirects all properties in the SecurityContext which should be safer for our internal actions and for end users actions. [1]: https://review.openstack.org/#/c/506185/14 Partial-Bug: #1718353 Needed-By: Ife653558bfcda794e7f37086832f70b0ad7c28a4 Change-Id: I6057d0ce3fe4ae23468be8fb06cb85dc5f467f6b (cherry picked from commit 817461b40c4d433e3c18879e0c47c5ef3a7281c8)",9712,Dougal Matthews,"[6732, 7700, 8731, 22348]","['Lingxian Kong', 'Nikolay Mahotkin', 'Renat Akhmerov', 'Zuul']",provide redirection security context attributes previous attempt redirect little possible however proven problematic twice authcacert wasnt redirected used openstack actions thus blocked mistral 1 patch would mistral start using new context change redirects properties securitycontext safer internal actions end users actions 1 httpsreviewopenstackorgc50618514 partialbug 1718353 neededby ife653558bfcda794e7f37086832f70b0ad7c28a4 changeid i6057d0ce3fe4ae23468be8fb06cb85dc5f467f6b cherry picked commit 817461b40c4d433e3c18879e0c47c5ef3a7281c8
https://review.opendev.org/517648,Avoid redundant security group queries in GET /servers/{id}/os-security-groups,"Avoid redundant security group queries in GET /servers/{id}/os-security-groups The GET /servers/{server_id}/os-security-groups API code can perform poorly if the instance has several security groups and each security group has several rules. This is because when processing the output, we loop over the groups, and loop over the rules per group, and then for each rule, if it has a group_id specified, we query the security group details (from Neutron in most cases). If more than one rule points at the same group_id, we're doing a redundant group lookup and sending more traffic to the security group API (aka Neutron) than needed. This change optimizes that single API to load the rule group details up front so that we only do at most one lookup per group_id. This could be extended to GET /os-security-groups but that API is deprecated so any optimization there is lower priority. Change-Id: Ia451429f61b15526fade6838386e562c17591d36 Closes-Bug: #1729741",6873,Matt Riedemann,"[7, 9732, 10118, 10385, 14595, 15286, 15334, 15888, 15941, 16128, 16898, 20722, 22348, 23498, 26490, 26515]","['Jay Pipes', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'IBM zKVM CI', 'XenProject CI', 'Stephen Finucane', 'Zhenyu Zheng', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Virtuozzo CI', 'Yikun Jiang', 'Zuul', 'IBM zVM CI', 'Jason SUN', 'Cloudbase Nova Hyper-V CI']",avoid redundant security group queries get serversidossecuritygroups get serversserveridossecuritygroups api code perform poorly instance several security groups security group several rules processing output loop groups loop rules per group rule groupid specified query security group details neutron cases one rule points groupid redundant group lookup sending traffic security group api aka neutron needed change optimizes single api load rule group details front one lookup per groupid could extended get ossecuritygroups api deprecated optimization lower priority changeid ia451429f61b15526fade6838386e562c17591d36 closesbug 1729741
https://review.opendev.org/518689,Provide redirection for all security context attributes,"Provide redirection for all security context attributes The previous attempt at this was to redirect as little as possible. However, this has proven to be problematic twice. auth_cacert wasn't redirected, it was used by some of the OpenStack actions and thus blocked Mistral patch that would have Mistral start using the new context. This change redirects all properties in the SecurityContext which should be safer for our internal actions and for end users actions. Change-Id: I6057d0ce3fe4ae23468be8fb06cb85dc5f467f6b",9712,Dougal Matthews,"[5558, 6732, 7700, 8731, 9408, 9712, 19206, 21970, 22348]","['Winson Chan', 'Lingxian Kong', 'Nikolay Mahotkin', 'Renat Akhmerov', 'Michal Gershenzon', 'Dougal Matthews', 'Dawid Deja', 'Andras Kovi', 'Zuul']",provide redirection security context attributes previous attempt redirect little possible however proven problematic twice authcacert wasnt redirected used openstack actions thus blocked mistral patch would mistral start using new context change redirects properties securitycontext safer internal actions end users actions changeid i6057d0ce3fe4ae23468be8fb06cb85dc5f467f6b
https://review.opendev.org/518601,Fixed creation neutron api mapping for security groups,Fixed creation neutron api mapping for security groups Fixed creation of security group and security group rule via neutronclient api mapping. There was a switch from novaclient to neutronclient for creating a security groups and rules in change 5d5666b10e57a94bcde06c8a296002175d935c7b but the argument mapping for this function has not been changed. Change-Id: I1774b73c61adb3b44a61f3f56f99e85f278deb83 Closes-Bug: 1716922 (cherry picked from commit c93f5833e4100d2325994b1bdf8f0d12b70d00c7) (cherry picked from commit 7d7022f74301db90b8a0ccd634a592991598156e),9003,Tom Barron,"[2417, 6491, 7102, 15831, 16643, 18529, 18883, 22348, 26768]","['Ben Swartzlander', 'xing-yang', 'Thomas Bechtold', 'Infortrend CI', 'Goutham Pacha Ravi', 'Dongdong Pei', 'IBM Storage CI', 'Zuul', 'Jan Vondra']",fixed creation neutron api mapping security groups fixed creation security group security group rule via neutronclient api mapping switch novaclient neutronclient creating security groups rules change 5d5666b10e57a94bcde06c8a296002175d935c7b argument mapping function changed changeid i1774b73c61adb3b44a61f3f56f99e85f278deb83 closesbug 1716922 cherry picked commit c93f5833e4100d2325994b1bdf8f0d12b70d00c7 cherry picked commit 7d7022f74301db90b8a0ccd634a592991598156e
https://review.opendev.org/508417,Fixed creation neutron api mapping for security groups,Fixed creation neutron api mapping for security groups Fixed creation of security group and security group rule via neutronclient api mapping. There was a switch from novaclient to neutronclient for creating a security groups and rules in change 5d5666b10e57a94bcde06c8a296002175d935c7b but the argument mapping for this function has not been changed. Change-Id: I1774b73c61adb3b44a61f3f56f99e85f278deb83 Closes-Bug: 1716922 (cherry picked from commit c93f5833e4100d2325994b1bdf8f0d12b70d00c7),7102,Thomas Bechtold,"[3, 7102, 9003, 15831, 16643, 17565, 18883, 22348, 25243, 26768]","['Jenkins', 'Thomas Bechtold', 'Tom Barron', 'Infortrend CI', 'Goutham Pacha Ravi', 'IBM GPFS CI', 'IBM Storage CI', 'Zuul', 'NetApp CI', 'Jan Vondra']",fixed creation neutron api mapping security groups fixed creation security group security group rule via neutronclient api mapping switch novaclient neutronclient creating security groups rules change 5d5666b10e57a94bcde06c8a296002175d935c7b argument mapping function changed changeid i1774b73c61adb3b44a61f3f56f99e85f278deb83 closesbug 1716922 cherry picked commit c93f5833e4100d2325994b1bdf8f0d12b70d00c7
https://review.opendev.org/404178,Support security groups association per port,"Support security groups association per port This patch support operation for operators and project users to associate security groups to a port. The feature is mentioned at last summit[1]. This function UI is same as the function of security groups association per instance. To realize this, the way of implementation for 'Edit port' is changed, which move from a single modal to a workflow base. [1]It comes from the neutron user feedback session in Barcelona. https://etherpad.openstack.org/p/ocata-neutron-end-user-operator-feedback (L.35+) Also we need to display how security groups is associated at a port. At the moment, there is not way to be able to see it (only this function). It should be done as an another patch. Change-Id: I96e0fafdffbf05b8167ec1b85f7430176fdaab90 Closes-Bug: #1637444",17172,Kenji Ishii,"[3, 841, 1736, 8648, 11592, 11885, 12826, 14151, 16628, 17172, 19339, 19554, 22348, 25747]","['Jenkins', 'Akihiro Motoki', 'Ivan Kolodyazhny', 'Radomir Dopieralski', 'Julie Gravel', 'Ying Zuo', 'Rob Cresswell', 'ziyu032', 'Beth Elwell', 'Kenji Ishii', 'Dell EMC Ironic CI', 'Nam', 'Zuul', 'Debo Zhang']",support security groups association per port patch support operation operators project users associate security groups port feature mentioned last summit1 function ui function security groups association per instance realize way implementation edit port changed move single modal workflow base 1it comes neutron user feedback session barcelona httpsetherpadopenstackorgpocataneutronenduseroperatorfeedback l35 also need display security groups associated port moment way able see function done another patch changeid i96e0fafdffbf05b8167ec1b85f7430176fdaab90 closesbug 1637444
https://review.opendev.org/517892,Add deprecated context parameters to the new security context,"Add deprecated context parameters to the new security context In the recent parameter migration, a number of parameters were incorrectly deprecated. They were not redirected to the new location correctly and would cause an error. Change-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf Closes-Bug: #1728081 (cherry picked from commit e195c6d90fee0dc6b0435efd9aec6b383923cd88)",9712,Dougal Matthews,"[8731, 22348]","['Renat Akhmerov', 'Zuul']",add deprecated context parameters new security context recent parameter migration number parameters incorrectly deprecated redirected new location correctly would cause error changeid i5ea09c3c79df5a43b06194a48f7425a15a1b23cf closesbug 1728081 cherry picked commit e195c6d90fee0dc6b0435efd9aec6b383923cd88
https://review.opendev.org/515749,Add deprecated context parameters to the new security context,"Add deprecated context parameters to the new security context In the recent parameter migration, a number of parameters were incorrectly deprecated. They were not redirected to the new location correctly and would cause an error. Change-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf Closes-Bug: #1728081",9712,Dougal Matthews,"[5558, 6732, 7700, 8731, 9408, 9712, 15895, 19206, 21970, 22348]","['Winson Chan', 'Lingxian Kong', 'Nikolay Mahotkin', 'Renat Akhmerov', 'Michal Gershenzon', 'Dougal Matthews', 'Adriano Petrich', 'Dawid Deja', 'Andras Kovi', 'Zuul']",add deprecated context parameters new security context recent parameter migration number parameters incorrectly deprecated redirected new location correctly would cause error changeid i5ea09c3c79df5a43b06194a48f7425a15a1b23cf closesbug 1728081
https://review.opendev.org/516266,[Tempest] Testing remote_ip_prefix for security groups,[Tempest] Testing remote_ip_prefix for security groups Configuring non-default remote_ip_prefix parameter in the rule list for testing connectivity between VMs with such a rule. Change-Id: I3f4b59f4fd3a0279d76cda2d2bf535c6e819adae,21302,Genadi Chereshnya,"[1131, 4694, 9656, 9732, 11975, 21302, 22348, 26576]","['Brian Haley', 'Miguel Lavalle', 'Ihar Hrachyshka', 'Mellanox CI', 'Slawek Kaplonski', 'Genadi Chereshnya', 'Zuul', 'yanpeifei']",tempest testing remoteipprefix security groups configuring nondefault remoteipprefix parameter rule list testing connectivity vms rule changeid i3f4b59f4fd3a0279d76cda2d2bf535c6e819adae
https://review.opendev.org/515969,Fix support for security groups on Port-Channels,"Fix support for security groups on Port-Channels When an interface is a member of a Port-Channel, we should apply ACLs to the Port-Channel rather than the interface as only the ACLs on the Port-Channel have any effect on traffic. Change-Id: Ibc4f6f16ee26d142e771b2d5a57ff7f913816779",19710,Mitchell Jameson,"[2592, 19710, 22253, 22348]","['Mark McClain', 'Mitchell Jameson', 'Alex Reimers', 'Zuul']",fix support security groups portchannels interface member portchannel apply acls portchannel rather interface acls portchannel effect traffic changeid ibc4f6f16ee26d142e771b2d5a57ff7f913816779
https://review.opendev.org/515960,Fix support for security groups on Port-Channels,"Fix support for security groups on Port-Channels When an interface is a member of a Port-Channel, we should apply ACLs to the Port-Channel rather than the interface as only the ACLs on the Port-Channel have any effect on traffic. Change-Id: I8661d4c15a7aaa2d2d1c9b15857e0a151d557e48",19710,Mitchell Jameson,"[2592, 9596, 22253, 22348]","['Mark McClain', 'Shashank Hegde', 'Alex Reimers', 'Zuul']",fix support security groups portchannels interface member portchannel apply acls portchannel rather interface acls portchannel effect traffic changeid i8661d4c15a7aaa2d2d1c9b15857e0a151d557e48
https://review.opendev.org/513973,Add security headers to web accessable services.,"Add security headers to web accessable services. Adds the following headers as static: X-Content-Type-Options ""nosniff"" X-XSS-Protection ""1; mode=block"" append Content-Security-Policy ""default-src 'self' https: wss:;"" nosniff prevents non-executable mime times from becoming executable. The X-XSS-Protection header will prevent the loading of a page if the browser detects an xss attack. The Content-Security-Policy declares what dynamic resources are allowed to load. Adds the following header as user-setable via the keystone_x_frame_options variable. X-Frame-Options ""DENY"" By default the X-Frame-Options header denies embedding in an iframe. Change-Id: Iadd3e93bdb7e9d41ae1d027196367448dbce19f1 Partial-Bug: 1717321",7353,Kevin Carter,"[538, 7353, 14288, 14805, 17068, 22348]","['Major Hayden', 'Kevin Carter', 'Matthew Thode', 'Jimmy McCrory', 'Jean-Philippe Evrard', 'Zuul']",add security headers web accessable services adds following headers static xcontenttypeoptions nosniff xxssprotection 1 modeblock append contentsecuritypolicy defaultsrc self https wss nosniff prevents nonexecutable mime times becoming executable xxssprotection header prevent loading page browser detects xss attack contentsecuritypolicy declares dynamic resources allowed load adds following header usersetable via keystonexframeoptions variable xframeoptions deny default xframeoptions header denies embedding iframe changeid iadd3e93bdb7e9d41ae1d027196367448dbce19f1 partialbug 1717321
https://review.opendev.org/515953,Fix support for security groups on Port-Channels,"Fix support for security groups on Port-Channels When an interface is a member of a Port-Channel, we should apply ACLs to the Port-Channel rather than the interface as only the ACLs on the Port-Channel have any effect on traffic. Change-Id: I8661d4c15a7aaa2d2d1c9b15857e0a151d557e48",19710,Mitchell Jameson,"[9845, 10393, 19710, 22253, 22348]","['Arista CI', 'nlahouti', 'Mitchell Jameson', 'Alex Reimers', 'Zuul']",fix support security groups portchannels interface member portchannel apply acls portchannel rather interface acls portchannel effect traffic changeid i8661d4c15a7aaa2d2d1c9b15857e0a151d557e48
https://review.opendev.org/499588,Use volumes for security hardened images,WIP: Use volumes for security hardened images Change-Id: I88049da2179e2ea984e05648abb60c804a521b70,6133,yolanda.robla,"[3, 3153, 6133, 8871, 10873, 22348]","['Jenkins', 'Emilien Macchi', 'yolanda.robla', 'Elastic Recheck', 'Juan Antonio Osorio Robles', 'Zuul']",wip use volumes security hardened images changeid i88049da2179e2ea984e05648abb60c804a521b70
https://review.opendev.org/515289,Fix security groups tests,Fix security groups tests Commit I2586f0b11b107d7f57214a0d65bcf7c38a5f0ebb broke our unit tests extension handling. Change-Id: Id7049b4e4db31e2785a7dee73b81c73937dae3f6,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",fix security groups tests commit i2586f0b11b107d7f57214a0d65bcf7c38a5f0ebb broke unit tests extension handling changeid id7049b4e4db31e2785a7dee73b81c73937dae3f6
https://review.opendev.org/515114,Run security hardening when leaping a deployment,Run security hardening when leaping a deployment The security hardening playbook was not being executed. This change adds the security hardning playbook to the defeault re-deployment process. If a deployer wishes to opt-out of the default security hardening they can disable it using the `apply_security_hardening` option. Change-Id: I69baa1d2cb209cf3686ca2da00e698ed5dbf92f9 Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>,7353,Kevin Carter,"[538, 13095, 22348]","['Major Hayden', 'Marc Gariépy', 'Zuul']",run security hardening leaping deployment security hardening playbook executed change adds security hardning playbook defeault redeployment process deployer wishes optout default security hardening disable using applysecurityhardening option changeid i69baa1d2cb209cf3686ca2da00e698ed5dbf92f9 signedoffby kevin carter kevincarterrackspacecom
https://review.opendev.org/514147,Build German security guide,"Build German security guide The guide has been translated, build and publish it. Change-Id: I0a8328d3b82c2a2f66f628591037d56a4bf10b59",6547,Andreas Jaeger,"[6547, 17765, 22348]","['Andreas Jaeger', 'Frank Kloeker', 'Zuul']",build german security guide guide translated build publish changeid i0a8328d3b82c2a2f66f628591037d56a4bf10b59
https://review.opendev.org/507189,Add security headers to web accessable services.,"Add security headers to web accessable services. Adds the following headers as static: X-Content-Type-Options ""nosniff"" X-XSS-Protection ""1; mode=block"" append Content-Security-Policy ""default-src 'self' https: wss:;"" nosniff prevents non-executable mime times from becoming executable. The X-XSS-Protection header will prevent the loading of a page if the browser detects an xss attack. The Content-Security-Policy declares what dynamic resources are allowed to load. Adds the following header as user-setable via the keystone_x_frame_options variable. X-Frame-Options ""DENY"" By default the X-Frame-Options header denies embedding in an iframe. Change-Id: Iadd3e93bdb7e9d41ae1d027196367448dbce19f1 Partial-Bug: 1717321",14288,Matthew Thode,"[3, 538, 7353, 14288, 17068, 22348, 23630]","['Jenkins', 'Major Hayden', 'Kevin Carter', 'Matthew Thode', 'Jean-Philippe Evrard', 'Zuul', 'Tovin Seven']",add security headers web accessable services adds following headers static xcontenttypeoptions nosniff xxssprotection 1 modeblock append contentsecuritypolicy defaultsrc self https wss nosniff prevents nonexecutable mime times becoming executable xxssprotection header prevent loading page browser detects xss attack contentsecuritypolicy declares dynamic resources allowed load adds following header usersetable via keystonexframeoptions variable xframeoptions deny default xframeoptions header denies embedding iframe changeid iadd3e93bdb7e9d41ae1d027196367448dbce19f1 partialbug 1717321
https://review.opendev.org/512113,Allow creating security rules without protocol,"Allow creating security rules without protocol In order to create a rule for any protocol, the client must not specify the protocol in the API call. This is currently impossible because protocol defaults to TCP. In order not to change the default behavior, a ""new"" protocol name is added: ""any"", which makes this CLI skip sending the protocol field altogether. Change-Id: I58853d3745f3631007e5e9780c0c5c2526b730a3 Closes-Bug: 1712242",10338,Daniel Speichert,"[970, 6482, 22348]","['Dean Troyer', 'Steve Martinelli', 'Zuul']",allow creating security rules without protocol order create rule protocol client must specify protocol api call currently impossible protocol defaults tcp order change default behavior new protocol name added makes cli skip sending protocol field altogether changeid i58853d3745f3631007e5e9780c0c5c2526b730a3 closesbug 1712242
https://review.opendev.org/345396,console: introduce basic framework for security proxying,"console: introduce basic framework for security proxying Introduce a framework to the websocketproxy to allow a security negotiation to take place between the proxy and the target service, prior to connecting the client tenant to the target service. Based on earlier work by Solly Ross <sross@redhat.com> Implements bp: websocket-proxy-to-host-security Change-Id: Ifb9360be73864ab45129c758bd1323a9bab8e48c",1779,Daniel Berrange,"[3, 1779, 2750, 4690, 5170, 6167, 6873, 8119, 8864, 8871, 9008, 9732, 10118, 10385, 14384, 14571, 14595, 15286, 15334, 15751, 15941, 16128, 16376, 16897, 16898, 17920, 20040, 21784, 22348, 23498, 26515]","['Jenkins', 'Daniel Berrange', 'Sean Dague', 'melanie witt', 'Microsoft Hyper-V CI', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'Eric Brown', 'Artom Lifshitz', 'Elastic Recheck', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'Intel Experimental CI', 'IBM zKVM CI', 'XenProject CI', 'Stephen Finucane', 'Intel PCI CI', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Jianghua Wang', 'Microsoft Hyper-V Compute CI', 'Radek Zetik', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",console introduce basic framework security proxying introduce framework websocketproxy allow security negotiation take place proxy target service prior connecting client tenant target service based earlier work solly ross srossredhatcom implements bp websocketproxytohostsecurity changeid ifb9360be73864ab45129c758bd1323a9bab8e48c
https://review.opendev.org/496160,Websockify security proxy framework,"Websockify security proxy framework This proposes a generic framework for supporting TLS encryption between the console proxy servers and the compute nodes for SPICE, VNC and serial ports. Change-Id: I315fe29dac91788a5d81212652dd6ef454263674 Previously approved: Juno, Kilo, Mitaka, Newton, Ocata, Pike Blueprint websocket-proxy-to-host-security",15334,Stephen Finucane,"[3, 2750, 6873, 7166, 7730, 15334, 22348]","['Jenkins', 'Sean Dague', 'Matt Riedemann', 'Sylvain Bauza', 'sahid', 'Stephen Finucane', 'Zuul']",websockify security proxy framework proposes generic framework supporting tls encryption console proxy servers compute nodes spice vnc serial ports changeid i315fe29dac91788a5d81212652dd6ef454263674 previously approved juno kilo mitaka newton ocata pike blueprint websocketproxytohostsecurity
https://review.opendev.org/512364,Allow cluster create with no security groups,Allow cluster create with no security groups Got an unbound variable error without this fix: UnboundLocalError: local variable 'sec_groups' referenced before assignment This appears to have been caused by the move to use the neutron client in the following commit: b4fb2c404c371a5ba9b28a3ac769c94e69b8c141 Co-Authored-By: Jeremy Freudberg <jeremyfreudberg@gmail.com> Closes-Bug: #1718940 Change-Id: I4f0b5a6b27ee2fb7821ec42faba3a69ce5a4bb78 (cherry picked from commit 88b427e98858990a35378370ba4b27691f6e6189),23078,Jeremy Freudberg,"[782, 7710, 8932, 10459, 22348, 22689]","['John Garbutt', 'Sergey Reshetnyak', 'Telles Mota Vidal Nóbrega', 'Luigi Toscano', 'Zuul', 'Shu Yingya']",allow cluster create security groups got unbound variable error without fix unboundlocalerror local variable secgroups referenced assignment appears caused move use neutron client following commit b4fb2c404c371a5ba9b28a3ac769c94e69b8c141 coauthoredby jeremy freudberg jeremyfreudberggmailcom closesbug 1718940 changeid i4f0b5a6b27ee2fb7821ec42faba3a69ce5a4bb78 cherry picked commit 88b427e98858990a35378370ba4b27691f6e6189
https://review.opendev.org/506654,Allow cluster create with no security groups,Allow cluster create with no security groups Got an unbound variable error without this fix: UnboundLocalError: local variable 'sec_groups' referenced before assignment This appears to have been caused by the move to use the neutron client in the following commit: b4fb2c404c371a5ba9b28a3ac769c94e69b8c141 Closes-Bug: #1718940 Change-Id: I4f0b5a6b27ee2fb7821ec42faba3a69ce5a4bb78,782,John Garbutt,"[3, 782, 7213, 8932, 10459, 22348, 22689, 23078, 26251]","['Jenkins', 'John Garbutt', 'Sahara Hadoop Cluster CI', 'Telles Mota Vidal Nóbrega', 'Luigi Toscano', 'Zuul', 'Shu Yingya', 'Jeremy Freudberg', 'sun cheng']",allow cluster create security groups got unbound variable error without fix unboundlocalerror local variable secgroups referenced assignment appears caused move use neutron client following commit b4fb2c404c371a5ba9b28a3ac769c94e69b8c141 closesbug 1718940 changeid i4f0b5a6b27ee2fb7821ec42faba3a69ce5a4bb78
https://review.opendev.org/498199,Enable security related headers when SSL is enabled,"Enable security related headers when SSL is enabled Horizon can be setup in a more secure way. Enable more headers when: SSL is enabled - X-XSS-Protection ""1; mode=block"" - X-Content-Type-Options ""nosniff"" - CSRF_COOKIE_SECURE, SESSION_COOKIE_SECURE in Django enforce-ssl is set additionally - Strict-Transport-Security ""max-age=15768000"" Content Security Policy (CSP) is not enabled this time. Horizon upstream may need some work: https://bugs.launchpad.net/horizon/+bug/1618024 Change-Id: I84605bd7e00df64da522b805b4e9a88521d1e0f6 Closes-Bug: #1713202",8108,Nobuto Murata,"[3, 6737, 8108, 8992, 13686, 20635, 20648, 26040]","['Jenkins', 'Edward Hope-Morley', 'Nobuto Murata', 'Billy Olsen', 'Frode Nordahl', 'Ryan Beisner', 'Canonical CI', 'Pete Vander Giessen']",enable security related headers ssl enabled horizon setup secure way enable headers ssl enabled xxssprotection 1 modeblock xcontenttypeoptions nosniff csrfcookiesecure sessioncookiesecure django enforcessl set additionally stricttransportsecurity maxage15768000 content security policy csp enabled time horizon upstream may need work httpsbugslaunchpadnethorizonbug1618024 changeid i84605bd7e00df64da522b805b4e9a88521d1e0f6 closesbug 1713202
https://review.opendev.org/510925,Change Docs Team lead for Security Guide,"Change Docs Team lead for Security Guide Nathaniel Dillon is no longer working on the security guide and so replacing him with Luke Hinds (Sec PTL), until a new lead is found. Change-Id: I563979b26f24febc6209aa117307fa35ef859052",17893,Luke Hinds,"[3, 2472, 20156]","['Jenkins', 'Doug Hellmann', 'Petr Kovar']",change docs team lead security guide nathaniel dillon longer working security guide replacing luke hinds sec ptl new lead found changeid i563979b26f24febc6209aa117307fa35ef859052
https://review.opendev.org/767019,Fix IP Config security violations - phase 2,"Fix IP Config security violations - phase 2 Updated IPv4 and IPv6 config settings in ""/etc/sysctl.conf"" to resolve openscap security violations as part of phase 2 fixes. The fixes have been validated by successful installs in IPv4 AIO-SX and IPv6 Standard configurations. Story: 2008037 Task: 40694 Change-Id: I9c4f01c5a5ba135c38d0e3c61618055cdfad18f9 Signed-off-by: Carmen Rata <carmen.rata@windriver.com>",31646,Carmen Rata,"[22348, 24777, 26026, 28431, 28439, 28459]","['Zuul', 'Steven Webster', 'Greg Waines', 'Don Penney', 'Matt Peters', 'Bob Church']",fix ip config security violations phase 2 updated ipv4 ipv6 config settings etcsysctlconf resolve openscap security violations part phase 2 fixes fixes validated successful installs ipv4 aiosx ipv6 standard configurations story 2008037 task 40694 changeid i9c4f01c5a5ba135c38d0e3c61618055cdfad18f9 signedoffby carmen rata carmenratawindrivercom
https://review.opendev.org/508097,Remove _project_network_cidr in security group tests,Remove _project_network_cidr in security group tests This is to remove _project_network_cidr in security group tests and use str(self.cidr) instead. Change-Id: I097988bcd3f340fd1fda0435e80c3027cf67471e,20190,zhufl,"[3, 5689, 6167, 10385, 12033, 13252, 17130, 20190, 22348, 23081]","['Jenkins', 'Masayuki Igawa', ""Ken'ichi Ohmichi"", 'Citrix XenServer CI', 'DellEMC XtremIO CI', 'Dr. Jens Harbott', 'melissaml', 'zhufl', 'Zuul', 'Jeremy Zhang']",remove projectnetworkcidr security group tests remove projectnetworkcidr security group tests use strselfcidr instead changeid i097988bcd3f340fd1fda0435e80c3027cf67471e
https://review.opendev.org/507926,Ensure default security group before port update,"Ensure default security group before port update The default security group can be deleted and updating a port will recreate it. However, we should do this in the BEFORE_UPDATE event handler rather than waiting for it to happen inside of the port update transaction which violates the transaction semantics of the security group callbacks. Closes-Bug: #1718282 Change-Id: I1ce8b558b0a831adcebead512d97554173423955 (cherry picked from commit 017185496c9f3f30b4b819ead86dd5bfe5a72597)",9656,Ihar Hrachyshka,"[3, 748, 1131, 7787, 9656, 10385, 22348]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'Kevin Benton', 'Ihar Hrachyshka', 'Citrix XenServer CI', 'Zuul']",ensure default security group port update default security group deleted updating port recreate however beforeupdate event handler rather waiting happen inside port update transaction violates transaction semantics security group callbacks closesbug 1718282 changeid i1ce8b558b0a831adcebead512d97554173423955 cherry picked commit 017185496c9f3f30b4b819ead86dd5bfe5a72597
https://review.opendev.org/502564,[Tempest] Testing default security group scenarios,[Tempest] Testing default security group scenarios 1) Testing connectivity after adding ssh security rule 2) Testing that with ssh security rule you can't ping VM 3) Testing ICMP connectivity between 2 VMs 4) Testing connectivity to external network Change-Id: I9e8a698f896089b530210735e1243bfff3afcdb7 (cherry picked from commit 7279aa35851110a4933a10b58b2758a2bc3933a3),9656,Ihar Hrachyshka,"[3, 748, 1131, 9656, 21302, 22348, 25747]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'Ihar Hrachyshka', 'Genadi Chereshnya', 'Zuul', 'Debo Zhang']",tempest testing default security group scenarios 1 testing connectivity adding ssh security rule 2 testing ssh security rule cant ping vm 3 testing icmp connectivity 2 vms 4 testing connectivity external network changeid i9e8a698f896089b530210735e1243bfff3afcdb7 cherry picked commit 7279aa35851110a4933a10b58b2758a2bc3933a3
https://review.opendev.org/503724,Fixed creation neutron api mapping for security groups,Fixed creation neutron api mapping for security groups Fixed creation of security group and security group rule via neutronclient api mapping Change-Id: I1774b73c61adb3b44a61f3f56f99e85f278deb83 Closes-Bug: 1716922,26768,Jan Vondra,"[3, 2417, 7102, 8851, 9003, 12017, 14384, 15831, 17565, 22248, 23630, 24863, 25243, 25388, 26768]","['Jenkins', 'Ben Swartzlander', 'Thomas Bechtold', 'Valeriy Ponomaryov', 'Tom Barron', 'DellEMC VNX CI', 'Quobyte CI', 'Infortrend CI', 'IBM GPFS CI', 'HPE STORAGE CI', 'Tovin Seven', 'Veritas Access CI', 'NetApp CI', 'liuyamin', 'Jan Vondra']",fixed creation neutron api mapping security groups fixed creation security group security group rule via neutronclient api mapping changeid i1774b73c61adb3b44a61f3f56f99e85f278deb83 closesbug 1716922
https://review.opendev.org/505390,Ensure default security group before port update,"Ensure default security group before port update The default security group can be deleted and updating a port will recreate it. However, we should do this in the BEFORE_UPDATE event handler rather than waiting for it to happen inside of the port update transaction which violates the transaction semantics of the security group callbacks. Change-Id: I1ce8b558b0a831adcebead512d97554173423955",7787,Kevin Benton,"[3, 1131, 1653, 7016, 7787, 8655, 9656, 9845, 10385, 17776]","['Jenkins', 'Brian Haley', 'garyk', 'Swaminathan Vasudevan', 'Kevin Benton', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Arista CI', 'Citrix XenServer CI', 'Reedip']",ensure default security group port update default security group deleted updating port recreate however beforeupdate event handler rather waiting happen inside port update transaction violates transaction semantics security group callbacks changeid i1ce8b558b0a831adcebead512d97554173423955
https://review.opendev.org/502176,Add unit tests for security group callback handler,"Add unit tests for security group callback handler This patch improves unit test coverage for the OpenContrail security group callback handler object (ml2/opencontrail_sg_callback). It provides tests for functions of this class including creating, deleting, and updating security groups, as well as creating and deleting security group rules. Change-Id: I1b4a43b55f7ec4fc5894e6e0ec180923ed1f0333",26363,Benjamin Kennel,"[3, 6558, 24846, 26601]","['Jenkins', 'Sukhdev Kapur', 'Kamil', 'Piotr Zalas']",add unit tests security group callback handler patch improves unit test coverage opencontrail security group callback handler object ml2opencontrailsgcallback provides tests functions class including creating deleting updating security groups well creating deleting security group rules changeid i1b4a43b55f7ec4fc5894e6e0ec180923ed1f0333
https://review.opendev.org/505106,Fix security group rule tcp/udp port range failed.,"Fix security group rule tcp/udp port range failed. ovn ACL flow needs to use ""tcp.dst >= 22"", not ""tcp >= 22"". Change-Id: I280a4224ea0fbae281482075981d596102770955 Closes-bug: #1718114",24438,Guoshuai Li,"[3, 10237, 23458]","['Jenkins', 'Numan Siddique', 'Dong Jun']",fix security group rule tcpudp port range failed ovn acl flow needs use tcpdst 22 tcp 22 changeid i280a4224ea0fbae281482075981d596102770955 closesbug 1718114
https://review.opendev.org/501694,Update tempest plugin split goal for Security team,Update tempest plugin split goal for Security team Change-Id: Ifd7e44775ee60c13146b3dc1fcd4c1633058bf66,12393,chandan kumar,"[3, 308, 2472, 6159, 17709, 17893]","['Jenkins', 'Thierry Carrez', 'Doug Hellmann', 'Flavio Percoco Premoli', 'Michael Dong', 'Luke Hinds']",update tempest plugin split goal security team changeid ifd7e44775ee60c13146b3dc1fcd4c1633058bf66
https://review.opendev.org/501007,Update policy goal for security team,Update policy goal for security team bp policy-and-docs-in-code Change-Id: I86b8a78ddd28d8a33be22bd925c63780363a83a4,5046,Lance Bragstad,"[3, 308, 2472, 6159]","['Jenkins', 'Thierry Carrez', 'Doug Hellmann', 'Flavio Percoco Premoli']",update policy goal security team bp policyanddocsincode changeid i86b8a78ddd28d8a33be22bd925c63780363a83a4
https://review.opendev.org/766643,Add security section,Add security section Add keystone file that takes its content from the keystone charm README. A future PR will remove that charm content. Rewrite the above content. This section will eventually include other topics. Change-Id: I5360f56de9b676dfd63a0cdce1371ee3ff4dd1ed,30561,Peter Matulis,"[8992, 20870, 22348]","['Billy Olsen', 'Alex Kavanagh', 'Zuul']",add security section add keystone file takes content keystone charm readme future pr remove charm content rewrite content section eventually include topics changeid i5360f56de9b676dfd63a0cdce1371ee3ff4dd1ed
https://review.opendev.org/742117,Bump crypto requirement to accomodate security standards,Bump crypto requirement to accomodate security standards On Fedora rawhide the gear package no longer build. https://koschei.fedoraproject.org/package/python-gear? This patch ensures that the ssl engine does not complains about: - ssl.SSLError: [SSL: EE_KEY_TOO_SMALL] ee key too small (_ssl.c:2951) - ssl.SSLError: [SSL: CA_MD_TOO_WEAK] ca md too weak (_ssl.c:2951) To reproduce the issue: podman run -it --root fedora:rawhide dnf install git libffi-devel python-devel tox gcc git clone https://opendev.org/opendev/gear.git && cd gear tox -epy39 tox -epy38 Change-Id: I57cd9c4750f27b7b76e92a0eef03e7de70c13dd5,6889,Fabien Boucher,"[1, 2, 2475, 5263, 6889, 9311, 22348]","['James E. Blair', 'Monty Taylor', 'Antoine Musso', 'Jeremy Stanley', 'Fabien Boucher', 'Tristan Cacqueray', 'Zuul']",bump crypto requirement accomodate security standards fedora rawhide gear package longer build httpskoscheifedoraprojectorgpackagepythongear patch ensures ssl engine complains sslsslerror ssl eekeytoosmall ee key small sslc2951 sslsslerror ssl camdtooweak ca md weak sslc2951 reproduce issue podman run root fedorarawhide dnf install git libffidevel pythondevel tox gcc git clone httpsopendevorgopendevgeargit cd gear tox epy39 tox epy38 changeid i57cd9c4750f27b7b76e92a0eef03e7de70c13dd5
https://review.opendev.org/493883,[Tempest] Testing default security group scenarios,[Tempest] Testing default security group scenarios 1) Testing that with default security group you can't reach VM 2) Testing connectivity after adding ssh security rule 3) Testing ICMP connectivity between 2 VMs 4) Testing connectivity to external network Change-Id: I9e8a698f896089b530210735e1243bfff3afcdb7,21302,Genadi Chereshnya,"[3, 1131, 4727, 8655, 8871, 9656, 9732, 15752, 16376, 21302]","['Jenkins', 'Brian Haley', 'Itzik Brown', 'Jakub Libosvar', 'Elastic Recheck', 'Ihar Hrachyshka', 'Mellanox CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Genadi Chereshnya']",tempest testing default security group scenarios 1 testing default security group cant reach vm 2 testing connectivity adding ssh security rule 3 testing icmp connectivity 2 vms 4 testing connectivity external network changeid i9e8a698f896089b530210735e1243bfff3afcdb7
https://review.opendev.org/496083,Validate security group rules for port ranges,Validate security group rules for SCTP port ranges Use the same validation logic for SCTP as the logic for TCP and UDP. Change-Id: Ife90be597d1a59a634d5474dad543dc1803e8242,9200,IWAMOTO Toshihiro,"[3, 1131, 1653, 4694, 7249, 7787, 9200, 9732, 9845, 10385, 15471, 15752, 16376, 21781, 23310]","['Jenkins', 'Brian Haley', 'garyk', 'Miguel Lavalle', 'Ann Taraday', 'Kevin Benton', 'IWAMOTO Toshihiro', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Nguyen Phuong An', 'Intel SR-IOV CI', 'Intel NFV CI', 'Hunt Xu', 'wanghongtaozz']",validate security group rules sctp port ranges use validation logic sctp logic tcp udp changeid ife90be597d1a59a634d5474dad543dc1803e8242
https://review.opendev.org/501826,Fixed security group access,Fixed security group access Change-Id: I97244e5d35e42f9419ffc4e7d447746c3c7a98e5,26658,Kerim Gokarslan,"[3, 13786]","['Jenkins', 'Yichen Wang']",fixed security group access changeid i97244e5d35e42f9419ffc4e7d447746c3c7a98e5
https://review.opendev.org/500350,NSX|V3: Do not enable port security on router interface,NSX|V3: Do not enable port security on router interface Router interface ports are created with port security disabled as they are trusted ports. The plugin should not allow to enable the port security on such ports. Change-Id: I0271e225f9fdeed8493296ed81348ab4e73679f0,20363,Adit Sarfaty,"[3, 1653, 9008, 12024]","['Jenkins', 'garyk', 'VMware NSX CI', 'Tong Liu']",nsxv3 enable port security router interface router interface ports created port security disabled trusted ports plugin allow enable port security ports changeid i0271e225f9fdeed8493296ed81348ab4e73679f0
https://review.opendev.org/499482,Fix restore security group error,Fix restore security group error Change-Id: I8e19d5bb8f9a904dd3ebf1acbeb6b6b2b5ac3e5c Closes-Bug:#1713719 (cherry picked from commit 7a7d7a11d4917f7b8b0ecc82ccabc2a0149f4a7a),21224,jiaopengju,"[3, 20883]","['Jenkins', 'Yuval Brik']",fix restore security group error changeid i8e19d5bb8f9a904dd3ebf1acbeb6b6b2b5ac3e5c closesbug1713719 cherry picked commit 7a7d7a11d4917f7b8b0ecc82ccabc2a0149f4a7a
https://review.opendev.org/462207,Revise security spec to discuss SSH keys,Revise security spec to discuss SSH keys We missed this in the first pass. We need to protect the private key to reduce the impact of any ansible-playbook escapes. Change-Id: Id7ef192f87fc665feb89629f1a8d0b75f9de5f9b,6488,Clint 'SpamapS' Byrum,"[1, 2, 3, 4146, 5263, 6589]","['James E. Blair', 'Monty Taylor', 'Jenkins', 'Clark Boylan', 'Jeremy Stanley', 'Jesse Keating']",revise security spec discuss ssh keys missed first pass need protect private key reduce impact ansibleplaybook escapes changeid id7ef192f87fc665feb89629f1a8d0b75f9de5f9b
https://review.opendev.org/498795,Fix restore security group error,Fix restore security group error Change-Id: I8e19d5bb8f9a904dd3ebf1acbeb6b6b2b5ac3e5c Closes-Bug:#1713719,21224,jiaopengju,"[3, 17151, 20883]","['Jenkins', 'chenying', 'Yuval Brik']",fix restore security group error changeid i8e19d5bb8f9a904dd3ebf1acbeb6b6b2b5ac3e5c closesbug1713719
https://review.opendev.org/499151,Release note entries for Security Guide,Release note entries for Security Guide Changes and fix round up for security guide docs. Change-Id: I59bca50d6977c58c4bf59e55aa2d939e46f05557,17893,Luke Hinds,"[3, 2472, 6547, 20156]","['Jenkins', 'Doug Hellmann', 'Andreas Jaeger', 'Petr Kovar']",release note entries security guide changes fix round security guide docs changeid i59bca50d6977c58c4bf59e55aa2d939e46f05557
https://review.opendev.org/496838,Add port security option for OVB with no network isolation,"Add port security option for OVB with no network isolation For OVB clouds requiring port security, there is a default template to be added when the overcloud is deployed without network isolation. This review adds that option. Change-Id: Id4e0ae571bf4d875a56175320e98f5f427fe6511",9976,Ronelle Landy,"[3, 4264, 8871, 9592, 9976, 10969, 12715, 18846, 23181, 24752]","['Jenkins', 'Matthias Runge', 'Elastic Recheck', 'wes hayutin', 'Ronelle Landy', 'Shnaidman Sagi (Sergey)', 'John Trowbridge', 'RedHat RDO CI', 'RDO Third Party CI', 'RedHat RDO Downstream CI']",add port security option ovb network isolation ovb clouds requiring port security default template added overcloud deployed without network isolation review adds option changeid id4e0ae571bf4d875a56175320e98f5f427fe6511
https://review.opendev.org/496448,[TrivialFix] Move security group tests into correct test file,[TrivialFix] Move security group tests into correct test file This commit moves security group tests currently in test_server_rbac into test_security_groups_rbac as that is the logical place for the tests. And this commit renames the deprecated security groups test class to avoid a name conflict with the non-deprecated test class. Change-Id: Iae32d9bc7e22e39415e498e44f0da4f2711dc550,23186,Felipe Monteiro,"[3, 8556, 17896, 23185]","['Jenkins', 'Ghanshyam', 'Rick Bartra', 'Samantha Blanco']",trivialfix move security group tests correct test file commit moves security group tests currently testserverrbac testsecuritygroupsrbac logical place tests commit renames deprecated security groups test class avoid name conflict nondeprecated test class changeid iae32d9bc7e22e39415e498e44f0da4f2711dc550
https://review.opendev.org/497191,Convert network security group functional tests to JSON,Convert network security group functional tests to JSON Change-Id: Icb63aa0dfbce9016fb824f97915a660cf130d120,841,Akihiro Motoki,"[3, 970, 6482]","['Jenkins', 'Dean Troyer', 'Steve Martinelli']",convert network security group functional tests json changeid icb63aa0dfbce9016fb824f97915a660cf130d120
https://review.opendev.org/488895,Hook bandit security linter to pep8 target,Hook bandit security linter to pep8 target This helps catch in advance a number of potential issues with the neutron code. Change-Id: I3e4cbc94539dd2cce61bfa5cd0265e75d7336311,748,Armando Migliaccio,"[3, 748, 4694, 6593, 6854, 7787, 9732, 9845, 10385, 15752, 16376, 20330]","['Jenkins', 'Armando Migliaccio', 'Miguel Lavalle', 'Dirk Mueller', 'YAMAMOTO Takashi', 'Kevin Benton', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",hook bandit security linter pep8 target helps catch advance number potential issues neutron code changeid i3e4cbc94539dd2cce61bfa5cd0265e75d7336311
https://review.opendev.org/496947,Add retries for security group delete,Add retries for security group delete Change-Id: I8123a9475831424c34a47530c793b2a7bee553f0,13786,Yichen Wang,"[3, 13786]","['Jenkins', 'Yichen Wang']",add retries security group delete changeid i8123a9475831424c34a47530c793b2a7bee553f0
https://review.opendev.org/489275,api-ref: requested security groups are not applied to pre-existing ports,"api-ref: requested security groups are not applied to pre-existing ports When creating a server, you can request security groups and pre-existing ports, but the security groups are only applied to any new ports that nova creates, not the pre-existing ones that the user passes in. This change makes a note of that in the API reference. Change-Id: I0ea6891f10f021b0ed752200417e87d7e9bfda31 Related-Bug: #1707319",6873,Matt Riedemann,"[3, 2750, 6167, 11536, 15941, 25026]","['Jenkins', 'Sean Dague', ""Ken'ichi Ohmichi"", 'hongbin', 'DellEMC PowerFlex CI', 'Bin Zhou']",apiref requested security groups applied preexisting ports creating server request security groups preexisting ports security groups applied new ports nova creates preexisting ones user passes change makes note api reference changeid i0ea6891f10f021b0ed752200417e87d7e9bfda31 relatedbug 1707319
https://review.opendev.org/495400,Hook bandit security linter to pep8 target,"Hook bandit security linter to pep8 target This helps catch a number of potential issues with the neutron code in advance. A false positive can be skipped with #nosec at the offending line, just like #noqa can be added on offending module imports. (cherry picked from commit 85a3e93537fcc2055705cb95a38e88c47ccd500a) Change-Id: I3e4cbc94539dd2cce61bfa5cd0265e75d7336311",748,Armando Migliaccio,"[3, 748]","['Jenkins', 'Armando Migliaccio']",hook bandit security linter pep8 target helps catch number potential issues neutron code advance false positive skipped nosec offending line like noqa added offending module imports cherry picked commit 85a3e93537fcc2055705cb95a38e88c47ccd500a changeid i3e4cbc94539dd2cce61bfa5cd0265e75d7336311
https://review.opendev.org/494722,Fixed nova api to neutron for security groups and nova api to glance for image uploading,Fixed nova api to neutron for security groups and nova api to glance for image uploading Change-Id: Ia868d517b8295eba4afa2f12d88ccb4e0e1c249d,26658,Kerim Gokarslan,"[3, 10068, 11744, 26659]","['Jenkins', 'Welcome, new contributor!', 'Alec Hothan', 'Morten Hillbom']",fixed nova api neutron security groups nova api glance image uploading changeid ia868d517b8295eba4afa2f12d88ccb4e0e1c249d
https://review.opendev.org/494188,NSX|v3: process the port security of the dhcp ports,"NSX|v3: process the port security of the dhcp ports When creating a neutron dhcp port for a subnet, we need to also call the relevant process method to make sure the neutron db is updated. Change-Id: Ib5442d36464d51c4a82ba1af8d3e065b85ebd212",20363,Adit Sarfaty,"[3, 1653, 9008, 12024, 20363]","['Jenkins', 'garyk', 'VMware NSX CI', 'Tong Liu', 'Adit Sarfaty']",nsxv3 process port security dhcp ports creating neutron dhcp port subnet need also call relevant process method make sure neutron db updated changeid ib5442d36464d51c4a82ba1af8d3e065b85ebd212
https://review.opendev.org/493977,Add unit tests for security groups,Add unit tests for security groups This patch aims to provide unit test coverage for security gorups create update and delete handlers. get operation was not covered because none of the other tests are covering this at the moment. The same is true for the exceptions. Change-Id: Id8345d517a0a98253eb90c82107423e3ffa1f7cf,20378,Trevor McCasland,"[3, 6558, 26601]","['Jenkins', 'Sukhdev Kapur', 'Piotr Zalas']",add unit tests security groups patch aims provide unit test coverage security gorups create update delete handlers get operation covered none tests covering moment true exceptions changeid id8345d517a0a98253eb90c82107423e3ffa1f7cf
https://review.opendev.org/492468,[GCE] Skip Security group rule verification for egress rules,"[GCE] Skip Security group rule verification for egress rules Neutron by default adds two egress rules to security group creation API calls. If we block egress rules, any type of security group creation fails. So we just log warning in case of neutron egress security group rules being not supported on GCE. Switched to gce beta APIs as firewall group creation calls are deprecated on v1 APIs. Firewall related call report error ""feature not supported yet"" Change-Id: I7baded2df5b34239e2cf99ca49c9d6c8eba46294 Closes-bug: #1709002",25687,Sanket Sudake,"[3, 25673, 25687]","['Jenkins', 'Pushkar Acharya', 'Sanket Sudake']",gce skip security group rule verification egress rules neutron default adds two egress rules security group creation api calls block egress rules type security group creation fails log warning case neutron egress security group rules supported gce switched gce beta apis firewall group creation calls deprecated v1 apis firewall related call report error feature supported yet changeid i7baded2df5b34239e2cf99ca49c9d6c8eba46294 closesbug 1709002
https://review.opendev.org/492022,[AWS] Fixed Security Group Creation Issues,"Fixed ""IAAS-7755: Omni AWS Security Groups Creation Failure"" Issues: 1. Security Group created using Openstack API, creates 2 outbound rules (1 for IPv4 and 1 for IPv6) and no inbound rules. Hence the rule_dict that was getting created contained same data for both outbound rules. Hence while authorization of egress direction, it was throwing error ""ClientError: The same permission must not appear multiple times"" 2. Since there are no inbound rules in security group, empty list was passed to AuthorizeSecurityGroupIngress operation. Hence it was raising ""ClientError: Missing source specification: include source security group or CIDR information"". 3. While updating the security group which was created using API, I was seeing error: ""ClientError: Missing source specification: include source security group or CIDR information"" as there were no inbound rules. Fixes: 1. Added a check for IPv4 ether type in ""_convert_openstack_rules_to_vpc()"" 2. Moved authorization for ingress inside if block 3. Added checks in ""_update_sec_group()"" Closes-Bug: #1709545 Change-Id: I4e4acad4da3b095e7a8951abbfb94f1b0d9c7e41",26097,Pratik Shah,"[3, 25176, 25673, 25687, 26097]","['Jenkins', 'Sachin', 'Pushkar Acharya', 'Sanket Sudake', 'Pratik Shah']",fixed iaas7755 omni aws security groups creation failure issues 1 security group created using openstack api creates 2 outbound rules 1 ipv4 1 ipv6 inbound rules hence ruledict getting created contained data outbound rules hence authorization egress direction throwing error clienterror permission must appear multiple times 2 since inbound rules security group empty list passed authorizesecuritygroupingress operation hence raising clienterror missing source specification include source security group cidr information 3 updating security group created using api seeing error clienterror missing source specification include source security group cidr information inbound rules fixes 1 added check ipv4 ether type convertopenstackrulestovpc 2 moved authorization ingress inside block 3 added checks updatesecgroup closesbug 1709545 changeid i4e4acad4da3b095e7a8951abbfb94f1b0d9c7e41
https://review.opendev.org/491848,NetApp cDOT: Fix security style for CIFS shares,"NetApp cDOT: Fix security style for CIFS shares If the backing FlexVol security style is configured incorrectly, end users cannot write to their manila shares. Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976 Closes-Bug: #1696000",16643,Goutham Pacha Ravi,"[3, 2417, 6491, 9003, 13167, 14567]","['Jenkins', 'Ben Swartzlander', 'xing-yang', 'Tom Barron', 'Yogesh', 'Rodrigo Barbieri']",netapp cdot fix security style cifs shares backing flexvol security style configured incorrectly end users write manila shares changeid i12c85c54c7318592ac0b34efe3624d175d2e6976 closesbug 1696000
https://review.opendev.org/764880,"Revert ""DVS: Disable port security and security group""","Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033. And also parts of commit I3b738d2990794f35776859d1fbe509036084ec3a Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",revert dvs disable port security security group reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 also parts commit i3b738d2990794f35776859d1fbe509036084ec3a reason revert roll back original behavior changeid ie800a42132b273ec9b8aeb39cc5878783c959dea
https://review.opendev.org/764879,"Revert ""DVS: Disable port security and security group""","Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033. And also parts of commit I3b738d2990794f35776859d1fbe509036084ec3a Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",revert dvs disable port security security group reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 also parts commit i3b738d2990794f35776859d1fbe509036084ec3a reason revert roll back original behavior changeid ie800a42132b273ec9b8aeb39cc5878783c959dea
https://review.opendev.org/764881,"Revert ""DVS: Disable port security and security group""","Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033. And also parts of commit I3b738d2990794f35776859d1fbe509036084ec3a Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",revert dvs disable port security security group reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 also parts commit i3b738d2990794f35776859d1fbe509036084ec3a reason revert roll back original behavior changeid ie800a42132b273ec9b8aeb39cc5878783c959dea
https://review.opendev.org/764083,"Revert ""DVS: Disable port security and security group""","Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033. Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",20363,Adit Sarfaty,"[9008, 20363, 22348, 27546]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",revert dvs disable port security security group reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 reason revert roll back original behavior changeid ie800a42132b273ec9b8aeb39cc5878783c959dea
https://review.opendev.org/764097,Perform port update if security group changed,"Perform port update if security group changed If only the security groups for a network changed in a profile, do not delete and recreate the network during a profile update. Instead apply the security group change by an update to the existing port. Closes-Bug: bug/1905490 Change-Id: I43f1181c1592144d49784ba0d3c51c01bf2f1060",27224,Duc Truong,"[8246, 22348, 22623, 30596]","['Qiming Teng', 'Zuul', 'Erik Olof Gunnar Andersson', 'Scott Chaney']",perform port update security group changed security groups network changed profile delete recreate network profile update instead apply security group change update existing port closesbug bug1905490 changeid i43f1181c1592144d49784ba0d3c51c01bf2f1060
https://review.opendev.org/491356,[GCE] Validate security group at the time of creation,[WIP] [GCE] Check security group compatibility with GCE at the time of creation Change-Id: I5f1fc67208085ef399f3dcfe5fdec63d4f2ffc51 Closes-bug: #1709002,25687,Sanket Sudake,"[3, 25176, 25673, 25687]","['Jenkins', 'Sachin', 'Pushkar Acharya', 'Sanket Sudake']",wip gce check security group compatibility gce time creation changeid i5f1fc67208085ef399f3dcfe5fdec63d4f2ffc51 closesbug 1709002
https://review.opendev.org/491533,defines the Hyper-V Security Groups Driver as a neutron firewall driver,"defines the Hyper-V Security Groups Driver as a neutron firewall driver This change allows users to configure the neutron-hyperv-agent with ""firewall_driver=hyperv"" instead of the full classpath. Change-Id: I86fff5784b7f04decd8b99e3b0774fbb89367232 (cherry picked from commit cdbceeaee485a5095a59cc7f05470a440065832e)",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",defines hyperv security groups driver neutron firewall driver change allows users configure neutronhypervagent firewalldriverhyperv instead full classpath changeid i86fff5784b7f04decd8b99e3b0774fbb89367232 cherry picked commit cdbceeaee485a5095a59cc7f05470a440065832e
https://review.opendev.org/424270,defines the Hyper-V Security Groups Driver as a neutron firewall driver,"defines the Hyper-V Security Groups Driver as a neutron firewall driver This change allows users to configure the neutron-hyperv-agent with ""firewall_driver=hyperv"" instead of the full classpath. Change-Id: I86fff5784b7f04decd8b99e3b0774fbb89367232",8213,Claudiu Belu,"[3, 8213, 8543]","['Jenkins', 'Claudiu Belu', 'Lucian Petrut']",defines hyperv security groups driver neutron firewall driver change allows users configure neutronhypervagent firewalldriverhyperv instead full classpath changeid i86fff5784b7f04decd8b99e3b0774fbb89367232
https://review.opendev.org/490067,Allow add security group by uuid,"Allow add security group by uuid Note: 1.Test case can be found in bug description. 2.For the bug https://bugs.launchpad.net/zun/+bug/1707069 has not been fixed, modify zun/compute/manager.py line 272 as follows before test: sandbox_id = container.get_sandbox_id() self.driver.add_security_group(context, container, security_group, sandbox_id) Change-Id: I82a34cfd6412f6a32a10d069c5c365ff7393cd61 Closes-Bug: #1707954",17813,wangzhh,"[3, 11536, 17813, 22076, 23365]","['Jenkins', 'hongbin', 'wangzhh', 'Kevin Zhao', 'feng.shengqin']",allow add security group uuid note 1test case found bug description 2for bug httpsbugslaunchpadnetzunbug1707069 fixed modify zuncomputemanagerpy line 272 follows test sandboxid containergetsandboxid selfdriveraddsecuritygroupcontext container securitygroup sandboxid changeid i82a34cfd6412f6a32a10d069c5c365ff7393cd61 closesbug 1707954
https://review.opendev.org/487821,fix comparision of security group rules,fix comparision of security group rules ignore 'tags' field when compare openstack sg rule with ec2 Change-Id: If1076c3e9d4fb84dc524450da5a9d7912f4ffbde,19065,Anastasia Kravets,"[3, 10234]","['Jenkins', 'Andrey Pavlov']",fix comparision security group rules ignore tags field compare openstack sg rule ec2 changeid if1076c3e9d4fb84dc524450da5a9d7912f4ffbde
https://review.opendev.org/482056,Update security groups for server interfaces,"Update security groups for server interfaces Update the security groups for server interfaces if only 'network' is specified when update networks of nova server, to make sure the security groups info correctly. Change-Id: I0635d50b52c430885cb3d7733fb565a5c113fad2 Closes-Bug: #1703279",8289,huangtianhua,"[3, 4257, 8289, 8833, 8871, 12404, 23630, 24245]","['Jenkins', 'Zane Bitter', 'huangtianhua', 'Rabi Mishra', 'Elastic Recheck', 'Rico Lin', 'Tovin Seven', 'Harald Jensås']",update security groups server interfaces update security groups server interfaces network specified update networks nova server make sure security groups info correctly changeid i0635d50b52c430885cb3d7733fb565a5c113fad2 closesbug 1703279
https://review.opendev.org/489465,NSX|v3: disable port security on dhcp ports,"NSX|v3: disable port security on dhcp ports When the plugin creates a dhcp port, it uses the super code, so the regular flow for creating a port is skipped, and the default port security enabled is used. The dhcp ports are considered trusted, so it should be disabled by default, same as the behavior in the nsx-v plugin, and upstream. Change-Id: Icd0240c12241cc484e1e62074b8cd581fcffb193",20363,Adit Sarfaty,"[3, 1653, 9008, 24247]","['Jenkins', 'garyk', 'VMware NSX CI', 'Anna Khmelnitsky']",nsxv3 disable port security dhcp ports plugin creates dhcp port uses super code regular flow creating port skipped default port security enabled used dhcp ports considered trusted disabled default behavior nsxv plugin upstream changeid icd0240c12241cc484e1e62074b8cd581fcffb193
https://review.opendev.org/489934,Missing security support,Missing security support This commit includes an advanced Keystone based authorization plugin. Bug: #1691352 Change-Id: Icb5d534c2a684f5efe7abf3b64227d66a3fbc2b6 Sem-Ver: feature,19581,Lisa Zangrando,"[3, 19581]","['Jenkins', 'Lisa Zangrando']",missing security support commit includes advanced keystone based authorization plugin bug 1691352 changeid icb5d534c2a684f5efe7abf3b64227d66a3fbc2b6 semver feature
https://review.opendev.org/489634,Adding Luke Hinds candidacy for Security Project,Adding Luke Hinds candidacy for Security Project Change-Id: Icbea7f77db034be3a14a3e8854e36dd81898e606,17893,Luke Hinds,"[3, 6088, 16708]","['Jenkins', 'Emmet Hikory', 'Kendall Nelson']",adding luke hinds candidacy security project changeid icbea7f77db034be3a14a3e8854e36dd81898e606
https://review.opendev.org/489024,Hook bandit security linter to pep8 target,Hook bandit security linter to pep8 target This helps catch in advance a number of potential issues with the neutron code. Copy and paste from https://review.openstack.org/#/c/488895/2 Closes-Bug: #1651317 Co-Authored-By: Armando Migliaccio <armamig@gmail.com> Change-Id: Id32c2658461891891f1054207a1ed6d72d19b7b1,6854,YAMAMOTO Takashi,"[3, 156, 9925, 19307]","['Jenkins', 'Ryu Ishimoto', 'Midokura CI', 'Antonio Ojea']",hook bandit security linter pep8 target helps catch advance number potential issues neutron code copy paste httpsreviewopenstackorgc4888952 closesbug 1651317 coauthoredby armando migliaccio armamiggmailcom changeid id32c2658461891891f1054207a1ed6d72d19b7b1
https://review.opendev.org/486424,Check if security groups is duplicated or not in API,Check if security groups is duplicated or not in API Change-Id: I393620562b8f1f733a62ade12f29706519166dbd Closes-bug:1698471,17813,wangzhh,"[3, 10206, 11536, 16277, 17813, 22406, 23365]","['Jenkins', 'Madhuri Kumari', 'hongbin', 'Pradeep Kumar Singh', 'wangzhh', 'Kien Nguyen', 'feng.shengqin']",check security groups duplicated api changeid i393620562b8f1f733a62ade12f29706519166dbd closesbug1698471
https://review.opendev.org/486918,Add Security Groups steps into creation dialog,"Add Security Groups steps into creation dialog To specify security groups options when create container, this patch adds Security Groups step into the creation dialog. The Security Groups step is not shown in update dialog. Also, security group infomations are shown in table view and details view. Change-Id: Ic67baa367eb1210dde8e6d7610fe2c5332631aa7 Implements: bluepring add-security-groups",16352,Shu Muto,"[3, 8264, 10206, 11536, 22076, 23365]","['Jenkins', 'Shunli Zhou', 'Madhuri Kumari', 'hongbin', 'Kevin Zhao', 'feng.shengqin']",add security groups steps creation dialog specify security groups options create container patch adds security groups step creation dialog security groups step shown update dialog also security group infomations shown table view details view changeid ic67baa367eb1210dde8e6d7610fe2c5332631aa7 implements bluepring addsecuritygroups
https://review.opendev.org/487400,Allow creating security group rules for ICMP,"Allow creating security group rules for ICMP At the moment, it's not possible to create a security group rule with from port and to port set to -1. This is useful only when creating ICMP rules to allow all ICMP traffic. This patch allows setting both values to -1, only if the protocol of the security group rule is ICMP. Change-Id: I290005b31fd4afc246db28ffd899302fb85a67fb (cherry picked from commit dad40312ebc12c3f79ef71fc0649342c102b59fa)",1004,Mohammed Naser,"[3, 3153, 14985]","['Jenkins', 'Emilien Macchi', 'Alex Schultz']",allow creating security group rules icmp moment possible create security group rule port port set 1 useful creating icmp rules allow icmp traffic patch allows setting values 1 protocol security group rule icmp changeid i290005b31fd4afc246db28ffd899302fb85a67fb cherry picked commit dad40312ebc12c3f79ef71fc0649342c102b59fa
https://review.opendev.org/487399,Allow creating security group rules for ICMP,"Allow creating security group rules for ICMP At the moment, it's not possible to create a security group rule with from port and to port set to -1. This is useful only when creating ICMP rules to allow all ICMP traffic. This patch allows setting both values to -1, only if the protocol of the security group rule is ICMP. Change-Id: I290005b31fd4afc246db28ffd899302fb85a67fb (cherry picked from commit dad40312ebc12c3f79ef71fc0649342c102b59fa)",1004,Mohammed Naser,"[3, 3153, 14985]","['Jenkins', 'Emilien Macchi', 'Alex Schultz']",allow creating security group rules icmp moment possible create security group rule port port set 1 useful creating icmp rules allow icmp traffic patch allows setting values 1 protocol security group rule icmp changeid i290005b31fd4afc246db28ffd899302fb85a67fb cherry picked commit dad40312ebc12c3f79ef71fc0649342c102b59fa
https://review.opendev.org/487205,Allow creating security group rules for ICMP,"Allow creating security group rules for ICMP At the moment, it's not possible to create a security group rule with from port and to port set to -1. This is useful only when creating ICMP rules to allow all ICMP traffic. This patch allows setting both values to -1, only if the protocol of the security group rule is ICMP. Change-Id: I290005b31fd4afc246db28ffd899302fb85a67fb",1004,Mohammed Naser,"[3, 1607, 3153, 8971]","['Jenkins', 'Yu xingchao', 'Emilien Macchi', 'Fuel CI']",allow creating security group rules icmp moment possible create security group rule port port set 1 useful creating icmp rules allow icmp traffic patch allows setting values 1 protocol security group rule icmp changeid i290005b31fd4afc246db28ffd899302fb85a67fb
https://review.opendev.org/485052,add security groups and unsafe traffic policies,add security groups policy policy that classifies security groups and extends to network ports and compute instances. Change-Id: I779493a1dcf4eb4b09d2f9c28a730edd5365cfc7,18591,Eric Kao,"[3, 8215, 18591]","['Jenkins', 'Tim Hinrichs', 'Eric Kao']",add security groups policy policy classifies security groups extends network ports compute instances changeid i779493a1dcf4eb4b09d2f9c28a730edd5365cfc7
https://review.opendev.org/487040,Remove 'tags' from security group rule,"Remove 'tags' from security group rule Neutron added [1] tags support to various objects, including security group (rules). This change removes the key from the object dictionary in NB model creation. [1] https://review.openstack.org/#/c/460391 Change-Id: I3f4dd049ab14e1727d34cda8f3ef69fd32ef6c06",20229,Omer Anson,"[3, 20229, 23766, 26131]","['Jenkins', 'Omer Anson', 'Dima Kuznetsov', 'Eyal Leshem']",remove tags security group rule neutron added 1 tags support various objects including security group rules change removes key object dictionary nb model creation 1 httpsreviewopenstackorgc460391 changeid i3f4dd049ab14e1727d34cda8f3ef69fd32ef6c06
https://review.opendev.org/485058,Only ensure default security group exists if necessary,"Only ensure default security group exists if necessary A default security group will be assigned to a port if there is no security group attribute set. In many use cases a port may be created with a security group or with no security groups. The latter may be in a NFV use case with direct port support. This change save a few cycles, more specifically we do not need to read from the DB or create a default security group if the default will not be used. TrivialFix Change-Id: Ib072c2753862ce0709a67942527e9c6241130042",1653,garyk,"[3, 748, 841, 1653, 7787, 9845, 10385, 15471, 15752, 16376, 20330, 23360]","['Jenkins', 'Armando Migliaccio', 'Akihiro Motoki', 'garyk', 'Kevin Benton', 'Arista CI', 'Citrix XenServer CI', 'Nguyen Phuong An', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'Eric Lei']",ensure default security group exists necessary default security group assigned port security group attribute set many use cases port may created security group security groups latter may nfv use case direct port support change save cycles specifically need read db create default security group default used trivialfix changeid ib072c2753862ce0709a67942527e9c6241130042
https://review.opendev.org/793198,Add port security to Octavia deploy,Add port security to Octavia deploy The Octavia deploy steps need to enable port security for the neutron-api charm. Partial-Bug: #1927959 Change-Id: I22e17834be2cc56e54a8f3a2b81827c88b82b35d,30561,Peter Matulis,"[13686, 22348]","['Frode Nordahl', 'Zuul']",add port security octavia deploy octavia deploy steps need enable port security neutronapi charm partialbug 1927959 changeid i22e17834be2cc56e54a8f3a2b81827c88b82b35d
https://review.opendev.org/633494,DVS: Disable port security and security group,"DVS: Disable port security and security group When a port is being created on a vlan network it is required to disable port security and security groups, since they are not supported on DVS. Change-Id: I5c6d61f7e50b39d33003a8ec72f2cb4fa400313c Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>",27546,Michal Kelner Mishali,"[9008, 20363, 22348, 27546]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Michal Kelner Mishali']",dvs disable port security security group port created vlan network required disable port security security groups since supported dvs changeid i5c6d61f7e50b39d33003a8ec72f2cb4fa400313c signedoffby michal kelner mishali mkelnermishalvmwarecom
https://review.opendev.org/753877,Fix IP config security violations in sysctl.conf,"Fix IP config security violations in sysctl.conf Updated IPv4 and IPv6 config settings in ""/etc/sysctl.conf"" to fix openscap security violations. Some of the IP settings have been left unchanged and non conformant to openscap rules to preserve specific platform requirements. Story: 2008037 Task: 40694 Change-Id: Idc47253fa3e84f82fd88dd4c75a9135acaac7fcc Signed-off-by: Carmen Rata <carmen.rata@windriver.com>",31646,Carmen Rata,"[22348, 24777, 26026, 28431, 28439, 28459, 28558, 28652, 31646]","['Zuul', 'Steven Webster', 'Greg Waines', 'Don Penney', 'Matt Peters', 'Bob Church', 'Ghada Khalil', 'Jim Somerville', 'Carmen Rata']",fix ip config security violations sysctlconf updated ipv4 ipv6 config settings etcsysctlconf fix openscap security violations ip settings left unchanged non conformant openscap rules preserve specific platform requirements story 2008037 task 40694 changeid idc47253fa3e84f82fd88dd4c75a9135acaac7fcc signedoffby carmen rata carmenratawindrivercom
https://review.opendev.org/484796,NSX|V: ensure no sec groups if network port security is disabled,NSX|V: ensure no sec groups if network port security is disabled In the event that a network has port security disabled and there is no security group passed when the port is created we do not configure the default security group. This is due to the fact that port security disabled should have no security groups. Change-Id: Icc80fd06705e8964fdb17fdf76e29dee7cc4339c,1653,garyk,"[3, 1653, 9008, 9423, 12024, 20382]","['Jenkins', 'garyk', 'VMware NSX CI', 'Roey Chen', 'Tong Liu', 'YuYang']",nsxv ensure sec groups network port security disabled event network port security disabled security group passed port created configure default security group due fact port security disabled security groups changeid icc80fd06705e8964fdb17fdf76e29dee7cc4339c
https://review.opendev.org/475776,Add security groups and security group rules to OVNClient,Add security groups and security group rules to OVNClient This patch is adding the security groups and security group rules resources to the OVNClient so later we can use it for journaling. Partial-Bug: #1605089 Change-Id: I452819c95173ca9a653a7557fdd7eeac6e4047d2,6773,Lucas Alvares Gomes,"[3, 11762, 23458, 23804]","['Jenkins', 'Han Zhou', 'Dong Jun', 'Daniel Alvarez']",add security groups security group rules ovnclient patch adding security groups security group rules resources ovnclient later use journaling partialbug 1605089 changeid i452819c95173ca9a653a7557fdd7eeac6e4047d2
https://review.opendev.org/479092,Add tempest tests for security groups,[WIP] Add tempest tests for security groups Change-Id: I91ee27ad4940093746e0f0f9f3440f99a307edb0,11536,hongbin,"[3, 10206, 11536, 22076, 22406]","['Jenkins', 'Madhuri Kumari', 'hongbin', 'Kevin Zhao', 'Kien Nguyen']",wip add tempest tests security groups changeid i91ee27ad4940093746e0f0f9f3440f99a307edb0
https://review.opendev.org/479357,Update security compliance documentation,WIP - Cleanup security compliance documentation Closes-Bug: #1701389 Change-Id: I36be658f0a1efb25c55b24596bf67639c69c89d9,21420,Gage Hugo,"[3, 5046, 6482, 10607, 21420]","['Jenkins', 'Lance Bragstad', 'Steve Martinelli', 'Alexandra Settle', 'Gage Hugo']",wip cleanup security compliance documentation closesbug 1701389 changeid i36be658f0a1efb25c55b24596bf67639c69c89d9
https://review.opendev.org/475076,Add security groups to container create/run,"Add security groups to container create/run This allows users to create container with custom security groups. If it is not specified, the ""default"" security group will be used. Change-Id: I3314a6ad21b4fd5032933f48aa448568cda73a27 Closes-Bug: #1694338",11536,hongbin,"[3, 8264, 10206, 16277, 22076, 23317, 23365]","['Jenkins', 'Shunli Zhou', 'Madhuri Kumari', 'Pradeep Kumar Singh', 'Kevin Zhao', 'ShangXiao', 'feng.shengqin']",add security groups container createrun allows users create container custom security groups specified default security group used changeid i3314a6ad21b4fd5032933f48aa448568cda73a27 closesbug 1694338
https://review.opendev.org/478166,Fix security group choice field population,Fix security group choice field population The network abstraction layer has been removed from horizon/openstack_dashboard API. See: https://review.openstack.org/#/c/466645/ https://review.openstack.org/#/q/topic:bp/drop-nova-network Use neutron API to populate the list of existing security groups instead. Closes-Bug: 1697688 Change-Id: I57b92974db3f510f69e7e552d53cefa28a53d9ad,26089,Gerry Buteau,"[3, 7821, 15168, 23186]","['Jenkins', 'Murano CI', 'Kirill Zaitsev', 'Felipe Monteiro']",fix security group choice field population network abstraction layer removed horizonopenstackdashboard api see httpsreviewopenstackorgc466645 httpsreviewopenstackorgqtopicbpdropnovanetwork use neutron api populate list existing security groups instead closesbug 1697688 changeid i57b92974db3f510f69e7e552d53cefa28a53d9ad
https://review.opendev.org/475504,[Docs] Replace security role references,[Docs] Replace security role references This patch changes any reference of openstack-ansible-security to ansible-hardening. Manual backport of Ib2e2585f405796d34d59813bb0a47bc6a0f83679 due to docs overhaul between Newton and Ocata. Change-Id: Iaa3d7256d3e0d05cf78d7d7fc73309cd63688ac7,538,Major Hayden,"[3, 6816, 12402]","['Jenkins', 'Jesse Pretorius', 'Robb Romans']",docs replace security role references patch changes reference openstackansiblesecurity ansiblehardening manual backport ib2e2585f405796d34d59813bb0a47bc6a0f83679 due docs overhaul newton ocata changeid iaa3d7256d3e0d05cf78d7d7fc73309cd63688ac7
https://review.opendev.org/475498,Add retirement warnings to security role,"Add retirement warnings to security role This patch adds deprecation/retirement warnings to the documentation, README files, and the role itself. Change-Id: I419ee0d3bcd3a772f6864acd3d07b062bf6cd7c5 (cherry picked from commit b97de6d748e96b6a4eb035d15d3c6ec73fdbff5d)",538,Major Hayden,"[3, 6816, 14805]","['Jenkins', 'Jesse Pretorius', 'Jimmy McCrory']",add retirement warnings security role patch adds deprecationretirement warnings documentation readme files role changeid i419ee0d3bcd3a772f6864acd3d07b062bf6cd7c5 cherry picked commit b97de6d748e96b6a4eb035d15d3c6ec73fdbff5d
https://review.opendev.org/457860,Count security groups to check quota,Count security groups to check quota This changes security groups from a ReservableResource to a CountableResource and replaces quota reserve/commit/rollback with check_deltas accordingly. Note that security group quota is only relevant to nova-network and will be obsolete when nova-network is removed. Part of blueprint cells-count-resources-to-check-quota-in-api Change-Id: I51b74b863fafd14ef31b1abd9fd9820deb622aeb,4690,melanie witt,"[3, 2750, 4393, 4690, 6062, 6873, 8871, 9008, 9732, 10118, 10385, 13915, 14384, 14571, 14595, 15286, 15751, 15941, 16128, 16376, 16897, 16898, 20040, 21784]","['Jenkins', 'Sean Dague', 'Dan Smith', 'melanie witt', 'jichencom', 'Matt Riedemann', 'Elastic Recheck', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Silvan Kaiser', 'Quobyte CI', 'Intel Experimental CI', 'IBM zKVM CI', 'XenProject CI', 'Intel PCI CI', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Microsoft Hyper-V Compute CI', 'Radek Zetik']",count security groups check quota changes security groups reservableresource countableresource replaces quota reservecommitrollback checkdeltas accordingly note security group quota relevant novanetwork obsolete novanetwork removed part blueprint cellscountresourcestocheckquotainapi changeid i51b74b863fafd14ef31b1abd9fd9820deb622aeb
https://review.opendev.org/451798,Show security groups in Port detail page,Show security groups in Port detail page Closes-Bug: #1677535 Change-Id: I3558b0354dfd91fa3b30afee9263e8bf90482ebd,841,Akihiro Motoki,"[3, 841, 1736, 6763, 8648, 11592, 11880, 11885, 12826, 16628, 17172, 25747]","['Jenkins', 'Akihiro Motoki', 'Ivan Kolodyazhny', 'Liuqing Jing', 'Radomir Dopieralski', 'Julie Gravel', 'Gloria Gu', 'Ying Zuo', 'Rob Cresswell', 'Beth Elwell', 'Kenji Ishii', 'Debo Zhang']",show security groups port detail page closesbug 1677535 changeid i3558b0354dfd91fa3b30afee9263e8bf90482ebd
https://review.opendev.org/471888,Test coverage for network v2 security group rules client,"Test coverage for network v2 security group rules client According to the tempest lib documentation [0]: ""When adding a new interface to the library we need to at a minimum have unit test coverage. A proposed change to add an interface to tempest/lib that doesn't have unit tests shouldn't be accepted. Ideally these unit tests will provide sufficient coverage to ensure a stable interface moving forward."" Thus test coverage should be provided for existing clients in tempest.lib that lack unit tests. This patch adds test coverage for network v2 security_group_rules_client. [0] https://docs.openstack.org/developer/tempest/library.html#testing Partially Implements: blueprint tempest-lib-missing-test-coverage Change-Id: I1d937ec551a41707ab66b4c0d400e0f5edde54e0",23186,Felipe Monteiro,"[3, 5689, 8556]","['Jenkins', 'Masayuki Igawa', 'Ghanshyam']",test coverage network v2 security group rules client according tempest lib documentation 0 adding new interface library need minimum unit test coverage proposed change add interface tempestlib doesnt unit tests shouldnt accepted ideally unit tests provide sufficient coverage ensure stable interface moving forward thus test coverage provided existing clients tempestlib lack unit tests patch adds test coverage network v2 securitygrouprulesclient 0 httpsdocsopenstackorgdevelopertempestlibraryhtmltesting partially implements blueprint tempestlibmissingtestcoverage changeid i1d937ec551a41707ab66b4c0d400e0f5edde54e0
https://review.opendev.org/474942,Fix multiple nics use same security display repeat.,Fix multiple nics use same security display repeat. Closes-Bug:1698341 Change-Id: I5e0213927ed6571d67dee97e4a5f0af61f12705f Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>,23517,chenyb4,"[3, 8246, 22998]","['Jenkins', 'Qiming Teng', 'XueFeng Liu']",fix multiple nics use security display repeat closesbug1698341 changeid i5e0213927ed6571d67dee97e4a5f0af61f12705f signedoffby yuanbinchen cybing4gmailcom
https://review.opendev.org/473837,[Docs] Replace security role references,[Docs] Replace security role references This patch changes any reference of openstack-ansible-security to ansible-hardening. Manual backport of Ib264e31a926c05380b0d1dcd630ad8f3fd1e58f3 due to conflicts in docs and the STIG renumbering. Change-Id: Ib2e2585f405796d34d59813bb0a47bc6a0f83679,538,Major Hayden,"[3, 538, 6816, 17068]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Jean-Philippe Evrard']",docs replace security role references patch changes reference openstackansiblesecurity ansiblehardening manual backport ib264e31a926c05380b0d1dcd630ad8f3fd1e58f3 due conflicts docs stig renumbering changeid ib2e2585f405796d34d59813bb0a47bc6a0f83679
https://review.opendev.org/475447,Add retirement warnings to security role,"Add retirement warnings to security role This patch adds deprecation/retirement warnings to the documentation, README files, and the role itself. Change-Id: I419ee0d3bcd3a772f6864acd3d07b062bf6cd7c5",538,Major Hayden,"[3, 6816, 7353]","['Jenkins', 'Jesse Pretorius', 'Kevin Carter']",add retirement warnings security role patch adds deprecationretirement warnings documentation readme files role changeid i419ee0d3bcd3a772f6864acd3d07b062bf6cd7c5
https://review.opendev.org/470644,Test coverage for network v2 security groups client,"Test coverage for network v2 security groups client According to the tempest lib documentation [0]: ""When adding a new interface to the library we need to at a minimum have unit test coverage. A proposed change to add an interface to tempest/lib that doesn't have unit tests shouldn't be accepted. Ideally these unit tests will provide sufficient coverage to ensure a stable interface moving forward."" Thus test coverage should be provided for existing clients in tempest.lib that lack unit tests. This patch adds test coverage for network v2 security_groups_client. [0] https://docs.openstack.org/developer/tempest/library.html#testing Partially Implements: blueprint tempest-lib-missing-test-coverage Change-Id: I071ee991f8e3fe7ae741787563566734ddd93b8d",23186,Felipe Monteiro,"[3, 5689, 6167, 10385, 12024, 12033]","['Jenkins', 'Masayuki Igawa', ""Ken'ichi Ohmichi"", 'Citrix XenServer CI', 'Tong Liu', 'DellEMC XtremIO CI']",test coverage network v2 security groups client according tempest lib documentation 0 adding new interface library need minimum unit test coverage proposed change add interface tempestlib doesnt unit tests shouldnt accepted ideally unit tests provide sufficient coverage ensure stable interface moving forward thus test coverage provided existing clients tempestlib lack unit tests patch adds test coverage network v2 securitygroupsclient 0 httpsdocsopenstackorgdevelopertempestlibraryhtmltesting partially implements blueprint tempestlibmissingtestcoverage changeid i071ee991f8e3fe7ae741787563566734ddd93b8d
https://review.opendev.org/284738,Integrate Security Groups OVO,WIP: Introduces ovo objects for security groups This patch introduces the oslo versioned objects needed for the security group extension and adds required test cases for the same. Change-Id: I2d43ad79eb004e68866050fbd63d166920b9f2b0,9178,Sayali Lunkad,"[3, 4, 748, 841, 1653, 5170, 5367, 6542, 6788, 7787, 8655, 8726, 8871, 9178, 9423, 9551, 9656, 9681, 9732, 9845, 10184, 10385, 10386, 10692, 11255, 14208, 14212, 14213, 14323, 14571, 15443, 15518, 15752, 16376, 17120, 17292, 17491, 19591, 20330]","['Jenkins', 'Dolph Mathews', 'Armando Migliaccio', 'Akihiro Motoki', 'garyk', 'Microsoft Hyper-V CI', 'boden', 'j_king', 'Rossella Sblendido', 'Kevin Benton', 'Jakub Libosvar', 'Victor Morales', 'Elastic Recheck', 'Sayali Lunkad', 'Roey Chen', 'Martin Hickey', 'Ihar Hrachyshka', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'Nuage CI', 'Citrix XenServer CI', 'OpenDaylight CI', 'Brocade Vyatta CI', 'Dustin Lundquist', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'Cisco UCSM CI', 'Artur Korzeniewski', 'Intel SR-IOV CI', 'Intel NFV CI', 'Manjeet Singh Bhatia', 'Michal Ptacek', 'Lujin Luo', 'Saisrikiran Mudigonda', 'Microsoft Hyper-V Networking CI']",wip introduces ovo objects security groups patch introduces oslo versioned objects needed security group extension adds required test cases changeid i2d43ad79eb004e68866050fbd63d166920b9f2b0
https://review.opendev.org/462251,Adds server security group tests,Adds server security group tests Adds server security group RBAC tests and updates Nova security group RBAC tests. Change-Id: I7008e9d489517caa6b8ad743035661a3ab7c93af Closes-Bug: #1687315,23185,Samantha Blanco,"[3, 8871, 17896, 23184, 23185, 23186]","['Jenkins', 'Elastic Recheck', 'Rick Bartra', 'DavidPurcell', 'Samantha Blanco', 'Felipe Monteiro']",adds server security group tests adds server security group rbac tests updates nova security group rbac tests changeid i7008e9d489517caa6b8ad743035661a3ab7c93af closesbug 1687315
https://review.opendev.org/469145,[Docs] Replace security role references,[WIP] [Docs] Replace security role references This patch changes any reference of openstack-ansible-security to ansible-hardening. Change-Id: Ib264e31a926c05380b0d1dcd630ad8f3fd1e58f3,538,Major Hayden,"[3, 538, 6816, 17068]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Jean-Philippe Evrard']",wip docs replace security role references patch changes reference openstackansiblesecurity ansiblehardening changeid ib264e31a926c05380b0d1dcd630ad8f3fd1e58f3
https://review.opendev.org/469327,Provide fallback for disabled port security extension,Provide fallback for disabled port security extension The push notification logic always assumed the port security object would exist but it is not present on the port when the extension is disabled. This defaults it to true like the server side code.[1] 1. https://github.com/openstack/neutron/blob/c430e9b8d41c139284e840be37629afcdbc96b37/neutron/plugins/ml2/rpc.py#L142 Change-Id: Ice89ad9dd486ad5fcac534ef5f7d8aae3b6b0f97 Closes-Bug: #1694420,7787,Kevin Benton,"[3, 748, 1653, 8871, 9656, 9732, 9845, 10385, 15752, 16376, 17776, 20330]","['Jenkins', 'Armando Migliaccio', 'garyk', 'Elastic Recheck', 'Ihar Hrachyshka', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Reedip', 'Microsoft Hyper-V Networking CI']",provide fallback disabled port security extension push notification logic always assumed port security object would exist present port extension disabled defaults true like server side code1 1 httpsgithubcomopenstackneutronblobc430e9b8d41c139284e840be37629afcdbc96b37neutronpluginsml2rpcpyl142 changeid ice89ad9dd486ad5fcac534ef5f7d8aae3b6b0f97 closesbug 1694420
https://review.opendev.org/471022,fix image name and placeholder for security hardened job,fix image name for selecting security hardened job Change-Id: Iaa62220a5fdfdd771d6ca0e12650609c2c4e72db,6133,yolanda.robla,"[2, 3, 6133]","['Monty Taylor', 'Jenkins', 'yolanda.robla']",fix image name selecting security hardened job changeid iaa62220a5fdfdd771d6ca0e12650609c2c4e72db
https://review.opendev.org/468969,Avoid creating port without security groups,"Avoid setting security groups to empty list If the security groups is an empty list, the neutron port won't have any connectivity. This is a pitfall. We should avoid setting the security group to an empty list if it is not provided by users. Instead, we should keep it as None so that neutron will associate the 'default' security group to the port. Change-Id: I7d79bf2ddb8272f003a2f648532226f405822649 Closes-Bug: #1694336",11536,hongbin,"[3, 10206, 16277, 22076]","['Jenkins', 'Madhuri Kumari', 'Pradeep Kumar Singh', 'Kevin Zhao']",avoid setting security groups empty list security groups empty list neutron port wont connectivity pitfall avoid setting security group empty list provided users instead keep none neutron associate default security group port changeid i7d79bf2ddb8272f003a2f648532226f405822649 closesbug 1694336
https://review.opendev.org/464082,Fix potential security issue with permissions,Fix potential security issue with permissions Change-Id: I38dfc4d2697f79539d726d6b2a9a84ce5a7a63df,11858,Dmytro,"[3, 10068, 12953, 18354]","['Jenkins', 'Welcome, new contributor!', 'Nikita Koshikov', 'Plugins CI']",fix potential security issue permissions changeid i38dfc4d2697f79539d726d6b2a9a84ce5a7a63df
https://review.opendev.org/470351,"Revert ""Add creation of security hardened images""","Revert ""Add creation of security hardened images"" This is causing us to always build the hardened image, which is a huge waste of time and disk space. The hardened image needs to be added in a separate yaml file so it can be built as needed. This reverts commit fc07b696ac2c45c3f914b85b750e471fceb5c390. Change-Id: I4493c8196dff9b615d75812118082e7d374a7c25",6928,Ben Nemec,"[3, 3153, 6928, 7144, 14985]","['Jenkins', 'Emilien Macchi', 'Ben Nemec', 'James Slagle', 'Alex Schultz']",revert add creation security hardened images causing us always build hardened image huge waste time disk space hardened image needs added separate yaml file built needed reverts commit fc07b696ac2c45c3f914b85b750e471fceb5c390 changeid i4493c8196dff9b615d75812118082e7d374a7c25
https://review.opendev.org/448528,Add creation of security hardened images,"WIP: Add creation of security hardened images Those images won't use baremetal element, but will use bootloader instead. That image also comes with pre-created volumes with the right security flags, as well as enabling some extra flags on grub, and blacklisting some modules. Change-Id: I541055fe81900b91e2bf131f1e95ce08c94f2554 Depends-On: I5c2317f467b6965f2d1a7d9f7ee1c8455098c863 Depends-On: I292fb70cde41ee6053b7b81a67931bcdaaa6d664 Depends-On: I153f979722eaec49eab93d7cd398c5589b9bfc44",6133,yolanda.robla,"[3, 3153, 6133, 10873, 17893, 23811]","['Jenkins', 'Emilien Macchi', 'yolanda.robla', 'Juan Antonio Osorio Robles', 'Luke Hinds', 'Oliver Walsh']",wip add creation security hardened images images wont use baremetal element use bootloader instead image also comes precreated volumes right security flags well enabling extra flags grub blacklisting modules changeid i541055fe81900b91e2bf131f1e95ce08c94f2554 dependson i5c2317f467b6965f2d1a7d9f7ee1c8455098c863 dependson i292fb70cde41ee6053b7b81a67931bcdaaa6d664 dependson i153f979722eaec49eab93d7cd398c5589b9bfc44
https://review.opendev.org/468361,Fix security group rules created for dhcpv6,"Fix security group rules created for dhcpv6 In [1] the setup of security group rules for DHCP was refactored. However it assumed that DHCPv6 responses would go to the target IP, instead the destination will be the link-local address of the instance, so we will need to add this to the list of allowed destinations. Change-Id: I6bd24a98d7c72a1bac28999eb3c9a831ab2ab9bf Closes-Bug: 1693771",13252,Dr. Jens Harbott,"[3, 1131, 4694, 7787, 9845, 13252, 15752]","['Jenkins', 'Brian Haley', 'Miguel Lavalle', 'Kevin Benton', 'Arista CI', 'Dr. Jens Harbott', 'Intel SR-IOV CI']",fix security group rules created dhcpv6 1 setup security group rules dhcp refactored however assumed dhcpv6 responses would go target ip instead destination linklocal address instance need add list allowed destinations changeid i6bd24a98d7c72a1bac28999eb3c9a831ab2ab9bf closesbug 1693771
https://review.opendev.org/469674,fix security groups removed from novaclient,fix security groups removed from novaclient Change-Id: Ie93aca03ca540bc9697df8460e5cca8533053071,23188,Jan Balaz,"[3, 11744]","['Jenkins', 'Alec Hothan']",fix security groups removed novaclient changeid ie93aca03ca540bc9697df8460e5cca8533053071
https://review.opendev.org/469809,Start building security hardened images on tripleo,"Start building security hardened images on tripleo Adding experimental jobs to diskimage-builder and python-tripleoclient, to start building security hardened images on an experimental mode. Change-Id: I7d50958f6007dec23b4d1465518a78eca9eaf951",6133,yolanda.robla,"[3, 3153, 6133, 6547]","['Jenkins', 'Emilien Macchi', 'yolanda.robla', 'Andreas Jaeger']",start building security hardened images tripleo adding experimental jobs diskimagebuilder pythontripleoclient start building security hardened images experimental mode changeid i7d50958f6007dec23b4d1465518a78eca9eaf951
https://review.opendev.org/469273,Fix security group rules created for dhcpv6,"Fix security group rules created for dhcpv6 In [1] the setup of security group rules for DHCP was refactored. However it assumed that DHCPv6 responses would go to the target IP, instead the destination will be the link-local address of the instance, so we will need to add this to the list of allowed destinations. [1] Ibfbf011284cbde396f74db9d982993f994082731 Change-Id: I6bd24a98d7c72a1bac28999eb3c9a831ab2ab9bf Closes-Bug: 1693771 (cherry picked from commit 1e9aca11b9736993e39972a36ecd53765f4b580a)",7787,Kevin Benton,"[3, 748, 1131, 9732]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'Mellanox CI']",fix security group rules created dhcpv6 1 setup security group rules dhcp refactored however assumed dhcpv6 responses would go target ip instead destination linklocal address instance need add list allowed destinations 1 ibfbf011284cbde396f74db9d982993f994082731 changeid i6bd24a98d7c72a1bac28999eb3c9a831ab2ab9bf closesbug 1693771 cherry picked commit 1e9aca11b9736993e39972a36ecd53765f4b580a
https://review.opendev.org/466427,Allow port security updates even without security-groups enabled,"Allow port security updates even without security-groups enabled Port security is useful to enforce anti-spoofing rules, and those can operate even in the absence of security groups. This patch alters the existing code path to allow port_update operations even when the admin disables security_groups from the deployment. Closes-bug: 1658682 (cherry picked from commit e49edd7ec32e302df7db44194076a55fd2b5d309) Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99",748,Armando Migliaccio,"[3, 748, 7787, 9656, 9732, 10385, 16376, 20330]","['Jenkins', 'Armando Migliaccio', 'Kevin Benton', 'Ihar Hrachyshka', 'Mellanox CI', 'Citrix XenServer CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",allow port security updates even without securitygroups enabled port security useful enforce antispoofing rules operate even absence security groups patch alters existing code path allow portupdate operations even admin disables securitygroups deployment closesbug 1658682 cherry picked commit e49edd7ec32e302df7db44194076a55fd2b5d309 changeid if1d9a662e362639798ad93ff06d820852b0f0c99
https://review.opendev.org/467709,v2: Replace security group implementation with ML2 version,"v2: Replace security group implementation with ML2 version The recent Neutron change [1] introduced a race in our v2 plugin for the default security group creation. Instead of trying to adapt the v2 plugin code, just switch the implementation to the one in our ML2 driver. Note: This breaks the task-based client because the implementation doesn't call the client precommit methods. [1] Iaa83c8664d5bfde31fdcdd694f6f18d9ef9bf14a Closes-Bug: #1671848 Change-Id: I17262ecca2b8e2c29fdf2a90e01fc668cf2ca6a4 (cherry picked from commit 708f97aba8500336488622f30725acbc5b7cde7c) Conflicts: midonet/neutron/plugin_v2.py",6854,YAMAMOTO Takashi,"[3, 156, 748, 9656]","['Jenkins', 'Ryu Ishimoto', 'Armando Migliaccio', 'Ihar Hrachyshka']",v2 replace security group implementation ml2 version recent neutron change 1 introduced race v2 plugin default security group creation instead trying adapt v2 plugin code switch implementation one ml2 driver note breaks taskbased client implementation doesnt call client precommit methods 1 iaa83c8664d5bfde31fdcdd694f6f18d9ef9bf14a closesbug 1671848 changeid i17262ecca2b8e2c29fdf2a90e01fc668cf2ca6a4 cherry picked commit 708f97aba8500336488622f30725acbc5b7cde7c conflicts midonetneutronpluginv2py
https://review.opendev.org/468174,Fix deployment errors when security options disabled,Fix deployment error when security options disabled Closes-Bug: #1693208 Change-Id: I3f8a3f9b02e9ce0854c6992ae94a101be372de97,19578,Olivier Bourdon,"[3, 14774, 19578]","['Jenkins', 'Fuel TPI CI', 'Olivier Bourdon']",fix deployment error security options disabled closesbug 1693208 changeid i3f8a3f9b02e9ce0854c6992ae94a101be372de97
https://review.opendev.org/465540,NSX|V: honor provider security rules,NSX|V: honor provider security rules Prevent port security from being disabled if there is a provider security rule. Change-Id: I68bfadca11117afedee40ba27567db78906a27d9,1653,garyk,"[3, 1653, 9008, 20363, 24247]","['Jenkins', 'garyk', 'VMware NSX CI', 'Adit Sarfaty', 'Anna Khmelnitsky']",nsxv honor provider security rules prevent port security disabled provider security rule changeid i68bfadca11117afedee40ba27567db78906a27d9
https://review.opendev.org/466428,Allow port security updates even without security-groups enabled,"Allow port security updates even without security-groups enabled Port security is useful to enforce anti-spoofing rules, and those can operate even in the absence of security groups. This patch alters the existing code path to allow port_update operations even when the admin disables security_groups from the deployment. Closes-bug: 1658682 (cherry picked from commit e49edd7ec32e302df7db44194076a55fd2b5d309) Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99",748,Armando Migliaccio,"[3, 748, 9656, 9732, 16376, 20330]","['Jenkins', 'Armando Migliaccio', 'Ihar Hrachyshka', 'Mellanox CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI']",allow port security updates even without securitygroups enabled port security useful enforce antispoofing rules operate even absence security groups patch alters existing code path allow portupdate operations even admin disables securitygroups deployment closesbug 1658682 cherry picked commit e49edd7ec32e302df7db44194076a55fd2b5d309 changeid if1d9a662e362639798ad93ff06d820852b0f0c99
https://review.opendev.org/466158,Allow port security updates even without security-groups enabled,DNM: let port security updates through without security-groups API Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99 Closes-bug: 1658682,748,Armando Migliaccio,"[3, 7787, 9656, 9732, 10385, 15309, 15752, 16376, 17776, 20330]","['Jenkins', 'Kevin Benton', 'Ihar Hrachyshka', 'Mellanox CI', 'Citrix XenServer CI', 'zhaobo', 'Intel SR-IOV CI', 'Intel NFV CI', 'Reedip', 'Microsoft Hyper-V Networking CI']",dnm let port security updates without securitygroups api changeid if1d9a662e362639798ad93ff06d820852b0f0c99 closesbug 1658682
https://review.opendev.org/467899,use neutron-lib port security api-def,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile. This patch consumes the definition from neutron-lib. See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details. Change-Id: Ia0be0363f1ee8a6c86b44673a8c2a4b7a02f0868,20229,Omer Anson,"[3, 6598, 6854, 7805, 11159, 23235, 23766]","['Jenkins', 'Berezovsky Irena', 'YAMAMOTO Takashi', 'Li Ma', 'Hong Hui Xiao', 'Lihi Wishnitzer', 'Dima Kuznetsov']",use neutronlib port security apidef port security api definition neutronlib awhile patch consumes definition neutronlib see if43b65861efc536d01c43dc0d2bbcbcf062c1271 additional details changeid ia0be0363f1ee8a6c86b44673a8c2a4b7a02f0868
https://review.opendev.org/461464,use neutron-lib port security api-def,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile. This patch consumes the definition from neutron-lib. NeutronLibImpact - Consumers using the public definitions from neutron.extensions.portsecurity must now switch over to the api-def in neutron-lib. See the changes herein for additional details. Change-Id: If43b65861efc536d01c43dc0d2bbcbcf062c1271,5367,boden,"[3, 5367, 7787, 9656, 9732, 9845]","['Jenkins', 'boden', 'Kevin Benton', 'Ihar Hrachyshka', 'Mellanox CI', 'Arista CI']",use neutronlib port security apidef port security api definition neutronlib awhile patch consumes definition neutronlib neutronlibimpact consumers using public definitions neutronextensionsportsecurity must switch apidef neutronlib see changes herein additional details changeid if43b65861efc536d01c43dc0d2bbcbcf062c1271
https://review.opendev.org/463964,Improve security of the Nova migration,"Improve security of the Nova migration Several improvements have been made: - SSH is now the default protocol for Nova migration. - A specific user for migration is required, instead of nova Change-Id: I21d131b7dab735ee9c5a033a3108490f5bdfb8cb",13294,Javier Peña,"[3, 1955, 9061, 13294, 14985, 16312, 23811]","['Jenkins', 'Alan Pevec', 'David Moreau Simard', 'Javier Peña', 'Alex Schultz', 'Alfredo Moralejo', 'Oliver Walsh']",improve security nova migration several improvements made ssh default protocol nova migration specific user migration required instead nova changeid i21d131b7dab735ee9c5a033a3108490f5bdfb8cb
https://review.opendev.org/466668,Missing security support,Missing security support This fix provides the security support to Synergy. Bug: #1691352 Change-Id: I2535b2a3edeea5e56cd8918d01070a6f8a534c3e Sem-Ver: bugfix,19581,Lisa Zangrando,"[3, 19581, 20409, 22913]","['Jenkins', 'Lisa Zangrando', 'Vincent Llorens', 'Ervin']",missing security support fix provides security support synergy bug 1691352 changeid i2535b2a3edeea5e56cd8918d01070a6f8a534c3e semver bugfix
https://review.opendev.org/456682,Add widget for choosing an existing security group,[WIP] Add widget for choosing an existing security group Change-Id: Iaa23ea5e18459e97dced6ee20191d83a2dec66dd Depends-On: I60d37cfe034c467e894ee93cf3718e463bf49337 Implements: blueprint app-use-existing-security-group,1390,Paul Bourke (pbourke),"[3, 1390, 7821, 15168, 23186]","['Jenkins', 'Paul Bourke (pbourke)', 'Murano CI', 'Kirill Zaitsev', 'Felipe Monteiro']",wip add widget choosing existing security group changeid iaa23ea5e18459e97dced6ee20191d83a2dec66dd dependson i60d37cfe034c467e894ee93cf3718e463bf49337 implements blueprint appuseexistingsecuritygroup
https://review.opendev.org/462076,Create server with security group ID and name,"Create server with security group ID and name Both resource ID and name are supported to identify an object in openstackclient to make user easy to input, for security group, nova only support security group name in API when launch a new server, this patch convert ID to name, then pass name to nova API, and check the security group exist before creating server. Change-Id: I1ed4a967fb9de3f91c8945a1ef63f6c7b6b2dfb2 Closes-Bug: #1687814",8276,kiwik,"[3, 841, 970, 6482, 8276, 15471]","['Jenkins', 'Akihiro Motoki', 'Dean Troyer', 'Steve Martinelli', 'kiwik', 'Nguyen Phuong An']",create server security group id name resource id name supported identify object openstackclient make user easy input security group nova support security group name api launch new server patch convert id name pass name nova api check security group exist creating server changeid i1ed4a967fb9de3f91c8945a1ef63f6c7b6b2dfb2 closesbug 1687814
https://review.opendev.org/463528,v2: Replace security group implementation with ML2 version,"v2: Replace security group implementation with ML2 version The recent Neutron change [1] introduced a race in our v2 plugin for the default security group creation. Instead of trying to adapt the v2 plugin code, just switch the implementation to the one in our ML2 driver. Note: This breaks the task-based client because the implementation doesn't call the client precommit methods. [1] Iaa83c8664d5bfde31fdcdd694f6f18d9ef9bf14a Closes-Bug: #1671848 Change-Id: I17262ecca2b8e2c29fdf2a90e01fc668cf2ca6a4",6854,YAMAMOTO Takashi,"[3, 156, 9925, 14824]","['Jenkins', 'Ryu Ishimoto', 'Midokura CI', 'Xavi León']",v2 replace security group implementation ml2 version recent neutron change 1 introduced race v2 plugin default security group creation instead trying adapt v2 plugin code switch implementation one ml2 driver note breaks taskbased client implementation doesnt call client precommit methods 1 iaa83c8664d5bfde31fdcdd694f6f18d9ef9bf14a closesbug 1671848 changeid i17262ecca2b8e2c29fdf2a90e01fc668cf2ca6a4
https://review.opendev.org/466390,Tempest: Tempest test NSX security groups failing,Tempest: Tempest test NSX security groups failing - NSX firewall realization takes longer time than 2 sec. I increased to 20 and it test cases started passing Change-Id: I409878b4a7d0b40405977790cdb34c518bd80453,20281,Devang Doshi,"[3, 9008, 18118, 20281]","['Jenkins', 'VMware NSX CI', 'Christopher Chu Lin', 'Devang Doshi']",tempest tempest test nsx security groups failing nsx firewall realization takes longer time 2 sec increased 20 test cases started passing changeid i409878b4a7d0b40405977790cdb34c518bd80453
https://review.opendev.org/465151,Fix security role gate,"Fix security role gate This patch removes the `func_rhel7` environment and brings over the verbose options from the tests role. This commit removes the verbose options from the gate job and disables clamav installation in the CI jobs. The clamav package is only available in the EPEL repository, but the EPEL repo has been removed from the CentOS images in the OpenStack gate. This will need to be handled carefully in a later patch. It also removes an apostrophe from `tasks/main.yml` that breaks syntax highlighting in vim. Combined backport of: I44c2e089ff6175b3004ef7f6713622ac615bf6db Ifbfc56ed5fe92887cf5beb6b2703fdc3e1c8bb05 Change-Id: Ieb0a1bb0acd1172600e23555babf66d6bb940a29",538,Major Hayden,"[3, 6816, 7353]","['Jenkins', 'Jesse Pretorius', 'Kevin Carter']",fix security role gate patch removes funcrhel7 environment brings verbose options tests role commit removes verbose options gate job disables clamav installation ci jobs clamav package available epel repository epel repo removed centos images openstack gate need handled carefully later patch also removes apostrophe tasksmainyml breaks syntax highlighting vim combined backport i44c2e089ff6175b3004ef7f6713622ac615bf6db ifbfc56ed5fe92887cf5beb6b2703fdc3e1c8bb05 changeid ieb0a1bb0acd1172600e23555babf66d6bb940a29
https://review.opendev.org/464709,Update devstack plugin for security groups,Update devstack plugin for security groups The nova client no longer supports security group actions. Use the openstack client instead. Change-Id: I6a7740340caa2a7607e95744de31801fa12955cf,3099,David Shrewsbury,"[2, 3]","['Monty Taylor', 'Jenkins']",update devstack plugin security groups nova client longer supports security group actions use openstack client instead changeid i6a7740340caa2a7607e95744de31801fa12955cf
https://review.opendev.org/464718,Update devstack plugin for security groups,Update devstack plugin for security groups The nova client no longer supports security group actions. Use the openstack client instead. Change-Id: I208e8c009d0438de19cd3eb08dc45ddebb45d3e9,3099,David Shrewsbury,"[2, 3]","['Monty Taylor', 'Jenkins']",update devstack plugin security groups nova client longer supports security group actions use openstack client instead changeid i208e8c009d0438de19cd3eb08dc45ddebb45d3e9
https://review.opendev.org/461472,use neutron-lib port security api-def,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile. This patch consumes the definition from neutron-lib. See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details. Change-Id: If9fab91eca9fa9c828a91cbbe99e7d1a9871ed97,5367,boden,"[3, 5367, 6854, 9656, 9925, 14824]","['Jenkins', 'boden', 'YAMAMOTO Takashi', 'Ihar Hrachyshka', 'Midokura CI', 'Xavi León']",use neutronlib port security apidef port security api definition neutronlib awhile patch consumes definition neutronlib see if43b65861efc536d01c43dc0d2bbcbcf062c1271 additional details changeid if9fab91eca9fa9c828a91cbbe99e7d1a9871ed97
https://review.opendev.org/461469,use neutron-lib port security api-def,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile. This patch consumes the definition from neutron-lib. See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details. Change-Id: I934db01ffe43d0cbd9d9bef00d48d4a8b9536e5c,5367,boden,"[3, 1653, 5367, 9008, 20363, 20382, 24247]","['Jenkins', 'garyk', 'boden', 'VMware NSX CI', 'Adit Sarfaty', 'YuYang', 'Anna Khmelnitsky']",use neutronlib port security apidef port security api definition neutronlib awhile patch consumes definition neutronlib see if43b65861efc536d01c43dc0d2bbcbcf062c1271 additional details changeid i934db01ffe43d0cbd9d9bef00d48d4a8b9536e5c
https://review.opendev.org/457058,Drop novalclient security group and floating IP dependency,Drop novalclient security group and floating IP dependency novaclient 8.0.0 dropped python bindings for security group and floating IP. This commit drops security group and floating IP logics from the nova API wrapper. The following changes are made accordingly. * Update unit tests to consume neutron test data * Drop API unit tests for nova security group and floating IP Partially implement blueprint drop-nova-network Change-Id: I946c508d7a82162fc8434213e006513867b79350,841,Akihiro Motoki,"[3, 6593, 11880, 12826, 14288, 25747]","['Jenkins', 'Dirk Mueller', 'Gloria Gu', 'Rob Cresswell', 'Matthew Thode', 'Debo Zhang']",drop novalclient security group floating ip dependency novaclient 800 dropped python bindings security group floating ip commit drops security group floating ip logics nova api wrapper following changes made accordingly update unit tests consume neutron test data drop api unit tests nova security group floating ip partially implement blueprint dropnovanetwork changeid i946c508d7a82162fc8434213e006513867b79350
https://review.opendev.org/457056,Drop Nova security group dependency from dashboard,Drop Nova security group dependency from dashboard This commit drops Nova security group dependency from the dashboard implementation. security group support in the nova API wrapper will be dropped in a separate patch. Also removes api.network.security_group_backend() as it is no longer needed. Partially implement blueprint drop-nova-network Change-Id: I224010eb59068a7cc4f97c2453d499adde7644b4,841,Akihiro Motoki,"[3, 841, 12826]","['Jenkins', 'Akihiro Motoki', 'Rob Cresswell']",drop nova security group dependency dashboard commit drops nova security group dependency dashboard implementation security group support nova api wrapper dropped separate patch also removes apinetworksecuritygroupbackend longer needed partially implement blueprint dropnovanetwork changeid i224010eb59068a7cc4f97c2453d499adde7644b4
https://review.opendev.org/461092,Use the security context of the playbook when checking out roles,"Use the security context of the playbook when checking out roles When the executor checks out and runs content, the security context (trusted or untrusted) comes in to play in two ways: whether speculative merging should be used when checking out the content and the level of access to ansible. This is straightforward for playbooks: when running an untrusted playbook, use the speculatively merged repo and the untrusted ansible environment. When running a trusted playbook, only use the branch tip of the playbook's repo, and the trusted ansible environment. When we consider roles, we also need to consider whether to use the speculatively merged role repo, or the branch tip. The current code uses the security context of the role repo to decide which to do (untrusted role repo uses the speculatively merged repo, trusted role repo uses branch tip). However this presents a problem. Consider a job defined in a trusted repo which uses a role defined in an untrusted repo. The playbook will be run in the trusted execution context, but the role it depends on will come from the speculatively-merged role repo. This means a user could propose a change which Depends-On a change to the role repo and cause mischief. The author of the job in the trusted repo should be able to rely on the fact that when that job runs, both the playbook and the roles used by that playbook only contain code that is actually in the respective repositories. Likewise, should a job in an untrusted repo inherit from that job, when its playbook runs, it should be able to use a speculative change to the role repo. In short, when we are running a trusted playbook, we should use the branch tip of all role repos used by that playbook. And when we run an untrusted playbook, we should use any speculatively merged changes to those roles. Since we can run both kinds of playbooks in a single job, this change prepares roles in both manners, if necessary. If any playbook run by the job is untrusted, we will prepare the speculatively-merged repo as a role. If any playbook is trusted (or the role does not appear in the dependency chain for the change), we prepare the branch tip of the role repo. When we run the playbooks, we use the appropriate version of each role based on the security context of the playbook. Change-Id: I06dd3851a8f805dba9afe1b4a0eaa1b2fdd4efa2",1,James E. Blair,"[1, 2, 3, 6488, 7069]","['James E. Blair', 'Monty Taylor', 'Jenkins', ""Clint 'SpamapS' Byrum"", 'Joshua Hesketh']",use security context playbook checking roles executor checks runs content security context trusted untrusted comes play two ways whether speculative merging used checking content level access ansible straightforward playbooks running untrusted playbook use speculatively merged repo untrusted ansible environment running trusted playbook use branch tip playbooks repo trusted ansible environment consider roles also need consider whether use speculatively merged role repo branch tip current code uses security context role repo decide untrusted role repo uses speculatively merged repo trusted role repo uses branch tip however presents problem consider job defined trusted repo uses role defined untrusted repo playbook run trusted execution context role depends come speculativelymerged role repo means user could propose change dependson change role repo cause mischief author job trusted repo able rely fact job runs playbook roles used playbook contain code actually respective repositories likewise job untrusted repo inherit job playbook runs able use speculative change role repo short running trusted playbook use branch tip role repos used playbook run untrusted playbook use speculatively merged changes roles since run kinds playbooks single job change prepares roles manners necessary playbook run job untrusted prepare speculativelymerged repo role playbook trusted role appear dependency chain change prepare branch tip role repo run playbooks use appropriate version role based security context playbook changeid i06dd3851a8f805dba9afe1b4a0eaa1b2fdd4efa2
https://review.opendev.org/461406,Replace neutronclient with REST API calls in security groups commands,Replace neutronclient with REST API calls in security groups commands All security groups and security group rules related commands to Neutron like list/create/update/delete are now made via keystoneauth Change-Id: I875e8780ac28cbeb46c80f67629f98a86fd57160,11975,Slawek Kaplonski,"[2, 3, 170]","['Monty Taylor', 'Jenkins', 'Mike Perez']",replace neutronclient rest api calls security groups commands security groups security group rules related commands neutron like listcreateupdatedelete made via keystoneauth changeid i875e8780ac28cbeb46c80f67629f98a86fd57160
https://review.opendev.org/455773,Allow users to assign a security group to an app,[WIP] Allow additional security groups to be added to an instance Change-Id: I60d37cfe034c467e894ee93cf3718e463bf49337 Partially-Implements: blueprint app-use-existing-security-group,1390,Paul Bourke (pbourke),"[3, 1390, 7821, 15168, 23186, 23382]","['Jenkins', 'Paul Bourke (pbourke)', 'Murano CI', 'Kirill Zaitsev', 'Felipe Monteiro', 'Artem Tiumentcev']",wip allow additional security groups added instance changeid i60d37cfe034c467e894ee93cf3718e463bf49337 partiallyimplements blueprint appuseexistingsecuritygroup
https://review.opendev.org/460996,[tempest]: Changes done for port security scenario testcases.,[tempest]: Changes done for port security svcenario testcases. Changes done in of the way port security and ping check between tenant vms. Change-Id: Ib0b98898c9d31ea31bac4c3429078c81acb313de,22107,Puneet Arora,"[3, 9008, 12024, 20281]","['Jenkins', 'VMware NSX CI', 'Tong Liu', 'Devang Doshi']",tempest changes done port security svcenario testcases changes done way port security ping check tenant vms changeid ib0b98898c9d31ea31bac4c3429078c81acb313de
https://review.opendev.org/461474,use neutron-lib port security api-def,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile. This patch consumes the definition from neutron-lib. See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details. Change-Id: If0c50f1a79d151217e92025f444cd22a40e4f420,5367,boden,"[3, 5367, 9656, 10237, 23458]","['Jenkins', 'boden', 'Ihar Hrachyshka', 'Numan Siddique', 'Dong Jun']",use neutronlib port security apidef port security api definition neutronlib awhile patch consumes definition neutronlib see if43b65861efc536d01c43dc0d2bbcbcf062c1271 additional details changeid if0c50f1a79d151217e92025f444cd22a40e4f420
https://review.opendev.org/461161,add pretty name to security group rule tasks,add pretty name to security group rule tasks Change-Id: I16c435ce1e4997e29b71e896563eed9648f50a30 Signed-off-by: Doug Hellmann <doug@doughellmann.com>,2472,Doug Hellmann,"[3, 2472]","['Jenkins', 'Doug Hellmann']",add pretty name security group rule tasks changeid i16c435ce1e4997e29b71e896563eed9648f50a30 signedoffby doug hellmann dougdoughellmanncom
https://review.opendev.org/333804,Use conjunction for security group rules with remote_group_id,"Use conjunction for security group rules with remote_group_id Prior to this commit, the number of flows can be prohibitively large in some cases. Change-Id: I194e7f40db840d29af317ddc2e342a1409000151",9200,IWAMOTO Toshihiro,"[3, 1653, 5170, 7249, 7787, 8655, 8788, 8976, 9200, 9732, 9845, 10184, 10385, 10386, 10692, 12708, 12860, 14208, 14571, 15309, 15752, 16376, 16688, 17776, 20229, 20330, 21784]","['Jenkins', 'garyk', 'Microsoft Hyper-V CI', 'Ann Taraday', 'Kevin Benton', 'Jakub Libosvar', 'Miguel Angel Ajo', 'shihanzhang', 'IWAMOTO Toshihiro', 'Mellanox CI', 'Arista CI', 'Nuage CI', 'Citrix XenServer CI', 'OpenDaylight CI', 'Brocade Vyatta CI', 'prabhu murthy', 'Dongcan Ye', 'Cisco CI', 'Intel Experimental CI', 'zhaobo', 'Intel SR-IOV CI', 'Intel NFV CI', 'Rodolfo Alonso', 'Reedip', 'Omer Anson', 'Microsoft Hyper-V Networking CI', 'Radek Zetik']",use conjunction security group rules remotegroupid prior commit number flows prohibitively large cases changeid i194e7f40db840d29af317ddc2e342a1409000151
https://review.opendev.org/445548,Migrate Security Groups to new model structure,[WIP] Migrate Security Groups to new model structure Migrate SecurityGroup and SecurityGroupRule to new model structure Partially-Implements: blueprint refactor-nb-api Change-Id: I9e1970d6b67214c4b66264d1acb66fc13d1deb8b,23235,Lihi Wishnitzer,"[3, 6598, 11159, 19339, 20229, 22060, 23235, 23766]","['Jenkins', 'Berezovsky Irena', 'Hong Hui Xiao', 'Dell EMC Ironic CI', 'Omer Anson', 'jingting', 'Lihi Wishnitzer', 'Dima Kuznetsov']",wip migrate security groups new model structure migrate securitygroup securitygrouprule new model structure partiallyimplements blueprint refactornbapi changeid i9e1970d6b67214c4b66264d1acb66fc13d1deb8b
https://review.opendev.org/453749,Fixes HyperVSecurityGroupsDriver for ports without security groups,"Fixes HyperVSecurityGroupsDriver for ports without security groups If a port has security groups disabled, it might not have the 'port_security_enabled' key. Change-Id: Ib0152b6b413e60a664bfb1cd4b485490b2c7482f Closes-Bug: #1659527 (cherry picked from commit bad3da0d60499c725f57c57ee53dea5483d24423)",8213,Claudiu Belu,"[3, 5170, 8213]","['Jenkins', 'Microsoft Hyper-V CI', 'Claudiu Belu']",fixes hypervsecuritygroupsdriver ports without security groups port security groups disabled might portsecurityenabled key changeid ib0152b6b413e60a664bfb1cd4b485490b2c7482f closesbug 1659527 cherry picked commit bad3da0d60499c725f57c57ee53dea5483d24423
https://review.opendev.org/459525,Tame the security group logging,Tame the security group logging Change-Id: I3d1bbfcb3e2c5bc99b2d11114508e3998641e7f8,3217,Ian Wells,"[3, 3217]","['Jenkins', 'Ian Wells']",tame security group logging changeid i3d1bbfcb3e2c5bc99b2d11114508e3998641e7f8
https://review.opendev.org/458357,Resync security groups on startup,Resync security groups on startup This makes use of the discovery pass for ACLs and their conversion into known security groups to allow initial resyncs to delete ACLs that are no longer in etcd. It uses the conventional delete path so if they're deleted before they've been removed from ports that works too. Change-Id: I0184f66f9e0b45b531ddd4f9ecf3f4f652711bb6,3217,Ian Wells,"[3, 3217]","['Jenkins', 'Ian Wells']",resync security groups startup makes use discovery pass acls conversion known security groups allow initial resyncs delete acls longer etcd uses conventional delete path theyre deleted theyve removed ports works changeid i0184f66f9e0b45b531ddd4f9ecf3f4f652711bb6
https://review.opendev.org/458550,Remove security limits and apt.conf.d setting from diskimages,"Remove security limits and apt.conf.d setting from diskimages Limits was recently added for NPM jobs and should be moved into JJB. Our apt.conf.d changes can be removed, we now have locally APT mirrors in each region, this should remove the need for these 2 files. Change-Id: Iafec2c547f65386805822ff2b0ba9a418c962a8e Signed-off-by: Paul Belanger <pabelanger@redhat.com>",4162,Paul Belanger,"[3, 4146, 4162, 7118, 8482]","['Jenkins', 'Clark Boylan', 'Paul Belanger', 'Ian Wienand', 'Colleen Murphy']",remove security limits aptconfd setting diskimages limits recently added npm jobs moved jjb aptconfd changes removed locally apt mirrors region remove need 2 files changeid iafec2c547f65386805822ff2b0ba9a418c962a8e signedoffby paul belanger pabelangerredhatcom
https://review.opendev.org/459078,Fix etcd client creation when security requested,Fix etcd client creation when security requested Change-Id: Ia8d1b7efbe505c7ccb263bdff295e6e973f08fea,3217,Ian Wells,"[3, 3217]","['Jenkins', 'Ian Wells']",fix etcd client creation security requested changeid ia8d1b7efbe505c7ccb263bdff295e6e973f08fea
https://review.opendev.org/457690,Replace nova security groups with REST,Replace nova security groups with REST One more set of things down. Change-Id: I02f81382693e30513a3fe85c49450f84f8c3d64d,2,Monty Taylor,"[3, 3099]","['Jenkins', 'David Shrewsbury']",replace nova security groups rest one set things changeid i02f81382693e30513a3fe85c49450f84f8c3d64d
https://review.opendev.org/457548,Transition nova security group tests to REST,WIP Transition nova security groups to REST novaclient v8 doesn't support these calls anymore. Transition them. Change-Id: I39952800414058d7f8a77dfca7610bc8c1fcfd18,2,Monty Taylor,"[2, 3, 3099, 17860]","['Monty Taylor', 'Jenkins', 'David Shrewsbury', 'Samuel de Medeiros Queiroz']",wip transition nova security groups rest novaclient v8 doesnt support calls anymore transition changeid i39952800414058d7f8a77dfca7610bc8c1fcfd18
https://review.opendev.org/444495,Zuulv3 Executor Security Enhancement,Zuulv3 Launcher Security Enhancement Zuulv3 allows running Ansible playbooks from arbitrary sources. So we need to mitigate as much of that risk as we can in a reasonable amount of complexity. Change-Id: I4bc1bf971486a744ff340af5c5189733545197ab Story: 2000910 Task: 3541,6488,Clint 'SpamapS' Byrum,"[1, 3, 4146, 4162, 5263, 6488, 6589, 7069]","['James E. Blair', 'Jenkins', 'Clark Boylan', 'Paul Belanger', 'Jeremy Stanley', ""Clint 'SpamapS' Byrum"", 'Jesse Keating', 'Joshua Hesketh']",zuulv3 launcher security enhancement zuulv3 allows running ansible playbooks arbitrary sources need mitigate much risk reasonable amount complexity changeid i4bc1bf971486a744ff340af5c5189733545197ab story 2000910 task 3541
https://review.opendev.org/456356,Enable security configuration for barbican grenade gate,"Enable security configuration for barbican grenade gate The grenade gate attempts to run the barbican-tempest-plugin tests, but the proper configuration of security features needs to happen before the tests will pass. The configuration happens in barbican-tempest-plugin's pre_test_hook.sh. Change-Id: Id8c5fa6c59e1036958a8954305747c60292462dc",8623,Kaitlin Farr,"[3, 6133, 6547, 7012, 11561, 19554]","['Jenkins', 'yolanda.robla', 'Andreas Jaeger', 'Brianna Poulos', 'Dave McCowan', 'Nam']",enable security configuration barbican grenade gate grenade gate attempts run barbicantempestplugin tests proper configuration security features needs happen tests pass configuration happens barbicantempestplugins pretesthooksh changeid id8c5fa6c59e1036958a8954305747c60292462dc
https://review.opendev.org/454939,Low-level Compute v2 API: security group rules,Low-level Compute v2 API: security group rules api.compute.APIv2 security group rule functions. novaclient 8.0 is now released so include the changes required. These will replace the deprecated nova-net support removed from novaclient 8.0.0. Change-Id: Ieabd61113bc6d3562738686f52bb06aa84fca765,970,Dean Troyer,"[3, 970, 6482, 21514]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Huanxuan Ao']",lowlevel compute v2 api security group rules apicomputeapiv2 security group rule functions novaclient 80 released include changes required replace deprecated novanet support removed novaclient 800 changeid ieabd61113bc6d3562738686f52bb06aa84fca765
https://review.opendev.org/454310,Low-level Compute v2 API: security group,WIP: Low-level API for Compute v2 api.compute.APIv2 starts with security group functions. These will replace the deprecated nova-net support removed from novaclient 8.0.0. Change-Id: Id007535f0598226a8202716232313e37fe6247f9,970,Dean Troyer,"[3, 970, 6482, 18332, 21514]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Ankur', 'Huanxuan Ao']",wip lowlevel api compute v2 apicomputeapiv2 starts security group functions replace deprecated novanet support removed novaclient 800 changeid id007535f0598226a8202716232313e37fe6247f9
https://review.opendev.org/452356,Supports security group change updates in ONOS ml2 plugin.,Supports security group change updates in ONOS ml2 plugin. Change-Id: I5980bc09f5c84e357e72e8c8d45a9db606b19fc1 Closes-Bug: #1676452,25575,Sangho Shin,"[3, 6678, 10068, 14605, 25575]","['Jenkins', 'Hyunsun Moon', 'Welcome, new contributor!', 'vikram.choudhary', 'Sangho Shin']",supports security group change updates onos ml2 plugin changeid i5980bc09f5c84e357e72e8c8d45a9db606b19fc1 closesbug 1676452
https://review.opendev.org/456660,Fix security group ping allow rules,Fix security group ping allow rules Change-Id: I54b651a674de98345a3170b92ab74ee37a278207,19265,Georgy Dyuldin,"[3, 13306, 18354]","['Jenkins', 'okosse', 'Plugins CI']",fix security group ping allow rules changeid i54b651a674de98345a3170b92ab74ee37a278207
https://review.opendev.org/454694,use osc for security group manipulation,use osc for security group manipulation Change-Id: I226e557a87c3c33c0246e5d4e6033c09b154ea13,2750,Sean Dague,"[3, 2750, 5638]","['Jenkins', 'Sean Dague', 'Davanum Srinivas']",use osc security group manipulation changeid i226e557a87c3c33c0246e5d4e6033c09b154ea13
https://review.opendev.org/454262,Split security group tests,"Split security group tests Split up the security group tests between compute and network APIs into separate files in preparation for reqorking the compute (nova-net) implementations. No code changes are intended here, just splitting two files into four. Change-Id: I3fbdde45f593a30de545ddd11e319a4d6f900b18",970,Dean Troyer,"[3, 6482, 17776, 21514]","['Jenkins', 'Steve Martinelli', 'Reedip', 'Huanxuan Ao']",split security group tests split security group tests compute network apis separate files preparation reqorking compute novanet implementations code changes intended splitting two files four changeid i3fbdde45f593a30de545ddd11e319a4d6f900b18
https://review.opendev.org/425628,Fixes HyperVSecurityGroupsDriver for ports without security groups,"Fixes HyperVSecurityGroupsDriver for ports without security groups If a port has security groups disabled, it might not have the 'port_security_enabled' key. Change-Id: Ib0152b6b413e60a664bfb1cd4b485490b2c7482f Closes-Bug: #1659527",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",fixes hypervsecuritygroupsdriver ports without security groups port security groups disabled might portsecurityenabled key changeid ib0152b6b413e60a664bfb1cd4b485490b2c7482f closesbug 1659527
https://review.opendev.org/450348,Correct few doc problems and the description of security group,Correct few doc problems and description for security group Change-Id: I22f908494e825fd89f1292c1de24b5e54e64d0c2,2860,litong01,"[3, 1726, 2860, 6460, 6754, 11139, 11797, 13629, 14885, 17716]","['Jenkins', 'Ghe Rivero', 'litong01', 'Brad Topol', 'Mark T. Voelker', 'Egle', 'Gema Gomez-Solano', 'Zhipeng Huang', 'Daniel Mellado', 'Luz Cazares']",correct doc problems description security group changeid i22f908494e825fd89f1292c1de24b5e54e64d0c2
https://review.opendev.org/431566,Add IPv6 support for the Security Groups,[WIP] Add IPv6 support for the Security Groups Adds support for IPv6 rules in the security groups Partially-implements: blueprint ipv6 Change-Id: I41334ae3ff7a6af1d3351290ddfbd027d6a79879,23235,Lihi Wishnitzer,"[3, 7805, 11159, 20229, 23235, 23766]","['Jenkins', 'Li Ma', 'Hong Hui Xiao', 'Omer Anson', 'Lihi Wishnitzer', 'Dima Kuznetsov']",wip add ipv6 support security groups adds support ipv6 rules security groups partiallyimplements blueprint ipv6 changeid i41334ae3ff7a6af1d3351290ddfbd027d6a79879
https://review.opendev.org/452046,Fix incorrect window title in Manage security group rule,"Fix incorrect window title in Manage security group rule As far as I see, here is only the place missing the correct title before ""- OpenStack Dashboard"" Change-Id: I209a2b829ff4b66557a63f3659859a7b281ad629 Closes-Bug: #1677973",17172,Kenji Ishii,"[3, 12826]","['Jenkins', 'Rob Cresswell']",fix incorrect window title manage security group rule far see place missing correct title openstack dashboard changeid i209a2b829ff4b66557a63f3659859a7b281ad629 closesbug 1677973
https://review.opendev.org/440621,Allow any port or protocol in security group rules,"Allow any port or protocol in security group rules Neutron allows setting port or protocol wildcard by not specifying any value for them. example, these are allowed by neutron : neutron security-group-rule-create --direction egress <sgid> neutron security-group-rule-create --direction egress --protocol tcp <sgid> We now allow leaving protocol or port field empty and diplay a corresponding help text Change-Id: I4a7262eda89e3206c743fee14c78aa6b49308ce6 Closes-Bug: 1669467",8674,Yves-Gwenael Bourhis,"[3, 841, 8313, 8674, 12071, 17814, 17844, 21967]","['Jenkins', 'Akihiro Motoki', 'Lajos Katona', 'Yves-Gwenael Bourhis', 'Richard Jones', 'fengzhr', 'alfred', 'Nolwenn Cauchois']",allow port protocol security group rules neutron allows setting port protocol wildcard specifying value example allowed neutron neutron securitygrouprulecreate direction egress sgid neutron securitygrouprulecreate direction egress protocol tcp sgid allow leaving protocol port field empty diplay corresponding help text changeid i4a7262eda89e3206c743fee14c78aa6b49308ce6 closesbug 1669467
https://review.opendev.org/437953,Include OCCI Security Group infrastructure,Include OCCI Security Group infrastructure This change add the OCCI Security Group infrastructure following the features provided by CESNET. Change-Id: Ic573210399bbcd30e699d0d4f6446b932230d4ae,19329,Jorge Sevilla,"[3, 91]","['Jenkins', 'Alvaro']",include occi security group infrastructure change add occi security group infrastructure following features provided cesnet changeid ic573210399bbcd30e699d0d4f6446b932230d4ae
https://review.opendev.org/451919,Fix security group options,Fix security group options This patch fixes the security group options initialization to avoid any oslo.conf duplicate option errors. Change-Id: I53cc6890c399e860d2c340027f71301f05cc8c41,107,Arvind Somya,"[3, 3217]","['Jenkins', 'Ian Wells']",fix security group options patch fixes security group options initialization avoid osloconf duplicate option errors changeid i53cc6890c399e860d2c340027f71301f05cc8c41
https://review.opendev.org/451183,Add server security groups to shade,Add server security groups to shade We need a way to add and remove security groups to a server in shade. This will let us modify them from ansible. Change-Id: I5602e44720485e20491cf4930605362312274b20,7191,Jamie Lennox,"[2, 3, 4146, 7191, 13252]","['Monty Taylor', 'Jenkins', 'Clark Boylan', 'Jamie Lennox', 'Dr. Jens Harbott']",add server security groups shade need way add remove security groups server shade let us modify ansible changeid i5602e44720485e20491cf4930605362312274b20
https://review.opendev.org/451839,BVS-5916: allow spaces in security group names,BVS-5916: allow spaces in security group names Conflicts: bsnstacklib/plugins/bigswitch/plugin.py Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,20751,Aditya Vaja,"[3, 20751]","['Jenkins', 'Aditya Vaja']",bvs5916 allow spaces security group names conflicts bsnstacklibpluginsbigswitchpluginpy changeid ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a
https://review.opendev.org/451837,BVS-5916: allow spaces in security group names,BVS-5916: allow spaces in security group names Conflicts: bsnstacklib/plugins/bigswitch/plugin.py Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,20751,Aditya Vaja,"[3, 20751]","['Jenkins', 'Aditya Vaja']",bvs5916 allow spaces security group names conflicts bsnstacklibpluginsbigswitchpluginpy changeid ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a
https://review.opendev.org/451833,BVS-5916: allow spaces in security group names,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,20751,Aditya Vaja,"[3, 20751]","['Jenkins', 'Aditya Vaja']",bvs5916 allow spaces security group names changeid ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a
https://review.opendev.org/451832,BVS-5916: allow spaces in security group names,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,20751,Aditya Vaja,"[3, 20751, 21977]","['Jenkins', 'Aditya Vaja', 'Sarath Kumar Sankaran Kutty']",bvs5916 allow spaces security group names changeid ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a
https://review.opendev.org/451834,BVS-5916: allow spaces in security group names,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,20751,Aditya Vaja,"[3, 20751]","['Jenkins', 'Aditya Vaja']",bvs5916 allow spaces security group names changeid ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a
https://review.opendev.org/451708,Fix security group tests,Fix security group tests Change-Id: I13e05c0b73fe8faef2bf5dd5d54eadfac416dfe2,19265,Georgy Dyuldin,"[3, 17960, 18354, 20804]","['Jenkins', 'Illia Polliul', 'Plugins CI', 'Yevgeniy Shapovalov']",fix security group tests changeid i13e05c0b73fe8faef2bf5dd5d54eadfac416dfe2
https://review.opendev.org/451582,BVS-5916: allow spaces in security group names,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,20751,Aditya Vaja,"[3, 21977]","['Jenkins', 'Sarath Kumar Sankaran Kutty']",bvs5916 allow spaces security group names changeid ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a
https://review.opendev.org/450910,Async security group updates,"Async security group updates Make it work. Turns out, the code wasn't being tripped because of a mis-spelling of a key in a dict. Change-Id: I8d441caef6ec60caf9f152a3ba5cb8a2db9858fa",3217,Ian Wells,"[3, 3217]","['Jenkins', 'Ian Wells']",async security group updates make work turns code wasnt tripped misspelling key dict changeid i8d441caef6ec60caf9f152a3ba5cb8a2db9858fa
https://review.opendev.org/446661,Make adding of port security asynchronous,"(WIP) Make adding of port security asynchronous Updates to ports and to security groups come in over separate watchers, and can interleave. This deals with the possibility that a port is bound when a security group has not yet been inserted into VPP and it requires that security group. It also removes the global 'secgroups' in favour of a property on VPPForwarder. It does not fix the case where a security group is deleted when it is still being used by a port. (Again, the API to Neutron does not permit that, but the communications channel can reorder commands from Neutron.) That requires a separate patch. Change-Id: Ib0bb7338065131b2f9abd1a1d01fd176c197c04d",3217,Ian Wells,"[3, 3217]","['Jenkins', 'Ian Wells']",wip make adding port security asynchronous updates ports security groups come separate watchers interleave deals possibility port bound security group yet inserted vpp requires security group also removes global secgroups favour property vppforwarder fix case security group deleted still used port api neutron permit communications channel reorder commands neutron requires separate patch changeid ib0bb7338065131b2f9abd1a1d01fd176c197c04d
https://review.opendev.org/450227,Switch to neutron for security groups,Switch to neutron for security groups Change-Id: Ic7f5f2d9d01c2de07555da3a7ccfb3bf535e9f59,19265,Georgy Dyuldin,"[3, 17960, 18354, 20804]","['Jenkins', 'Illia Polliul', 'Plugins CI', 'Yevgeniy Shapovalov']",switch neutron security groups changeid ic7f5f2d9d01c2de07555da3a7ccfb3bf535e9f59
https://review.opendev.org/449141,[ops-guide] Update Security Group Rules description,"[ops-guide] Update Security Group Rules description This patch updates the location of security group rules in the Operations Guide. Security Group Rules are located in projects, not within secrutiy groups. Change-Id: I2453e703ff105f895821fc948e8020ce92e46fdf Closes-Bug: #1673834",19779,Chason Chan,"[3, 6804, 10607, 14962, 24184]","['Jenkins', 'bruce-benjamin', 'Alexandra Settle', 'ologvinova', 'Lutz Birkhahn']",opsguide update security group rules description patch updates location security group rules operations guide security group rules located projects within secrutiy groups changeid i2453e703ff105f895821fc948e8020ce92e46fdf closesbug 1673834
https://review.opendev.org/399518,Default pod security groups driver,Default pod security groups driver This patch adds a new driver type used to determine Neutron security groups that should be used for Kubernetes pods. This patch also provides a default driver implementation that uses a list of security groups set in configuration file. Change-Id: Id76f70b8a99ffa8372dfd3d199371e7db46fb812,21273,Ilya Chukhnakov,"[3, 6598, 9820, 12860, 14352, 15967, 21273, 24905]","['Jenkins', 'Berezovsky Irena', 'Liping Mao', 'Dongcan Ye', 'Antoni Segura Puimedon', 'vikas choudhary', 'Ilya Chukhnakov', 'Yueheng Li']",default pod security groups driver patch adds new driver type used determine neutron security groups used kubernetes pods patch also provides default driver implementation uses list security groups set configuration file changeid id76f70b8a99ffa8372dfd3d199371e7db46fb812
https://review.opendev.org/448391,[user guides] Update Security Group Rules description,"[user guides] Update Security Group Rules description This patch updates the location of security group rules in the Admin Guide. Security Group Rules are located in projects, not within secrutiy groups. Change-Id: I5fdddb5e9fa3b4eb653204b0f10e5c681f9942a6 Closes-Bug: #1673833",10897,Joseph Robinson,"[3, 10497, 22165, 24184]","['Jenkins', 'KATO Tomoyuki', 'caoyuan', 'Lutz Birkhahn']",user guides update security group rules description patch updates location security group rules admin guide security group rules located projects within secrutiy groups changeid i5fdddb5e9fa3b4eb653204b0f10e5c681f9942a6 closesbug 1673833
https://review.opendev.org/448391,[user guides] Update Security Group Rules description,"[user guides] Update Security Group Rules description This patch updates the location of security group rules in the Admin Guide. Security Group Rules are located in projects, not within secrutiy groups. Change-Id: I5fdddb5e9fa3b4eb653204b0f10e5c681f9942a6 Closes-Bug: #1673833",10897,Joseph Robinson,"[3, 10497, 22165, 24184]","['Jenkins', 'KATO Tomoyuki', 'caoyuan', 'Lutz Birkhahn']",user guides update security group rules description patch updates location security group rules admin guide security group rules located projects within secrutiy groups changeid i5fdddb5e9fa3b4eb653204b0f10e5c681f9942a6 closesbug 1673833
https://review.opendev.org/442013,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,10836,Sergey Otpuschennikov,"[3, 8971, 10836, 15984]","['Jenkins', 'Fuel CI', 'Sergey Otpuschennikov', 'Vladimir Khlyunev']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/441975,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,10836,Sergey Otpuschennikov,"[3, 8971, 10836, 15984, 19119]","['Jenkins', 'Fuel CI', 'Sergey Otpuschennikov', 'Vladimir Khlyunev', 'Alexey Stepanov']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/444596,Allow to specify port security when creating a port,"Allow to specify port security when creating a port commit c886d8a2def188337e7768469b45dd51bc7f404e added a feature to enable/disable port security when editing a port. It sounds reasonable to allow this for port creation too. Note that the current release note already covers this change, so this commit does not add a new release note. Related-Bug: #1634877 Change-Id: I85182fb1806fa24a0891abab1190a4246ba7c89e",841,Akihiro Motoki,"[3, 12071, 12826, 22255]","['Jenkins', 'Richard Jones', 'Rob Cresswell', 'Tuan']",allow specify port security creating port commit c886d8a2def188337e7768469b45dd51bc7f404e added feature enabledisable port security editing port sounds reasonable allow port creation note current release note already covers change commit add new release note relatedbug 1634877 changeid i85182fb1806fa24a0891abab1190a4246ba7c89e
https://review.opendev.org/447175,Fix location of security group panel in launch-instance form,Fix location of security group panel in launch-instance form Change-Id: Icf677c5bceda7f1c5c6e0c1dfe9a35416232fb00,841,Akihiro Motoki,"[3, 12826, 24100]","['Jenkins', 'Rob Cresswell', 'John Studarus']",fix location security group panel launchinstance form changeid icf677c5bceda7f1c5c6e0c1dfe9a35416232fb00
https://review.opendev.org/446114,"Delete security groups via the journal, not directly.","Delete security groups via the journal, not directly. We accessed the agent to delete security groups, but for consistency we should do this via the journal to avoid lost updates. Change-Id: I8e562add5808656730b251d3b92a82ad84ba0833",3217,Ian Wells,"[3, 1356, 3217]","['Jenkins', 'Naveen Joy', 'Ian Wells']",delete security groups via journal directly accessed agent delete security groups consistency via journal avoid lost updates changeid i8e562add5808656730b251d3b92a82ad84ba0833
https://review.opendev.org/444667,Added neutron security groups and OpenstackClient auth,Added puppet class for creating neutron security groups Creating security group using nova module is deprecated. This patch will give neutron puppet module adds the ability to create security groups. Change-Id: I1a900fadce6b4d1c006e43164d380034ea5cef2d Partial-Bug: #1671474,20676,daniel.pawlik,"[3, 360, 1607, 3153, 6681, 7604, 7732, 7745, 8297, 8971, 9414, 9500, 11583, 14985, 15519, 18551, 18795, 20676, 24680]","['Jenkins', 'Dan Prince', 'Yu xingchao', 'Emilien Macchi', 'Brent Eagles', 'Sergey Kolekonov', 'Ivan Berezovskiy', 'Denis Egorenko', 'Sofer Athlan-Guyot', 'Fuel CI', 'zhongshengping', 'Matt Fischer', 'Arnaud Morin', 'Alex Schultz', 'Iury Gregory Melo Ferreira', 'Szymon Datko', 'mkarpin', 'daniel.pawlik', 'Daniel Pawlik']",added puppet class creating neutron security groups creating security group using nova module deprecated patch give neutron puppet module adds ability create security groups changeid i1a900fadce6b4d1c006e43164d380034ea5cef2d partialbug 1671474
https://review.opendev.org/446751,Ocata security group fix,Ocata security group fix This PS updates the security group creation code to work with Ocata. Change-Id: I04d5d130e3a9a3a7d706fb94478697d4c85e60b0,9237,Kevin Fox,"[3, 10787, 19384]","['Jenkins', 'Michal Jastrzebski (inc0)', 'Serguei Bezverkhi']",ocata security group fix ps updates security group creation code work ocata changeid i04d5d130e3a9a3a7d706fb94478697d4c85e60b0
https://review.opendev.org/445611,Rename OpenStack Security Group/Project,Rename OpenStack Security Group/Project Replace Group with Project. Change-Id: If5a12cc1320ad0652c3530dea65f9b551d3ad1e6,17893,Luke Hinds,"[3, 7063, 8119, 9162, 10607, 10705, 12325, 18462, 21297, 22781]","['Jenkins', 'Robert Clark', 'Eric Brown', 'Lana Brindley', 'Alexandra Settle', 'Darren Chan', 'Nathaniel Dillon', 'Rahul U Nair', 'Vinay Potluri', 'Khanak Nangia']",rename openstack security groupproject replace group project changeid if5a12cc1320ad0652c3530dea65f9b551d3ad1e6
https://review.opendev.org/441073,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,10836,Sergey Otpuschennikov,"[3, 8971, 10836, 15984, 19119]","['Jenkins', 'Fuel CI', 'Sergey Otpuschennikov', 'Vladimir Khlyunev', 'Alexey Stepanov']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/441928,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,10836,Sergey Otpuschennikov,"[3, 8971, 10836, 15984]","['Jenkins', 'Fuel CI', 'Sergey Otpuschennikov', 'Vladimir Khlyunev']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/441938,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,10836,Sergey Otpuschennikov,"[3, 8971, 10836, 15984]","['Jenkins', 'Fuel CI', 'Sergey Otpuschennikov', 'Vladimir Khlyunev']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/443234,Websockify security proxy framework,"Websockify security proxy framework This proposes a generic framework for supporting TLS encryption between the console proxy servers and the compute nodes for SPICE, VNC and serial ports. Change-Id: I7aa658ebde01d3e5718bb7dd1210e947e40fb667 Previously approved: Juno, Kilo, Mitaka, Newton, Ocata Blueprint websocket-proxy-to-host-security",15334,Stephen Finucane,"[3, 6873]","['Jenkins', 'Matt Riedemann']",websockify security proxy framework proposes generic framework supporting tls encryption console proxy servers compute nodes spice vnc serial ports changeid i7aa658ebde01d3e5718bb7dd1210e947e40fb667 previously approved juno kilo mitaka newton ocata blueprint websocketproxytohostsecurity
https://review.opendev.org/442741,Install EPEL for security role,Install EPEL for security role The security role needs to install packages from EPEL. Closes-bug: 1670798 Change-Id: Ia6a6ba19ec164e852b83492f4992f25e8df49308,538,Major Hayden,"[3, 6816, 7353]","['Jenkins', 'Jesse Pretorius', 'Kevin Carter']",install epel security role security role needs install packages epel closesbug 1670798 changeid ia6a6ba19ec164e852b83492f4992f25e8df49308
https://review.opendev.org/439424,[Tempest]: Added scenario cases for port security feature,[Tempest]: Added scenario cases for port security feature Added port security scenario cases for nsxv3. Change-Id: I97a90e52a0685dfcba4c616fb8dbfcb8bf722f86,22107,Puneet Arora,"[3, 9008, 12024, 16499, 18118, 20281, 22107, 22387]","['Jenkins', 'VMware NSX CI', 'Tong Liu', 'Alex Kang', 'Christopher Chu Lin', 'Devang Doshi', 'Puneet Arora', 'Deepthi Kandavara Jayarama']",tempest added scenario cases port security feature added port security scenario cases nsxv3 changeid i97a90e52a0685dfcba4c616fb8dbfcb8bf722f86
https://review.opendev.org/438476,[Tempest]: Added api cases for port security feature.,[Tempest]: Added api cases for port security feature. Added port security api cases for nsxv3. Change-Id: Ie2423cb842d6a346b10573bc9e7ee0c47320ac33,22107,Puneet Arora,"[3, 9008, 12024, 16499, 18118, 20281, 22107, 23251]","['Jenkins', 'VMware NSX CI', 'Tong Liu', 'Alex Kang', 'Christopher Chu Lin', 'Devang Doshi', 'Puneet Arora', 'vijay Kankatala']",tempest added api cases port security feature added port security api cases nsxv3 changeid ie2423cb842d6a346b10573bc9e7ee0c47320ac33
https://review.opendev.org/432451,Neutron tests - Security Groups,Neutron tests - Security Groups Tests for the neutron security group policies Implements bp: initial-tests-network Co-Authored-By: Chi Lo <cl566n@att.com> Change-Id: If466551726811e190bf4c426c04d49d074eaff15,23184,DavidPurcell,"[3, 8205, 17896, 23184, 23185, 23186, 23625, 23659]","['Jenkins', 'Mh Raies', 'Rick Bartra', 'DavidPurcell', 'Samantha Blanco', 'Felipe Monteiro', 'Nicolas Helgeson', 'Jaewoo Park']",neutron tests security groups tests neutron security group policies implements bp initialtestsnetwork coauthoredby chi lo cl566nattcom changeid if466551726811e190bf4c426c04d49d074eaff15
https://review.opendev.org/441892,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,10836,Sergey Otpuschennikov,"[3, 8882, 8971, 15984]","['Jenkins', 'Nastya Urlapova', 'Fuel CI', 'Vladimir Khlyunev']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/441913,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,15984,Vladimir Khlyunev,"[3, 8882, 8971, 10836, 15984]","['Jenkins', 'Nastya Urlapova', 'Fuel CI', 'Sergey Otpuschennikov', 'Vladimir Khlyunev']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/441933,Add a template for security scan related devops environment,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,15984,Vladimir Khlyunev,"[3, 8882, 8971, 15984]","['Jenkins', 'Nastya Urlapova', 'Fuel CI', 'Vladimir Khlyunev']",add template security scan related devops environment use prepared image create vm security scan service changeid i9c2c383971b5e72a1414a43dcb4db8f3ad22bc78
https://review.opendev.org/428473,rehome port security api-def,rehome port security api-def This patch rehomes neutron's port security api-def into neutron-lib and includes a UT + release note as well. Change-Id: I0ba12f6eef06c22973024573deaecd80c6b248de,5367,boden,"[3, 748, 841, 1653, 5367, 17776, 20378, 23310]","['Jenkins', 'Armando Migliaccio', 'Akihiro Motoki', 'garyk', 'boden', 'Reedip', 'Trevor McCasland', 'wanghongtaozz']",rehome port security apidef patch rehomes neutrons port security apidef neutronlib includes ut release note well changeid i0ba12f6eef06c22973024573deaecd80c6b248de
https://review.opendev.org/439939,[www] remove Security Guide landing index page,[www] remove Security Guide landing index page Change-Id: I4f7af89dfcd3f0661149724601ae889a4e9a153b,10497,KATO Tomoyuki,"[3, 9162, 10607, 12686]","['Jenkins', 'Lana Brindley', 'Alexandra Settle', 'Brian Moss']",www remove security guide landing index page changeid i4f7af89dfcd3f0661149724601ae889a4e9a153b
https://review.opendev.org/438126,Register before_delete event for liberty security group deleting,"Register before_delete event for liberty security group deleting In Liberty, we only delete security group rule in etcd before it actual being deleted in neutron db, it's not perfect, but if we delete it after it deleted in db, the following task that query rule's belonging will consistently fail. Change-Id: I2793350db0f01d4c9fea310a9c0ed9830c44bf3d Closes-Bug: 1667860",7567,Wei Tie,"[3, 3217, 7567]","['Jenkins', 'Ian Wells', 'Wei Tie']",register beforedelete event liberty security group deleting liberty delete security group rule etcd actual deleted neutron db perfect delete deleted db following task query rules belonging consistently fail changeid i2793350db0f01d4c9fea310a9c0ed9830c44bf3d closesbug 1667860
https://review.opendev.org/430643,Horizon does not display ID of Security Group,Horizon does not display ID of Security Group This patch set is to add ID column in the security group table. This is useful when there are multiple security group that has the same name. Change-Id: I51a8edf02129b0a7190c40f20f090cd9a8dd1815 Closes-Bug: #1429866,24288,Anusha Yarravarapu,"[3, 6732, 8648, 9155, 12071, 12826, 15209, 16628, 17642, 17654, 22037]","['Jenkins', 'Lingxian Kong', 'Radomir Dopieralski', 'Eddie Ramirez', 'Richard Jones', 'Rob Cresswell', 'Lucas Xu', 'Beth Elwell', 'hanjiabao', 'lijun zhao', 'jiangpch']",horizon display id security group patch set add id column security group table useful multiple security group name changeid i51a8edf02129b0a7190c40f20f090cd9a8dd1815 closesbug 1429866
https://review.opendev.org/435220,Get all security groups via api in OVN DB sync functional test,"Get all security groups via api when validating address sets Currently, when validating address sets in OVN DB sync functional tests, only security groups used by port were compared as in neutron DB to those in OVN DB, but the logic is different to real OVN DB sync function. An implicit problem will surface when supporting gateway sync functional test, that will cause the security groups mismatch. This patch makes the logic same as real sync, getting all security groups via api regardless whether they are been used by port. Change-Id: Ia8fc3fd6d56c1453d02c4b0e92a21a4cad6595d1 Signed-off-by: Dong Jun <dongj@dtdream.com>",23458,Dong Jun,"[3, 1561, 10237, 23458]","['Jenkins', 'Russell Bryant', 'Numan Siddique', 'Dong Jun']",get security groups via api validating address sets currently validating address sets ovn db sync functional tests security groups used port compared neutron db ovn db logic different real ovn db sync function implicit problem surface supporting gateway sync functional test cause security groups mismatch patch makes logic real sync getting security groups via api regardless whether used port changeid ia8fc3fd6d56c1453d02c4b0e92a21a4cad6595d1 signedoffby dong jun dongjdtdreamcom
https://review.opendev.org/438491,Unblock security role gate,"Unblock security role gate This patch addresses two issues that are blocking the security role CI jobs from completing: The OpenStack CI image is missing the default audit.rules file and this causes augenrules to fail when it loads new rules. The first line in the default rules file deletes existing rules and this must be in place before loading new rulesets. The contents of the default file are now in the template file, which is safer anyway. The default file provided by the OS is removed. The task that updates the apt cache in test.yml was running more than once during the CI job run when the gate ran slowly. That's fine, but it breaks the idempotence checks. A `changed_when` is added to the task to ensure that the idempotence tests aren't affected by an apt cache update. Change-Id: I48be02df02b8a2a401bfd96e16ea0329632d9381 Partial-Bug: #1662622",23913,David Rabel,"[3, 538, 6816]","['Jenkins', 'Major Hayden', 'Jesse Pretorius']",unblock security role gate patch addresses two issues blocking security role ci jobs completing openstack ci image missing default auditrules file causes augenrules fail loads new rules first line default rules file deletes existing rules must place loading new rulesets contents default file template file safer anyway default file provided os removed task updates apt cache testyml running ci job run gate ran slowly thats fine breaks idempotence checks changedwhen added task ensure idempotence tests arent affected apt cache update changeid i48be02df02b8a2a401bfd96e16ea0329632d9381 partialbug 1662622
https://review.opendev.org/435505,"add unit tests for create, delete security group and authorize security group ingress in case of default vpc","add unit tests for create, delete security group and authorize security group ingress in case of default vpc Change-Id: Iec29dfa794efba40b0a322db45c325a939e13fe4",19065,Anastasia Kravets,"[3, 9312, 10224, 19065]","['Jenkins', 'Alexandre Levine', 'Feodor Tersin', 'Anastasia Kravets']",add unit tests create delete security group authorize security group ingress case default vpc changeid iec29dfa794efba40b0a322db45c325a939e13fe4
https://review.opendev.org/432904,Changes in security groups in default VPC mode,Changes in security groups in default VPC mode create-security-group create security-group in default vpc if not specified delete-security-group can delete from default vpc by group-name authorize_security_group_ingress with group-name specified create rule in the appropriate group in default vpc Change-Id: Ibdf5b508f9d8a042ceaba4570d4573b741adaf9f,19065,Anastasia Kravets,"[3, 10224, 10234]","['Jenkins', 'Feodor Tersin', 'Andrey Pavlov']",changes security groups default vpc mode createsecuritygroup create securitygroup default vpc specified deletesecuritygroup delete default vpc groupname authorizesecuritygroupingress groupname specified create rule appropriate group default vpc changeid ibdf5b508f9d8a042ceaba4570d4573b741adaf9f
https://review.opendev.org/437971,Stop security group watcher changing secgroup space,"Stop security group watcher changing secgroup space Security group key space is for writing by the mechdriver and reading by the agent. This breaks that paradigm. It's also trying to delete the key whose delete triggered the action it's processing, so in fact it's a no-op. Change-Id: I2e0b44e8b17533260a6bd547e2205cc2660e059f",3217,Ian Wells,"[3, 1356]","['Jenkins', 'Naveen Joy']",stop security group watcher changing secgroup space security group key space writing mechdriver reading agent breaks paradigm also trying delete key whose delete triggered action processing fact noop changeid i2e0b44e8b17533260a6bd547e2205cc2660e059f
https://review.opendev.org/430865,[Tempest]: Added Provider Security Group cases for nsxv.,[Tempest]: Added Provider Security Group cases for nsxv. API based PSG cases added for nsxv. Change-Id: I8dd307708efa72c431334ff4ef4be62c732788cb,22107,Puneet Arora,"[3, 9008, 12024, 16499, 18118]","['Jenkins', 'VMware NSX CI', 'Tong Liu', 'Alex Kang', 'Christopher Chu Lin']",tempest added provider security group cases nsxv api based psg cases added nsxv changeid i8dd307708efa72c431334ff4ef4be62c732788cb
https://review.opendev.org/431393,Add test for compute API List Security Groups By Server,"Merge ""Add test for compute API List Security Groups By Server"" Change-Id: I36dfdee780ef1796b360537b5649b0957392ef08",25085,Zhongwei He,"[3, 5690, 7350, 8556, 8871, 10385, 12017, 20190, 23081, 24903, 25072, 25085, 25282]","['Jenkins', 'Masayuki Igawa', 'Jordan Pittier', 'Ghanshyam', 'Elastic Recheck', 'Citrix XenServer CI', 'DellEMC VNX CI', 'zhufl', 'Jeremy Zhang', 'Hongtao Zhang', 'Liang Cui', 'Zhongwei He', 'lidan']",merge add test compute api list security groups server changeid i36dfdee780ef1796b360537b5649b0957392ef08
https://review.opendev.org/435684,Remove security role from user_variables.yml,Remove security role from user_variables.yml This patch removes a confusing section of `user_variables.yml` that is no longer needed since the security role is applied by default. Closes-bug: 1664824 Change-Id: Iebf59288a8abbf72a961832fed113bbd30cbe77c (cherry picked from commit 3ddf708eaf8f32d4c90f49e8a7595519308b200a),6816,Jesse Pretorius,"[3, 538, 15993]","['Jenkins', 'Major Hayden', 'Amy Marrich']",remove security role uservariablesyml patch removes confusing section uservariablesyml longer needed since security role applied default closesbug 1664824 changeid iebf59288a8abbf72a961832fed113bbd30cbe77c cherry picked commit 3ddf708eaf8f32d4c90f49e8a7595519308b200a
https://review.opendev.org/435683,Remove security role from user_variables.yml,Remove security role from user_variables.yml This patch removes a confusing section of `user_variables.yml` that is no longer needed since the security role is applied by default. Closes-bug: 1664824 Change-Id: Iebf59288a8abbf72a961832fed113bbd30cbe77c (cherry picked from commit 3ddf708eaf8f32d4c90f49e8a7595519308b200a),6816,Jesse Pretorius,"[3, 538, 15993]","['Jenkins', 'Major Hayden', 'Amy Marrich']",remove security role uservariablesyml patch removes confusing section uservariablesyml longer needed since security role applied default closesbug 1664824 changeid iebf59288a8abbf72a961832fed113bbd30cbe77c cherry picked commit 3ddf708eaf8f32d4c90f49e8a7595519308b200a
https://review.opendev.org/434274,Remove security role from user_variables.yml,Remove security role from user_variables.yml This patch removes a confusing section of `user_variables.yml` that is no longer needed since the security role is applied by default. Closes-bug: 1664824 Change-Id: Iebf59288a8abbf72a961832fed113bbd30cbe77c,538,Major Hayden,"[3, 538, 6816, 7353, 14805]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Kevin Carter', 'Jimmy McCrory']",remove security role uservariablesyml patch removes confusing section uservariablesyml longer needed since security role applied default closesbug 1664824 changeid iebf59288a8abbf72a961832fed113bbd30cbe77c
https://review.opendev.org/433157,fullstack: Fix race between updating port security and test,fullstack: Fix race between updating port security and test Patch I65da39fd390e4faecc6cfb18bb50e1f5ce684f1e changed the test to start with port-security-enabled set to False and with no security group. Later port security is turned on and security group is given but immediatelly starts testing connectivity. It may happen that security groups are not applied to the port yet and negative connectivity test (former No. 3) fails. This patch actively waits for connection not to pass and then continues as before. Change-Id: Iddd66770638973a0b3c916f068b5c813886e07ef,8655,Jakub Libosvar,"[3, 1131, 7787, 8655, 9200, 9656, 9732, 10184, 14208, 14611, 15752, 16376, 20330, 23804, 24905]","['Jenkins', 'Brian Haley', 'Kevin Benton', 'Jakub Libosvar', 'IWAMOTO Toshihiro', 'Ihar Hrachyshka', 'Mellanox CI', 'Nuage CI', 'Cisco CI', 'dasm', 'Intel SR-IOV CI', 'Intel NFV CI', 'Microsoft Hyper-V Networking CI', 'Daniel Alvarez', 'Yueheng Li']",fullstack fix race updating port security test patch i65da39fd390e4faecc6cfb18bb50e1f5ce684f1e changed test start portsecurityenabled set false security group later port security turned security group given immediatelly starts testing connectivity may happen security groups applied port yet negative connectivity test former 3 fails patch actively waits connection pass continues changeid iddd66770638973a0b3c916f068b5c813886e07ef
https://review.opendev.org/429459,Do not check security opt in some case in kolla_docker module,Do not check security opt in some case in kolla_docker module security opt will be disable when using host ipc or host pid or privileged. Change-Id: I83d7c74aaeb5c59981c76464e69d5b5baa00fefb,7488,Jeffrey Zhang,"[3, 1390, 7488, 11869, 22165]","['Jenkins', 'Paul Bourke (pbourke)', 'Jeffrey Zhang', 'zhubingbing', 'caoyuan']",check security opt case kolladocker module security opt disable using host ipc host pid privileged changeid i83d7c74aaeb5c59981c76464e69d5b5baa00fefb
https://review.opendev.org/433416,Update release notes for security group rule deletion,Update release notes for security group rule deletion 1. What is the problem Security group rule deletion is supported but missing in release notes. 2. What is the solution to the problem Add security group rule deletion support in release notes. 3. What the features need to be implemented to the Tricircle N/A Change-Id: I95d6c23af71e3edd068a99d4ed1b1ec4b1dfe98d Signed-off-by: joehuang <joehuang@huawei.com>,11819,Chaoyi Huang,"[3, 12076]","['Jenkins', 'Zhiyuan Cai']",update release notes security group rule deletion 1 problem security group rule deletion supported missing release notes 2 solution problem add security group rule deletion support release notes 3 features need implemented tricircle na changeid i95d6c23af71e3edd068a99d4ed1b1ec4b1dfe98d signedoffby joehuang joehuanghuaweicom
https://review.opendev.org/433321,Adds additional best practice security measures for live migration VNC proxy settings,Adds additional best practice security measures for live migration VNC proxy settings Change-Id: Ib7a6e7691d9f1106d0073115d1582415181b3fbc,964,Anne Gentle,"[3, 9162, 10497, 10897]","['Jenkins', 'Lana Brindley', 'KATO Tomoyuki', 'Joseph Robinson']",adds additional best practice security measures live migration vnc proxy settings changeid ib7a6e7691d9f1106d0073115d1582415181b3fbc
https://review.opendev.org/428666,Added further security functionality in release notes.,Added further security functionality in release notes. This patch seeks to add futher security functions present within tripleo for the ocata release. Change-Id: Ie89b85589c2dfd3580de75253b73009b5d06c9f2,17893,Luke Hinds,"[3, 7144, 10873]","['Jenkins', 'James Slagle', 'Juan Antonio Osorio Robles']",added security functionality release notes patch seeks add futher security functions present within tripleo ocata release changeid ie89b85589c2dfd3580de75253b73009b5d06c9f2
https://review.opendev.org/427967,Add method to security module,[WIP]: Add methods to security module This patch adds methods to security module to further expose more options available from firewall APIs on the backend. Specifically this patch adds the following: 1. A method to build tag expression for LogicalSwitch targets to create dynamic NSGroups. Change-Id: I9bbacfe14076d9ff92b0f45e9a85335876302f72,7018,Abhishek Raut,"[3, 261, 1653, 12134, 20363, 24247]","['Jenkins', 'Salvatore Orlando', 'garyk', 'Akash Gangil', 'Adit Sarfaty', 'Anna Khmelnitsky']",wip add methods security module patch adds methods security module expose options available firewall apis backend specifically patch adds following 1 method build tag expression logicalswitch targets create dynamic nsgroups changeid i9bbacfe14076d9ff92b0f45e9a85335876302f72
https://review.opendev.org/428100,Var target security playbook host group,"Var target security playbook host group Set the playbook host scope to a var named ""security_host_group"" to allow operators to filter the hosts targeted by the play. Change-Id: I7095eb8658337d165068c5d8034532211c4bd273 (cherry picked from commit b0b7e3ec2986d0519c213bea4bc292f95dbba3e0)",17799,Logan V,"[3, 2799, 6816]","['Jenkins', 'Andy McCrae', 'Jesse Pretorius']",var target security playbook host group set playbook host scope var named securityhostgroup allow operators filter hosts targeted play changeid i7095eb8658337d165068c5d8034532211c4bd273 cherry picked commit b0b7e3ec2986d0519c213bea4bc292f95dbba3e0
https://review.opendev.org/431771,Tests for compute security groups.,Tests for compute security groups. Change-Id: I4b1c980f5cd651eff758d52b1812de994220a8df Partially-Implements: blueprint initial-tests-compute Co-Authored-By: Michael Sliem <ms272s@att.com>,17896,Rick Bartra,"[3, 23184, 23185]","['Jenkins', 'DavidPurcell', 'Samantha Blanco']",tests compute security groups changeid i4b1c980f5cd651eff758d52b1812de994220a8df partiallyimplements blueprint initialtestscompute coauthoredby michael sliem ms272sattcom
https://review.opendev.org/431661,Ensure that Trusty checks run for the security role,Ensure that Trusty checks run for the security role Change-Id: I310ea2687bf1e1873f6918aab6b08b3489303ab2 (cherry picked from commit cede471b7fd4b88c693beec550a8d039076eee2d),6816,Jesse Pretorius,"[3, 538, 17799]","['Jenkins', 'Major Hayden', 'Logan V']",ensure trusty checks run security role changeid i310ea2687bf1e1873f6918aab6b08b3489303ab2 cherry picked commit cede471b7fd4b88c693beec550a8d039076eee2d
https://review.opendev.org/431633,Ensure that Trusty checks run for the security role,Ensure that Trusty checks run for the security role Change-Id: I310ea2687bf1e1873f6918aab6b08b3489303ab2,6816,Jesse Pretorius,"[3, 538, 15993]","['Jenkins', 'Major Hayden', 'Amy Marrich']",ensure trusty checks run security role changeid i310ea2687bf1e1873f6918aab6b08b3489303ab2
https://review.opendev.org/429754,[Tempest]: Adding of Provider security Group cases.,[Tempest]: Adding of Provider security Group cases. During port update with psg check vm connectivity. Change-Id: Iec25051122fdb1bb167266108dc28ac097a15694,22107,Puneet Arora,"[3, 9008, 12024, 16499, 18118, 22107]","['Jenkins', 'VMware NSX CI', 'Tong Liu', 'Alex Kang', 'Christopher Chu Lin', 'Puneet Arora']",tempest adding provider security group cases port update psg check vm connectivity changeid iec25051122fdb1bb167266108dc28ac097a15694
https://review.opendev.org/709017,Always display direction for security group rules,Always display direction for security group rules Remove --long option as this was only used to display this extra column. Change-Id: I23dd9fa7cff310ee9a62ce32b843b822b93b7548 Closes-bug: #2007323,3031,Sam Morrison,"[841, 1131, 3031, 11904, 13252, 15334, 22348]","['Akihiro Motoki', 'Brian Haley', 'Sam Morrison', 'Sean McGinnis', 'Dr. Jens Harbott', 'Stephen Finucane', 'Zuul']",always display direction security group rules remove long option used display extra column changeid i23dd9fa7cff310ee9a62ce32b843b822b93b7548 closesbug 2007323
https://review.opendev.org/426666,Create default vpc during describe security groups,Create default vpc during describe security groups add unit test Change-Id: I96058de2bde3cff1e7b74d442f67803726cd1828,19065,Anastasia Kravets,"[3, 10224, 10234, 19065]","['Jenkins', 'Feodor Tersin', 'Andrey Pavlov', 'Anastasia Kravets']",create default vpc describe security groups add unit test changeid i96058de2bde3cff1e7b74d442f67803726cd1828
https://review.opendev.org/411857,[suse] Update security group for kube_masters,[suse] Update security group for kube_masters Change-Id: Ie40e5c90c0b246960ff94b917f285a810120c340 Partial-Bug: #1622949,8151,Michal Jura,"[3, 668, 8151, 11536, 12404, 13861, 21469]","['Jenkins', 'Adrian Otto', 'Michal Jura', 'hongbin', 'Rico Lin', 'yatin', 'Jaycen Grant']",suse update security group kubemasters changeid ie40e5c90c0b246960ff94b917f285a810120c340 partialbug 1622949
https://review.opendev.org/430202,Adds security hardening documentation.,"Adds security hardening documentation. This change adds instructions on how to utlize the security hardening functionaly, present in TripleO since the Ocata release. Change-Id: I152f295178057d75248543332575da57b5516266",17893,Luke Hinds,"[3, 4328, 6928, 7144, 10873, 14985, 17893, 18575, 18851]","['Jenkins', 'Steven Hardy', 'Ben Nemec', 'James Slagle', 'Juan Antonio Osorio Robles', 'Alex Schultz', 'Luke Hinds', 'Saravanan KR', 'Marius Cornea']",adds security hardening documentation change adds instructions utlize security hardening functionaly present tripleo since ocata release changeid i152f295178057d75248543332575da57b5516266
https://review.opendev.org/427462,api-ref: add description to security groups,api-ref: add description to security groups Adds the description request/response parameter as applicable to core resources (see defect). Change-Id: Ica654402a109c8c08a70d0d306e9f05f8e881306 Partial-Bug: #1553653,5367,boden,"[3, 4694, 7715, 9656, 22220]","['Jenkins', 'Miguel Lavalle', 'Hirofumi Ichihara', 'Ihar Hrachyshka', 'Anindita Das']",apiref add description security groups adds description requestresponse parameter applicable core resources see defect changeid ica654402a109c8c08a70d0d306e9f05f8e881306 partialbug 1553653
https://review.opendev.org/427458,api-ref: add description to security group rules,api-ref: add description to security group rules Adds the description request/response parameter as applicable to core resources (see defect). Change-Id: I36f8a15ef6b01e558255d542b31da837af5646b0 Partial-Bug: #1553653,5367,boden,"[3, 5367, 7715, 9656, 22220]","['Jenkins', 'boden', 'Hirofumi Ichihara', 'Ihar Hrachyshka', 'Anindita Das']",apiref add description security group rules adds description requestresponse parameter applicable core resources see defect changeid i36f8a15ef6b01e558255d542b31da837af5646b0 partialbug 1553653
https://review.opendev.org/427882,Move Security Groups into its own panel,"Move Security Groups into its own panel This patch moves the Security Groups tab from the Access and Security panel into its own panel under the Network panel group. As this is the last tab in Access and Security, that panel is also removed by this patch. Change-Id: Id29c7ce635d46383742aec140def265d4b249aa5 Implements: blueprint reorganise-access-and-security",12826,Rob Cresswell,"[3, 5623, 6732, 9155, 12071]","['Jenkins', 'David Lyle', 'Lingxian Kong', 'Eddie Ramirez', 'Richard Jones']",move security groups panel patch moves security groups tab access security panel panel network panel group last tab access security panel also removed patch changeid id29c7ce635d46383742aec140def265d4b249aa5 implements blueprint reorganiseaccessandsecurity
https://review.opendev.org/427695,Var target security playbook host group,"Var target security playbook host group Set the playbook host scope to a var named ""security_host_group"" to allow operators to filter the hosts targeted by the play. Change-Id: I7095eb8658337d165068c5d8034532211c4bd273",17799,Logan V,"[3, 538, 14805]","['Jenkins', 'Major Hayden', 'Jimmy McCrory']",var target security playbook host group set playbook host scope var named securityhostgroup allow operators filter hosts targeted play changeid i7095eb8658337d165068c5d8034532211c4bd273
https://review.opendev.org/425783,Move Floating IPs from Access & Security to panel,Move Floating IPs from Access & Security to panel This patch makes the Floating IPs tab in Access & Security its own panel under Project > Network Change-Id: Ibb83ae5a0448d2824c10f867e620cec8219b7b72 Implements: blueprint reorganise-access-and-security,12826,Rob Cresswell,"[3, 5623, 12071, 12826]","['Jenkins', 'David Lyle', 'Richard Jones', 'Rob Cresswell']",move floating ips access security panel patch makes floating ips tab access security panel project network changeid ibb83ae5a0448d2824c10f867e620cec8219b7b72 implements blueprint reorganiseaccessandsecurity
https://review.opendev.org/424801,Networking architecture of Security guide implies direct DB conn.,Networking architecture of Security guide implies direct DB conn. Revise Networking architecture of Security guide to describe there is no direct database access from the agents. Change-Id: I45bd29c88ffc9eabfaab5f7dc9bce17d64c5ca18 Closes-bug: #1544641,21242,Michael Glaser,"[3, 6804, 8803, 9162, 12325, 19779, 21242, 22781]","['Jenkins', 'bruce-benjamin', 'Catherine Richardson', 'Lana Brindley', 'Nathaniel Dillon', 'Chason Chan', 'Michael Glaser', 'Khanak Nangia']",networking architecture security guide implies direct db conn revise networking architecture security guide describe direct database access agents changeid i45bd29c88ffc9eabfaab5f7dc9bce17d64c5ca18 closesbug 1544641
https://review.opendev.org/422947,Adds ARP spoofing to Security Guide,Adds ARP spoofing to Security Guide Adds description of how `prevent_arp_spoofing` can help mitigate ARP spoofing attacks. Change-Id: Ib73f9ee3e80a94f8e7819a328f613e80fa720299 Closes-Bug: #1441927,9930,Martin Lopes,"[3, 6804, 7787, 9162, 10607, 12325, 18462]","['Jenkins', 'bruce-benjamin', 'Kevin Benton', 'Lana Brindley', 'Alexandra Settle', 'Nathaniel Dillon', 'Rahul U Nair']",adds arp spoofing security guide adds description preventarpspoofing help mitigate arp spoofing attacks changeid ib73f9ee3e80a94f8e7819a328f613e80fa720299 closesbug 1441927
https://review.opendev.org/427097,Add test for allow all security group and policies,Add test for allow all security group and policies * Check policy with allow TCP for any port * Check policy with allow TCP for specific port Change-Id: I7e7fad70536306818b5dd077bf6626c2926d2179,19265,Georgy Dyuldin,"[3, 13306, 14774, 18354]","['Jenkins', 'okosse', 'Fuel TPI CI', 'Plugins CI']",add test allow security group policies check policy allow tcp port check policy allow tcp specific port changeid i7e7fad70536306818b5dd077bf6626c2926d2179
https://review.opendev.org/426855,Move test plugins into security role,"Move test plugins into security role The greaterthan/lessthan test plugins were added into openstack-ansible-plugins a month ago, but they are needed in the security role to ensure that the role can run on a system without openstack-ansible-plugins installed. The test plugins in this role should be removed once jinja 2.9.5 is available for use in OpenStack (likely after Ocata release). Closes-bug: 1660060 Change-Id: Ic86dc9a9e8ae8d03fe52a7c3fc52e580b9936711",538,Major Hayden,"[3, 6816, 14805, 15993]","['Jenkins', 'Jesse Pretorius', 'Jimmy McCrory', 'Amy Marrich']",move test plugins security role greaterthanlessthan test plugins added openstackansibleplugins month ago needed security role ensure role run system without openstackansibleplugins installed test plugins role removed jinja 295 available use openstack likely ocata release closesbug 1660060 changeid ic86dc9a9e8ae8d03fe52a7c3fc52e580b9936711
https://review.opendev.org/424690,Fix security group creation,Fix security group creation When using init-runonce script multiple default security groups are present and raise error: More than one security_group exists with the name 'default'. Add a check to create rules to admin's default sec group. Change-Id: Iaf93467d70ae41fdbcd2b37d6c5639a32d939394,19316,Eduardo Gonzalez,"[3, 1390, 11869, 24164]","['Jenkins', 'Paul Bourke (pbourke)', 'zhubingbing', 'Sayantani Goswami']",fix security group creation using initrunonce script multiple default security groups present raise error one securitygroup exists name default add check create rules admins default sec group changeid iaf93467d70ae41fdbcd2b37d6c5639a32d939394
https://review.opendev.org/412849,Tempest: Scenario tests for Provider security group with NSXv3,Tempest: Scenario tests for Provider security group with NSXv3 Basic operation Scenario tests Change-Id: I0af6c7b0f63ef5cd2d6e09e1e30d39dd261c4236,22107,Puneet Arora,"[3, 9008, 9423, 12024, 16499, 20281, 22107]","['Jenkins', 'VMware NSX CI', 'Roey Chen', 'Tong Liu', 'Alex Kang', 'Devang Doshi', 'Puneet Arora']",tempest scenario tests provider security group nsxv3 basic operation scenario tests changeid i0af6c7b0f63ef5cd2d6e09e1e30d39dd261c4236
https://review.opendev.org/785103,Add tests for Security Groups API's new policy rules,Add tests for Security Groups API's new policy rules Related-blueprint: bp/secure-rbac-roles Change-Id: I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47,11975,Slawek Kaplonski,"[5046, 5948, 9845, 14250, 16688, 22348, 32291]","['Lance Bragstad', 'Oleg Bondarev', 'Arista CI', 'Grzegorz Grasza', 'Rodolfo Alonso', 'Zuul', 'wushiming']",add tests security groups apis new policy rules relatedblueprint bpsecurerbacroles changeid i65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47
https://review.opendev.org/757300,Adding Ghada Khalil candidacy for StarlingX Security Project Lead role,Adding Ghada Khalil candidacy for StarlingX Security Project Lead role Change-Id: I47909931d4ee4f770105fe68fb671549f5ab0ac2,28558,Ghada Khalil,"[9562, 22348, 28413]","['Ildiko Vancsa', 'Zuul', 'yong hu']",adding ghada khalil candidacy starlingx security project lead role changeid i47909931d4ee4f770105fe68fb671549f5ab0ac2
https://review.opendev.org/418183,SDK refactor: Prepare security group commands,"SDK refactor: Prepare security group commands Prepare the OSC ""security group"" commands for the SDK refactor. Change-Id: If9918fad2474f9b4d68424f2806f0de61fd58b2e Partially-Implements: blueprint network-command-sdk-support",7018,Abhishek Raut,"[3, 970, 6482, 7018, 8410]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Abhishek Raut', 'Richard Theis']",sdk refactor prepare security group commands prepare osc security group commands sdk refactor changeid if9918fad2474f9b4d68424f2806f0de61fd58b2e partiallyimplements blueprint networkcommandsdksupport
https://review.opendev.org/422992,Push out security group rules when a security group is created,"Push out security group rules when a security group is create Neutron creates groups with rules, but doesn't tell drivers about the rule creations using events. Push them out when the group is created. Change-Id: I7fd5452fdd6d2706c0396225920f9397dc78f791",3217,Ian Wells,"[3, 1356, 3217]","['Jenkins', 'Naveen Joy', 'Ian Wells']",push security group rules security group create neutron creates groups rules doesnt tell drivers rule creations using events push group created changeid i7fd5452fdd6d2706c0396225920f9397dc78f791
https://review.opendev.org/423324,Add global security variable with tls configuration,"Add global security variable with tls configuration Lets start with defailts off and null certs to unblock local work on the TLS and make it enabled by default later, when cert creation options will be finalized. Change-Id: I123eac70012959df8da88da710629f636d68f14c",18652,Proskurin Kirill,"[3, 7710, 19542, 22652]","['Jenkins', 'Sergey Reshetnyak', 'Artur Zarzycki', 'Mirantis CCP CI']",add global security variable tls configuration lets start defailts null certs unblock local work tls make enabled default later cert creation options finalized changeid i123eac70012959df8da88da710629f636d68f14c
https://review.opendev.org/422993,Remove deleted rules from a security group straight away,Remove deleted rules from a security group straight away Due to a DB feature they're taking an extra call to go away. Change-Id: I326622ee496a3134458a73db4ab73133a64d2c14 Closes-Bug: 1657638,3217,Ian Wells,"[3, 1356, 3217, 23618]","['Jenkins', 'Naveen Joy', 'Ian Wells', 'Christophe Fontaine']",remove deleted rules security group straight away due db feature theyre taking extra call go away changeid i326622ee496a3134458a73db4ab73133a64d2c14 closesbug 1657638
https://review.opendev.org/422052,Remove iptables nat and mangle rules for security group,"Remove iptables nat and mangle rules for security group There is no need to add iptables nat and mangle rules for security group, these rules will slow down network performance especially when using 6wind Virtual Accelerator. Conflicts: neutron/agent/linux/iptables_firewall.py Change-Id: I1d5748394665535d114e8d942a68d5bd43927058 Closes-Bug: #1650466 (cherry picked from commit 22352f5d4c595e373bb73c8bc590e6d3e621dac0)",9656,Ihar Hrachyshka,"[3, 1131, 7787, 9681, 18462, 20330]","['Jenkins', 'Brian Haley', 'Kevin Benton', 'Ryu CI', 'Rahul U Nair', 'Microsoft Hyper-V Networking CI']",remove iptables nat mangle rules security group need add iptables nat mangle rules security group rules slow network performance especially using 6wind virtual accelerator conflicts neutronagentlinuxiptablesfirewallpy changeid i1d5748394665535d114e8d942a68d5bd43927058 closesbug 1650466 cherry picked commit 22352f5d4c595e373bb73c8bc590e6d3e621dac0
https://review.opendev.org/422723,Fix filename and call out security concerns,"Fix filename and call out security concerns Removed mention of not editing the file, as the doc later suggests editing the file. Change-Id: I9cc69c4835e855a1468f6a8ea9366a43a29153f3",19814,Travis Truman (automagically),"[3, 538, 6816]","['Jenkins', 'Major Hayden', 'Jesse Pretorius']",fix filename call security concerns removed mention editing file doc later suggests editing file changeid i9cc69c4835e855a1468f6a8ea9366a43a29153f3
https://review.opendev.org/418764,Make common functions for creating and analysing security group tags,"Make common functions for creating and analysing security group tags Functions added (and applied, where appopriate) to make tags (a) obviously related to the driver and (b) constructed and deconstructed programmatically. This should make their meanings easier to interpret and also reduce the likelihood of a clash. Change-Id: Idba0407c876b818ea40677157ff1d76cb36b81e9",3217,Ian Wells,"[3, 1356, 3217, 23618]","['Jenkins', 'Naveen Joy', 'Ian Wells', 'Christophe Fontaine']",make common functions creating analysing security group tags functions added applied appopriate make tags obviously related driver b constructed deconstructed programmatically make meanings easier interpret also reduce likelihood clash changeid idba0407c876b818ea40677157ff1d76cb36b81e9
https://review.opendev.org/334103,Register Neutron Floating IP and Security Group names,Register Neutron Floating IP and Security Group names This adds OS::Neutron::FloatingIP and OS::Neutron::SecurityGroup to the horizon name registration. Change-Id: I20ee30edeed7faca6835e81e3047ffd47bbd2259 Partially-Implements: blueprint angular-registry,7665,Travis Tripp,"[3, 5623, 6763, 7665, 9622, 12071, 12826]","['Jenkins', 'David Lyle', 'Liuqing Jing', 'Travis Tripp', 'Cindy Lu', 'Richard Jones', 'Rob Cresswell']",register neutron floating ip security group names adds osneutronfloatingip osneutronsecuritygroup horizon name registration changeid i20ee30edeed7faca6835e81e3047ffd47bbd2259 partiallyimplements blueprint angularregistry
https://review.opendev.org/420711,NSX|V3: ensure that port security is set correctly on backend,NSX|V3: ensure that port security is set correctly on backend Subsequent port updates would remove the port from the exclude list if the post security is disabled. Change-Id: I5329df66c42e609297990fd9211042d975c8857c (cherry picked from commit d321d51c9762189e73360ac17224c82b7f17796e),1653,garyk,"[3, 1653]","['Jenkins', 'garyk']",nsxv3 ensure port security set correctly backend subsequent port updates would remove port exclude list post security disabled changeid i5329df66c42e609297990fd9211042d975c8857c cherry picked commit d321d51c9762189e73360ac17224c82b7f17796e
https://review.opendev.org/420702,NSX|V3: ensure that port security is set correctly on backend,NSX|V3: ensure that port security is set correctly on backend Subsequent port updates would remove the port from the exclude list if the post security is disabled. Change-Id: I5329df66c42e609297990fd9211042d975c8857c (cherry picked from commit d321d51c9762189e73360ac17224c82b7f17796e),1653,garyk,"[3, 1653, 9008]","['Jenkins', 'garyk', 'VMware NSX CI']",nsxv3 ensure port security set correctly backend subsequent port updates would remove port exclude list post security disabled changeid i5329df66c42e609297990fd9211042d975c8857c cherry picked commit d321d51c9762189e73360ac17224c82b7f17796e
https://review.opendev.org/420539,NSX|V3: ensure that port security is set correctly on backend,NSX|V3: ensure that port security is set correctly on backend Subsequent port updates would remove the port from the exclude list if the post security is disabled. Change-Id: I5329df66c42e609297990fd9211042d975c8857c,1653,garyk,"[3, 1653, 20363]","['Jenkins', 'garyk', 'Adit Sarfaty']",nsxv3 ensure port security set correctly backend subsequent port updates would remove port exclude list post security disabled changeid i5329df66c42e609297990fd9211042d975c8857c
https://review.opendev.org/420113,Fix security group rule list for NEtwork v2,Fix security group rule list for NEtwork v2 Fix the formatting of Port Range in the security group rule list command for Network v2 to handle SDK changes. Change-Id: Id954cbfaedbb74f60125ebda91f80db751759933,970,Dean Troyer,"[3, 970, 6482]","['Jenkins', 'Dean Troyer', 'Steve Martinelli']",fix security group rule list network v2 fix formatting port range security group rule list command network v2 handle sdk changes changeid id954cbfaedbb74f60125ebda91f80db751759933
https://review.opendev.org/418565,Centralize creation of security group test obj,Centralize creation of security group test obj The creation of security group objects are duplicated in several places. This patch pretends to consolidate this in a single function where it can be reused in the future. Change-Id: I3c2b30c258e665f47ea7d3cffdb6e7333b2944a8 Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db,8726,Victor Morales,"[3, 7787, 9656, 9732, 14611, 22220]","['Jenkins', 'Kevin Benton', 'Ihar Hrachyshka', 'Mellanox CI', 'dasm', 'Anindita Das']",centralize creation security group test obj creation security group objects duplicated several places patch pretends consolidate single function reused future changeid i3c2b30c258e665f47ea7d3cffdb6e7333b2944a8 partiallyimplements blueprint adoptosloversionedobjectsfordb
https://review.opendev.org/418277,Fix security group rule sync,"Fix security group rule sync 1. What is the problem After security group rule sync-ed by XJob daemon, IPv4 ingress rule included in the DEFAULT security group is missing. 2. What is the solution to the problem After checking the code, we find that the indenation in XManager is incorrect so XJob daemon doesn't collect the correct list of rules needed to be sync-ed to the local Neutron server. So the solution is simple, we just correct the indentation. 3. What the features need to be implemented to the Tricircle No new features Change-Id: I981add46eb8fee8f1c025de0ba1805a8732f6cc5 Closes-Bug: #1655271",22810,yinxiulin,"[3, 11819, 12076]","['Jenkins', 'Chaoyi Huang', 'Zhiyuan Cai']",fix security group rule sync 1 problem security group rule synced xjob daemon ipv4 ingress rule included default security group missing 2 solution problem checking code find indenation xmanager incorrect xjob daemon doesnt collect correct list rules needed synced local neutron server solution simple correct indentation 3 features need implemented tricircle new features changeid i981add46eb8fee8f1c025de0ba1805a8732f6cc5 closesbug 1655271
https://review.opendev.org/418396,Forbid traffic for interfaces before security is in place,"Forbid traffic for interfaces before security is in place Until Security groups are eventually set, do not bring interfaces up. Closes-Bug: #1655221 Change-Id: I58aa45f4c3dbcc4869675eea0f91fe316eda0a26 Signed-off-by: Christophe Fontaine <christophe.fontaine@qosmos.com>",23618,Christophe Fontaine,"[3, 1356, 3217, 23618]","['Jenkins', 'Naveen Joy', 'Ian Wells', 'Christophe Fontaine']",forbid traffic interfaces security place security groups eventually set bring interfaces closesbug 1655221 changeid i58aa45f4c3dbcc4869675eea0f91fe316eda0a26 signedoffby christophe fontaine christophefontaineqosmoscom
https://review.opendev.org/755816,Configure bandit security linter,Configure bandit security linter Change-Id: I4c3b4fec50e7b2aedd8cb3b7dfa5dacd0d44c329,15197,Pierre Riteau,"[8878, 13192, 22348, 25625]","['Masahito Muroi', 'Souville', 'Zuul', 'Tetsuro Nakamura']",configure bandit security linter changeid i4c3b4fec50e7b2aedd8cb3b7dfa5dacd0d44c329
https://review.opendev.org/377004,Adds keystone security compliance settings,Adds keystone security compliance settings The PCI-DSS feature has been introduced during the Newton release and its settings are disabled by default. This patch adds the possibility to enable some of them during DevStack setup. This change is intended to enable the possibility to create functional tests for the feature for keystone's tempest plugin job. Change-Id: If6b5eb3e3cbc43eb241c94d18af80ad50be08772,11022,Rodrigo Duarte,"[3, 970, 2750, 4656, 5196, 6482, 10118, 10385, 11022, 16376, 16803, 23303]","['Jenkins', 'Dean Troyer', 'Sean Dague', 'Sean M. Collins', 'Matthew Treinish', 'Steve Martinelli', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Rodrigo Duarte', 'Intel NFV CI', 'liujunpeng', 'howardlee']",adds keystone security compliance settings pcidss feature introduced newton release settings disabled default patch adds possibility enable devstack setup change intended enable possibility create functional tests feature keystones tempest plugin job changeid if6b5eb3e3cbc43eb241c94d18af80ad50be08772
https://review.opendev.org/411699,Remove iptables nat and mangle rules for security group,"Remove iptables nat and mangle rules for security group There is no need to add iptables nat and mangle rules for security group, these rules will slow down network performance especially when using 6wind Virtual Accelarator. Change-Id: I1d5748394665535d114e8d942a68d5bd43927058 Closes-Bug: #1650466",10518,Jesse,"[3, 1131, 8655, 8788, 9732, 10385, 10518, 11975, 12860, 14208, 15752, 16376, 17776, 20330]","['Jenkins', 'Brian Haley', 'Jakub Libosvar', 'Miguel Angel Ajo', 'Mellanox CI', 'Citrix XenServer CI', 'Jesse', 'Slawek Kaplonski', 'Dongcan Ye', 'Cisco CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Reedip', 'Microsoft Hyper-V Networking CI']",remove iptables nat mangle rules security group need add iptables nat mangle rules security group rules slow network performance especially using 6wind virtual accelarator changeid i1d5748394665535d114e8d942a68d5bd43927058 closesbug 1650466
https://review.opendev.org/416269,Unblock security role gate,"[WIP] Testing security role gate _[_]_ ("") `--( : )--' ( : ) """"`-...-'"""" Change-Id: I9c2b50389cc2e4fa81717dcceccf6da1d973d34c",538,Major Hayden,"[3, 7217, 7414, 12807]","['Jenkins', 'Hugh Saunders', 'David Wilde', 'Steve Lewis (stevelle)']",wip testing security role gate changeid i9c2b50389cc2e4fa81717dcceccf6da1d973d34c
https://review.opendev.org/401241,Port security group related tests to Python 3,Port security related tests to Python 3 * Use encode_utils.safe_decode from oslo.utils to decode result of urllib.parse.unquote(cidr) Partially-Implements: blueprint goal-python35 Change-Id: If139d093f8951f59753c06a88a59b4fb2f878940,9796,ChangBo Guo(gcb),"[3, 2750, 5170, 6167, 7634, 8556, 8871, 9008, 9732, 9796, 10118, 10385, 11564, 15286, 15334, 15751, 16128, 16376, 16897, 16898, 16907, 17292, 19590, 20040]","['Jenkins', 'Sean Dague', 'Microsoft Hyper-V CI', ""Ken'ichi Ohmichi"", 'Takashi Natsume', 'Ghanshyam', 'Elastic Recheck', 'VMware NSX CI', 'Mellanox CI', 'ChangBo Guo(gcb)', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Chris Dent', 'XenProject CI', 'Stephen Finucane', 'Intel PCI CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Diana Clarke', 'Michal Ptacek', 'Sarafraj Singh', 'Microsoft Hyper-V Compute CI']",port security related tests python 3 use encodeutilssafedecode osloutils decode result urllibparseunquotecidr partiallyimplements blueprint goalpython35 changeid if139d093f8951f59753c06a88a59b4fb2f878940
https://review.opendev.org/414487,Change description in the security group section,Change description in the security group section Description was changed according to the appropriate spec Change-Id: I17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e Partial-Bug: #1646087 (cherry picked from commit fb167df84c777aab1803ae3760e9f64a9a3212a9),21696,Anastasia Balobashina,"[3, 8971, 10391, 10443, 10959, 20656]","['Jenkins', 'Fuel CI', 'Ihor Kalnytskyi', 'Fedor Zhadaev', 'Alexander Kislitsky', 'Fuel Packaging CI']",change description security group section description changed according appropriate spec changeid i17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e partialbug 1646087 cherry picked commit fb167df84c777aab1803ae3760e9f64a9a3212a9
https://review.opendev.org/414486,Change description in the security group section,Change description in the security group section Description was changed according to the appropriate spec Change-Id: I17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e Partial-Bug: #1646087 (cherry picked from commit fb167df84c777aab1803ae3760e9f64a9a3212a9),21696,Anastasia Balobashina,"[3, 8971, 10391, 10443, 10959, 20656]","['Jenkins', 'Fuel CI', 'Ihor Kalnytskyi', 'Fedor Zhadaev', 'Alexander Kislitsky', 'Fuel Packaging CI']",change description security group section description changed according appropriate spec changeid i17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e partialbug 1646087 cherry picked commit fb167df84c777aab1803ae3760e9f64a9a3212a9
https://review.opendev.org/405173,Change description in the security group section,"Add the clarification to the security_groups section for DPDK case The clarification was added, that security groups will be disabled if IPTables-based Firewall Driver is chosen in dpdk case. Change-Id: I17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e Partial-Bug: #1646087",21696,Anastasia Balobashina,"[3, 8392, 8735, 8766, 8931, 8971, 9730, 10391, 10488, 10959, 11898, 13717, 15315, 20656, 21013, 21696]","['Jenkins', 'Aleksey Kasatkin', 'Vitaly Kramskikh', 'Julia Aranovich', 'Artem Roma', 'Fuel CI', 'Kate Pimenova', 'Ihor Kalnytskyi', 'Artur Svechnikov', 'Alexander Kislitsky', 'Alexander Saprykin', 'Inessa Vasilevskaya', 'Nick Bogdanov', 'Fuel Packaging CI', 'Georgy Kibardin', 'Anastasia Balobashina']",add clarification securitygroups section dpdk case clarification added security groups disabled iptablesbased firewall driver chosen dpdk case changeid i17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e partialbug 1646087
https://review.opendev.org/412020,[aim] security group support,[aim] security group support Change-Id: I05a1c02d30a17f968353b7257429965f2e301248,7987,Ivar Lazzaro,"[3, 490, 1689, 7278, 9722, 17416]","['Jenkins', 'Sumit Naiksatam', 'Robert Kukura', 'Subrahmanyam Ongole', 'Hemanth Ravi', 'Amit Bose']",aim security group support changeid i05a1c02d30a17f968353b7257429965f2e301248
https://review.opendev.org/409995,[aim] security group support,[wip][aim] security group support Change-Id: I05a1c02d30a17f968353b7257429965f2e301248,7987,Ivar Lazzaro,"[3, 490, 1689, 7987, 17416]","['Jenkins', 'Sumit Naiksatam', 'Robert Kukura', 'Ivar Lazzaro', 'Amit Bose']",wipaim security group support changeid i05a1c02d30a17f968353b7257429965f2e301248
https://review.opendev.org/413069,NSX|V remove security group from NSX policy before deletion,[WIP] NSX|V remove 'force' from SG deletion We shouldn't deelte backend security groups using force=true This may cause backend syncronization issues Change-Id: I070d34e9e55759d55a95c48dc9d5f8e307dc3f9f,20363,Adit Sarfaty,"[3, 1653, 9008, 13438, 20363, 24247]","['Jenkins', 'garyk', 'VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Anna Khmelnitsky']",wip nsxv remove force sg deletion shouldnt deelte backend security groups using forcetrue may cause backend syncronization issues changeid i070d34e9e55759d55a95c48dc9d5f8e307dc3f9f
https://review.opendev.org/411167,Apply unique_key to security group,"[WIP] Apply unique_key to security group security group used to allocate unique key in cache, this might cause duplicated flows when restart df local controller. This patch will store the unique key in nb db, so that it can keep consistent during restart df local controller. The way to perform nb db data migration will be discussed at [1]. [1] https://review.openstack.org/#/c/401210 Change-Id: I952ca6e7d9d91cdc6b3618ed45ba4d153de9c033 Partial-bug: #1633082",11159,Hong Hui Xiao,"[3, 7805, 20229, 20287]","['Jenkins', 'Li Ma', 'Omer Anson', 'hujie']",wip apply uniquekey security group security group used allocate unique key cache might cause duplicated flows restart df local controller patch store unique key nb db keep consistent restart df local controller way perform nb db data migration discussed 1 1 httpsreviewopenstackorgc401210 changeid i952ca6e7d9d91cdc6b3618ed45ba4d153de9c033 partialbug 1633082
https://review.opendev.org/413046,change security group lock based on sg_id,change security group lock based on sg_id Change-Id: Ie32ed110b21b35284989ec085938a296c9c24e4a Partial-bug: #1651371,20287,hujie,"[3, 7805, 20229]","['Jenkins', 'Li Ma', 'Omer Anson']",change security group lock based sgid changeid ie32ed110b21b35284989ec085938a296c9c24e4a partialbug 1651371
https://review.opendev.org/412755,NSX|V: ensure that security group is deleted,NSX|V: ensure that security group is deleted The 'Ignore NotFound' could result in orphan rules. This ensures that the openstack rule is deleted. Change-Id: Ib93a2065e9aaabb71f72fc5ed33a016e291c06b4,1653,garyk,"[3, 1653]","['Jenkins', 'garyk']",nsxv ensure security group deleted ignore notfound could result orphan rules ensures openstack rule deleted changeid ib93a2065e9aaabb71f72fc5ed33a016e291c06b4
https://review.opendev.org/408582,Tempest: API tests for Provider security group with NSXv3,Tempest: API tests for Provider security group with NSXv3 Basic operation API tests and CRUD tests Change-Id: Iec9c50826c2b8e1b70a2c3df9a269f7c604bd483,22107,Puneet Arora,"[3, 9008, 9423, 12024, 16499, 20281, 22107]","['Jenkins', 'VMware NSX CI', 'Roey Chen', 'Tong Liu', 'Alex Kang', 'Devang Doshi', 'Puneet Arora']",tempest api tests provider security group nsxv3 basic operation api tests crud tests changeid iec9c50826c2b8e1b70a2c3df9a269f7c604bd483
https://review.opendev.org/412347,Add contrail security groups create/update/delete tests,Add contrail security groups create/update/delete tests Change-Id: Id48c368277047cff770d46d020865b88d521deff,19265,Georgy Dyuldin,"[3, 13306, 14774, 18354, 20804]","['Jenkins', 'okosse', 'Fuel TPI CI', 'Plugins CI', 'Yevgeniy Shapovalov']",add contrail security groups createupdatedelete tests changeid id48c368277047cff770d46d020865b88d521deff
https://review.opendev.org/388606,Fix Port Security Enabled information,Fix Port Security Enabled information Display Port Security Enabled information even if port security is disabled. Change-Id: I01fd266db6de750a2d1c96ac27d7a1ccd685e195 Closes-Bug: #1634836,18940,Gyorgy Szombathelyi,"[3, 5623, 6763, 12071, 12281, 13404, 14151, 17172, 20198]","['Jenkins', 'David Lyle', 'Liuqing Jing', 'Richard Jones', 'Itxaka', 'Alberto Planas', 'ziyu032', 'Kenji Ishii', 'Robert MIZIELSKI']",fix port security enabled information display port security enabled information even port security disabled changeid i01fd266db6de750a2d1c96ac27d7a1ccd685e195 closesbug 1634836
https://review.opendev.org/352358,Improve security for swarm,"Improve security for swarm All traffic was allowed for swarm driver. Following rules has been added to improve security 1) Allow ssh to everyone. 2) Allow 2375, 2376 ports for everyone. 3) Allow all the ports to subnet created. Change-Id: Ie1aa4fffeb6317dc200a764319ac93e18d414a4b Closes-bug: #1501050",13912,rajiv,"[3, 668, 10206, 11536, 12404, 13861, 13912, 15123, 20498, 21660, 23365]","['Jenkins', 'Adrian Otto', 'Madhuri Kumari', 'hongbin', 'Rico Lin', 'yatin', 'rajiv', 'Drago', 'Spyros Trigazis', 'Stephen Watson', 'feng.shengqin']",improve security swarm traffic allowed swarm driver following rules added improve security 1 allow ssh everyone 2 allow 2375 2376 ports everyone 3 allow ports subnet created changeid ie1aa4fffeb6317dc200a764319ac93e18d414a4b closesbug 1501050
https://review.opendev.org/410382,Skip security role gate for branches <= Mitaka,"Skip security role gate for branches <= Mitaka Somewhere in the consolidation of the OSA zuul job cleanup, CentOS 7 jobs were re-enabled for the openstack-ansible-security role in Liberty/Mitaka. The role didn't support CentOS 7 in those branches and this patch should disable those tests. Change-Id: I85d5f85a6b78d945b635c7ec42f741bb77e2fb64",538,Major Hayden,"[3, 6133, 6547]","['Jenkins', 'yolanda.robla', 'Andreas Jaeger']",skip security role gate branches mitaka somewhere consolidation osa zuul job cleanup centos 7 jobs reenabled openstackansiblesecurity role libertymitaka role didnt support centos 7 branches patch disable tests changeid i85d5f85a6b78d945b635c7ec42f741bb77e2fb64
https://review.opendev.org/409734,Updated security review template,Updated security review template Updated security review template to suit asset based security review. Change-Id: Ifcc8cb3fcd289b35b243947e90a9a59d4da71b0e,11397,Doug Chivers,"[3, 11861, 12325]","['Jenkins', 'Travis McPeak', 'Nathaniel Dillon']",updated security review template updated security review template suit asset based security review changeid ifcc8cb3fcd289b35b243947e90a9a59d4da71b0e
https://review.opendev.org/409781,[ci] Use neutron quotas for security groups,[ci] Use neutron quotas for security groups Nova-Network is dead. Long live Neutron! Change-Id: Ief11ea6c985089540c78d00a5a0fbe6d948bcc42,9545,Andrey Kurilin,"[3, 9545, 14817]","['Jenkins', 'Andrey Kurilin', 'Mirantis Rally CI']",ci use neutron quotas security groups novanetwork dead long live neutron changeid ief11ea6c985089540c78d00a5a0fbe6d948bcc42
https://review.opendev.org/404763,Re-design Security Groups support for OVS feature,Re-design Security Groups support for OVS feature Change-Id: Ib5e79c607598434a7b825b3fa1464e8fbdac51fd Blueprint: security-groups-support-for-ovs,21696,Anastasia Balobashina,"[3, 13717, 16518, 16771, 21696]","['Jenkins', 'Inessa Vasilevskaya', 'Alexey Shtokolov', 'mpolenchuk', 'Anastasia Balobashina']",redesign security groups support ovs feature changeid ib5e79c607598434a7b825b3fa1464e8fbdac51fd blueprint securitygroupssupportforovs
https://review.opendev.org/393962,Documentation for Security Groups for baremetal servers,Documentation for Security Groups for baremetal servers This patch updates the Ironic documentation to describe how to configure security groups for baremetal servers. Change-Id: I19b42f0fcecc7e4952de452e8576a1ad87e73b61 Partial-bug: 1594242,6558,Sukhdev Kapur,"[3, 6558, 6618, 6637, 9542, 10239, 10342, 10453, 13295, 13689, 14525, 19339, 19593]","['Jenkins', 'Sukhdev Kapur', 'Ruby Loo', 'Sam Betts', 'Pavlo Shchelokovskyy', 'Dmitry Tantsur', 'Jay Faulkner', 'octopuszhang', 'Mario Villaplana', 'Hironori Shiina', 'Vasyl Saienko', 'Dell EMC Ironic CI', 'Anup Navare']",documentation security groups baremetal servers patch updates ironic documentation describe configure security groups baremetal servers changeid i19b42f0fcecc7e4952de452e8576a1ad87e73b61 partialbug 1594242
https://review.opendev.org/402198,support update for security group rule,support update for security group rule Change-Id: I47aad285b6b7fdf584e0c7215c71f1047965499a,12531,alexander medvedev,"[3, 5127, 18799]","['Jenkins', 'Justin Hammond', 'Kyle Haley']",support update security group rule changeid i47aad285b6b7fdf584e0c7215c71f1047965499a
https://review.opendev.org/404699,Fix variable name for cache debian security packages,Fix variable name for cache debian security packages Change-Id: I925b389634c9f52dcc2ff61bfa605863a12a507d,19542,Artur Zarzycki,"[3, 12039, 14644, 14864, 18652, 22652]","['Jenkins', 'Andrey Pavlov', 'Marek Zawadzki', 'Dmitry Klenov', 'Proskurin Kirill', 'Mirantis CCP CI']",fix variable name cache debian security packages changeid i925b389634c9f52dcc2ff61bfa605863a12a507d
https://review.opendev.org/403859,Reduce security groups # for k8s coreos cluster,Reduce security groups # for k8s coreos cluster This patch allows two security groups to be created for k8s coreos cluster(one for master and one for minion) Change-Id: Id12cba8fbe060ced017ea0c402aab77325f71b09 Closes-bug: 1642752 (cherry picked from commit 8d6bf7c621e520c97d289b1056e863048d2a2f93),20465,Chetna,"[3, 668, 10206, 12404, 13861, 15123, 17795]","['Jenkins', 'Adrian Otto', 'Madhuri Kumari', 'Rico Lin', 'yatin', 'Drago', 'PanFengyun']",reduce security groups k8s coreos cluster patch allows two security groups created k8s coreos clusterone master one minion changeid id12cba8fbe060ced017ea0c402aab77325f71b09 closesbug 1642752 cherry picked commit 8d6bf7c621e520c97d289b1056e863048d2a2f93
https://review.opendev.org/407688,Add security impact on per user auth plugin spec,Add security impact on per user auth plugin spec Change-Id: I82e96cdf0e3de5ef1a9cdc84d1cea62b059d6a6e,17860,Samuel de Medeiros Queiroz,"[3, 2218, 2903, 17860]","['Jenkins', 'Adam Young', 'Morgan Fainberg', 'Samuel de Medeiros Queiroz']",add security impact per user auth plugin spec changeid i82e96cdf0e3de5ef1a9cdc84d1cea62b059d6a6e
https://review.opendev.org/405715,[mesos]remove redundant security group,"[WIP][mesos]remove redundant security group This patch move security group out of mesos slave resource group. Security group should only declear once, and use it for the rest part. Change-Id: I4ea5af1fda5eea452a21151daad5ec2815389824",12404,Rico Lin,"[3, 12404, 13861, 15123, 20498, 23365]","['Jenkins', 'Rico Lin', 'yatin', 'Drago', 'Spyros Trigazis', 'feng.shengqin']",wipmesosremove redundant security group patch move security group mesos slave resource group security group declear use rest part changeid i4ea5af1fda5eea452a21151daad5ec2815389824
https://review.opendev.org/402015,Fix invalid security repo,Fix invalid security repo Change-Id: I0365b7430ff17348fa2e0a4b8a3476b149a7ccca Closes-Bug: #1618397 (cherry picked from commit 1400bbeba7d7ac8854c93f92cbd3ed5ff870c558),10459,Luigi Toscano,"[3, 7132, 7213, 7710, 8932, 12038, 13953]","['Jenkins', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Telles Mota Vidal Nóbrega', 'Vitaly Gridnev', 'Elise Gafford']",fix invalid security repo changeid i0365b7430ff17348fa2e0a4b8a3476b149a7ccca closesbug 1618397 cherry picked commit 1400bbeba7d7ac8854c93f92cbd3ed5ff870c558
https://review.opendev.org/402171,Fix Mapr security repo,Fix Mapr security repo lucid-security moved to old-releases.ubuntu.com Related-Bug: 1618397 Change-Id: Ibf2802ca0f62c0eabc0acfc3e90c6d079d20e884 (cherry picked from commit d55baf93c6029781d21063a6a81b2f37bdf07e61),10459,Luigi Toscano,"[3, 7213, 12038, 13919, 13953]","['Jenkins', 'Sahara Hadoop Cluster CI', 'Vitaly Gridnev', 'Evgeny Sikachev', 'Elise Gafford']",fix mapr security repo lucidsecurity moved oldreleasesubuntucom relatedbug 1618397 changeid ibf2802ca0f62c0eabc0acfc3e90c6d079d20e884 cherry picked commit d55baf93c6029781d21063a6a81b2f37bdf07e61
https://review.opendev.org/747344,mariadb security best practice fixes,mariadb security best practice fixes This commit ensures the below mariadb settings with reference to [0]: - 'local_infile' Is Disabled - 'have_symlink' Is Disabled - 'secure_file_priv' Is Not Empty - 'sql_mode' Contains 'STRICT_ALL_TABLES' [0] https://dev.mysql.com/doc/mysql-security-excerpt/8.0/en/general-security-issues.html Change-Id: I701b9bc2bdfb91d67aef91e88f953a09ac72d8be,29397,Kudaka Poorna Rajesh,"[8898, 18213, 18236, 18250, 18256, 18511, 19391, 20466, 21420, 22348, 22636, 23140, 24780, 28182, 29144, 29161, 29397, 29585, 30495, 30515, 30746, 31479, 31707]","['Chris Wedgwood', 'Matthew Neafie', 'Sophie Huang', 'Roy Tang', 'Hemachandra Reddy', 'Brian Wickersham', 'Chi Lo', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Cliff Parsons', 'Jess Egler', 'Sangeet Gupta', 'Jiaping LI', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Kudaka Poorna Rajesh', 'Jeremy Houser', 'Nafiz Haider', 'Sampat Ponnaganti', 'Travis Neely', 'Gayathri Devi Kathiri', 'Jason Li']",mariadb security best practice fixes commit ensures mariadb settings reference 0 localinfile disabled havesymlink disabled securefilepriv empty sqlmode contains strictalltables 0 httpsdevmysqlcomdocmysqlsecurityexcerpt80engeneralsecurityissueshtml changeid i701b9bc2bdfb91d67aef91e88f953a09ac72d8be
https://review.opendev.org/405027,SDK Refactor: Prepare security group rule commands,"SDK Refactor: Prepare security group rule commands Prepare the OSC ""security group rule"" commands for the SDK refactor. See [1] for details. [1] https://etherpad.openstack.org/p/osc-network-command-sdk-support Change-Id: I5553e40fe90f3a26d3f462a69f1a424032479d49 Partially-Implements: blueprint network-command-sdk-support",7018,Abhishek Raut,"[3, 748, 841, 970, 1653, 6482, 7018, 8410]","['Jenkins', 'Armando Migliaccio', 'Akihiro Motoki', 'Dean Troyer', 'garyk', 'Steve Martinelli', 'Abhishek Raut', 'Richard Theis']",sdk refactor prepare security group rule commands prepare osc security group rule commands sdk refactor see 1 details 1 httpsetherpadopenstackorgposcnetworkcommandsdksupport changeid i5553e40fe90f3a26d3f462a69f1a424032479d49 partiallyimplements blueprint networkcommandsdksupport
https://review.opendev.org/400246,"Add radio ""Security Groups"" to Security section","Add radio ""Security Groups"" to Security section It is required for firewall driver selecting Implements: blueprint security-groups-support-for-ovs Change-Id: Id9307c5e72e35de9090804813122ea44045a371b (cherry picked from commit 4478efb3c4d1bb4843d6758e4713da5f723c322a)",21696,Anastasia Balobashina,"[3, 8392, 8971, 10391, 12559, 20656, 21696]","['Jenkins', 'Aleksey Kasatkin', 'Fuel CI', 'Ihor Kalnytskyi', 'Valyavskiy Viacheslav', 'Fuel Packaging CI', 'Anastasia Balobashina']",add radio security groups security section required firewall driver selecting implements blueprint securitygroupssupportforovs changeid id9307c5e72e35de9090804813122ea44045a371b cherry picked commit 4478efb3c4d1bb4843d6758e4713da5f723c322a
https://review.opendev.org/404627,NSX|v+v3: Allow multiple provider security groups on port,"NSX-V|V3: Allow multiple provider security groups on port Commit I058f639c94602dcce5c6f796d5fae4692481ad88 allowed creating multiple provider security groups per tenant, but this fix was needed in order to allow creating a port with those. Change-Id: Ie3306e45fe2af00e90ae5924831b366f8b42fa83",20363,Adit Sarfaty,"[3, 1653, 7018, 9008]","['Jenkins', 'garyk', 'Abhishek Raut', 'VMware NSX CI']",nsxvv3 allow multiple provider security groups port commit i058f639c94602dcce5c6f796d5fae4692481ad88 allowed creating multiple provider security groups per tenant fix needed order allow creating port changeid ie3306e45fe2af00e90ae5924831b366f8b42fa83
https://review.opendev.org/391831,Using a new security group in scenario tests,Using a new security group in scenario tests Instead of using the default security group - creating and using a new security group in setup_network_and_server. This should help when two tests are running and using the same security group. Also adding resource cleanup in API tests base for security groups. Change-Id: I4997bb48edf05402aa8135e3fd70e4c16cafb114,4727,Itzik Brown,"[3, 1131, 1653, 4694, 4727, 5170, 7037, 7787, 8655, 9656, 9732, 9845, 12444, 15752, 16376, 16690, 20256, 21302, 21784]","['Jenkins', 'Brian Haley', 'garyk', 'Miguel Lavalle', 'Itzik Brown', 'Microsoft Hyper-V CI', 'John Perkins', 'Kevin Benton', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Mellanox CI', 'Arista CI', 'John Schwarz', 'Intel SR-IOV CI', 'Intel NFV CI', 'Noam Angel', 'Zhigang Li', 'Genadi Chereshnya', 'Radek Zetik']",using new security group scenario tests instead using default security group creating using new security group setupnetworkandserver help two tests running using security group also adding resource cleanup api tests base security groups changeid i4997bb48edf05402aa8135e3fd70e4c16cafb114
https://review.opendev.org/400260,add bandit security linter,"add bandit security linter skip B104:hardcoded_bind_all_interfaces since we are an API, so we need to bind to all interfaces, skip this test for now. Change-Id: I2ce3eccb28872b81c04f79e2434833f8c038af3f",91,Alvaro,"[3, 91, 10015]","['Jenkins', 'Alvaro', 'Enol Fernández']",add bandit security linter skip b104hardcodedbindallinterfaces since api need bind interfaces skip test changeid i2ce3eccb28872b81c04f79e2434833f8c038af3f
https://review.opendev.org/384520,6wind-virtual-accelerator-plugin: implement security group deactivation,6wind-virtual-accelerator-plugin: implement security group deactivation This patch reworks plugin to: - remove the possibility to disable ipset since starting from Virtual Accelerator 1.4 ipset are fully supported. - allow neutron security groups deactivation to benefit from better performances. Disabling security groups needs (different) configurations on controller and compute nodes. For this reason this patch moves all the node specific neutron configuration in specific tasks for a better separation of code. Signed-off-by: Francesco Santoro <francesco.santoro@6wind.com> Closes-bug: #1631953 Change-Id: I030d41751811831144be0b640ae19e56f22a8f0b,17671,Francesco Santoro,"[3, 12340]","['Jenkins', 'Vincent Jardin']",6windvirtualacceleratorplugin implement security group deactivation patch reworks plugin remove possibility disable ipset since starting virtual accelerator 14 ipset fully supported allow neutron security groups deactivation benefit better performances disabling security groups needs different configurations controller compute nodes reason patch moves node specific neutron configuration specific tasks better separation code signedoffby francesco santoro francescosantoro6windcom closesbug 1631953 changeid i030d41751811831144be0b640ae19e56f22a8f0b
https://review.opendev.org/399380,Reduce security groups # for k8s coreos cluster,Reduce security groups # for k8s coreos cluster This patch allows two security groups to be created for k8s coreos cluster(one for master and one for minion) Change-Id: Id12cba8fbe060ced017ea0c402aab77325f71b09 Closes-bug: 1642752,20465,Chetna,"[3, 668, 10206, 12404, 13861, 15123, 23314]","['Jenkins', 'Adrian Otto', 'Madhuri Kumari', 'Rico Lin', 'yatin', 'Drago', 'lidong']",reduce security groups k8s coreos cluster patch allows two security groups created k8s coreos clusterone master one minion changeid id12cba8fbe060ced017ea0c402aab77325f71b09 closesbug 1642752
https://review.opendev.org/401364,Minor changes to neutron security groups code,Minor changes to neutron security groups code This is a follow-on patch to 3197e44c04de064bc3d8af09af7e0d2d9511af6d. It cleans up a bit of the code and addresses the nits (changes a LOG.exception to LOG.error and adds a unit test). Change-Id: I02b6346d9a2abff858c9dd6083fd29f393c63e97 Partial-bug: #1594242,6618,Ruby Loo,"[3, 6773, 7711, 19339]","['Jenkins', 'Lucas Alvares Gomes', 'Yuriy Zveryanskyy', 'Dell EMC Ironic CI']",minor changes neutron security groups code followon patch 3197e44c04de064bc3d8af09af7e0d2d9511af6d cleans bit code addresses nits changes logexception logerror adds unit test changeid i02b6346d9a2abff858c9dd6083fd29f393c63e97 partialbug 1594242
https://review.opendev.org/361451,Add support for Security Groups for baremetal servers,"Add support for Security Groups for baremetal servers This patch adds support Neutron Security Groups to the baremetal severs when netutron is used as network_interface for deployments. Specifically, this patch adds support so that security groups could be specified (and applied) for provisioning and cleaning networks. Note: Security Groups for tenant networks are already supported. Change-Id: I0cf652bdd220480b104e478f2096bf89a9ba8bdf Closes-bug: #1594242",6558,Sukhdev Kapur,"[3, 6558, 6637, 9542, 10118, 10343, 11655, 12356, 13295, 13689, 14525, 14629, 14943, 15907, 17998, 18893, 19003, 19339, 20311, 20522, 21152, 22724]","['Jenkins', 'Sukhdev Kapur', 'Sam Betts', 'Pavlo Shchelokovskyy', 'IBM PowerKVM CI', 'Jim Rollenhagen', 'Julia Kreger', 'Vladyslav Drok', 'Mario Villaplana', 'Hironori Shiina', 'Vasyl Saienko', 'HPE Proliant', 'Caio Oliveira', 'Wei Hui', 'UFCG OneView CI', 'Miles Gould', 'Fujitsu iRMC CI', 'Dell EMC Ironic CI', 'Cisco CI', 'Aline Bousquet', 'zhang.xiuhua', 'Galyna Zholtkevych']",add support security groups baremetal servers patch adds support neutron security groups baremetal severs netutron used networkinterface deployments specifically patch adds support security groups could specified applied provisioning cleaning networks note security groups tenant networks already supported changeid i0cf652bdd220480b104e478f2096bf89a9ba8bdf closesbug 1594242
https://review.opendev.org/397376,Combine master security groups in k8s driver,Combine master security groups in k8s driver This patch combines the two security groups that the Kubernetes Fedora Atomic driver creates for the master nodes. Change-Id: I37167f1ccd9ce04c225b906bf682d2c2165f281b Closes-bug: #1641735,15123,Drago,"[3, 13861, 20465, 20498, 21660]","['Jenkins', 'yatin', 'Chetna', 'Spyros Trigazis', 'Stephen Watson']",combine master security groups k8s driver patch combines two security groups kubernetes fedora atomic driver creates master nodes changeid i37167f1ccd9ce04c225b906bf682d2c2165f281b closesbug 1641735
https://review.opendev.org/394656,Store security groups in RequestSpec,Store security groups in RequestSpec Change-Id: I2107ec6260954561b5d31b91ad3f27fd325400e2,4393,Dan Smith,"[3, 4393, 5170, 6873, 7166, 9008, 9732, 10118, 10385, 14384, 15286, 15751, 16376, 16897, 16898]","['Jenkins', 'Dan Smith', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'Sylvain Bauza', 'VMware NSX CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI']",store security groups requestspec changeid i2107ec6260954561b5d31b91ad3f27fd325400e2
https://review.opendev.org/400175,"Add radio ""Security Groups"" to Security section","Add radio ""Security Groups"" to Security section It is required for firewall driver selecting Implements: blueprint security-groups-support-for-ovs Change-Id: Id9307c5e72e35de9090804813122ea44045a371b (cherry picked from commit 4478efb3c4d1bb4843d6758e4713da5f723c322a)",21696,Anastasia Balobashina,"[3, 8971, 10391, 10443, 20656]","['Jenkins', 'Fuel CI', 'Ihor Kalnytskyi', 'Fedor Zhadaev', 'Fuel Packaging CI']",add radio security groups security section required firewall driver selecting implements blueprint securitygroupssupportforovs changeid id9307c5e72e35de9090804813122ea44045a371b cherry picked commit 4478efb3c4d1bb4843d6758e4713da5f723c322a
https://review.opendev.org/388750,"Add radio ""Security Groups"" to Security section","Add checkbox ""Enable Security Groups"" to Security section Change-Id: Id9307c5e72e35de9090804813122ea44045a371b",21696,Anastasia Balobashina,"[3, 8392, 8735, 8766, 8931, 8971, 9730, 10391, 10443, 10488, 10959, 11708, 11898, 12559, 15315, 16771, 20656, 21013, 21696]","['Jenkins', 'Aleksey Kasatkin', 'Vitaly Kramskikh', 'Julia Aranovich', 'Artem Roma', 'Fuel CI', 'Kate Pimenova', 'Ihor Kalnytskyi', 'Fedor Zhadaev', 'Artur Svechnikov', 'Alexander Kislitsky', 'Atsuko Ito', 'Alexander Saprykin', 'Valyavskiy Viacheslav', 'Nick Bogdanov', 'mpolenchuk', 'Fuel Packaging CI', 'Georgy Kibardin', 'Anastasia Balobashina']",add checkbox enable security groups security section changeid id9307c5e72e35de9090804813122ea44045a371b
https://review.opendev.org/399956,Add security groups basic functional tests,Add security groups basic functional tests These tests provide functional coverage for the basic security groups and rules operations. Change-Id: I559f56696872d21ef20b553d836ed1c329c465da,7921,Mike Kolesnik,"[3, 333]","['Jenkins', 'Isaku Yamahata']",add security groups basic functional tests tests provide functional coverage basic security groups rules operations changeid i559f56696872d21ef20b553d836ed1c329c465da
https://review.opendev.org/396899,Tempest: Remove skip decorator for security group,Tempest: Remove skip decorator for security group Remove the skip_because tag for NSXv3 security group related tests. Change-Id: Ia917b455d260e2ced939ff105e662ab45f431fa8,12024,Tong Liu,"[3, 1653, 9008, 12024, 16499, 20281, 22107]","['Jenkins', 'garyk', 'VMware NSX CI', 'Tong Liu', 'Alex Kang', 'Devang Doshi', 'Puneet Arora']",tempest remove skip decorator security group remove skipbecause tag nsxv3 security group related tests changeid ia917b455d260e2ced939ff105e662ab45f431fa8
https://review.opendev.org/399416,Fix Delete() operation for Endpoints using Security Groups,Fix Delete() operation for Endpoints using Security Groups Change-Id: I9b437095b515edbee600f508476b8056bd7f8868 Closes-Bug: Bug #1642858,18906,Muneeb Ahmad,"[3, 15307, 19228]","['Jenkins', 'Muawia Khan', 'Muhammad Sagheer']",fix delete operation endpoints using security groups changeid i9b437095b515edbee600f508476b8056bd7f8868 closesbug bug 1642858
https://review.opendev.org/394184,Use 'openstack security group rule create' to replace 'nova secgroup-add-rule',"Use 'openstack security group rule create' to replace 'nova secgroup-add-rule' The command 'nova secgroup-add-rule' is deprecated and will be removed after Nova 15.0.0 is released, so this patch use 'openstack security group rule create' to replace it for cleanup. Change-Id: I66f09b4a80b9cf4452d2b7593d1d6635ba5ec8b5 Implements: blueprint use-openstack-command",14151,ziyu032,"[3, 964, 10607, 10705, 14151, 18332, 19779]","['Jenkins', 'Anne Gentle', 'Alexandra Settle', 'Darren Chan', 'ziyu032', 'Ankur', 'Chason Chan']",use openstack security group rule create replace nova secgroupaddrule command nova secgroupaddrule deprecated removed nova 1500 released patch use openstack security group rule create replace cleanup changeid i66f09b4a80b9cf4452d2b7593d1d6635ba5ec8b5 implements blueprint useopenstackcommand
https://review.opendev.org/398360,Do proper deprecation for security group rule create,"Do proper deprecation for security group rule create Review I03fd0e14e470e7272930ac2651e73263b83bd4e1 renamed the --src-group and --src-ip options to --remote-group and --remote-ip but did not properly deprecate the old option names. Add deprecation warnings when the old option names are used. Also, format the warnings using the new proposed translation guideline for marking substrings to not be translated, such as literal names and option names. Change-Id: I63d085d190fc28b8637e7686016eda4efbdda1be",970,Dean Troyer,"[3, 6482, 8410, 17776]","['Jenkins', 'Steve Martinelli', 'Richard Theis', 'Reedip']",proper deprecation security group rule create review i03fd0e14e470e7272930ac2651e73263b83bd4e1 renamed srcgroup srcip options remotegroup remoteip properly deprecate old option names add deprecation warnings old option names used also format warnings using new proposed translation guideline marking substrings translated literal names option names changeid i63d085d190fc28b8637e7686016eda4efbdda1be
https://review.opendev.org/397227,[Admin-util] NSX|V admin util to use a policy in a security group,"[Admin-util] NSX|V admin util to use a policy in a security group New admin utility that can be used when the user changes the configuration to use policies in security groups (use_nsx_policies=True) This utility deletes the current rules and section of the security group, and adds it to the policy. usage: nsxadmin -r security-groups -o migrate-to-policy --property policy-id=<> --property security-group-id=<> Output example: ==== [MIGRATE] Sg To Policy ==== Successfully established new session; session ID is 28c3f. Deleting the rules of security group: 415ff93e-cbd4-4f49-a06d-44885eba7c88 Deleting the section of security group: 415ff93e-cbd4-4f49-a06d-44885eba7c88 Binding the NSX security group securitygroup-143 to policy policy-9 Done. Change-Id: I7041c33b86a0ebc965e2cfcfe1c9ac9261a0318a",20363,Adit Sarfaty,"[3, 1653, 9008, 13438]","['Jenkins', 'garyk', 'VMware NSX CI', 'Kobi Samoray']",adminutil nsxv admin util use policy security group new admin utility used user changes configuration use policies security groups usensxpoliciestrue utility deletes current rules section security group adds policy usage nsxadmin r securitygroups migratetopolicy property policyid property securitygroupid output example migrate sg policy successfully established new session session id 28c3f deleting rules security group 415ff93ecbd44f49a06d44885eba7c88 deleting section security group 415ff93ecbd44f49a06d44885eba7c88 binding nsx security group securitygroup143 policy policy9 done changeid i7041c33b86a0ebc965e2cfcfe1c9ac9261a0318a
https://review.opendev.org/396080,Adding Security Note OSSN-0077,Adding Security Note OSSN-0077 Closes-Bug #1562175 Change-Id: I0f0d2cec9948377c7fc8754a87345d7c4ec4f67c,5677,vincenzo di somma,"[3, 6804, 8119, 10705, 12279, 15343, 17893, 19298]","['Jenkins', 'bruce-benjamin', 'Eric Brown', 'Darren Chan', 'Janie Richling', 'Tim Burke', 'Luke Hinds', 'Nicolas Bock']",adding security note ossn0077 closesbug 1562175 changeid i0f0d2cec9948377c7fc8754a87345d7c4ec4f67c
https://review.opendev.org/394567,Cookiecutter commit for Security Tempest plugin,"Cookiecutter commit for Security Tempest plugin This change adds the bare minimum cookiecutter tempest plugin for the SecurityTempestPlugin. Later changes will add a key manager client, API tests, and scenario tests for security functionality. Change-Id: If20b01771c74a3ec0ee8a3832306b0406334d196",15524,dane-fichter,"[3, 6167, 7012, 7764, 8623, 11561]","['Jenkins', ""Ken'ichi Ohmichi"", 'Brianna Poulos', 'Peter Hamilton', 'Kaitlin Farr', 'Dave McCowan']",cookiecutter commit security tempest plugin change adds bare minimum cookiecutter tempest plugin securitytempestplugin later changes add key manager client api tests scenario tests security functionality changeid if20b01771c74a3ec0ee8a3832306b0406334d196
https://review.opendev.org/395078,Fixes port security rules deletion,Fixes port security rules deletion Port security rules might contain rules that apply to any protocol. Currently there is no checking to see if a rule which will be deleted belongs to a security rule that applies to all protocols. This patch addresses this issue by adding a check to make sure the rule can be safely removed. Closes-Bug: #1634082 Change-Id: Icfa7d77609394a2a7030f68c2643baf309a5de74 (cherry picked from commit 02e2337ac7223f97d78812846defe345372b785e),8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",fixes port security rules deletion port security rules might contain rules apply protocol currently checking see rule deleted belongs security rule applies protocols patch addresses issue adding check make sure rule safely removed closesbug 1634082 changeid icfa7d77609394a2a7030f68c2643baf309a5de74 cherry picked commit 02e2337ac7223f97d78812846defe345372b785e
https://review.opendev.org/396947,Fix typo in security group description,Fix typo in security group description Change-Id: I44ac5fd45a28011de5fceedc38ff0dc0ec720c6c,9061,David Moreau Simard,"[3, 9060]","['Jenkins', 'Mike Dorman']",fix typo security group description changeid i44ac5fd45a28011de5fceedc38ff0dc0ec720c6c
https://review.opendev.org/383670,Add support in endpoint APIs to support security groups,Add support in endpoint APIs to support security groups * Allow association of endpoints with existing security groups along with endpoint groups. * Update alembic migration script to cater for endpoint and security group binding. * Fix api tests to verify this functionality. Change-Id: I734aed6dd3a2fbe2c88b719bfa37246500821b29 Closes-Bug: #1631334,15307,Muawia Khan,"[3, 8279, 18906, 19228]","['Jenkins', 'Fawad Khaliq', 'Muneeb Ahmad', 'Muhammad Sagheer']",add support endpoint apis support security groups allow association endpoints existing security groups along endpoint groups update alembic migration script cater endpoint security group binding fix api tests verify functionality changeid i734aed6dd3a2fbe2c88b719bfa37246500821b29 closesbug 1631334
https://review.opendev.org/393120,NSX|v+v3: Allow multiple provider security groups per tenant,"NSX|v+v3: Allow multiple provider security groups per tenant The admin will be able to create multiple provider security groups per tenant, and the new comupe ports of this tenant will get all those security groups. This enhancment is required for the NSX Policy support, as each security group can represent 1 policy, and we may need multiple mandatory policies per tenant. Change-Id: I058f639c94602dcce5c6f796d5fae4692481ad88",20363,Adit Sarfaty,"[3, 1653, 9008]","['Jenkins', 'garyk', 'VMware NSX CI']",nsxvv3 allow multiple provider security groups per tenant admin able create multiple provider security groups per tenant new comupe ports tenant get security groups enhancment required nsx policy support security group represent 1 policy may need multiple mandatory policies per tenant changeid i058f639c94602dcce5c6f796d5fae4692481ad88
https://review.opendev.org/392658,Get security groups of an instance using novaclient,Get security groups of an instance using novaclient Fix TODO related to security groups of an instance. Change-Id: I7749c9d64bfd41086a6adfc4c3afd8b4c5029402 Signed-off-by: Cristiana Voicu <cristiana.voicu@orange.com>,23605,Cristiana Voicu,"[3, 5623, 6763, 8648, 9576, 9622, 12071, 12826, 20509]","['Jenkins', 'David Lyle', 'Liuqing Jing', 'Radomir Dopieralski', 'Thai Tran', 'Cindy Lu', 'Richard Jones', 'Rob Cresswell', 'Daniel Castellanos']",get security groups instance using novaclient fix todo related security groups instance changeid i7749c9d64bfd41086a6adfc4c3afd8b4c5029402 signedoffby cristiana voicu cristianavoicuorangecom
https://review.opendev.org/395077,Fixes port security rules deletion,Fixes port security rules deletion Port security rules might contain rules that apply to any protocol. Currently there is no checking to see if a rule which will be deleted belongs to a security rule that applies to all protocols. This patch addresses this issue by adding a check to make sure the rule can be safely removed. Closes-Bug: #1634082 Change-Id: Icfa7d77609394a2a7030f68c2643baf309a5de74 (cherry picked from commit 02e2337ac7223f97d78812846defe345372b785e),8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",fixes port security rules deletion port security rules might contain rules apply protocol currently checking see rule deleted belongs security rule applies protocols patch addresses issue adding check make sure rule safely removed closesbug 1634082 changeid icfa7d77609394a2a7030f68c2643baf309a5de74 cherry picked commit 02e2337ac7223f97d78812846defe345372b785e
https://review.opendev.org/357203,Enable conntrack Security Group Firewall driver,WIP enable conntrack security group driver - This change removes the learn action based securtiy group driver and documents how to enable the conntrack securtiy group driver. - This change bumps the default ovs and dpdk commits to enable conntrack support. Change-Id: I81e82da9d26f2f8f75da0e766898ac528fb8fc59,11604,sean mooney,"[3, 11604, 13717, 16376, 16688, 17292, 23117]","['Jenkins', 'sean mooney', 'Inessa Vasilevskaya', 'Intel NFV CI', 'Rodolfo Alonso', 'Michal Ptacek', 'DSS Cinder CI']",wip enable conntrack security group driver change removes learn action based securtiy group driver documents enable conntrack securtiy group driver change bumps default ovs dpdk commits enable conntrack support changeid i81e82da9d26f2f8f75da0e766898ac528fb8fc59
https://review.opendev.org/355746,Add direction and protocol options to os security group rule list cmd,Add --direction option to os security group rule list cmd This patch added --direction option to filter rules by os security group rule list command. Change-Id: I56ace3f97eb927fd2a868f728c7347a29d028b67 Partial-Bug: #1613533,19554,Nam,"[3, 970, 8410, 14937, 15905, 19554, 20079]","['Jenkins', 'Dean Troyer', 'Richard Theis', 'Tang Chen', 'Cao Xuan Hoang', 'Nam', 'Ha Van Tu']",add direction option os security group rule list cmd patch added direction option filter rules os security group rule list command changeid i56ace3f97eb927fd2a868f728c7347a29d028b67 partialbug 1613533
https://review.opendev.org/393384,Add security group policy extension to OSC,Add security group policy extension to OSC Change-Id: I87fdcc937da36adbf4b9f620c205ee1dcdf6fcd2,20363,Adit Sarfaty,"[3, 1653, 9008, 20363]","['Jenkins', 'garyk', 'VMware NSX CI', 'Adit Sarfaty']",add security group policy extension osc changeid i87fdcc937da36adbf4b9f620c205ee1dcdf6fcd2
https://review.opendev.org/393322,Add security group extensions to OSC,[WIP] Add security group extensions to OSC Change-Id: Ic626c3efed3dfd90ae5045591f6949b2b81915b1,20363,Adit Sarfaty,"[3, 1653, 9008]","['Jenkins', 'garyk', 'VMware NSX CI']",wip add security group extensions osc changeid ic626c3efed3dfd90ae5045591f6949b2b81915b1
https://review.opendev.org/394320,NSX|V support security groups rules with policy configuration,[WIP] NSX|V support security groups rules with policy configuration Change-Id: I95a49505e3575938c2ecfe482bde50ba37ca1f8e,20363,Adit Sarfaty,"[3, 1653, 9008, 13438]","['Jenkins', 'garyk', 'VMware NSX CI', 'Kobi Samoray']",wip nsxv support security groups rules policy configuration changeid i95a49505e3575938c2ecfe482bde50ba37ca1f8e
https://review.opendev.org/388481,Spec for Security Groups support for OVS,Spec for Implement Security Groups switch in Fuel Change-Id: Ie7097e60be830573ac62a40aa4c8306facc6ac04 Blueprint:fuel-security-groups-switch,21696,Anastasia Balobashina,"[3, 6677, 7468, 8786, 10443, 11708, 11827, 13717, 16518, 16771, 21696]","['Jenkins', 'Oleg Gelbukh', 'Sergey Vasilenko', 'Vladimir Kuklin', 'Fedor Zhadaev', 'Atsuko Ito', 'Stanislaw Bogatkin', 'Inessa Vasilevskaya', 'Alexey Shtokolov', 'mpolenchuk', 'Anastasia Balobashina']",spec implement security groups switch fuel changeid ie7097e60be830573ac62a40aa4c8306facc6ac04 blueprintfuelsecuritygroupsswitch
https://review.opendev.org/387316,Fixes port security rules deletion,[WIP] Fixes port security rules deletion Port security rules might contain rules that apply to any protocol. Currently there is no checking to see if a rule which will be deleted belongs to a security rule that applies to all protocols. This patch addresses this issue by adding a check to make sure the rule can be safely removed. Closes-Bug: #1634082 Change-Id: Icfa7d77609394a2a7030f68c2643baf309a5de74,17019,Alin Balutoiu,"[3, 5170, 8213, 8543, 12582, 17019]","['Jenkins', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Lucian Petrut', 'Simona Iuliana Toader', 'Alin Balutoiu']",wip fixes port security rules deletion port security rules might contain rules apply protocol currently checking see rule deleted belongs security rule applies protocols patch addresses issue adding check make sure rule safely removed closesbug 1634082 changeid icfa7d77609394a2a7030f68c2643baf309a5de74
https://review.opendev.org/387720,Fixes port security rules when port security is disabled,"Fixes port security rules when port security is disabled The port security is configurable and can be disabled if the user asks for it. That means no security rules should be created for that port. At the moment, even if the port security is disabled, the default security rules are still created and denies all VM traffic. This patch fixes this issue by skipping security rules creation if the port does not have security enabled. Change-Id: I763739574fec1e36b455e6a33aa975af71a3246c Closes-Bug: #1633589 (cherry picked from commit 9dae767c11da0fb1e04cba6c15c0076c574e6021)",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",fixes port security rules port security disabled port security configurable disabled user asks means security rules created port moment even port security disabled default security rules still created denies vm traffic patch fixes issue skipping security rules creation port security enabled changeid i763739574fec1e36b455e6a33aa975af71a3246c closesbug 1633589 cherry picked commit 9dae767c11da0fb1e04cba6c15c0076c574e6021
https://review.opendev.org/393331,Use 'openstack security group create' to replace 'nova secgroup-create',"Use 'openstack security group create' to replace 'nova secgroup-create' The command 'nova secgroup-create' is deprecated and will be removed after Nova 15.0.0 is released, so this patch use 'openstack security group create' to replace it for cleanup. Change-Id: Icb02efd16929e82b53fd75443f6b530aea3716eb Implements: blueprint use-openstack-command",14151,ziyu032,"[3, 6547, 9162]","['Jenkins', 'Andreas Jaeger', 'Lana Brindley']",use openstack security group create replace nova secgroupcreate command nova secgroupcreate deprecated removed nova 1500 released patch use openstack security group create replace cleanup changeid icb02efd16929e82b53fd75443f6b530aea3716eb implements blueprint useopenstackcommand
https://review.opendev.org/733573,Output correct json for security groups in 'openstack server show',Fixes incorrect json output when command openstack server show -f json is executed. The security group json was nor correct. Story: 2007755 Change-Id: I1b1cac716329e0530400aff782c08000b21d8e1d,31733,jayaditya gupta,"[11904, 13252, 22348, 27900, 31733, 32238]","['Sean McGinnis', 'Dr. Jens Harbott', 'Zuul', 'Artem Goncharov', 'jayaditya gupta', 'wdd']",fixes incorrect json output command openstack server show f json executed security group json correct story 2007755 changeid i1b1cac716329e0530400aff782c08000b21d8e1d
https://review.opendev.org/392493,Use 'openstack security group delete' to replace 'nova secgroup-delete',"Use 'openstack security group delete' to replace 'nova secgroup-delete' The command 'nova secgroup-delete' is deprecated and will be removed after Nova 15.0.0 is released, so this patch use 'openstack security group delete' to replace it for cleanup. Change-Id: I3bb7b2e10f39e75746e9cf1b04b4cb46b4a71d70 Implements: blueprint use-openstack-command",14151,ziyu032,"[3, 964, 10497, 17130]","['Jenkins', 'Anne Gentle', 'KATO Tomoyuki', 'melissaml']",use openstack security group delete replace nova secgroupdelete command nova secgroupdelete deprecated removed nova 1500 released patch use openstack security group delete replace cleanup changeid i3bb7b2e10f39e75746e9cf1b04b4cb46b4a71d70 implements blueprint useopenstackcommand
https://review.opendev.org/392381,Exclude port security testcase as security group is disabled,Exclude port security testcase as security group is disabled test_boot_into_disabled_port_security_network_without_secgroup exclude this testcase as we disabled neutron security group now Change-Id: I4e9873ffb7f0f920b80948d930040ab1f0bc574c,17922,Huan Xie,"[3, 10385, 17920]","['Jenkins', 'Citrix XenServer CI', 'Jianghua Wang']",exclude port security testcase security group disabled testbootintodisabledportsecuritynetworkwithoutsecgroup exclude testcase disabled neutron security group changeid i4e9873ffb7f0f920b80948d930040ab1f0bc574c
https://review.opendev.org/391942,Switch security role checks to voting,"Switch security role checks to voting This patch adjusts the security role checks for RHEL 7 STIG content to a voting status, and adds the same verification to the gate as well. Change-Id: I9b0d8b66731fc1f85132f14d99d3d14ead20def0",538,Major Hayden,"[3, 6133, 6547, 11809]","['Jenkins', 'yolanda.robla', 'Andreas Jaeger', 'Craig Bryant']",switch security role checks voting patch adjusts security role checks rhel 7 stig content voting status adds verification gate well changeid i9b0d8b66731fc1f85132f14d99d3d14ead20def0
https://review.opendev.org/389980,Use 'openstack security group rule list' to replace 'nova' command,"Use 'openstack security group rule list' to replace 'nova' command The command 'nova secgroup-list-rules' is deprecated and will be removed after Nova 15.0.0 is released, so this patch use 'openstack security group rule list' to replace it for cleanup. Change-Id: I0d02f4bb1dde5cc369910bee3365b8696ca41c89 Implements: blueprint use-openstack-command",14151,ziyu032,"[3, 612, 964, 6547, 9515, 10497, 10705, 10897, 14151, 17130, 17445, 22165]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Andreas Jaeger', 'Matthew Kassawara', 'KATO Tomoyuki', 'Darren Chan', 'Joseph Robinson', 'ziyu032', 'melissaml', 'huyupeng', 'caoyuan']",use openstack security group rule list replace nova command command nova secgrouplistrules deprecated removed nova 1500 released patch use openstack security group rule list replace cleanup changeid i0d02f4bb1dde5cc369910bee3365b8696ca41c89 implements blueprint useopenstackcommand
https://review.opendev.org/346821,Websockify security proxy framework,"Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers. It also proposes a reference driver for that framework for TLS security. Previously approved: Juno, Kilo, Mitaka, Newton Blueprint websocket-proxy-to-host-security Change-Id: I44b472d0907606885ff75ffce27dc3f46f6565f4",1779,Daniel Berrange,"[3, 1779, 2271, 2750, 4393, 6735, 6873, 8190, 8213, 9172, 11303, 12898]","['Jenkins', 'Daniel Berrange', 'Michael Still', 'Sean Dague', 'Dan Smith', 'Bob Ball', 'Matt Riedemann', 'Drew Thorstensen (thorst)', 'Claudiu Belu', 'Radoslav Gerganov', 'Markus Zoeller (markus_z)', 'Tony Breeds']",websockify security proxy framework blueprint proposes generic framework supporting maninthemiddle authentication encryption websockify hypervisor graphics servers also proposes reference driver framework tls security previously approved juno kilo mitaka newton blueprint websocketproxytohostsecurity changeid i44b472d0907606885ff75ffce27dc3f46f6565f4
https://review.opendev.org/388744,Use 'openstack security group list' to replace 'nova secgroup-list',"Use 'openstack security group list' to replace 'nova secgroup-list' The command 'nova secgroup-list' is deprecated and will be removed after Nova 15.0.0 is released, so this patch use 'openstack security group list' to replace it for cleanup. Change-Id: I6e85a14c482320d21f89832e7c01dd60ab0bfc1f",14151,ziyu032,"[3, 964, 10497, 10897, 17130]","['Jenkins', 'Anne Gentle', 'KATO Tomoyuki', 'Joseph Robinson', 'melissaml']",use openstack security group list replace nova secgrouplist command nova secgrouplist deprecated removed nova 1500 released patch use openstack security group list replace cleanup changeid i6e85a14c482320d21f89832e7c01dd60ab0bfc1f
https://review.opendev.org/380054,"Central and local plugin (part3, security group)",WIP local plugin with security group support Change-Id: Ibc9898ac577bee19a017746356a8f826e0a8b16f,12076,Zhiyuan Cai,"[3, 11819, 12076, 17446, 18452, 19060, 19960, 22559, 22787, 22810]","['Jenkins', 'Chaoyi Huang', 'Zhiyuan Cai', 'caoronghui', 'Shinobu Kinjo', 'Shinobu KINJO', 'newypei', 'Dongfeng Huang', 'hejiawei', 'yinxiulin']",wip local plugin security group support changeid ibc9898ac577bee19a017746356a8f826e0a8b16f
https://review.opendev.org/378485,Optimize add security group rules for exposed ports,"Optimize add security group rules for exposed ports If user wants to expose ranges of ports for a container, like ports from 1000 to 1100. Using docker client command: $ docker run --net=my_kuryr_net --expose=1000-1100/udp -it ubuntu:14.04 In currently implementation, we should call Neutron client 100 times to create Neutron security group rules. This patch obtains min_port and max_port from libnetwork request, then pass to Neutron client port-range-min and port-range-max in security-group-rule-create. Change-Id: I3a2baa71f94834bdf3679bb05c40f9f2ae06eca8 Closes-Bug: #1627922",12860,Dongcan Ye,"[3, 1923, 9820, 12860, 14352, 14867, 15967]","['Jenkins', 'Mohammad Banikazemi', 'Liping Mao', 'Dongcan Ye', 'Antoni Segura Puimedon', 'Jaivish Kothari(janonymous)', 'vikas choudhary']",optimize add security group rules exposed ports user wants expose ranges ports container like ports 1000 1100 using docker client command docker run netmykuryrnet expose10001100udp ubuntu1404 currently implementation call neutron client 100 times create neutron security group rules patch obtains minport maxport libnetwork request pass neutron client portrangemin portrangemax securitygrouprulecreate changeid i3a2baa71f94834bdf3679bb05c40f9f2ae06eca8 closesbug 1627922
https://review.opendev.org/356153,Added section on security review,Added section on security review Change-Id: I80576d9b3d13f9b2a4c203e735ef4b5f54ef3641,11397,Doug Chivers,"[3, 7063, 7473, 10705, 11397, 11861, 12325, 18462]","['Jenkins', 'Robert Clark', 'Grant Murphy', 'Darren Chan', 'Doug Chivers', 'Travis McPeak', 'Nathaniel Dillon', 'Rahul U Nair']",added section security review changeid i80576d9b3d13f9b2a4c203e735ef4b5f54ef3641
https://review.opendev.org/387798,[www] Rework security items,"[www] Rework security items No need to duplicate the name. For consistency, remove the team that owns it, we don't do this anywhere. Change-Id: Ieee7deee0e991fc1e60bd671b09e8e36e337506a",6547,Andreas Jaeger,"[3, 10497, 14947]","['Jenkins', 'KATO Tomoyuki', 'Maria Zlatkova']",www rework security items need duplicate name consistency remove team owns dont anywhere changeid ieee7deee0e991fc1e60bd671b09e8e36e337506a
https://review.opendev.org/387623,Fixes port security rules when port security is disabled,"Fixes port security rules when port security is disabled The port security is configurable and can be disabled if the user asks for it. That means no security rules should be created for that port. At the moment, even if the port security is disabled, the default security rules are still created and denies all VM traffic. This patch fixes this issue by skipping security rules creation if the port does not have security enabled. Change-Id: I763739574fec1e36b455e6a33aa975af71a3246c Closes-Bug: #1633589",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",fixes port security rules port security disabled port security configurable disabled user asks means security rules created port moment even port security disabled default security rules still created denies vm traffic patch fixes issue skipping security rules creation port security enabled changeid i763739574fec1e36b455e6a33aa975af71a3246c closesbug 1633589
https://review.opendev.org/386594,Fixes port security rules when port security is disabled,"Fixes port security rules when port security is disabled The port security is configurable and can be disabled if the user asks for it. That means no security rules should be created for that port. At the moment, even if the port security is disabled, the default security rules are still created and denies all VM traffic. This patch fixes this issue by skipping security rules creation if the port does not have security enabled. Change-Id: I763739574fec1e36b455e6a33aa975af71a3246c",17019,Alin Balutoiu,"[3, 5170, 8543, 12582, 12604, 17019]","['Jenkins', 'Microsoft Hyper-V CI', 'Lucian Petrut', 'Simona Iuliana Toader', 'Adelina Tuvenie', 'Alin Balutoiu']",fixes port security rules port security disabled port security configurable disabled user asks means security rules created port moment even port security disabled default security rules still created denies vm traffic patch fixes issue skipping security rules creation port security enabled changeid i763739574fec1e36b455e6a33aa975af71a3246c
https://review.opendev.org/746776,Fix security group encodings for VPP 20.05,Fix security group encodings for VPP 20.05 VPP 20.05 changed the API definition of acl_add_replace(). Fix to support it. Change-Id: Ib6c58c46f87b705bd03c38407ad9e6b948687e8b,13786,Yichen Wang,"[1356, 3217, 22348, 26839]","['Naveen Joy', 'Ian Wells', 'Zuul', 'Onong Tayeng']",fix security group encodings vpp 2005 vpp 2005 changed api definition acladdreplace fix support changeid ib6c58c46f87b705bd03c38407ad9e6b948687e8b
https://review.opendev.org/341328,fullstack: Add security group tests,fullstack: Add security group tests Change-Id: Ie1fbc3c253805120f44692e3459a64537b7ae340,9200,IWAMOTO Toshihiro,"[3, 748, 5170, 6854, 7787, 8655, 8873, 9200, 9656, 9732, 9845, 10184, 10267, 10385, 10558, 12444, 14208, 14323, 15752, 16376, 17130, 17292, 21582, 21784, 23314]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'YAMAMOTO Takashi', 'Kevin Benton', 'Jakub Libosvar', 'Assaf Muller', 'IWAMOTO Toshihiro', 'Ihar Hrachyshka', 'Mellanox CI', 'Arista CI', 'Nuage CI', 'venkata anil', 'Citrix XenServer CI', 'Dustin Lundquist', 'John Schwarz', 'Cisco CI', 'HP Networking CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'melissaml', 'Michal Ptacek', 'ZhaoJingJing', 'Radek Zetik', 'lidong']",fullstack add security group tests changeid ie1fbc3c253805120f44692e3459a64537b7ae340
https://review.opendev.org/382113,Move and fix security group normalization,"Move and fix security group normalization We've developed a different normalization pattern since we wrote the security group stuff. Also, it wasn't returning munches. Move it over to _normalize, add the tenant_id param to nova objects (sigh) Change-Id: I7a7c88034a78ec218f0f87a608fb67408a849d06",2,Monty Taylor,"[2, 3, 3099, 7350, 7787]","['Monty Taylor', 'Jenkins', 'David Shrewsbury', 'Jordan Pittier', 'Kevin Benton']",move fix security group normalization weve developed different normalization pattern since wrote security group stuff also wasnt returning munches move normalize add tenantid param nova objects sigh changeid i7a7c88034a78ec218f0f87a608fb67408a849d06
https://review.opendev.org/383755,Add release note for security bug 1630822,"Add release note for security bug 1630822 This should have been included with the original fix, but we should have this in the same release at least. Change-Id: I9ab1f06282ec33034e7b6b11863ea9f9234d6fe0 Related-Bug: #1630822",6873,Matt Riedemann,"[3, 970, 8410]","['Jenkins', 'Dean Troyer', 'Richard Theis']",add release note security bug 1630822 included original fix release least changeid i9ab1f06282ec33034e7b6b11863ea9f9234d6fe0 relatedbug 1630822
https://review.opendev.org/383700,[Docs] Make the security note readable.,[Docs] Make the security note readable. This was really unreadable for me. I hope it's clearer now. Change-Id: I45d86673ba32dc97dba4b5c5e3c2c576ef1d04ad (cherry picked from commit 85591a0f79f4fcd83252f68ed2351a56e335787f),6816,Jesse Pretorius,"[3, 10607, 17068]","['Jenkins', 'Alexandra Settle', 'Jean-Philippe Evrard']",docs make security note readable really unreadable hope clearer changeid i45d86673ba32dc97dba4b5c5e3c2c576ef1d04ad cherry picked commit 85591a0f79f4fcd83252f68ed2351a56e335787f
https://review.opendev.org/383637,[Docs] Make the security note readable.,[Docs] Make the security note readable. This was really unreadable for me. I hope it's clearer now. Change-Id: I45d86673ba32dc97dba4b5c5e3c2c576ef1d04ad,17068,Jean-Philippe Evrard,"[3, 6816, 10607]","['Jenkins', 'Jesse Pretorius', 'Alexandra Settle']",docs make security note readable really unreadable hope clearer changeid i45d86673ba32dc97dba4b5c5e3c2c576ef1d04ad
https://review.opendev.org/383455,Adding security groups model params,Adding security groups model params - Adding the external_service and external_service_id params to the security groups and security group rules responses Change-Id: Ib9b06d0c39694c19bc9738962812a0dfe55d9778,8357,Leonardo Maycotte,"[3, 8969]","['Jenkins', 'Christopher Hunt']",adding security groups model params adding externalservice externalserviceid params security groups security group rules responses changeid ib9b06d0c39694c19bc9738962812a0dfe55d9778
https://review.opendev.org/382692,[Install Guide] Update security command output,[Install Guide] Update security command output Update command output for security group rule creation when launching an instance. Change-Id: I753f698a3b1cb435e09e7ea2b04df370c4401a9a,12686,Brian Moss,"[3, 9162, 10705, 10897]","['Jenkins', 'Lana Brindley', 'Darren Chan', 'Joseph Robinson']",install guide update security command output update command output security group rule creation launching instance changeid i753f698a3b1cb435e09e7ea2b04df370c4401a9a
https://review.opendev.org/382600,[DOCS] Updating release notes for security guide,[DOCS] Updating release notes for security guide Change-Id: I297e81da49c3b41e2f5cd0469b7a94ea02f6fa46,10607,Alexandra Settle,"[3, 6547, 7063, 10497, 10670, 10705, 10924, 11861, 12325]","['Jenkins', 'Andreas Jaeger', 'Robert Clark', 'KATO Tomoyuki', 'Michael McCune', 'Darren Chan', 'luke hinds', 'Travis McPeak', 'Nathaniel Dillon']",docs updating release notes security guide changeid i297e81da49c3b41e2f5cd0469b7a94ea02f6fa46
https://review.opendev.org/380444,Security group rules not removed from bridge when port security group is updated.,"Security group rules not removed from bridge when port security group is updated. When VM port is updated with new security-group, old SG rule flows are not removed from the ovsvapp Change-Id: Ic26edc27f965564b6b670a5f4df8783eae80aa23 Closes-Bug:#1628836 (cherry picked from commit e3adad94ba29a1f21d59d5c53b5791ecedced0ac)",11695,Arun Kumar,"[3, 10368, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Sonu']",security group rules removed bridge port security group updated vm port updated new securitygroup old sg rule flows removed ovsvapp changeid ic26edc27f965564b6b670a5f4df8783eae80aa23 closesbug1628836 cherry picked commit e3adad94ba29a1f21d59d5c53b5791ecedced0ac
https://review.opendev.org/380102,Security group rules not removed from bridge when port security group is updated.,"Security group rules not removed from bridge when port security group is updated. When VM port is updated with new security-group, old SG rule flows are not removed from the ovsvapp Change-Id: Ic26edc27f965564b6b670a5f4df8783eae80aa23 Closes-Bug:#1628836",11695,Arun Kumar,"[3, 10368, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Sonu']",security group rules removed bridge port security group updated vm port updated new securitygroup old sg rule flows removed ovsvapp changeid ic26edc27f965564b6b670a5f4df8783eae80aa23 closesbug1628836
https://review.opendev.org/376107,[api-ref] Refactor Manila security service API,[api-ref] Refactor Manila security service API This patch make security service api reference to be more readable and maintainable. Change-Id: I802f09baee7dda91999983947aca8406a57d445e,20079,Ha Van Tu,"[3, 6491, 8851, 9003, 10621, 11865, 16643, 17565, 18128, 18752, 22248]","['Jenkins', 'xing-yang', 'Valeriy Ponomaryov', 'Tom Barron', 'NetApp CI', 'Clinton Knight', 'Goutham Pacha Ravi', 'IBM GPFS CI', 'Microsoft Manila CI', 'Tegile Storage CI', 'HPE STORAGE CI']",apiref refactor manila security service api patch make security service api reference readable maintainable changeid i802f09baee7dda91999983947aca8406a57d445e
https://review.opendev.org/379480,Security group rules not removed from bridge when port security group is update.,"Security group rules not removed from bridge when port security group is update. When VM port is updated with new security-group,old SG rule flows are not removed from the ovsvapp Change-Id: I585cff88a3ca1c045d13f856cf640dc1203090f1 Closes-Bug:#1628836 (cherry picked from commit b95fdd03728ad7aa420fcac7ea113f56a288a722)",11695,Arun Kumar,"[3, 10368, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Sonu']",security group rules removed bridge port security group update vm port updated new securitygroupold sg rule flows removed ovsvapp changeid i585cff88a3ca1c045d13f856cf640dc1203090f1 closesbug1628836 cherry picked commit b95fdd03728ad7aa420fcac7ea113f56a288a722
https://review.opendev.org/371488,Extended security groups API to include FAWS fields,Extended security groups API to include external_service and external_service_id Change-Id: I0ec8427893f7838847883761de9c2349fa4a00ba JIRA: NCP-2078 Closes-Bug: #1624354,12531,alexander medvedev,"[3, 12531, 18799, 19611]","['Jenkins', 'alexander medvedev', 'Kyle Haley', 'Brian Stajkowski']",extended security groups api include externalservice externalserviceid changeid i0ec8427893f7838847883761de9c2349fa4a00ba jira ncp2078 closesbug 1624354
https://review.opendev.org/379312,Security group rules not removed from bridge when port security group is update.,"Security group rules not removed from bridge when port security group is update. When VM port is updated with new security-group,old SG rule flows are not removed from the ovsvapp Change-Id: I585cff88a3ca1c045d13f856cf640dc1203090f1 Closes-Bug:#1628836",11695,Arun Kumar,"[3, 10368, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Sonu']",security group rules removed bridge port security group update vm port updated new securitygroupold sg rule flows removed ovsvapp changeid i585cff88a3ca1c045d13f856cf640dc1203090f1 closesbug1628836
https://review.opendev.org/375888,OVSVAPP agents are going down after security group update,OVSVAPP agents are going down after security group update OVSVAPP agents go down when security group rule is updated after creating 4k VMs AMQP timeouts and disconnections are observed in the logs Change-Id: Iad6390ff5e76d859966d1e6b17ad0f4c7eb76f3e Closes-Bug: #1626908 (cherry picked from commit e4b36e2a0e855faafb780893d45f006766148e3c),11695,Arun Kumar,"[3, 10368, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Sonu']",ovsvapp agents going security group update ovsvapp agents go security group rule updated creating 4k vms amqp timeouts disconnections observed logs changeid iad6390ff5e76d859966d1e6b17ad0f4c7eb76f3e closesbug 1626908 cherry picked commit e4b36e2a0e855faafb780893d45f006766148e3c
https://review.opendev.org/376022,VM's are not pinging after security group update,VM's are not pinging after security group update VM's are not pinging after adding ICMP rule to security group. Same issue is seen when removing rules from security group. Change-Id: I4034d1557243b2ae7b61535cf6e22b7d3ca0fe55 Closes-Bug: #1627438 (cherry picked from commit ef9225e3a70e0f3d376db5518dd23d984c75fb7b),11695,Arun Kumar,"[3, 10368, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Sonu']",vms pinging security group update vms pinging adding icmp rule security group issue seen removing rules security group changeid i4034d1557243b2ae7b61535cf6e22b7d3ca0fe55 closesbug 1627438 cherry picked commit ef9225e3a70e0f3d376db5518dd23d984c75fb7b
https://review.opendev.org/375941,VM's are not pinging after security group update,VM's are not pinging after security group update VM's are not pinging after adding ICMP rule to security group. Same issue is seen when removing rules from security group. Change-Id: I4034d1557243b2ae7b61535cf6e22b7d3ca0fe55 Closes-Bug: #1627438,11695,Arun Kumar,"[3, 10368, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Sonu']",vms pinging security group update vms pinging adding icmp rule security group issue seen removing rules security group changeid i4034d1557243b2ae7b61535cf6e22b7d3ca0fe55 closesbug 1627438
https://review.opendev.org/375325,OVSVAPP agents are going down after security group update,OVSVAPP agents are going down after security group update OVSVAPP agents go down when security group rule is updated after creating 4k VMs AMQP timeouts and disconnections are observed in the logs Change-Id: Iad6390ff5e76d859966d1e6b17ad0f4c7eb76f3e Closes-Bug: #1626908,11695,Arun Kumar,"[3, 10368, 11695, 15130]","['Jenkins', 'Raghuveer Shenoy', 'Arun Kumar', 'Sonu']",ovsvapp agents going security group update ovsvapp agents go security group rule updated creating 4k vms amqp timeouts disconnections observed logs changeid iad6390ff5e76d859966d1e6b17ad0f4c7eb76f3e closesbug 1626908
https://review.opendev.org/751846,Implement missing security context for placement container,[WIP] Add missing security context to Placement pods/containers This updates the Placement chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I47e1076a33deb5493ec5562466d00f2bfa62ae0a,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 18511, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777, 31707]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Brian Wickersham', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick', 'Jason Li']",wip add missing security context placement podscontainers updates placement chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i47e1076a33deb5493ec5562466d00f2bfa62ae0a
https://review.opendev.org/374325,Do not retry default security group creation,"Do not retry default security group creation No need to retry creation of a default security group - it will always fail with DBDuplicate. The patch opens a transaction before calling to create_security_group() when creating default security group, thus avoiding db retries. Closes-Bug: #1625557 Change-Id: Id15b55b097641325ac68275fe4bb3ebe93718cdd (cherry picked from commit 09d1185d24c30690358a9314c14fabaead2f4c78)",9656,Ihar Hrachyshka,"[3, 748, 5170, 7787, 9681, 16376]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'Kevin Benton', 'Ryu CI', 'Intel NFV CI']",retry default security group creation need retry creation default security group always fail dbduplicate patch opens transaction calling createsecuritygroup creating default security group thus avoiding db retries closesbug 1625557 changeid id15b55b097641325ac68275fe4bb3ebe93718cdd cherry picked commit 09d1185d24c30690358a9314c14fabaead2f4c78
https://review.opendev.org/373841,Do not retry default security group creation,"Do not retry default security group creation No need to retry creation of a default security group - it will always fail with DBDuplicate. The patch opens a transaction before calling to create_security_group() when creating default security group, thus avoiding db retries. Closes-Bug: #1625557 Change-Id: Id15b55b097641325ac68275fe4bb3ebe93718cdd",5948,Oleg Bondarev,"[3, 5170, 5948, 7249, 7787, 9656]","['Jenkins', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Ann Taraday', 'Kevin Benton', 'Ihar Hrachyshka']",retry default security group creation need retry creation default security group always fail dbduplicate patch opens transaction calling createsecuritygroup creating default security group thus avoiding db retries closesbug 1625557 changeid id15b55b097641325ac68275fe4bb3ebe93718cdd
https://review.opendev.org/373647,"Revert ""Do not retry default security group creation""","Revert ""Do not retry default security group creation"" This is a breakage of the API signature. We cannot change this. This reverts commit 5ad5d103ad02e2787a539c82b0efcbe51cfe857c. Change-Id: I53916a43c78a96d1e2d91aa55ad0c45bf70dc2eb",1653,garyk,"[3, 748, 841, 5170, 7787, 7805, 13252, 16376, 21784]","['Jenkins', 'Armando Migliaccio', 'Akihiro Motoki', 'Microsoft Hyper-V CI', 'Kevin Benton', 'Li Ma', 'Dr. Jens Harbott', 'Intel NFV CI', 'Radek Zetik']",revert retry default security group creation breakage api signature change reverts commit 5ad5d103ad02e2787a539c82b0efcbe51cfe857c changeid i53916a43c78a96d1e2d91aa55ad0c45bf70dc2eb
https://review.opendev.org/369385,Add a note about security groups in install guide,"Add a note about security groups in install guide This adds a note that network security must be disabled, or certain ports must be allowed, for provisioning and cleaning networks. Change-Id: I8415591d31209f8e3fbd9a4dcce30bd64bf8b24b",10343,Jim Rollenhagen,"[3, 6618, 10342, 10343, 12356, 13295, 14525, 19339, 20311]","['Jenkins', 'Ruby Loo', 'Jay Faulkner', 'Jim Rollenhagen', 'Vladyslav Drok', 'Mario Villaplana', 'Vasyl Saienko', 'Dell EMC Ironic CI', 'Cisco CI']",add note security groups install guide adds note network security must disabled certain ports must allowed provisioning cleaning networks changeid i8415591d31209f8e3fbd9a4dcce30bd64bf8b24b
https://review.opendev.org/373108,Do not retry default security group creation,Do not retry default security group creation No need to retry creation of a default security group - it will always fail with DBDuplicate Change-Id: I8af479ff9631851e7d78c4fc28e8363eda848775 Closes-Bug: #TBD,5948,Oleg Bondarev,"[3, 1131, 4694, 5170, 5948, 7787, 10386, 14208, 15752, 16376]","['Jenkins', 'Brian Haley', 'Miguel Lavalle', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Kevin Benton', 'OpenDaylight CI', 'Cisco CI', 'Intel SR-IOV CI', 'Intel NFV CI']",retry default security group creation need retry creation default security group always fail dbduplicate changeid i8af479ff9631851e7d78c4fc28e8363eda848775 closesbug tbd
https://review.opendev.org/372894,NSX|V3: ensure Mac learning has port security disabled,NSX|V3: ensure Mac learning has port security disabled Ensure that the port secuciryt is disabled when using mac learning Change-Id: I5bcde9c383692aaf364d431da9d1ace61ab03946,1653,garyk,"[3, 1653]","['Jenkins', 'garyk']",nsxv3 ensure mac learning port security disabled ensure port secuciryt disabled using mac learning changeid i5bcde9c383692aaf364d431da9d1ace61ab03946
https://review.opendev.org/372069,NSX|V3: ensure Mac learning has port security disabled,NSX|V3: ensure Mac learning has port security disabled Ensure that the port secuciryt is disabled when using mac learning Change-Id: I5bcde9c383692aaf364d431da9d1ace61ab03946,1653,garyk,"[3, 1653, 7018, 9008, 20363]","['Jenkins', 'garyk', 'Abhishek Raut', 'VMware NSX CI', 'Adit Sarfaty']",nsxv3 ensure mac learning port security disabled ensure port secuciryt disabled using mac learning changeid i5bcde9c383692aaf364d431da9d1ace61ab03946
https://review.opendev.org/371599,[install-guide] remove redundant part for security hardening,"[install-guide] remove redundant part for security hardening Currently, the contents for security hardening repeat on two pages in the install guide. Change-Id: I4c77f7a0c28564e56930ad9ffc3679b78566a978 closes-bug: #1624411",22525,Qin Wang (qwang),"[3, 6816, 19814, 22777]","['Jenkins', 'Jesse Pretorius', 'Travis Truman (automagically)', 'SHASHANK TAVILDAR (shasha_tavil)']",installguide remove redundant part security hardening currently contents security hardening repeat two pages install guide changeid i4c77f7a0c28564e56930ad9ffc3679b78566a978 closesbug 1624411
https://review.opendev.org/334256,Provide support for security groups for ConnectionPoints,[WIP] Provide support for security groups for ConnectionPoints Add option for providing security groups in ConnectionPoint node_type of TOSCA VNF templates. [TODO]: * Adding functional tests Change-Id: I5fabaa8a33d684a591364510ed6d3df93989c419 Closes-Bug: #1591372,20466,Tin Lam,"[3, 2874, 13380, 13485, 16511, 20466, 22588]","['Jenkins', 'yong sheng gong', 'Sridhar Ramaswamy', 'Sripriya Seetharam', 'Bob Haddleton', 'Tin Lam', 'Naoya Harada']",wip provide support security groups connectionpoints add option providing security groups connectionpoint nodetype tosca vnf templates todo adding functional tests changeid i5fabaa8a33d684a591364510ed6d3df93989c419 closesbug 1591372
https://review.opendev.org/367190,Protect security group operations with the retry decorator,Protect security group operations with the retry decorator Adds the retry decorator to the security group DB module. Partial-Bug: #1612798 Change-Id: I899ed5cacde769ecbb4057b6cb48e3624b07e149,7787,Kevin Benton,"[3, 748, 5170, 6524, 7787, 10385, 10386, 15752, 16376]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Kevin Benton', 'Citrix XenServer CI', 'OpenDaylight CI', 'Intel SR-IOV CI', 'Intel NFV CI']",protect security group operations retry decorator adds retry decorator security group db module partialbug 1612798 changeid i899ed5cacde769ecbb4057b6cb48e3624b07e149
https://review.opendev.org/368473,Register to update security group event,Register to update security group event Register to the AFTER_UPDATE event of security groups. Change-Id: I034dc985fb7bfa7b0c8003f5d9c4b2745257ab1b,20229,Omer Anson,"[3, 7805, 11159, 20229]","['Jenkins', 'Li Ma', 'Hong Hui Xiao', 'Omer Anson']",register update security group event register afterupdate event security groups changeid i034dc985fb7bfa7b0c8003f5d9c4b2745257ab1b
https://review.opendev.org/368228,[networking] Describe existing security group behavior,"[networking] Describe existing security group behavior Providing a more complete description of the existing security group behavior. This should help operators and user better understand what traffic is permitted by security groups, and should help developers implementing additional firewall drivers to achieve consistent behavior. backport: mitaka Co-Authored-By: Matt Kassawara <mkassawara@gmail.com> Change-Id: I8cc078161dfbf649f466233230eaf6e4ece0429d (cherry picked from commit 3d370b987334423adac926df7e87faba403b1021)",10558,Dustin Lundquist,"[3, 964, 6547, 8358, 10607, 23308]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger', 'zhangguoqing', 'Alexandra Settle', 'yangjidong']",networking describe existing security group behavior providing complete description existing security group behavior help operators user better understand traffic permitted security groups help developers implementing additional firewall drivers achieve consistent behavior backport mitaka coauthoredby matt kassawara mkassawaragmailcom changeid i8cc078161dfbf649f466233230eaf6e4ece0429d cherry picked commit 3d370b987334423adac926df7e87faba403b1021
https://review.opendev.org/356551,[networking] Describe existing security group behavior,"Describe existing security group behavior Providing a more complete description of the existing security group behavior. This should help operators and user better understand what traffic is permitted by security groups, and should help developers implementing additional firewall drivers to achieve consistent behavior. Change-Id: I8cc078161dfbf649f466233230eaf6e4ece0429d",10558,Dustin Lundquist,"[3, 964, 6524, 6547, 6772, 7787, 8655, 9162, 9515, 10267, 10558, 10607, 19779, 21486, 22165]","['Jenkins', 'Anne Gentle', 'Henry Gessau', 'Andreas Jaeger', 'Stephen Gordon', 'Kevin Benton', 'Jakub Libosvar', 'Lana Brindley', 'Matthew Kassawara', 'venkata anil', 'Dustin Lundquist', 'Alexandra Settle', 'Chason Chan', 'wangqi', 'caoyuan']",describe existing security group behavior providing complete description existing security group behavior help operators user better understand traffic permitted security groups help developers implementing additional firewall drivers achieve consistent behavior changeid i8cc078161dfbf649f466233230eaf6e4ece0429d
https://review.opendev.org/313086,Improve security rule notification message,"Improve security rule notification message If from_port and to_port are both ""-1"" then return ""all ports"" instead of ""-1:-1"". For example, instead of ``ALLOW -1:-1/icmp from 0.0.0.0/0`` return ``ALLOW all ports/icmp from 0.0.0.0/0`` Change-Id: I0ded50a40089406fd69c8fa869839e46eecef352 Closes-Bug: #1430005",21522,Yosef Hoffman,"[3, 5623, 7012, 12071, 14151, 21522]","['Jenkins', 'David Lyle', 'Brianna Poulos', 'Richard Jones', 'ziyu032', 'Yosef Hoffman']",improve security rule notification message fromport toport 1 return ports instead 11 example instead allow 11icmp 00000 return allow portsicmp 00000 changeid i0ded50a40089406fd69c8fa869839e46eecef352 closesbug 1430005
https://review.opendev.org/366636,Remove default security group rules on Infra clouds,"Remove default security group rules on Infra clouds We don't use the default ones, thus removing them. Change-Id: Iad92f58671af5faee7fe4a8cda011210d861a632",1106,Ricardo Carrillo Cruz,"[3, 1106, 4162, 23308]","['Jenkins', 'Ricardo Carrillo Cruz', 'Paul Belanger', 'yangjidong']",remove default security group rules infra clouds dont use default ones thus removing changeid iad92f58671af5faee7fe4a8cda011210d861a632
https://review.opendev.org/366276,[Docs] Update security appendix,[Docs] Update security appendix This patch updates the security appendix to add extra information and make the information more clear. Change-Id: Ifc28d6b06c2e43b2677f4267d29dc8896ce8f36c Partial-bug: 1620675,538,Major Hayden,"[3, 6816, 12402, 15993]","['Jenkins', 'Jesse Pretorius', 'Robb Romans', 'Amy Marrich']",docs update security appendix patch updates security appendix add extra information make information clear changeid ifc28d6b06c2e43b2677f4267d29dc8896ce8f36c partialbug 1620675
https://review.opendev.org/364041,Use neutron-lib constants in security group application,Use neutron-lib constants in security group application Change-Id: I13710b2d0722f791dee1745e7d9a1d4f7faec6dc,7805,Li Ma,"[3, 7805, 11159, 20229]","['Jenkins', 'Li Ma', 'Hong Hui Xiao', 'Omer Anson']",use neutronlib constants security group application changeid i13710b2d0722f791dee1745e7d9a1d4f7faec6dc
https://review.opendev.org/364059,Fix db models of security group,Fix db models of security group Change-Id: Id1d7593339a977682dbe0b7dd076c4a8b6691a2d,7805,Li Ma,"[3, 7805, 11159, 20229, 20336]","['Jenkins', 'Li Ma', 'Hong Hui Xiao', 'Omer Anson', 'heshan']",fix db models security group changeid id1d7593339a977682dbe0b7dd076c4a8b6691a2d
https://review.opendev.org/363609,Sync Security Groups and SG Rules before other resources,"Sync Security Groups and Flows before other resources ODL ACL service would look for Security Group rules associated with the ports when applying ACL flows. While testing some use-cases, where odl controller was restarted, it was noticed that ACL flows were not applied as SGS/SG_RULES were missing in ODL datastore. Change-Id: Ibfdc183dccd3e13559ae80fcb523ac1e0d3eea1d",10257,Sridhar Gaddam,"[3, 333, 10257, 10386, 17120]","['Jenkins', 'Isaku Yamahata', 'Sridhar Gaddam', 'OpenDaylight CI', 'Manjeet Singh Bhatia']",sync security groups flows resources odl acl service would look security group rules associated ports applying acl flows testing usecases odl controller restarted noticed acl flows applied sgssgrules missing odl datastore changeid ibfdc183dccd3e13559ae80fcb523ac1e0d3eea1d
https://review.opendev.org/360811,Adds Port Security section to the Admin Guide,"Adds Port Security section to the Admin Guide Added a short ""Disabling port security"" section to the admin guide. The section describes the use case for the port security extension and how to use it in practice. Change-Id: Ia263fd1a77a9884a159127389a0f5fcd8bd6798f Closes-Bug: #1330849",12195,Matt Caulfield,"[3, 9162, 10497, 10607, 10705, 12195, 19779, 21486]","['Jenkins', 'Lana Brindley', 'KATO Tomoyuki', 'Alexandra Settle', 'Darren Chan', 'Matt Caulfield', 'Chason Chan', 'wangqi']",adds port security section admin guide added short disabling port security section admin guide section describes use case port security extension use practice changeid ia263fd1a77a9884a159127389a0f5fcd8bd6798f closesbug 1330849
https://review.opendev.org/362757,Fix invalid security repo,Fix invalid security repo Change-Id: I0365b7430ff17348fa2e0a4b8a3476b149a7ccca,18793,Grigoriy Rozhkov,"[3, 7132, 7213, 8932, 10459, 12038, 18793]","['Jenkins', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Telles Mota Vidal Nóbrega', 'Luigi Toscano', 'Vitaly Gridnev', 'Grigoriy Rozhkov']",fix invalid security repo changeid i0365b7430ff17348fa2e0a4b8a3476b149a7ccca
https://review.opendev.org/363672,[build] Implement security flow,[build] Implement security flow Spec: https://review.fuel-infra.org/19129 Change-Id: I4de35fc611c853e14db7705284936ed0c7a59a5d,9582,Dmitry Burmistrov,"[3, 9582, 14348, 20656]","['Jenkins', 'Dmitry Burmistrov', 'Alexander Evseev', 'Fuel Packaging CI']",build implement security flow spec httpsreviewfuelinfraorg19129 changeid i4de35fc611c853e14db7705284936ed0c7a59a5d
https://review.opendev.org/362372,Support association of Policy Tag API with existing Security Groups,Support association of Policy Tag API with existing Security Groups Change-Id: I2e2ac86faf01031fc1b449616989589ddace7a0a Closes-Bug: #1618141,18906,Muneeb Ahmad,"[3, 15307, 15816, 19228]","['Jenkins', 'Muawia Khan', 'Shahbaz Nazir', 'Muhammad Sagheer']",support association policy tag api existing security groups changeid i2e2ac86faf01031fc1b449616989589ddace7a0a closesbug 1618141
https://review.opendev.org/790452,[API Replay] Stop processing when security group creation fails,"[API Replay] Stop processing when security group creation fails In this case, there is no point in processing rules. Processing will also fail due to an unreferenced variable. Change-Id: I1344eca7ef1667be5a66b8d63818ba5e8f43ac20",261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",api replay stop processing security group creation fails case point processing rules processing also fail due unreferenced variable changeid i1344eca7ef1667be5a66b8d63818ba5e8f43ac20
https://review.opendev.org/782524,Fix LB failover for amphorav2: set security group,"Fix LB failover for amphorav2: set security group Fix for the issue that an amphorav2 LB cannot be reached after loadbalancer failover. The LB security group was not set in the amphora port. Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the security group id (v1 already did). The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup which is supposed to provide VIP_SG_ID, which is later needed in get_amphora_for_lb_failover_subflow as a requirement for CreateVIPBasePort. Story: 2008735 Task: 42087 Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc (cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e) (cherry picked from commit e3b68219dd9f1ed6ed55779bc03f018f6c74e433)",29244,Gregory Thiemonge,"[1131, 6469, 7249, 22348, 31976]","['Brian Haley', 'Carlos Gonçalves', 'Ann Taraday', 'Zuul', 'Bodo Petermann']",fix lb failover amphorav2 set security group fix issue amphorav2 lb reached loadbalancer failover lb security group set amphora port fixed v2 variant updatevipsecuritygroup actually return security group id v1 already flow created getfailoverlbflow uses updatevipsecuritygroup supposed provide vipsgid later needed getamphoraforlbfailoversubflow requirement createvipbaseport story 2008735 task 42087 changeid i1bb334ef0c11a79038b21a873a6675d76b0fbefc cherry picked commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e cherry picked commit e3b68219dd9f1ed6ed55779bc03f018f6c74e433
https://review.opendev.org/782523,Fix LB failover for amphorav2: set security group,"Fix LB failover for amphorav2: set security group Fix for the issue that an amphorav2 LB cannot be reached after loadbalancer failover. The LB security group was not set in the amphora port. Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the security group id (v1 already did). The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup which is supposed to provide VIP_SG_ID, which is later needed in get_amphora_for_lb_failover_subflow as a requirement for CreateVIPBasePort. Story: 2008735 Task: 42087 Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc (cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e)",29244,Gregory Thiemonge,"[1131, 6469, 7249, 22348, 31976]","['Brian Haley', 'Carlos Gonçalves', 'Ann Taraday', 'Zuul', 'Bodo Petermann']",fix lb failover amphorav2 set security group fix issue amphorav2 lb reached loadbalancer failover lb security group set amphora port fixed v2 variant updatevipsecuritygroup actually return security group id v1 already flow created getfailoverlbflow uses updatevipsecuritygroup supposed provide vipsgid later needed getamphoraforlbfailoversubflow requirement createvipbaseport story 2008735 task 42087 changeid i1bb334ef0c11a79038b21a873a6675d76b0fbefc cherry picked commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e
https://review.opendev.org/748047,Implement missing security context template for daemonjob-controller,Implement missing security context template for daemonjob-controller This change adds security context template at pod/container level Change-Id: I72b1d5678e1fd3464b73937a2c50362bde8ae1d5,29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 22636, 23928, 29131, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Cliff Parsons', 'Pete Birley', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",implement missing security context template daemonjobcontroller change adds security context template podcontainer level changeid i72b1d5678e1fd3464b73937a2c50362bde8ae1d5
https://review.opendev.org/345557,Add multi-tenancy section to security doc,Add multi-tenancy section to security doc Add a small section describing the major concerns to be considered when evaluating a multi-tenant deployment to the documentation. Change-Id: I1ce8253e9afba2608bb2f6a3246cd9617ec81e9c,2889,Aeva Black,"[3, 2889, 6773, 10343, 12356, 14525]","['Jenkins', 'Aeva Black', 'Lucas Alvares Gomes', 'Jim Rollenhagen', 'Vladyslav Drok', 'Vasyl Saienko']",add multitenancy section security doc add small section describing major concerns considered evaluating multitenant deployment documentation changeid i1ce8253e9afba2608bb2f6a3246cd9617ec81e9c
https://review.opendev.org/355383,Remove deprecation warning - security group db,Remove deprecation warning - security group db Security groups structures moved from: neutron.db.securitygroups_db to: neutron.db.models.securitygroup Change-Id: I53687f96ff5170a9c35be7b19f5011171092a628,20363,Adit Sarfaty,"[3, 1653, 9008, 13438]","['Jenkins', 'garyk', 'VMware NSX CI', 'Kobi Samoray']",remove deprecation warning security group db security groups structures moved neutrondbsecuritygroupsdb neutrondbmodelssecuritygroup changeid i53687f96ff5170a9c35be7b19f5011171092a628
https://review.opendev.org/207988,Adds a security test to make sure paging links only use https,Adds a security test to make sure paging links only use https This test ensures that all paging links are over SSL and not plain HTTP. Change-Id: I1bf3dde26403ae2d12403b37e0b0c0946652b768 Implements: blueprint paging-links-over-https,14099,Henry Yamauchi,"[3, 7498, 8093, 14099, 19018, 20903]","['Jenkins', 'Malini Kamalambal', 'Amit Gandhi', 'Henry Yamauchi', 'Mohan Madhavan', 'Isaac Mungai']",adds security test make sure paging links use https test ensures paging links ssl plain http changeid i1bf3dde26403ae2d12403b37e0b0c0946652b768 implements blueprint paginglinksoverhttps
https://review.opendev.org/359248,[networking] Default security group per project not network,"[networking] Default security group per project not network The intro networking guide incorrectly described the default security group as belonging to a network, rather than a project. If this where the case, a project would not be able to modify the default security group for an instance attached to a shared network or another project could modify the security groups for the instances belonging to the first project. backport: mitaka Change-Id: I6587728bb4c86451fc88d796537ebcae6ed72997 (cherry picked from commit 803dd2712e3b1325a2bad7a6d932c92755e4820e)",9515,Matthew Kassawara,"[3, 6547]","['Jenkins', 'Andreas Jaeger']",networking default security group per project network intro networking guide incorrectly described default security group belonging network rather project case project would able modify default security group instance attached shared network another project could modify security groups instances belonging first project backport mitaka changeid i6587728bb4c86451fc88d796537ebcae6ed72997 cherry picked commit 803dd2712e3b1325a2bad7a6d932c92755e4820e
https://review.opendev.org/358266,Remove security hardening toggle from AIO user_variables.yml,"Remove security hardening toggle from AIO user_variables.yml Security hardening is enabled by default, so there's no need to have this setting in the AIO's user_variables.yml file. Change-Id: Ib679731a67542fbed083abf7d4828f16fa6763c6",6816,Jesse Pretorius,"[3, 538, 6816, 19814]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Travis Truman (automagically)']",remove security hardening toggle aio uservariablesyml security hardening enabled default theres need setting aios uservariablesyml file changeid ib679731a67542fbed083abf7d4828f16fa6763c6
https://review.opendev.org/354851,Add IPv6 security group rule to cloud-launcher,"Add IPv6 security group rule to cloud-launcher As our clouds support IPv6, we'll also need a security group rule. Change-Id: I37cd5b99eec6b59b3bb006b5875d105f97b0018e Signed-off-by: Paul Belanger <pabelanger@redhat.com>",4162,Paul Belanger,"[2, 3, 1106, 6554]","['Monty Taylor', 'Jenkins', 'Ricardo Carrillo Cruz', 'Spencer Krum']",add ipv6 security group rule cloudlauncher clouds support ipv6 well also need security group rule changeid i37cd5b99eec6b59b3bb006b5875d105f97b0018e signedoffby paul belanger pabelangerredhatcom
https://review.opendev.org/357133,Update Security PTL email address,"Update Security PTL email address Current address fails with ""User unknown in virtual alias table"", switch to the address used in the Gerrit profile instead. Change-Id: I0e0807c68b18ec9a1bb4eb2321fe27ee93c22e84",308,Thierry Carrez,"[3, 308, 7063]","['Jenkins', 'Thierry Carrez', 'Robert Clark']",update security ptl email address current address fails user unknown virtual alias table switch address used gerrit profile instead changeid i0e0807c68b18ec9a1bb4eb2321fe27ee93c22e84
https://review.opendev.org/356439,[networking] Default security group per project not network,"Default security group per project not network The intro networking guide incorrectly described the default security group as belonging to a network, rather than a project. If this where the case, a project would not be able to modify the default security group for an instance attached to a shared network or another project could modify the security groups for the instances belonging to the first project. Change-Id: I6587728bb4c86451fc88d796537ebcae6ed72997",10558,Dustin Lundquist,"[3, 6772, 9515, 10607, 11952, 17130]","['Jenkins', 'Stephen Gordon', 'Matthew Kassawara', 'Alexandra Settle', 'Flavio Fernandes', 'melissaml']",default security group per project network intro networking guide incorrectly described default security group belonging network rather project case project would able modify default security group instance attached shared network another project could modify security groups instances belonging first project changeid i6587728bb4c86451fc88d796537ebcae6ed72997
https://review.opendev.org/351101,Introduce ovo objects for security groups,Introduce ovo objects for security groups Those objects are intentionally not integrated into the database code so far. This is to quicken access to their definitions to implement push-notifications for security groups and ports. This patch also makes DeclarativeObject not override extra filters on class creation and instead reuse the list of filters defined on the class as an attribute. This allows to define it per class not per object (in __init__). Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db Partially-Implements: blueprint push-notifications Change-Id: Idcdc928d37d5d661428525700001154f50c3056e Co-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com> Co-Authored-By: Sayali Lunkad <sayali.lunkad@suse.com>,9656,Ihar Hrachyshka,"[3, 748, 5170, 7787, 8726, 8788, 9178, 9656, 9732, 9845, 10385, 10386, 14208, 15518, 15752, 16376]","['Jenkins', 'Armando Migliaccio', 'Microsoft Hyper-V CI', 'Kevin Benton', 'Victor Morales', 'Miguel Angel Ajo', 'Sayali Lunkad', 'Ihar Hrachyshka', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'OpenDaylight CI', 'Cisco CI', 'Artur Korzeniewski', 'Intel SR-IOV CI', 'Intel NFV CI']",introduce ovo objects security groups objects intentionally integrated database code far quicken access definitions implement pushnotifications security groups ports patch also makes declarativeobject override extra filters class creation instead reuse list filters defined class attribute allows define per class per object init partiallyimplements blueprint adoptosloversionedobjectsfordb partiallyimplements blueprint pushnotifications changeid idcdc928d37d5d661428525700001154f50c3056e coauthoredby ihar hrachyshka ihrachysredhatcom coauthoredby sayali lunkad sayalilunkadsusecom
https://review.opendev.org/356130,Adding templates for security review artifacts,Adding templates for security review artifacts Change-Id: Ia4461cddcc9ff4ba2d5d64dc6c316da8d20dd968,11397,Doug Chivers,"[3, 11861]","['Jenkins', 'Travis McPeak']",adding templates security review artifacts changeid ia4461cddcc9ff4ba2d5d64dc6c316da8d20dd968
https://review.opendev.org/749323,Implement missing security context for nginx container,Implement missing security context for nginx container This change adds security context template at pod/container level Change-Id: I2fbff7b3325f4b6dd98d9299b0daf9e230ece9ae,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Steven Fitzpatrick']",implement missing security context nginx container change adds security context template podcontainer level changeid i2fbff7b3325f4b6dd98d9299b0daf9e230ece9ae
https://review.opendev.org/750464,Add security context template at pod/container level for etcd chart,Add security context template at pod/container level for etcd chart This change implements runAsUser flag at pod level and readOnly-fs flag at container level Change-Id: Idcb78a1125b51e3b2a71c8cab0e97246c3f1c5aa,29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 18511, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Brian Wickersham', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",add security context template podcontainer level etcd chart change implements runasuser flag pod level readonlyfs flag container level changeid idcb78a1125b51e3b2a71c8cab0e97246c3f1c5aa
https://review.opendev.org/749608,Find security group profiles by project scope,"Find security group profiles by project scope If a security group exists with the same name in multiple projects, a profile will not be able to created using that security group name. This change will try to scope the security group to the user's project during validation. If the security group can not be found using the project scope, it will try to find it without the project scope. Change-Id: I595b3c348ce8133a273d8e26c664fffc32694705",27224,Duc Truong,"[22348, 22623]","['Zuul', 'Erik Olof Gunnar Andersson']",find security group profiles project scope security group exists name multiple projects profile able created using security group name change try scope security group users project validation security group found using project scope try find without project scope changeid i595b3c348ce8133a273d8e26c664fffc32694705
https://review.opendev.org/350160,Refactoring security group config options,Refactoring security group config options Refactoring neutron security grp config opts to be in neutron/conf/agent so that all the configuration options reside in a centralized location. This simplifies the process of looking up the config opts and provides an easy way to import. Change-Id: Ia9538f41dfd894ed55c1db1556b37aad09ad2ae1 Partial-Bug: #1563069,22218,Sindhu Devale,"[3, 748, 1653, 5170, 6635, 6951, 7448, 9732, 9845, 10385, 14208, 15752, 16376, 19611, 20246, 22218]","['Jenkins', 'Armando Migliaccio', 'garyk', 'Microsoft Hyper-V CI', 'John Davidge', 'Brandon Logan', 'Carl Baldwin', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Cisco CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Brian Stajkowski', 'Aradhana Singh', 'Sindhu Devale']",refactoring security group config options refactoring neutron security grp config opts neutronconfagent configuration options reside centralized location simplifies process looking config opts provides easy way import changeid ia9538f41dfd894ed55c1db1556b37aad09ad2ae1 partialbug 1563069
https://review.opendev.org/355213,Fix neutron security group tests for 5.1.0 neutronclient,Fix neutron security group tests for 5.1.0 neutronclient python-neutronclient 5.1.0 has a different API call for find_resourceid_by_name_or_id now: 84c42160e9eac654e734a19032237fdf1a8cb058 That breaks the neutron security group driver unit tests which are relying on a mocked out version of the neutronclient which itself is a bad idea but not completely re-written here so I'm leaving a TODO for that. This blocks getting to use neutronclient 5.1.0 in upper-constraints so this change just fixes the immediate breakage. The cleanup can happen in a follow up change. Also removes test_get_raises_no_unique_match_error which duplicates the coverage from test_associate_duplicate_names for the 409 scenario. Change-Id: Iee340361bc656a0bd3a246e02de41a8f4f89bebf Closes-Bug: #1612494,6873,Matt Riedemann,"[3, 7, 782, 7166, 9008, 14384, 15751, 16376]","['Jenkins', 'Jay Pipes', 'John Garbutt', 'Sylvain Bauza', 'VMware NSX CI', 'Quobyte CI', 'Intel PCI CI', 'Intel NFV CI']",fix neutron security group tests 510 neutronclient pythonneutronclient 510 different api call findresourceidbynameorid 84c42160e9eac654e734a19032237fdf1a8cb058 breaks neutron security group driver unit tests relying mocked version neutronclient bad idea completely rewritten im leaving todo blocks getting use neutronclient 510 upperconstraints change fixes immediate breakage cleanup happen follow change also removes testgetraisesnouniquematcherror duplicates coverage testassociateduplicatenames 409 scenario changeid iee340361bc656a0bd3a246e02de41a8f4f89bebf closesbug 1612494
https://review.opendev.org/353664,Relocate Security Group DB models,Relocate Security Group DB models This patch will separate security group db models from mixins for OVO implementation work. Change-Id: Ie38d3cc2efa5f580261f207748affb5840ba23c9 Partial-Bug: #1597913,8726,Victor Morales,"[3, 5170, 8788, 9656, 9845, 10385, 10386, 15752, 16376, 22524]","['Jenkins', 'Microsoft Hyper-V CI', 'Miguel Angel Ajo', 'Ihar Hrachyshka', 'Arista CI', 'Citrix XenServer CI', 'OpenDaylight CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Mohit Malik']",relocate security group db models patch separate security group db models mixins ovo implementation work changeid ie38d3cc2efa5f580261f207748affb5840ba23c9 partialbug 1597913
https://review.opendev.org/352864,[UG] Security Settings in Fuel web UI,[UG] Security Settings in Fuel web UI Describe Security Settings in Fuel web UI. Change-Id: I3d87c4aa4303b0b94c6b69c2aeba50549f6fe600 Closes-Bug: #1604383,14396,Alexander Adamov,"[3, 8766, 8971, 9730, 14200, 14396, 14643, 14947, 14962, 14985, 17626]","['Jenkins', 'Julia Aranovich', 'Fuel CI', 'Kate Pimenova', 'Maksim Malchuk', 'Alexander Adamov', 'Olga Gusarenko', 'Maria Zlatkova', 'ologvinova', 'Alex Schultz', 'Svetlana Karslioglu']",ug security settings fuel web ui describe security settings fuel web ui changeid i3d87c4aa4303b0b94c6b69c2aeba50549f6fe600 closesbug 1604383
https://review.opendev.org/352498,Infer nova-net security groups better,"Infer nova-net security groups better If a cloud does not have neutron, it's entirely possible to infer that security groups should go through nova. While it's currently possible to set secgroup_source: nova in clouds.yaml or in a vendor file, it's a little overkill for folks who otherwise do not need to express that level of complexity. Change-Id: I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46",2,Monty Taylor,"[2, 3, 3099]","['Monty Taylor', 'Jenkins', 'David Shrewsbury']",infer novanet security groups better cloud neutron entirely possible infer security groups go nova currently possible set secgroupsource nova cloudsyaml vendor file little overkill folks otherwise need express level complexity changeid i8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46
https://review.opendev.org/352102,Added templates for security review notes and findings,Added templates for security review notes and findings Added templates to be used during security review. Change-Id: I25a84396fe2c8ec0fe8ba32b039295383997aa67,11397,Doug Chivers,"[3, 7063, 7473, 10497, 12325, 17893, 18462]","['Jenkins', 'Robert Clark', 'Grant Murphy', 'KATO Tomoyuki', 'Nathaniel Dillon', 'Luke Hinds', 'Rahul U Nair']",added templates security review notes findings added templates used security review changeid i25a84396fe2c8ec0fe8ba32b039295383997aa67
https://review.opendev.org/346474,"Instead name, use uuid to get security group instance","Instead name, use uuid to get security group instance Security group names could be same, although it's low probabilities, we should try to use uuid as far as possible Change-Id: I66122ddf335ca8e3567c28f9fb65fde6b7aa31c1",19956,Yang Li,"[3, 10273, 11685, 16923]","['Jenkins', 'Adam Harwell', 'Stephen Balukoff', 'HP Octavia Sonar CI']",instead name use uuid get security group instance security group names could although low probabilities try use uuid far possible changeid i66122ddf335ca8e3567c28f9fb65fde6b7aa31c1
https://review.opendev.org/345088,nsxv3: provider security groups,nsxv3: initial implemenation for provider security groups Change-Id: Iba3db9398ca2532272a8f68efebaf1388fe43489,4395,Aaron Rosen,"[3, 1653, 4395, 7018, 9008, 9423, 13438, 20363]","['Jenkins', 'garyk', 'Aaron Rosen', 'Abhishek Raut', 'VMware NSX CI', 'Roey Chen', 'Kobi Samoray', 'Adit Sarfaty']",nsxv3 initial implemenation provider security groups changeid iba3db9398ca2532272a8f68efebaf1388fe43489
https://review.opendev.org/305129,[build] Implement security flow,[build] Implement security flow Spec: https://review.fuel-infra.org/19129 Change-Id: I4de35fc611c853e14db7705284936ed0c7a59a5d,9582,Dmitry Burmistrov,"[3, 8971, 9582, 9977, 12817, 14348, 14689, 17737, 19921, 20656]","['Jenkins', 'Fuel CI', 'Dmitry Burmistrov', 'Aleksandra Fedorova', 'Sergey Kulanov', 'Alexander Evseev', 'Vitaly Sedelnik', 'Fuel DevOps Robot', 'Ivan Remizov', 'Fuel Packaging CI']",build implement security flow spec httpsreviewfuelinfraorg19129 changeid i4de35fc611c853e14db7705284936ed0c7a59a5d
https://review.opendev.org/351325,Docs: Minor security overview update,Docs: Minor security overview update Change-Id: Iac8b4251e3d3c663eee146f43ee122ba344df899,538,Major Hayden,"[3, 7353, 10607, 12402, 18784, 19814, 22778]","['Jenkins', 'Kevin Carter', 'Alexandra Settle', 'Robb Romans', 'Michael Carden', 'Travis Truman (automagically)', 'Nish Patwa(nishpatwa007)']",docs minor security overview update changeid iac8b4251e3d3c663eee146f43ee122ba344df899
https://review.opendev.org/214056,"Introduce ""icmp"" option for security group rule","Introduce ""icmp"" option for security group rule This change introduces new datastore option ""icmp"" to configure whether to permit ICMP. Closes-Bug: #1485884 Change-Id: I61edeb38ded5543b7976a01363108a7b5b4fc5b5",12758,Masaki Matsushita,"[3, 7806, 8415, 9500, 9664, 10215, 10295, 12758, 13997]","['Jenkins', 'Sushil Kumar', 'Denis M.', 'Matt Fischer', 'amrith', 'Peter Stachowski', 'mariam john', 'Masaki Matsushita', 'SHIGEMATSU Mitsuhiro']",introduce icmp option security group rule change introduces new datastore option icmp configure whether permit icmp closesbug 1485884 changeid i61edeb38ded5543b7976a01363108a7b5b4fc5b5
https://review.opendev.org/351055,"Revert ""Fix potential security issues""","Revert ""Fix potential security issues"" This reverts commit 81210539bec2d87c3f102e8fd8a5529180911dda. Change-Id: I48873df52125ff0d86dfabd8e40378a5df2cad14",6735,Bob Ball,"[3, 6735, 10385]","['Jenkins', 'Bob Ball', 'Citrix XenServer CI']",revert fix potential security issues reverts commit 81210539bec2d87c3f102e8fd8a5529180911dda changeid i48873df52125ff0d86dfabd8e40378a5df2cad14
https://review.opendev.org/351014,Fix potential security issues,Fix potential security issues Fix below potential security risks so can pass bandit test: * Any input should be quoted for subprocess call * Temp file should not use fixed name * Use yaml.safe_load to prevent arbitrary objects Change-Id: I71b4afb5805c8b1d7ead626f7fa2e15a687811fa Closes-Bug: 1590761 (cherry picked from commit 0fa17d68fc42a223aabe57a290bbe95780b9ae00),17169,John Hua,"[3, 10385, 17920]","['Jenkins', 'Citrix XenServer CI', 'Jianghua Wang']",fix potential security issues fix potential security risks pass bandit test input quoted subprocess call temp file use fixed name use yamlsafeload prevent arbitrary objects changeid i71b4afb5805c8b1d7ead626f7fa2e15a687811fa closesbug 1590761 cherry picked commit 0fa17d68fc42a223aabe57a290bbe95780b9ae00
https://review.opendev.org/326802,Fix potential security issues,Fix potential security issues Change-Id: I71b4afb5805c8b1d7ead626f7fa2e15a687811fa,17169,John Hua,"[3, 6735, 17169, 17920, 17922]","['Jenkins', 'Bob Ball', 'John Hua', 'Jianghua Wang', 'Huan Xie']",fix potential security issues changeid i71b4afb5805c8b1d7ead626f7fa2e15a687811fa
https://review.opendev.org/350137,Update address set with security group name update,Update address set with security group name update Update the address set external IDs when a security group is updated. This ensures that the address set has the correct security group name stored. Change-Id: Ie2e1ee43cdb19f9d8c90b6144a73ce9fe5a1984a Related-Bug: #1560817,8410,Richard Theis,"[3, 1561, 11343, 11762]","['Jenkins', 'Russell Bryant', 'Gal Sagie', 'Han Zhou']",update address set security group name update update address set external ids security group updated ensures address set correct security group name stored changeid ie2e1ee43cdb19f9d8c90b6144a73ce9fe5a1984a relatedbug 1560817
https://review.opendev.org/746416,Adds few of the security dashboard parameters to capabilities,Adds few of the security dashboard parameters to capabilities This patch adds few of the security dashboard parameters to iLO capabilities. It adds : - overall_security_status - last_firmware_scan_result - security_override_switch Depends-On: Ic89c56e178b478a0c653b76a588c10aef037f318 Change-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff,11297,Nisha Agarwal,"[4571, 11076, 11297, 11655, 14629, 15519, 19339, 22348, 30100, 32291]","['Steve Baker', 'Shivanand Tendulker', 'Nisha Agarwal', 'Julia Kreger', 'HPE Proliant', 'Iury Gregory Melo Ferreira', 'Dell EMC Ironic CI', 'Zuul', 'Huawei Ironic CI', 'wushiming']",adds security dashboard parameters capabilities patch adds security dashboard parameters ilo capabilities adds overallsecuritystatus lastfirmwarescanresult securityoverrideswitch dependson ic89c56e178b478a0c653b76a588c10aef037f318 changeid i7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff
https://review.opendev.org/749084,Implement missing security context template for deployment server,Implement missing security context template for test pod and deployment server This change adds security context template at pod/container level Change-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Steven Fitzpatrick']",implement missing security context template test pod deployment server change adds security context template podcontainer level changeid i2180cdf934ce21bc5ae7148f2830d1a8683e82db
https://review.opendev.org/347068,Avoid duplicate ipset processing for security groups,"Avoid duplicate ipset processing for security groups While applying firewall rules for ports, existing implementation iterates through each port and applies ipset for its security groups. With this, when ports share the security group, ipset for same security group is called again and again while iterating through ports. From the DB, we already get the list of security groups for which ipset members have to be updated. In the new approach, we apply ipset on these security groups(before firewall rules setup), instead of iterating through all ports(during settig up firewall rules)and parsing them for security groups and then applying ipset. With this we can avoid duplicate ipset processing for same security groups. Closes-bug: #1598734 Partial-Bug: #1499177 Change-Id: I3f16d1a3a847e706ff743a8e1a5e7598f9f4c6dd (cherry picked from commit ca792b0d569ca9d55617d6fddfdb53a743c05661)",9656,Ihar Hrachyshka,"[3, 1131, 5170, 5948, 7715, 7787, 9681, 9732, 10267, 14605]","['Jenkins', 'Brian Haley', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Hirofumi Ichihara', 'Kevin Benton', 'Ryu CI', 'Mellanox CI', 'venkata anil', 'vikram.choudhary']",avoid duplicate ipset processing security groups applying firewall rules ports existing implementation iterates port applies ipset security groups ports share security group ipset security group called iterating ports db already get list security groups ipset members updated new approach apply ipset security groupsbefore firewall rules setup instead iterating portsduring settig firewall rulesand parsing security groups applying ipset avoid duplicate ipset processing security groups closesbug 1598734 partialbug 1499177 changeid i3f16d1a3a847e706ff743a8e1a5e7598f9f4c6dd cherry picked commit ca792b0d569ca9d55617d6fddfdb53a743c05661
https://review.opendev.org/345289,Unused security group - controller.,Unused security group - controller. Change-Id: I784267b244910773af1344a87f328a0463ca3eb7,10134,Sean Handley,"[3, 964, 6547, 10134]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger', 'Sean Handley']",unused security group controller changeid i784267b244910773af1344a87f328a0463ca3eb7
https://review.opendev.org/348041,Don't update ACLs on security group update,Don't update ACLs on security group update Neutron only supports updating a security group name and description. Such updates don't impact ACLs and thus aren't necessary. Change-Id: Icfb9a2ffcad105e6d659b5c1cd81d92c4a0eae3c Related-Bug: #1560817,8410,Richard Theis,"[3, 1561, 4395, 8410]","['Jenkins', 'Russell Bryant', 'Aaron Rosen', 'Richard Theis']",dont update acls security group update neutron supports updating security group name description updates dont impact acls thus arent necessary changeid icfb9a2ffcad105e6d659b5c1cd81d92c4a0eae3c relatedbug 1560817
https://review.opendev.org/348463,Pass security group id to novaclient while adding security group to server,"Pass security group id to novaclient while adding security group to server In AddServerSecurityGroup, we currently pass the security group name to novaclient. If multiple security groups with same name exist, then even while passing secuity group using id to command 'openstack server add security group <server> <group>' it results in error 'Multiple security_group matches found'. Added unit test case to test the command. Change-Id: I6097eb36e1545c85209cfd767c477e10f82c6999 Closes-Bug: 1604076",10744,Rajasi Kulkarni,"[3, 6482, 8410]","['Jenkins', 'Steve Martinelli', 'Richard Theis']",pass security group id novaclient adding security group server addserversecuritygroup currently pass security group name novaclient multiple security groups name exist even passing secuity group using id command openstack server add security group server group results error multiple securitygroup matches found added unit test case test command changeid i6097eb36e1545c85209cfd767c477e10f82c6999 closesbug 1604076
https://review.opendev.org/346892,[sec-guide]fix a spelling mistake in Security Guide,[sec-guide]fix a spelling mistake in Security Guide Change-Id: I307ceef3f9a9a9e3052da8b150c69674546fa05f Closes-Bug: #1606286,22562,maoshuai,"[3, 10497, 12325, 18462]","['Jenkins', 'KATO Tomoyuki', 'Nathaniel Dillon', 'Rahul U Nair']",secguidefix spelling mistake security guide changeid i307ceef3f9a9a9e3052da8b150c69674546fa05f closesbug 1606286
https://review.opendev.org/346671,[sec-guide]A redundant word in Security Guide,[sec-guide]A redundant word in Security Guide Change-Id: Iee0025c9e7e855a1191bad22e2adc988550ad9d4 Closes-Bug: #1606155,22562,maoshuai,"[3, 10497, 10705, 12325, 17207, 18462]","['Jenkins', 'KATO Tomoyuki', 'Darren Chan', 'Nathaniel Dillon', 'Atsushi SAKAI', 'Rahul U Nair']",secguidea redundant word security guide changeid iee0025c9e7e855a1191bad22e2adc988550ad9d4 closesbug 1606155
https://review.opendev.org/346813,[sec-guide]A spelling mistake in Security Guide,[sec-guide]A spelling mistake in Security Guide Change-Id: Ide06103ce0c5190f46273f008e0dbb792dcb666e Closes-Bug: #1606277,22562,maoshuai,"[3, 6547, 10497, 10705, 12325, 18462]","['Jenkins', 'Andreas Jaeger', 'KATO Tomoyuki', 'Darren Chan', 'Nathaniel Dillon', 'Rahul U Nair']",secguidea spelling mistake security guide changeid ide06103ce0c5190f46273f008e0dbb792dcb666e closesbug 1606277
https://review.opendev.org/345216,Separate api-ref for list security groups by server,Separate api-ref for list security groups by server All proxy APIs are now deprecated which includes sec grp APIs also. But list sec grps by server API- (/servers/{server_id}/os-security-groups) is not deprecated so this should be separated from deprecated sec grp APIs in api-ref. Partially implements blueprint deprecate-api-proxies Change-Id: I9f9e2cf5f8e390cecd9e1794a0af1a3fcc24f149,8556,Ghanshyam,"[3, 2750, 6062, 6167, 10385, 15286]","['Jenkins', 'Sean Dague', 'jichencom', ""Ken'ichi Ohmichi"", 'Citrix XenServer CI', 'XenProject CI']",separate apiref list security groups server proxy apis deprecated includes sec grp apis also list sec grps server api serversserveridossecuritygroups deprecated separated deprecated sec grp apis apiref partially implements blueprint deprecateapiproxies changeid i9f9e2cf5f8e390cecd9e1794a0af1a3fcc24f149
https://review.opendev.org/337064,Avoid duplicate ipset processing for security groups,"Avoid duplicate ipset processing for security groups While applying firewall rules for ports, existing implementation iterates through each port and applies ipset for its security groups. With this, when ports share the security group, ipset for same security group is called again and again while iterating through ports. Instead, if we prepare list of security groups for all ports and apply ipset on them before applying firewall, we can avoid duplicate ipset processing for security groups. Closes-bug: #1598734 Change-Id: I3f16d1a3a847e706ff743a8e1a5e7598f9f4c6dd",10267,venkata anil,"[3, 5170, 5948, 6506, 6788, 7448, 8655, 8788, 8873, 8976, 9732, 10184, 10267, 10692, 11447, 12860, 14208, 14323, 15752, 16376, 21273]","['Jenkins', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Anastasia Guzikova', 'Rossella Sblendido', 'Carl Baldwin', 'Jakub Libosvar', 'Miguel Angel Ajo', 'Assaf Muller', 'shihanzhang', 'Mellanox CI', 'Nuage CI', 'venkata anil', 'Brocade Vyatta CI', 'vikas', 'Dongcan Ye', 'Cisco CI', 'HP Networking CI', 'Intel SR-IOV CI', 'Intel NFV CI', 'Ilya Chukhnakov']",avoid duplicate ipset processing security groups applying firewall rules ports existing implementation iterates port applies ipset security groups ports share security group ipset security group called iterating ports instead prepare list security groups ports apply ipset applying firewall avoid duplicate ipset processing security groups closesbug 1598734 changeid i3f16d1a3a847e706ff743a8e1a5e7598f9f4c6dd
https://review.opendev.org/345037,Add VeNCrypt (TLS/x509) Security VNC config,"Add VeNCrypt (TLS/x509) Security VNC config Currently the driver will use the pypowervm code to start a VNC Repeater that makes available remote access to the LinuxVNC sessions started by mkvterm. However, there is no authentication or encryption done at all on these connections, so anyone that has access through the firewall can connect to these sessions and also possibly have access to the unencrypted data sent across. Support was recently added to pypowervm for optionally specifying an x509 certificate/key that will be used for x509/TLS security authentication between the client and the VNC Repeater to allow for authentication and encrypted transmission. The VNC Repeater will continue to communicate with the LinuxVNC session locally without authentication or encryption. If a x509 certificate/key is specified, the VNC Repeater will enforce that the client negotiates to use VeNCrypt as part of the security handshake and then will wrapper the socket to use TLS 1.2 for secure communication. This changeset will add optional configuration properties for the nova-powervm driver for whether to use x509 authentication and the certificates to use for this authentication. vnc_use_x509_auth - Whether to use x509 authentication for VNC vnc_ca_certs - Path to CA certificates for VNC authentication vnc_server_cert - Path to the server cert for VNC authentication vnc_server_key - Path to the server key for VNC authentication Change-Id: Ib6eca2347003bce300d85b9d8bc251fdac7ffba3",9514,Brent Tang,"[3, 8190, 13537, 13557, 14070]","['Jenkins', 'Drew Thorstensen (thorst)', 'Lauren Taylor', 'Matt Rabe', 'Eric Fried']",add vencrypt tlsx509 security vnc config currently driver use pypowervm code start vnc repeater makes available remote access linuxvnc sessions started mkvterm however authentication encryption done connections anyone access firewall connect sessions also possibly access unencrypted data sent across support recently added pypowervm optionally specifying x509 certificatekey used x509tls security authentication client vnc repeater allow authentication encrypted transmission vnc repeater continue communicate linuxvnc session locally without authentication encryption x509 certificatekey specified vnc repeater enforce client negotiates use vencrypt part security handshake wrapper socket use tls 12 secure communication changeset add optional configuration properties novapowervm driver whether use x509 authentication certificates use authentication vncusex509auth whether use x509 authentication vnc vnccacerts path ca certificates vnc authentication vncservercert path server cert vnc authentication vncserverkey path server key vnc authentication changeid ib6eca2347003bce300d85b9d8bc251fdac7ffba3
https://review.opendev.org/342226,Fix improperly rendered Update Security Service modal form,"Fix improperly rendered Update Security Service modal form Update Security Service form validation works for only one time. On the second try whatever values are used, a correct ones or not, the form closes with ""There was an error submitting the form. Please try again."" message. It appears that form_invalid method returns broken submit url. This patch moves rendering to get_initial method to get a proper submit url for valid and invalid forms. Change-Id: I6047adaf1a0864d93272940f8d15468b1ec39426 Closes-Bug: #1585247",6914,Tatiana Ovchinnikova,"[3, 8851, 14567]","['Jenkins', 'Valeriy Ponomaryov', 'Rodrigo Barbieri']",fix improperly rendered update security service modal form update security service form validation works one time second try whatever values used correct ones form closes error submitting form please try message appears forminvalid method returns broken submit url patch moves rendering getinitial method get proper submit url valid invalid forms changeid i6047adaf1a0864d93272940f8d15468b1ec39426 closesbug 1585247
https://review.opendev.org/338137,Add available params in neutron security group rule client's comment,"Add available params in neutron security group rule client's comment Some interfaces in neutron security group rule client have **kwargs parameter, but no api reference links are given. so this is to add ""Available params"" in their comments. Change-Id: I9933af44dcc52d5607c0b3f17082d9d261b043b2",22298,lvfumei,"[3, 7350, 8556, 9732, 10385, 12017]","['Jenkins', 'Jordan Pittier', 'Ghanshyam', 'Mellanox CI', 'Citrix XenServer CI', 'DellEMC VNX CI']",add available params neutron security group rule clients comment interfaces neutron security group rule client kwargs parameter api reference links given add available params comments changeid i9933af44dcc52d5607c0b3f17082d9d261b043b2
https://review.opendev.org/344382,[install guide] Add Security settings to Fuel menu,[install guide] Add Security settings to Fuel menu This patch: - adds a 'Security Setup' description to the Fuel Setup menu description; - updates the Fuel setup menu from 8.0 to 9.0. Change-Id: I1a65b2abe4b0bb23d78d7b577fd4b3d1ebb4b88c Closes-Bug: #1560360,14962,ologvinova,"[3, 8971, 14200, 14643, 14947, 14962, 20448]","['Jenkins', 'Fuel CI', 'Maksim Malchuk', 'Olga Gusarenko', 'Maria Zlatkova', 'ologvinova', 'Scott Machtmes']",install guide add security settings fuel menu patch adds security setup description fuel setup menu description updates fuel setup menu 80 90 changeid i1a65b2abe4b0bb23d78d7b577fd4b3d1ebb4b88c closesbug 1560360
https://review.opendev.org/335550,Add port security option to network commands,"Add port security option to network commands Add the ""--enable-port-security"" and ""--disable-port-security"" options to the ""network create"" and ""network set"" commands. This supports setting the default port security for ports created on a network. Change-Id: I1deb505bd77cef2e4bc3c2dbbb0c450665136f47 Implements: blueprint neutron-client",8410,Richard Theis,"[3, 6482, 14614, 14937, 20184]","['Jenkins', 'Steve Martinelli', 'Kyrylo Romanenko', 'Tang Chen', 'Pallavi']",add port security option network commands add enableportsecurity disableportsecurity options network create network set commands supports setting default port security ports created network changeid i1deb505bd77cef2e4bc3c2dbbb0c450665136f47 implements blueprint neutronclient
https://review.opendev.org/319834,Test for security checks on master node and slaves.,Test for security checks on master node. Change-Id: I87aa4d8a5a53446792ff0e1dca05b7e376a00aa3,19120,Mikhail Samoylov,"[3, 6719, 8971, 11969, 12867, 14057, 14708, 15984, 17737, 19119, 19120]","['Jenkins', 'tatyana-leontovich', 'Fuel CI', 'Dennis Dmitriev', 'Dmitry Tyzhnenko', 'Alexander Kurenyshev', 'Maksym Strukov', 'Vladimir Khlyunev', 'Fuel DevOps Robot', 'Alexey Stepanov', 'Mikhail Samoylov']",test security checks master node changeid i87aa4d8a5a53446792ff0e1dca05b7e376a00aa3
https://review.opendev.org/344385,[install guide] Add Security settings to Fuel menu,[install guide] Add Security settings to Fuel menu This patch: - adds a 'Security Setup' description to the Fuel Setup menu description; - updates the Fuel setup menu from 8.0 to 9.0. Change-Id: I1a65b2abe4b0bb23d78d7b577fd4b3d1ebb4b88c Closes-Bug: #1560360,14962,ologvinova,"[3, 8971, 14200, 14947]","['Jenkins', 'Fuel CI', 'Maksim Malchuk', 'Maria Zlatkova']",install guide add security settings fuel menu patch adds security setup description fuel setup menu description updates fuel setup menu 80 90 changeid i1a65b2abe4b0bb23d78d7b577fd4b3d1ebb4b88c closesbug 1560360
https://review.opendev.org/336905,Pass security group id to novaclient,"Pass security group name to novaclient In RemoveServerSecurityGroup we currently pass the entire security group object, which results in TypeError in novaclient. Change-Id: I6d486403a83804c3a30d6f89d2cf7f64f09797c6 Closes-Bug: 1590883",10744,Rajasi Kulkarni,"[3, 970, 6482, 8410, 10744]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Richard Theis', 'Rajasi Kulkarni']",pass security group name novaclient removeserversecuritygroup currently pass entire security group object results typeerror novaclient changeid i6d486403a83804c3a30d6f89d2cf7f64f09797c6 closesbug 1590883
https://review.opendev.org/749083,Add security context for etcd-ondemand pod/container,Add security context for etcd-ondemand pod/container This changes implements runAsUser flag at pod level and readOnly-fs at container level Change-Id: I4e54ae4b13c4275f8313efbb733f938ec3580138,29161,Rahul Khiyani,"[18236, 22348, 22636, 24780, 29131, 29144, 29161, 29585]","['Sophie Huang', 'Zuul', 'Cliff Parsons', 'Sangeet Gupta', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Jeremy Houser']",add security context etcdondemand podcontainer changes implements runasuser flag pod level readonlyfs container level changeid i4e54ae4b13c4275f8313efbb733f938ec3580138
https://review.opendev.org/337627,Added Authors to Security Notes,"Added Authors to Security Notes All OSSN authors, added under the ""Author:"" metadata field Change-Id: I81771dd3ec8d2c133ebc6ddf9f2c5f0f958d603a Closes-Bug: #1599064",17893,Luke Hinds,"[3, 7063, 7473, 8119, 9382, 10497, 10670, 10705, 11861, 17893, 18462]","['Jenkins', 'Robert Clark', 'Grant Murphy', 'Eric Brown', 'Shilla Saebi', 'KATO Tomoyuki', 'Michael McCune', 'Darren Chan', 'Travis McPeak', 'Luke Hinds', 'Rahul U Nair']",added authors security notes ossn authors added author metadata field changeid i81771dd3ec8d2c133ebc6ddf9f2c5f0f958d603a closesbug 1599064
https://review.opendev.org/342397,Apply SSH security settings from UI,Apply SSH security settings from UI This commit change restriction for SSH access only from networks provided on UI instead of all local networks by default. DocImpact Depends-On: I34c9907d781b81253ed6942c67b16f8480de3bb5 Change-Id: Ifca70a377c74d233fbca50de7245bce01079ad56 Closes-Bug: #1419657 Signed-off-by: Maksim Malchuk <mmalchuk@mirantis.com>,14200,Maksim Malchuk,"[3, 6926, 7195, 7468, 7604, 7732, 7745, 8786, 8971, 9037, 9387, 11090, 11827, 13344, 14985, 16771, 18290, 20656]","['Jenkins', 'Bogdan Dobrelya', 'Matthew Mosesohn', 'Sergey Vasilenko', 'Sergey Kolekonov', 'Ivan Berezovskiy', 'Denis Egorenko', 'Vladimir Kuklin', 'Fuel CI', 'Dmitry Ilyin', 'Aleksandr Didenko', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Oleksiy Molchanov', 'Alex Schultz', 'mpolenchuk', 'Kyrylo Galanov', 'Fuel Packaging CI']",apply ssh security settings ui commit change restriction ssh access networks provided ui instead local networks default docimpact dependson i34c9907d781b81253ed6942c67b16f8480de3bb5 changeid ifca70a377c74d233fbca50de7245bce01079ad56 closesbug 1419657 signedoffby maksim malchuk mmalchukmirantiscom
https://review.opendev.org/341639,Add the SSH security section to UI,Add the SSH security section to UI This change adds the new section with new checkbox as a separate control instead of the toggleable section because of the description which should be available even if the section is disabled (default). Change-Id: I34c9907d781b81253ed6942c67b16f8480de3bb5 Partial-Bug: #1419657 Signed-off-by: Maksim Malchuk <mmalchuk@mirantis.com>,14200,Maksim Malchuk,"[3, 8392, 8735, 8766, 8931, 8971, 9730, 10488, 10959, 11898, 13344, 14200, 14962, 14985, 15315, 18205, 18290, 19158, 20384, 20656, 21013]","['Jenkins', 'Aleksey Kasatkin', 'Vitaly Kramskikh', 'Julia Aranovich', 'Artem Roma', 'Fuel CI', 'Kate Pimenova', 'Artur Svechnikov', 'Alexander Kislitsky', 'Alexander Saprykin', 'Oleksiy Molchanov', 'Maksim Malchuk', 'ologvinova', 'Alex Schultz', 'Nick Bogdanov', 'Bulat Gaifullin', 'Kyrylo Galanov', 'Ilya Kutukov', 'Nikita Zubkov', 'Fuel Packaging CI', 'Georgy Kibardin']",add ssh security section ui change adds new section new checkbox separate control instead toggleable section description available even section disabled default changeid i34c9907d781b81253ed6942c67b16f8480de3bb5 partialbug 1419657 signedoffby maksim malchuk mmalchukmirantiscom
https://review.opendev.org/330608,Add new resource Security Group Rule,Add new resource Security Group Rule As for now rules are a property of security group resource. The problem is that rules can contain security group id's as their parameters. This leads to circular dependencies. Now you can create security groups as before but also create new rules as separate resources and add them to security groups. Closes-Bug: #1581447 Implements bp securitygroupingressegress Change-Id: I3425960e3d5a63c54b0c6739e305a53780075095,20559,Dmitriy Uvarenkov,"[3, 7230, 8399, 12363, 13009, 20526, 20559]","['Jenkins', 'Vijendar Komalla', 'Jay Dobies', 'Oleksii Chuprykov', 'Peter Razumovsky', 'Jaime Guerrero', 'Dmitriy Uvarenkov']",add new resource security group rule rules property security group resource problem rules contain security group ids parameters leads circular dependencies create security groups also create new rules separate resources add security groups closesbug 1581447 implements bp securitygroupingressegress changeid i3425960e3d5a63c54b0c6739e305a53780075095
https://review.opendev.org/336915,don't serialize auto security group if not needed,don't serialize auto security group if not needed Change-Id: I1e20fb5493e4bcf3a37a5b4a89709f55c5cdcbd6 Closes-bug: 1597482,12038,Vitaly Gridnev,"[3, 7125, 7132, 7213, 8090, 8932, 13919, 13953, 19372]","['Jenkins', 'Alexander Ignatov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Chad Roberts', 'Telles Mota Vidal Nóbrega', 'Evgeny Sikachev', 'Elise Gafford', 'Michael Ionkin']",dont serialize auto security group needed changeid i1e20fb5493e4bcf3a37a5b4a89709f55c5cdcbd6 closesbug 1597482
https://review.opendev.org/338136,Add available params in neutron security group client's comment,"Add available params in neutron security group client's comment Some interfaces in neutron security group client have **kwargs parameter, but no api reference links are given. so this is to add ""Available params"" in their comments. Change-Id: I177b07a3f96f593b8ba8a8a7c646429a6616925b",22298,lvfumei,"[3, 7350, 8556, 9732, 10385, 12017, 22298]","['Jenkins', 'Jordan Pittier', 'Ghanshyam', 'Mellanox CI', 'Citrix XenServer CI', 'DellEMC VNX CI', 'lvfumei']",add available params neutron security group clients comment interfaces neutron security group client kwargs parameter api reference links given add available params comments changeid i177b07a3f96f593b8ba8a8a7c646429a6616925b
https://review.opendev.org/337746,"The Docker ""expose"" option allows that a port-range and protocol be specified through the ""docker run"" command: docker run --net=my_kuryr_net --expose=1234-1238/udp -it ubuntu This patch set implements this feature by using Neutron security groups.","Supports the Docker ""expose"" option The Docker ""expose"" option allows that a port-range and protocol be specified through the ""docker run"" command: docker run --net=my_kuryr_net --expose=1234-1238/udp -it ubuntu This patch set implements this feature by using Neutron security groups. Closed-Bug: #1569142 Change-Id: Ib7e1fd4de66a7bf69d59a3bd711994b935270b66",1923,Mohammad Banikazemi,"[3, 1923, 6598, 9820, 11343, 12069, 14352, 15967]","['Jenkins', 'Mohammad Banikazemi', 'Berezovsky Irena', 'Liping Mao', 'Gal Sagie', 'Taku Fukushima', 'Antoni Segura Puimedon', 'vikas choudhary']",supports docker expose option docker expose option allows portrange protocol specified docker run command docker run netmykuryrnet expose12341238udp ubuntu patch set implements feature using neutron security groups closedbug 1569142 changeid ib7e1fd4de66a7bf69d59a3bd711994b935270b66
https://review.opendev.org/326767,Add Neutron security group plugin,"Add Neutron security group plugin The support for Neutron security groups did not make it into Mitaka. This patch will add a new plugin to monitor Neutron notifications related to security group changes (group add, group delete, group rule add). Change-Id: I9d2b80e27eaf817cf561d28e067985fee7fe568d Implements: blueprint-neutron-security-group-plugin",14680,Rick Aulino,"[3, 7665, 10063, 14680, 15888, 16150]","['Jenkins', 'Travis Tripp', 'Steve McLellan', 'Rick Aulino', 'Zhenyu Zheng', 'Lei Zhang']",add neutron security group plugin support neutron security groups make mitaka patch add new plugin monitor neutron notifications related security group changes group add group delete group rule add changeid i9d2b80e27eaf817cf561d28e067985fee7fe568d implements blueprintneutronsecuritygroupplugin
https://review.opendev.org/318995,Use OVN address set to implement remote security groups,WIP: Use OVN address set to implement remote security group in neutron. Change-Id: I56e9eb1ded1836b9a9f7262f22daa51103bc8518,11762,Han Zhou,"[3, 105, 1561, 4395, 8410, 11682, 11762, 21556]","['Jenkins', 'Kyle Mestery', 'Russell Bryant', 'Aaron Rosen', 'Richard Theis', 'Ryan Moats', 'Han Zhou', 'ZhouHuijing']",wip use ovn address set implement remote security group neutron changeid i56e9eb1ded1836b9a9f7262f22daa51103bc8518
https://review.opendev.org/337722,Add glossary links for secure boot and TPM for Security Guide,Add glossary links for secure boot and TPM for Security Guide Added secure boot and trusted platform module (TPM) glossary links. Terms were added to openstack-manuals common glossary in change 336113. Fixed rst markup for a note. Change-Id: I35e454ba590f346580ef39bf2340739fc4777513 Closes-Bug: #1485736,6587,Patrick Amor,"[3, 6547, 9382]","['Jenkins', 'Andreas Jaeger', 'Shilla Saebi']",add glossary links secure boot tpm security guide added secure boot trusted platform module tpm glossary links terms added openstackmanuals common glossary change 336113 fixed rst markup note changeid i35e454ba590f346580ef39bf2340739fc4777513 closesbug 1485736
https://review.opendev.org/336908,Fix Mapr security repo,Fix Mapr security repo lucid-security moved to old-releases.ubuntu.com Change-Id: Ibf2802ca0f62c0eabc0acfc3e90c6d079d20e884,13919,Evgeny Sikachev,"[3, 7213, 12038]","['Jenkins', 'Sahara Hadoop Cluster CI', 'Vitaly Gridnev']",fix mapr security repo lucidsecurity moved oldreleasesubuntucom changeid ibf2802ca0f62c0eabc0acfc3e90c6d079d20e884
https://review.opendev.org/748298,Fix openscap security violations in sshd_config,Fix openscap security violations in sshd_config Updated ssh settings in /etc/ssh/sshd_config file to fix some high and medium openscap security violations. Story: 2008037 Task: 40694 Change-Id: Id57fbb13fd2b758f2e8608b56af9447035bac903 Signed-off-by: Carmen Rata <carmen.rata@windriver.com>,31646,Carmen Rata,"[22348, 26026, 28431, 28459, 28558, 28607, 28642, 28676, 31646]","['Zuul', 'Greg Waines', 'Don Penney', 'Bob Church', 'Ghada Khalil', 'Saul Wold', 'Brent Rowsell', 'Andy Ning', 'Carmen Rata']",fix openscap security violations sshdconfig updated ssh settings etcsshsshdconfig file fix high medium openscap security violations story 2008037 task 40694 changeid id57fbb13fd2b758f2e8608b56af9447035bac903 signedoffby carmen rata carmenratawindrivercom
https://review.opendev.org/336113,Add secure boot and TPM to glossary for Security Guide,Add secure boot and TPM to glossary for Security Guide Added secure boot and trusted platform module (TPM) to glossary for Security Guide book Partial Bug: #1485736 Change-Id: Ie35cec0b44838f5e19e703a49af5fa94027a9779,6587,Patrick Amor,"[3, 6587, 6772, 10607]","['Jenkins', 'Patrick Amor', 'Stephen Gordon', 'Alexandra Settle']",add secure boot tpm glossary security guide added secure boot trusted platform module tpm glossary security guide book partial bug 1485736 changeid ie35cec0b44838f5e19e703a49af5fa94027a9779
https://review.opendev.org/331236,Log the network when neutron won't apply security groups,"Log the network when neutron won't apply security groups Since we can be processing multiple networks for a given server create or interface attach request, when validation fails for applying security groups it would be helpful to log the network that failed the validation so we can debug. Change-Id: If2a0ed3c77ed89c7bb75cae4dd0ba7260c97cf70 Related-Bug: #1593522",6873,Matt Riedemann,"[3, 782, 4690, 9578, 10385, 15286, 19590]","['Jenkins', 'John Garbutt', 'melanie witt', 'DB Datasets CI', 'Citrix XenServer CI', 'XenProject CI', 'Sarafraj Singh']",log network neutron wont apply security groups since processing multiple networks given server create interface attach request validation fails applying security groups would helpful log network failed validation debug changeid if2a0ed3c77ed89c7bb75cae4dd0ba7260c97cf70 relatedbug 1593522
https://review.opendev.org/328158,Removes deleted port from Hyper-V Security Groups Driver cache,"Removes deleted port from Hyper-V Security Groups Driver cache When a port is deleted, it is no longer necessary to keep it in the Hyper-V Security Groups Driver cache. Change-Id: Icd6e4267eab23bef117e6d4ff2e83246d6f2080f Closes-Bug: #1536732 (cherry picked from commit 88dbf676b6a08e7bbb0287dd46a439a4ff843867)",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",removes deleted port hyperv security groups driver cache port deleted longer necessary keep hyperv security groups driver cache changeid icd6e4267eab23bef117e6d4ff2e83246d6f2080f closesbug 1536732 cherry picked commit 88dbf676b6a08e7bbb0287dd46a439a4ff843867
https://review.opendev.org/334832,Fixed inability to deploy if security groups are disabled,"Fixed inability to deploy if security groups are disabled Existing implementation of Neutron-based networking assumed that the neutron's security groups are used to manage VM accessibility. However there may exist environments with disabled security-group extension in Neutron and thus relying on something else to restrict the traffic. Murano could not operate in such environments since it always was attempting to create resources of type OS::Neutron::SecurityGroup and attach VMs' ports to this resource. This is addressed by introducing a new subclass of SecurityGroupManager - DummySecurityGroupManager, which actually does nothing but silently ignores the calls to create security rules. This new security manager is instantiated instead of NeutronSecurityGroupManager for Neutron-based networks in cases if the 'security-group' extension is not present in Neutron's configuration. If it is instantiated a warning message is reported to the end-user to notify them that security requirements of the application were ignored. Change-Id: Ia3bc6c17f9ca0a4b8bf8c272481760a8c81b27b7 Closes-bug: #1593253",6571,Krzysztof Szukie?oj?,"[3, 7225, 7821, 15168]","['Jenkins', 'Serg Melikyan', 'Murano CI', 'Kirill Zaitsev']",fixed inability deploy security groups disabled existing implementation neutronbased networking assumed neutrons security groups used manage vm accessibility however may exist environments disabled securitygroup extension neutron thus relying something else restrict traffic murano could operate environments since always attempting create resources type osneutronsecuritygroup attach vms ports resource addressed introducing new subclass securitygroupmanager dummysecuritygroupmanager actually nothing silently ignores calls create security rules new security manager instantiated instead neutronsecuritygroupmanager neutronbased networks cases securitygroup extension present neutrons configuration instantiated warning message reported enduser notify security requirements application ignored changeid ia3bc6c17f9ca0a4b8bf8c272481760a8c81b27b7 closesbug 1593253
https://review.opendev.org/329441,Clean Security Services modal forms,Clean Security Services modal forms Refactoring Create Security Service and Edit Security Service modals. Change-Id: I6eb7df04685596f8d52364c98ff94b1fc1e55d24 Partially-Implements: blueprint form-templates,6914,Tatiana Ovchinnikova,"[3, 2417, 6491, 6914, 7102, 8851, 11047, 11865, 14232, 14567]","['Jenkins', 'Ben Swartzlander', 'xing-yang', 'Tatiana Ovchinnikova', 'Thomas Bechtold', 'Valeriy Ponomaryov', 'Mark Sturdevant', 'Clinton Knight', 'Igor Malinovskiy', 'Rodrigo Barbieri']",clean security services modal forms refactoring create security service edit security service modals changeid i6eb7df04685596f8d52364c98ff94b1fc1e55d24 partiallyimplements blueprint formtemplates
https://review.opendev.org/332992,Docs: Add developer guide for security role,Docs: Add developer guide for security role This patch adds detailed instructions for developers who are working on the security role. The patch also adds CentOS/RHEL 7 support to the run_tests.sh script. This is a backport of I0ab79f1e4abdb3deeca9b48da3b9e4f42be37980. A clean backport wasn't possible due to multi-os work done in Newton. Change-Id: Id5748681677ece9d683912b44a0b5f727397791c,538,Major Hayden,"[3, 7353, 12402, 15993, 18784, 19814]","['Jenkins', 'Kevin Carter', 'Robb Romans', 'Amy Marrich', 'Michael Carden', 'Travis Truman (automagically)']",docs add developer guide security role patch adds detailed instructions developers working security role patch also adds centosrhel 7 support runtestssh script backport i0ab79f1e4abdb3deeca9b48da3b9e4f42be37980 clean backport wasnt possible due multios work done newton changeid id5748681677ece9d683912b44a0b5f727397791c
https://review.opendev.org/251271,XenAPI: Support neutron security group,"XenAPI: Support neutron security group This implementation is to give support on neutron security group with XenServer as compute driver. When using neutron+openvswitch, the ovs agent on compute node cannot run correctly due to lack of qbr linux bridge on compute node. This change will add qbr linux bridge when xenserver as hypervisor Implements: blueprint xenserver-give-support-on-neutron-security-group Change-Id: Id9b39aa86558a9f7099caedabd2d517bf8ad3d68 Depends-On: I377f8ad51e1d2725c3e0153e64322055fcce7b54",17922,Huan Xie,"[3, 782, 1653, 1779, 5170, 6735, 8871, 9008, 9578, 9732, 10118, 10385, 14384, 15286, 15751, 16376, 16897, 16898, 17920, 17922]","['Jenkins', 'John Garbutt', 'garyk', 'Daniel Berrange', 'Microsoft Hyper-V CI', 'Bob Ball', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Quobyte CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo Storage CI', 'Virtuozzo CI', 'Jianghua Wang', 'Huan Xie']",xenapi support neutron security group implementation give support neutron security group xenserver compute driver using neutronopenvswitch ovs agent compute node run correctly due lack qbr linux bridge compute node change add qbr linux bridge xenserver hypervisor implements blueprint xenservergivesupportonneutronsecuritygroup changeid id9b39aa86558a9f7099caedabd2d517bf8ad3d68 dependson i377f8ad51e1d2725c3e0153e64322055fcce7b54
https://review.opendev.org/328155,Reraise exception raised by security groups driver,Reraise exception raised by security groups driver Re-raises the caught exception instead of safely ignoring it. This will result in the port being rebound. Partial-Bug: #1522449 Change-Id: I5fce58c05a5a638acca2ebaf4e8e8f7a46f49835 (cherry picked from commit d1d391cb1ac74b02e2acbfa93f3bb58f0bc12f13),8213,Claudiu Belu,"[3, 6854, 8213]","['Jenkins', 'YAMAMOTO Takashi', 'Claudiu Belu']",reraise exception raised security groups driver reraises caught exception instead safely ignoring result port rebound partialbug 1522449 changeid i5fce58c05a5a638acca2ebaf4e8e8f7a46f49835 cherry picked commit d1d391cb1ac74b02e2acbfa93f3bb58f0bc12f13
https://review.opendev.org/334272,Fix minor typo in security guide.,Fix minor typo in security guide. The word service was mispelled in security guide. Fixed this typo. Change-Id: I82a135b7c767690c0a639da552bdc2286c9ad43c,9927,Britt Houser,"[3, 7488, 9927, 11105, 16993, 20128]","['Jenkins', 'Jeffrey Zhang', 'Britt Houser', 'Swapnil Kulkarni', 'Hui Kang', 'Han Chao']",fix minor typo security guide word service mispelled security guide fixed typo changeid i82a135b7c767690c0a639da552bdc2286c9ad43c
https://review.opendev.org/332991,Docs: Add developer guide for security role,Docs: Add developer guide for security role This patch adds detailed instructions for developers who are working on the security role. The patch also adds CentOS/RHEL 7 support to the run_tests.sh script. This is a backport of I0ab79f1e4abdb3deeca9b48da3b9e4f42be37980. A clean backport wasn't possible due to multi-os work done in Newton. Change-Id: Id5748681677ece9d683912b44a0b5f727397791c,538,Major Hayden,"[3, 538, 7353, 12402, 18784, 19814]","['Jenkins', 'Major Hayden', 'Kevin Carter', 'Robb Romans', 'Michael Carden', 'Travis Truman (automagically)']",docs add developer guide security role patch adds detailed instructions developers working security role patch also adds centosrhel 7 support runtestssh script backport i0ab79f1e4abdb3deeca9b48da3b9e4f42be37980 clean backport wasnt possible due multios work done newton changeid id5748681677ece9d683912b44a0b5f727397791c
https://review.opendev.org/332746,Add constraint for Security Group,Add constraint for Security Group Change-Id: I8b2918b1dc1ccef1723028680914a597580664dc,20559,Dmitriy Uvarenkov,"[3, 8399, 12363, 13009]","['Jenkins', 'Jay Dobies', 'Oleksii Chuprykov', 'Peter Razumovsky']",add constraint security group changeid i8b2918b1dc1ccef1723028680914a597580664dc
https://review.opendev.org/326669,Support ML2 option to enable security groups,"Support ML2 option to enable security groups Add support for the ML2 enable_security_group option under [securitygroup] in ml2_conf.ini. This option is set to True by default and will control whether or not ACLs are applied to ports and the port binding value for CAP_PORT_FILTER. Also, update devstack plugin to set enable_security_group based on Q_USE_SECGROUP and comment out firewall_driver since it isn't used by OVN. And finally, add the security group options to the neutron-ovn-db-sync-util command. Change-Id: I73ca9a34ea34f781cbec5680b44e98da309365bb Closes-Bug: #1588935",8410,Richard Theis,"[3, 105, 1561]","['Jenkins', 'Kyle Mestery', 'Russell Bryant']",support ml2 option enable security groups add support ml2 enablesecuritygroup option securitygroup ml2confini option set true default control whether acls applied ports port binding value capportfilter also update devstack plugin set enablesecuritygroup based qusesecgroup comment firewalldriver since isnt used ovn finally add security group options neutronovndbsyncutil command changeid i73ca9a34ea34f781cbec5680b44e98da309365bb closesbug 1588935
https://review.opendev.org/328909,ICMP type & code validation while adding Security Group rules,"ICMP type & code validation while adding Security Group rules While adding new 'Security Group Rule' viz. 'Custom ICMP rule' when wrong ICMP 'type' or 'code' was given the errors it would show were 'Not a valid port number'; which is misleading. The errors should rather be 'Not a valid ICMP type' or 'Not a valid ICMP code'. Also for validating ICMP 'type' and 'code' there wasn't any dedicated functionality in 'oslo.utils/netutils' so the code for validating 'TCP ports' was used. TCP ports are in range 0 to 65535 while ICMP 'type' and 'code' are in range 0 to 255, so using 'TCP port validation' code is incorrect. When -1 is used in 'ICMP code' or 'ICMP type' that means any number 0 to 255 is valid. Here newer dedicated functionality of 'oslo.utils/netutils' is used for validating ICMP 'type' and ICMP 'code'. Change-Id: I8e227a0021d418294fa7b7756d58e39f2100850a Closes-Bug: #1511748 (cherry picked from commit edfde8b3f54cc4264d770e5fd49f07d164a85a28)",8674,Yves-Gwenael Bourhis,"[3, 841, 4264, 5623, 8040, 8674, 9576, 12281, 12826, 18930]","['Jenkins', 'Akihiro Motoki', 'Matthias Runge', 'David Lyle', 'Timur Sufiev', 'Yves-Gwenael Bourhis', 'Thai Tran', 'Itxaka', 'Rob Cresswell', 'Suraj Deshmukh']",icmp type code validation adding security group rules adding new security group rule viz custom icmp rule wrong icmp type code given errors would show valid port number misleading errors rather valid icmp type valid icmp code also validating icmp type code wasnt dedicated functionality osloutilsnetutils code validating tcp ports used tcp ports range 0 65535 icmp type code range 0 255 using tcp port validation code incorrect 1 used icmp code icmp type means number 0 255 valid newer dedicated functionality osloutilsnetutils used validating icmp type icmp code changeid i8e227a0021d418294fa7b7756d58e39f2100850a closesbug 1511748 cherry picked commit edfde8b3f54cc4264d770e5fd49f07d164a85a28
https://review.opendev.org/331143,Disabling security groups is not needed,Disabling security groups is not needed Instead you can use port-security-enabled=False during port creation for service Change-Id: If880800379517bf1e7979d62b41a334e0f3520a9,10489,Bartosz Kupidura,"[3, 10489, 17730, 19561]","['Jenkins', 'Bartosz Kupidura', 'Maciej Relewicz', 'Jerzy Mikolajczak']",disabling security groups needed instead use portsecurityenabledfalse port creation service changeid if880800379517bf1e7979d62b41a334e0f3520a9
https://review.opendev.org/331105,Fixed inability to deploy if security groups are disabled,"Fixed inability to deploy if security groups are disabled Existing implementation of Neutron-based networking assumed that the neutron's security groups are used to manage VM accessibility. However there may exist environments with disabled security-group extension in Neutron and thus relying on something else to restrict the traffic. Murano could not operate in such environments since it always was attempting to create resources of type OS::Neutron::SecurityGroup and attach VMs' ports to this resource. This is addressed by introducing a new subclass of SecurityGroupManager - DummySecurityGroupManager, which actually does nothing but silently ignores the calls to create security rules. This new security manager is instantiated instead of NeutronSecurityGroupManager for Neutron-based networks in cases if the 'security-group' extension is not present in Neutron's configuration. If it is instantiated a warning message is reported to the end-user to notify them that security requirements of the application were ignored. Change-Id: Ia3bc6c17f9ca0a4b8bf8c272481760a8c81b27b7 Closes-bug: #1593253",8127,Alexander Tivelkov,"[3, 7226, 7821, 8127, 13149, 15168, 20773]","['Jenkins', 'Stan Lagun', 'Murano CI', 'Alexander Tivelkov', 'Dmytro Dovbii', 'Kirill Zaitsev', 'Valerii Kovalchuk']",fixed inability deploy security groups disabled existing implementation neutronbased networking assumed neutrons security groups used manage vm accessibility however may exist environments disabled securitygroup extension neutron thus relying something else restrict traffic murano could operate environments since always attempting create resources type osneutronsecuritygroup attach vms ports resource addressed introducing new subclass securitygroupmanager dummysecuritygroupmanager actually nothing silently ignores calls create security rules new security manager instantiated instead neutronsecuritygroupmanager neutronbased networks cases securitygroup extension present neutrons configuration instantiated warning message reported enduser notify security requirements application ignored changeid ia3bc6c17f9ca0a4b8bf8c272481760a8c81b27b7 closesbug 1593253
https://review.opendev.org/327732,Update lists of skipped security role tasks,Update lists of skipped security role tasks The security role has fixes for V-38496 and V-38670 that will allow us to apply these configurations in the gate jobs. Change-Id: Iab369540c1cab0612490ad04fe4ba2e9bfff7028,538,Major Hayden,"[3, 538, 6816, 7414]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'David Wilde']",update lists skipped security role tasks security role fixes v38496 v38670 allow us apply configurations gate jobs changeid iab369540c1cab0612490ad04fe4ba2e9bfff7028
https://review.opendev.org/737262,Add security dashboard attributes,[WIP] Add security dashboard attributes Change-Id: Ic89c56e178b478a0c653b76a588c10aef037f318,11297,Nisha Agarwal,"[11076, 22271, 22348]","['Shivanand Tendulker', 'paresh', 'Zuul']",wip add security dashboard attributes changeid ic89c56e178b478a0c653b76a588c10aef037f318
https://review.opendev.org/747803,Add security context template to prometheus-blackbox-exporter,Add security context template to prometheus-blackbox-exporter This change adds security context template at pod level to implement runAsUser flag This change adds security context template at container level to implement readOnly-fs flag Change-Id: Icbea3487c058d88188061d0d5a77458dce910884,29161,Rahul Khiyani,"[8898, 18511, 21420, 22348, 29144, 29161, 29298, 30777]","['Chris Wedgwood', 'Brian Wickersham', 'Gage Hugo', 'Zuul', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Jagan Mohan Kavva', 'Steven Fitzpatrick']",add security context template prometheusblackboxexporter change adds security context template pod level implement runasuser flag change adds security context template container level implement readonlyfs flag changeid icbea3487c058d88188061d0d5a77458dce910884
https://review.opendev.org/748021,Fix openscap security violation in pam-config rpm,"Fix openscap security violation in pam-config rpm Removed all ""nullok"" occurrences in ""ystem-auth.pamd"" file to fix ""Prevent Login to Accounts With Empty Password"" security violation found using openscap scan. Story: 2008037 Task: 40694 Change-Id: I84fd31dd262dcd3075b14acfcc03b43fb33181f0 Signed-off-by: Carmen Rata <carmen.rata@windriver.com>",31646,Carmen Rata,"[22348, 26026, 28431, 28642, 31646]","['Zuul', 'Greg Waines', 'Don Penney', 'Brent Rowsell', 'Carmen Rata']",fix openscap security violation pamconfig rpm removed nullok occurrences ystemauthpamd file fix prevent login accounts empty password security violation found using openscap scan story 2008037 task 40694 changeid i84fd31dd262dcd3075b14acfcc03b43fb33181f0 signedoffby carmen rata carmenratawindrivercom
https://review.opendev.org/325499,Docs: Add developer guide for security role,Docs: Add developer guide for security role This patch adds detailed instructions for developers who are working on the security role. Change-Id: I0ab79f1e4abdb3deeca9b48da3b9e4f42be37980,538,Major Hayden,"[3, 538, 6816, 10607, 12807, 17068, 18784]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Alexandra Settle', 'Steve Lewis (stevelle)', 'Jean-Philippe Evrard', 'Michael Carden']",docs add developer guide security role patch adds detailed instructions developers working security role changeid i0ab79f1e4abdb3deeca9b48da3b9e4f42be37980
https://review.opendev.org/249662,ICMP type & code validation while adding Security Group rules,"ICMP type & code validation while adding Security Group rules While adding new 'Security Group Rule' viz. 'Custom ICMP rule' when wrong ICMP 'type' or 'code' was given the errors it would show were 'Not a valid port number'; which is misleading. The errors should rather be 'Not a valid ICMP type' or 'Not a valid ICMP code'. Also for validating ICMP 'type' and 'code' there wasn't any dedicated functionality in 'oslo.utils/netutils' so the code for validating 'TCP ports' was used. TCP ports are in range 0 to 65535 while ICMP 'type' and 'code' are in range 0 to 255, so using 'TCP port validation' code is incorrect. Here newer dedicated functionality of 'oslo.utils/netutils' is used for validating ICMP 'type' and ICMP 'code'. Change-Id: I8e227a0021d418294fa7b7756d58e39f2100850a Closes-Bug: #1511748",18930,Suraj Deshmukh,"[3, 841, 4264, 5623, 6763, 7665, 8674, 9622, 10442, 11114, 12281, 12826, 17130, 18930]","['Jenkins', 'Akihiro Motoki', 'Matthias Runge', 'David Lyle', 'Liuqing Jing', 'Travis Tripp', 'Yves-Gwenael Bourhis', 'Cindy Lu', 'Masco Kaliyamoorthy', 'yalei wang', 'Itxaka', 'Rob Cresswell', 'melissaml', 'Suraj Deshmukh']",icmp type code validation adding security group rules adding new security group rule viz custom icmp rule wrong icmp type code given errors would show valid port number misleading errors rather valid icmp type valid icmp code also validating icmp type code wasnt dedicated functionality osloutilsnetutils code validating tcp ports used tcp ports range 0 65535 icmp type code range 0 255 using tcp port validation code incorrect newer dedicated functionality osloutilsnetutils used validating icmp type icmp code changeid i8e227a0021d418294fa7b7756d58e39f2100850a closesbug 1511748
https://review.opendev.org/270931,Removes deleted port from Hyper-V Security Groups Driver cache,"Removes deleted port from Hyper-V Security Groups Driver cache When a port is deleted, it is no longer necessary to keep it in the Hyper-V Security Groups Driver cache. Change-Id: Icd6e4267eab23bef117e6d4ff2e83246d6f2080f Closes-Bug: #1536732",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",removes deleted port hyperv security groups driver cache port deleted longer necessary keep hyperv security groups driver cache changeid icd6e4267eab23bef117e6d4ff2e83246d6f2080f closesbug 1536732
https://review.opendev.org/320309,Not to create security group when security_group ext is disabled,"Not to create security group when security_group ext is disabled When system's security_group ext is disabled(which can be shown by ""neutron ext-list""), we can skip creating neutron security_group without skipping the whole testcase. Change-Id: Icbe9f2c394016aa1cad4d198303b5118d1580bed Closes-Bug: #1585104",20190,zhufl,"[3, 7350, 8556, 9732, 10385]","['Jenkins', 'Jordan Pittier', 'Ghanshyam', 'Mellanox CI', 'Citrix XenServer CI']",create security group securitygroup ext disabled systems securitygroup ext disabledwhich shown neutron extlist skip creating neutron securitygroup without skipping whole testcase changeid icbe9f2c394016aa1cad4d198303b5118d1580bed closesbug 1585104
https://review.opendev.org/322683,health-manager listen port security group,health-manager listen port security group Octavia health manager listen port should be at the same security group as the Octavia members. Change-Id: Ie0988dc95651abe78cbdd5dff1d958ed91af8ea1,13438,Kobi Samoray,"[3, 6951, 11685, 14591, 16923, 17419]","['Jenkins', 'Brandon Logan', 'Stephen Balukoff', 'Lubosz Kosnik (diltram)', 'HP Octavia Sonar CI', 'Banashankar k']",healthmanager listen port security group octavia health manager listen port security group octavia members changeid ie0988dc95651abe78cbdd5dff1d958ed91af8ea1
https://review.opendev.org/317554,Use Magic-Search for Security Groups step in Launch Instance,"Use Magic-Search for Security Groups step in Launch Instance Security Groups was the last table in the stanaard Launch Instance steps that didn't use Magic Search for filtering. This patch establishes the use of Magic Search and also removes the search bar from the table to promote accessibility. The filters are only for Name and Description right now, but this allows additional filters to be added as necessary. Change-Id: I5e6098752d1b1d5c9736c103796b533d656092a6 Closes-Bug: 1434710",14124,Matt Borland,"[3, 7665, 8871, 9622, 14124]","['Jenkins', 'Travis Tripp', 'Elastic Recheck', 'Cindy Lu', 'Matt Borland']",use magicsearch security groups step launch instance security groups last table stanaard launch instance steps didnt use magic search filtering patch establishes use magic search also removes search bar table promote accessibility filters name description right allows additional filters added necessary changeid i5e6098752d1b1d5c9736c103796b533d656092a6 closesbug 1434710
https://review.opendev.org/324079,Allowing non-ASCII characters for Security Group names,"Allowing non-ASCII characters for Security Group names See bug report for details; this removes the ASCII-only restriction for the Security Group name. You can also test that the command-line allows for non-ASCII characters, so we should do the same. Change-Id: I5dc4ca35985b134ac806a1c7d50e045c3f462137 Closes-Bug: 1588039",14124,Matt Borland,"[3, 6610, 12826, 13325, 17172]","['Jenkins', 'Zhenguo Niu', 'Rob Cresswell', 'Paul Karikh', 'Kenji Ishii']",allowing nonascii characters security group names see bug report details removes asciionly restriction security group name also test commandline allows nonascii characters changeid i5dc4ca35985b134ac806a1c7d50e045c3f462137 closesbug 1588039
https://review.opendev.org/323825,Setup OSA security core group,Setup OSA security core group This patch implements a core group for the openstack-ansible-security repository in order to allow a service specific set of core reviewers to be added to it. The openstack-ansible-core team retains its previous voting capabilities. Change-Id: I458ca4e1c85d16f4933647e05206cde864274d1a,6816,Jesse Pretorius,"[3, 538, 4162, 6133]","['Jenkins', 'Major Hayden', 'Paul Belanger', 'yolanda.robla']",setup osa security core group patch implements core group openstackansiblesecurity repository order allow service specific set core reviewers added openstackansiblecore team retains previous voting capabilities changeid i458ca4e1c85d16f4933647e05206cde864274d1a
https://review.opendev.org/324059,Fix update ACLs for rules with remote security groups,Fix update ACLs for rules with remote security groups Creating a security group rule that references a remote security group with no rules will cause the ACL update to fail because _add_sg_rule_acl_for_port() may return None. This impacts both security group rule create and delete. Change-Id: Ic7a9750659ba8d050b6e4d64061153ff177ab33f Partial-Bug: #1578198,8410,Richard Theis,"[3, 105, 4395, 8410]","['Jenkins', 'Kyle Mestery', 'Aaron Rosen', 'Richard Theis']",fix update acls rules remote security groups creating security group rule references remote security group rules cause acl update fail addsgruleaclforport may return none impacts security group rule create delete changeid ic7a9750659ba8d050b6e4d64061153ff177ab33f partialbug 1578198
https://review.opendev.org/314979,Minimise number of auto security groups,Minimise number of auto security groups Change-Id: Iee37425f97d6f7c35a83fe290caf76f5d0dc012e Closes-bug: 1578850,12038,Vitaly Gridnev,"[3, 7125, 7213, 12038, 13953, 19372]","['Jenkins', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Vitaly Gridnev', 'Elise Gafford', 'Michael Ionkin']",minimise number auto security groups changeid iee37425f97d6f7c35a83fe290caf76f5d0dc012e closesbug 1578850
https://review.opendev.org/304377,Xenerver compute driver support neutron security group,Xenerver compute driver support neutron security group Propose a way with XenServer compute driver to support neutron security group when ML2 OVS is used Change-Id: Ie1d671c5a31402d8c71092e37d4b03e1e517d67a Blueprint: support-neutron-security-group,17922,Huan Xie,"[3, 782, 1779, 6735, 17169, 17920, 17922]","['Jenkins', 'John Garbutt', 'Daniel Berrange', 'Bob Ball', 'John Hua', 'Jianghua Wang', 'Huan Xie']",xenerver compute driver support neutron security group propose way xenserver compute driver support neutron security group ml2 ovs used changeid ie1d671c5a31402d8c71092e37d4b03e1e517d67a blueprint supportneutronsecuritygroup
https://review.opendev.org/320566,minor changes to security documentation,"minor changes to security documentation This contains some minor changes to the security documentation: - replace 'ironic' with 'the Bare Metal service' (as per documentation guidelines - fixes a few grammatical issues - removes reference to ""clean_nodes"" configuration option since it has been deleted in Newton - added links - additional references shows reference descriptions instead of the links Change-Id: I11df3bde9eff4b7f109bee6b9d0058e325b67027",6618,Ruby Loo,"[3, 6618, 6773, 10239, 11076, 12459, 14525, 20311]","['Jenkins', 'Ruby Loo', 'Lucas Alvares Gomes', 'Dmitry Tantsur', 'Shivanand Tendulker', 'Stephanie Miller', 'Vasyl Saienko', 'Cisco CI']",minor changes security documentation contains minor changes security documentation replace ironic bare metal service per documentation guidelines fixes grammatical issues removes reference cleannodes configuration option since deleted newton added links additional references shows reference descriptions instead links changeid i11df3bde9eff4b7f109bee6b9d0058e325b67027
https://review.opendev.org/314061,This patch implements port security app,This patch implement port security app Port security application will install or uninstall flows that let only the packets with valid ip and mac pass. Change-Id: Ide4b159f99f8d92bc4aa965e932390275866841b Implements: blueprint mac-spoofing-protection,21007,yuan wei,"[3, 7776, 7805, 11343, 13070, 18668, 18903, 20229, 20405, 21007]","['Jenkins', 'Paul Carver', 'Li Ma', 'Gal Sagie', 'Eran Gampel', 'ding bo', 'Yuli', 'Omer Anson', 'liuhaixia', 'yuan wei']",patch implement port security app port security application install uninstall flows let packets valid ip mac pass changeid ide4b159f99f8d92bc4aa965e932390275866841b implements blueprint macspoofingprotection
https://review.opendev.org/318825,Apply puppet on the master node for security module,Apply puppet on the master node for security module There is need to run puppet apply host manifest when some changes were made in the post_deployment phase in the security module. Change-Id: I88d409f7d4819e2662d51a4cf42719ccbda2a3bd Closes-Bug: #1583593 Signed-off-by: Maksim Malchuk <mmalchuk@mirantis.com>,14200,Maksim Malchuk,"[3, 7195, 10443, 10488, 14200, 16771, 18290, 20384, 20656, 21013]","['Jenkins', 'Matthew Mosesohn', 'Fedor Zhadaev', 'Artur Svechnikov', 'Maksim Malchuk', 'mpolenchuk', 'Kyrylo Galanov', 'Nikita Zubkov', 'Fuel Packaging CI', 'Georgy Kibardin']",apply puppet master node security module need run puppet apply host manifest changes made postdeployment phase security module changeid i88d409f7d4819e2662d51a4cf42719ccbda2a3bd closesbug 1583593 signedoffby maksim malchuk mmalchukmirantiscom
https://review.opendev.org/314965,Update HTML template for security service detailed page,"Update HTML template for security service detailed page Also cover admin part with unit tests and fix ""redirect url"" for case requested security service not found. Change-Id: I166029353984da75b72e26e5b4be30687a9aef78 Partial-Bug: #1578284 Partial-Bug: #1576776",8851,Valeriy Ponomaryov,"[3, 7102, 11047, 11865, 14567]","['Jenkins', 'Thomas Bechtold', 'Mark Sturdevant', 'Clinton Knight', 'Rodrigo Barbieri']",update html template security service detailed page also cover admin part unit tests fix redirect url case requested security service found changeid i166029353984da75b72e26e5b4be30687a9aef78 partialbug 1578284 partialbug 1576776
https://review.opendev.org/318113,Change the SELinux doc to a security doc,Change the SELinux doc to a security doc Kolla should have a doc with an overview of security within the project. Partially implements: blueprint documentation-rework Change-Id: I0a8b902fe1b9adf6617779646bf0bbaee1a36c4f,10419,Ryan Hallisey,"[3, 10419, 10787, 11105, 13039, 16233, 18009]","['Jenkins', 'Ryan Hallisey', 'Michal Jastrzebski (inc0)', 'Swapnil Kulkarni', 'Martin André', 'Mauricio Lima', 'Md Nadeem']",change selinux doc security doc kolla doc overview security within project partially implements blueprint documentationrework changeid i0a8b902fe1b9adf6617779646bf0bbaee1a36c4f
https://review.opendev.org/299330,Minor update to security segregation user story,Minor update to security segregation user story Minor update to security segregation user story to trigger review process. Change-Id: Iacb81c27606ecfa03f29633f89b5de96feb16a94,6772,Stephen Gordon,"[3, 7160, 12651, 16157]","['Jenkins', 'arkady kanevsky', 'Shamail Tahir', 'Ken Johnston']",minor update security segregation user story minor update security segregation user story trigger review process changeid iacb81c27606ecfa03f29633f89b5de96feb16a94
https://review.opendev.org/298227,Shared File Systems service security guide fixes,Shared File Systems service security guide fixes New concepts appearing in Mitaka are added. Also the guide is reworked to improve readability and make it easier to understand in general. Change-Id: I3d7bde2ccb3794e5025ec42695e9df2f5bb8dbbc,6938,Alexey Ovchinnikov,"[3, 6547, 6938, 7063, 10497, 10670, 12325, 14379, 19779, 20156]","['Jenkins', 'Andreas Jaeger', 'Alexey Ovchinnikov', 'Robert Clark', 'KATO Tomoyuki', 'Michael McCune', 'Nathaniel Dillon', 'Ning Sun', 'Chason Chan', 'Petr Kovar']",shared file systems service security guide fixes new concepts appearing mitaka added also guide reworked improve readability make easier understand general changeid i3d7bde2ccb3794e5025ec42695e9df2f5bb8dbbc
https://review.opendev.org/311902,Build Security Threat Analysis,Build Security Threat Analysis Change-Id: I764f492e762901e1ed9889924645acf1f0bca241,10497,KATO Tomoyuki,"[3, 6547, 10705, 12325, 12686, 14643, 16237]","['Jenkins', 'Andreas Jaeger', 'Darren Chan', 'Nathaniel Dillon', 'Brian Moss', 'Olga Gusarenko', 'venkatamahesh']",build security threat analysis changeid i764f492e762901e1ed9889924645acf1f0bca241
https://review.opendev.org/711515,Support for stateless security groups,"Support for stateless security groups Add support for stateful attribute of security groups, using --stateful and --no-stateful flag on security group. This allows a user to create security groups with stateful false. Change-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847 Blueprint: stateless-security-groups Depends-On: https://review.opendev.org/711513/",26106,Tom Stappaerts,"[2, 841, 1131, 8313, 11975, 13995, 22348, 26106]","['Monty Taylor', 'Akihiro Motoki', 'Brian Haley', 'Lajos Katona', 'Slawek Kaplonski', 'Nate Johnston', 'Zuul', 'Tom Stappaerts']",support stateless security groups add support stateful attribute security groups using stateful nostateful flag security group allows user create security groups stateful false changeid ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847 blueprint statelesssecuritygroups dependson httpsreviewopendevorg711513
https://review.opendev.org/283107,Add bandit security config,"Add bandit security config Bandit is an OpenStack security linter that uses python AST modules to perform static code analysis of a project. It can help identify low, medium, and high security ""hotspots"" in a project codebase. This change provides an initial Bandit config based on the existing one used by Sahara. Change-Id: Idcfb5641007bb27de8df262b236b9a46d7e11d5d Closes-Bug: 1547730",14823,Pete MacKinnon,"[3, 5293, 6159, 6413, 9664, 10215, 14576, 17277]","['Jenkins', 'Nikhil', 'Flavio Percoco Premoli', 'Victoria Martinez de la Cruz', 'amrith', 'Peter Stachowski', 'Petr Malik', 'Christopher J Schaefer']",add bandit security config bandit openstack security linter uses python ast modules perform static code analysis project help identify low medium high security hotspots project codebase change provides initial bandit config based existing one used sahara changeid idcfb5641007bb27de8df262b236b9a46d7e11d5d closesbug 1547730
https://review.opendev.org/243303,Fixes IPv6 Security Group rules with 128 prefix length,Fixes IPv6 Security Group rules with 128 prefix length Hyper-V cannot add Extended ACLs which have /128 IPv6 IP addresses in the RemoteIPAddress field. Removes the /128 length from the remote_address field. Change-Id: I9581740b7af58116e40cd094a813170b46de1623 Closes-Bug: #1505578 (cherry picked from commit 00773fc26e7bae9ac9440a530e37bd88b86a3791),8213,Claudiu Belu,"[3, 105, 8213, 9656]","['Jenkins', 'Kyle Mestery', 'Claudiu Belu', 'Ihar Hrachyshka']",fixes ipv6 security group rules 128 prefix length hyperv add extended acls 128 ipv6 ip addresses remoteipaddress field removes 128 length remoteaddress field changeid i9581740b7af58116e40cd094a813170b46de1623 closesbug 1505578 cherry picked commit 00773fc26e7bae9ac9440a530e37bd88b86a3791
https://review.opendev.org/299105,Implement security group fullstack and ut cases,Impliment security group fullstack and ut cases Change-Id: I58e37c20a1e46ef64a4dfcf5950073f8b4893543,21007,yuan wei,"[3, 7776, 7805, 10068, 11343, 11364, 13070, 14605, 18668, 18903, 20229, 20287, 20297, 20405, 21007]","['Jenkins', 'Paul Carver', 'Li Ma', 'Welcome, new contributor!', 'Gal Sagie', 'Fei Rao', 'Eran Gampel', 'vikram.choudhary', 'ding bo', 'Yuli', 'Omer Anson', 'hujie', 'duankebo', 'liuhaixia', 'yuan wei']",impliment security group fullstack ut cases changeid i58e37c20a1e46ef64a4dfcf5950073f8b4893543
https://review.opendev.org/311202,Doc: Notice to disable security hardening role during minor upgrades,Notice to disable security hardening role during upgrades Change-Id: I9d6adbe293543f953b0fd8b94b94cf21e914cc0b Closes-Bug: #1568029,17068,Jean-Philippe Evrard,"[3, 538, 6816, 7353, 10607, 10881, 12325, 12402, 15993, 17068, 18784]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Kevin Carter', 'Alexandra Settle', 'Neill Cox', 'Nathaniel Dillon', 'Robb Romans', 'Amy Marrich', 'Jean-Philippe Evrard', 'Michael Carden']",notice disable security hardening role upgrades changeid i9d6adbe293543f953b0fd8b94b94cf21e914cc0b closesbug 1568029
https://review.opendev.org/311211,Doc: Notice to disable security role during major upgrades,[WIP] Disable security hardening during upgrades This commit disables the security hardening during upgrades by creating a temporary file. It removes the file after a sucessful upgrade. Change-Id: I26f956d670343f66d06aa0266bfa5c7256231e2f Closes-Bug: #1568029,17068,Jean-Philippe Evrard,"[3, 538, 6816, 7063, 10607, 11861, 12325, 12402, 17068, 19814]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Robert Clark', 'Alexandra Settle', 'Travis McPeak', 'Nathaniel Dillon', 'Robb Romans', 'Jean-Philippe Evrard', 'Travis Truman (automagically)']",wip disable security hardening upgrades commit disables security hardening upgrades creating temporary file removes file sucessful upgrade changeid i26f956d670343f66d06aa0266bfa5c7256231e2f closesbug 1568029
https://review.opendev.org/312332,add get single router and security group object method in nb_api,add get single router and security group object method in nb_api Change-Id: I17870215c2cae288ef9fd72a92346d651b1b20be,20287,hujie,"[3, 7805, 11343, 13070]","['Jenkins', 'Li Ma', 'Gal Sagie', 'Eran Gampel']",add get single router security group object method nbapi changeid i17870215c2cae288ef9fd72a92346d651b1b20be
https://review.opendev.org/310156,Let connection to FIP obey security group rules,"Let connection to FIP obey security group rules According current codes in dnat_app.app, connections to FIP skip INGRESS_CONNTRACK_TABLE table and can directly reach at VM port. This patch will fix that bug. Closes-Bug: 1569903 Changes to be committed: modified: dragonflow/controller/dnat_app.py Change-Id: I2d3b9093483747f05ea4ee25f4ab0f4a08b90249",21007,yuan wei,"[3, 7805, 11343, 13070, 18811, 20229]","['Jenkins', 'Li Ma', 'Gal Sagie', 'Eran Gampel', 'Shlomo', 'Omer Anson']",let connection fip obey security group rules according current codes dnatappapp connections fip skip ingressconntracktable table directly reach vm port patch fix bug closesbug 1569903 changes committed modified dragonflowcontrollerdnatapppy changeid i2d3b9093483747f05ea4ee25f4ab0f4a08b90249
https://review.opendev.org/312338,Enable tempest security group tests,"Enable tempest security group tests Security group application is merged, enable tempest tests for security groups Change-Id: Idfa8495bd00d48f6dbe2471c206bbc3d5cf8f2f8",11343,Gal Sagie,"[3, 7805, 11343]","['Jenkins', 'Li Ma', 'Gal Sagie']",enable tempest security group tests security group application merged enable tempest tests security groups changeid idfa8495bd00d48f6dbe2471c206bbc3d5cf8f2f8
https://review.opendev.org/310240,Remove security info from log output if not development mode,"Remove security info from log output if not development mode Use nailgun settings for determine mode, if development mode enabled -> allow log Closes-bug: #1546551 Change-Id: I280ca46547aaa382aa001387ae017025da227aa7",19119,Alexey Stepanov,"[3, 6719, 8882, 8907, 8931, 8971, 9439, 9977, 10136, 13505, 15984, 16819, 19119, 20656]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Dmitry Shulyak', 'Artem Roma', 'Fuel CI', 'Egor Kotko', 'Aleksandra Fedorova', 'Andrey Sledzinskiy', 'Igor Belikov', 'Vladimir Khlyunev', 'Dmitriy Kruglov', 'Alexey Stepanov', 'Fuel Packaging CI']",remove security info log output development mode use nailgun settings determine mode development mode enabled allow log closesbug 1546551 changeid i280ca46547aaa382aa001387ae017025da227aa7
https://review.opendev.org/311215,Disable security role during major upgrades,Disable security role during major upgrades This commit disables the security hardening role during major upgrades by creating a temporary file. It removes the file after a sucessful upgrade. Change-Id: Ib32e0e317a84a443fb7fc9d3a364a16bd469b6e3 Closes-Bug: #1568029,17068,Jean-Philippe Evrard,"[3, 538, 7353, 12325, 19814]","['Jenkins', 'Major Hayden', 'Kevin Carter', 'Nathaniel Dillon', 'Travis Truman (automagically)']",disable security role major upgrades commit disables security hardening role major upgrades creating temporary file removes file sucessful upgrade changeid ib32e0e317a84a443fb7fc9d3a364a16bd469b6e3 closesbug 1568029
https://review.opendev.org/220712,Adding documentation for security threat analysis,Adding documentation for security threat analysis Change-Id: I77353def7997ab60164c97f44eaf6ada06231f52,11397,Doug Chivers,"[3, 6547, 7063, 7473, 9162, 9311, 10497, 10670, 11397, 12325, 12402, 14926]","['Jenkins', 'Andreas Jaeger', 'Robert Clark', 'Grant Murphy', 'Lana Brindley', 'Tristan Cacqueray', 'KATO Tomoyuki', 'Michael McCune', 'Doug Chivers', 'Nathaniel Dillon', 'Robb Romans', 'Jeff Feng']",adding documentation security threat analysis changeid i77353def7997ab60164c97f44eaf6ada06231f52
https://review.opendev.org/308788,Optimize security group fw rules,Optimize security group fw rules Closes-bug: #1572503 Instead of multiple rules build for TCP ALL or UDP ALL rule only one rule will be build for each case. Change-Id: Ibc71d4fdec88c10c117d867bc9f048ac2ffd6950,18903,Yuli,"[3, 7805, 11343, 13070, 18811, 20229, 21007]","['Jenkins', 'Li Ma', 'Gal Sagie', 'Eran Gampel', 'Shlomo', 'Omer Anson', 'yuan wei']",optimize security group fw rules closesbug 1572503 instead multiple rules build tcp udp rule one rule build case changeid ibc71d4fdec88c10c117d867bc9f048ac2ffd6950
https://review.opendev.org/281311,Remove security info from log output if not development mode,"Remove security info from log output Replace certificate (incl. private key) and passwords by ""HIDDEN BY SECURITY RULES"" For readability requirements added: from __future__ import unicode_literals Original dict is not changed (deepcopy is used) Closes-bug: #1546551 Change-Id: I280ca46547aaa382aa001387ae017025da227aa7",19119,Alexey Stepanov,"[3, 6719, 8882, 8907, 8931, 8971, 9439, 9977, 10136, 11081, 13505, 15984, 19119, 20519, 20656]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Dmitry Shulyak', 'Artem Roma', 'Fuel CI', 'Egor Kotko', 'Aleksandra Fedorova', 'Andrey Sledzinskiy', 'Artem Panchenko', 'Igor Belikov', 'Vladimir Khlyunev', 'Alexey Stepanov', 'Volodymyr Shypyguzov', 'Fuel Packaging CI']",remove security info log output replace certificate incl private key passwords hidden security rules readability requirements added future import unicodeliterals original dict changed deepcopy used closesbug 1546551 changeid i280ca46547aaa382aa001387ae017025da227aa7
https://review.opendev.org/310881,"Remove ""buy from lulu"" references from from the Security Guide landing page","Remove ""buy from lulu"" references from from the Security Guide landing page Change-Id: I050edbb307aef4bf0ce7ccba1ce95c3e65c487d6 Closes-bug: #1576369",167,Christian Berendt,"[3, 964, 6547]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger']",remove buy lulu references security guide landing page changeid i050edbb307aef4bf0ce7ccba1ce95c3e65c487d6 closesbug 1576369
https://review.opendev.org/309557,Fixing broken link to Bridging Security Domains,Fixing broken link to Bridging Security Domains Change-Id: I7719293448288c8fc4a719e067f1df78537f9950,19814,Travis Truman (automagically),"[3, 538, 6816, 10497, 12325, 15993]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'KATO Tomoyuki', 'Nathaniel Dillon', 'Amy Marrich']",fixing broken link bridging security domains changeid i7719293448288c8fc4a719e067f1df78537f9950
https://review.opendev.org/309132,Tempest: Skip security group tests because of bug,Tempest: Skip security group test because of bug Some security group related test cases are failing because of a backend platform bug. Add a decorator to skip these tests as they are consistently failing. It will be removed when the bug is fixed. Change-Id: I087dd2bd3da126e29a31f895779be1ae15514dd6,12024,Tong Liu,"[3, 9008, 16499, 20281]","['Jenkins', 'VMware NSX CI', 'Alex Kang', 'Devang Doshi']",tempest skip security group test bug security group related test cases failing backend platform bug add decorator skip tests consistently failing removed bug fixed changeid i087dd2bd3da126e29a31f895779be1ae15514dd6
https://review.opendev.org/309118,Disable port security for mgt ports as well,"Disable port security for mgt ports as well In some deployments (OVS), port security must also be disabled on the management port for communication from astara to the appliance API. Change-Id: I10bae7041aab7b4b143987bf07d800b3e50a6444 Closes-bug: #1573156 (cherry picked from commit 64453dc26d51b5f50e0cc6519ae9fbe4cb0df86c)",1420,Adam Gandelman,"[3, 2592, 8005]","['Jenkins', 'Mark McClain', 'Ryan Petrello']",disable port security mgt ports well deployments ovs port security must also disabled management port communication astara appliance api changeid i10bae7041aab7b4b143987bf07d800b3e50a6444 closesbug 1573156 cherry picked commit 64453dc26d51b5f50e0cc6519ae9fbe4cb0df86c
https://review.opendev.org/309116,Disable port security for mgt ports as well,"Disable port security for mgt ports as well In some deployments (OVS), port security must also be disabled on the management port for communication from astara to the appliance API. Change-Id: I10bae7041aab7b4b143987bf07d800b3e50a6444 Closes-bug: #1573156",1420,Adam Gandelman,"[3, 2592, 8005]","['Jenkins', 'Mark McClain', 'Ryan Petrello']",disable port security mgt ports well deployments ovs port security must also disabled management port communication astara appliance api changeid i10bae7041aab7b4b143987bf07d800b3e50a6444 closesbug 1573156
https://review.opendev.org/286812,IPv4 and IPv6 Security Groups Scenario Tests,"IPv4 and IPv6 Security Groups Scenario Tests - IPv4 Security Rules egress tests for publicnet, servicenet and isolatednet - IPv6 Security Rules egress tests for publicnet and isolatednet - Covering ICMP, TCP and UDP protocols Change-Id: If79dbce8cc5dd9e444f55e6d22759dc87d428329",8357,Leonardo Maycotte,"[3, 97, 1980, 7207, 8357, 8969, 11710]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Carlos Martinez', 'Leonardo Maycotte', 'Christopher Hunt', 'Anna Eilering']",ipv4 ipv6 security groups scenario tests ipv4 security rules egress tests publicnet servicenet isolatednet ipv6 security rules egress tests publicnet isolatednet covering icmp tcp udp protocols changeid if79dbce8cc5dd9e444f55e6d22759dc87d428329
https://review.opendev.org/307899,fix samples references in security group files,"fix samples references in security group files This fixes the samples references in the security group files, commenting out 2 that don't exist at all. This drops the warnings to 145 against current master. Part of bp:api-ref-in-rst Change-Id: I0cb9932dc54cdffcbd9eda274a06d708e87409d8",2750,Sean Dague,"[3, 7, 6873, 9578, 10385, 14384, 15286, 15751, 16376, 16898]","['Jenkins', 'Jay Pipes', 'Matt Riedemann', 'DB Datasets CI', 'Citrix XenServer CI', 'Quobyte CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI', 'Virtuozzo CI']",fix samples references security group files fixes samples references security group files commenting 2 dont exist drops warnings 145 current master part bpapirefinrst changeid i0cb9932dc54cdffcbd9eda274a06d708e87409d8
https://review.opendev.org/304297,Add options to security group rule list,Add options to security group rule list Add the following options to the 'os security group rule list' command: --long: Display direction and ethertype for Network v2 --all-projects: Display information from all projects for Compute v2 Change-Id: If8a1cbd7669cdfa6577d6d2f6fffd9e999a39a82 Partial-Bug: #1519512 Implements: blueprint neutron-client,8410,Richard Theis,"[3, 970, 6482, 8276, 8410, 17776, 18777]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'kiwik', 'Richard Theis', 'Reedip', 'Jinxing Fang']",add options security group rule list add following options os security group rule list command long display direction ethertype network v2 allprojects display information projects compute v2 changeid if8a1cbd7669cdfa6577d6d2f6fffd9e999a39a82 partialbug 1519512 implements blueprint neutronclient
https://review.opendev.org/307136,"Revert ""Create usefull security groups by default""","Revert ""Create usefull security groups by default"" This reverts commit 57fdc976531398be55c5c7e36872c8e5840fee64. Closes-Bug: #1570862 Change-Id: I7c734f2797a0614c1e10b792a681c99e18408515",13752,Alexey Deryugin,"[3, 7195, 7468, 7604, 7732, 7745, 8971, 9037, 11827, 13752, 14985, 16771, 20656]","['Jenkins', 'Matthew Mosesohn', 'Sergey Vasilenko', 'Sergey Kolekonov', 'Ivan Berezovskiy', 'Denis Egorenko', 'Fuel CI', 'Dmitry Ilyin', 'Stanislaw Bogatkin', 'Alexey Deryugin', 'Alex Schultz', 'mpolenchuk', 'Fuel Packaging CI']",revert create usefull security groups default reverts commit 57fdc976531398be55c5c7e36872c8e5840fee64 closesbug 1570862 changeid i7c734f2797a0614c1e10b792a681c99e18408515
https://review.opendev.org/295867,Create usefull security groups by default,"Create usefull security groups by default We need to create some default security groups, that will allow to use OpenStack cloud immediately after the deployment. By default it will create the following security groups: 1. global_http - security group which opens HTTP/HTTPS for external traffic. 2. global_ssh - security group which opens SSH port for external traffic. 3. allow_all - security group which allows all traffic for any TCP/UDP ports from external network. Change-Id: I23ea837cbe92b5091f07de291f0e9f5f40e6fd44 Closes-Bug: #1349819",13752,Alexey Deryugin,"[3, 6926, 7195, 7468, 7604, 7732, 7745, 8786, 8971, 9037, 9387, 9977, 10489, 11090, 11827, 13505, 13752, 14316, 14985, 16771, 17730, 18290, 20656]","['Jenkins', 'Bogdan Dobrelya', 'Matthew Mosesohn', 'Sergey Vasilenko', 'Sergey Kolekonov', 'Ivan Berezovskiy', 'Denis Egorenko', 'Vladimir Kuklin', 'Fuel CI', 'Dmitry Ilyin', 'Aleksandr Didenko', 'Aleksandra Fedorova', 'Bartosz Kupidura', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Igor Belikov', 'Alexey Deryugin', 'Peter Zhurba', 'Alex Schultz', 'mpolenchuk', 'Maciej Relewicz', 'Kyrylo Galanov', 'Fuel Packaging CI']",create usefull security groups default need create default security groups allow use openstack cloud immediately deployment default create following security groups 1 globalhttp security group opens httphttps external traffic 2 globalssh security group opens ssh port external traffic 3 allowall security group allows traffic tcpudp ports external network changeid i23ea837cbe92b5091f07de291f0e9f5f40e6fd44 closesbug 1349819
https://review.opendev.org/304796,Pass correct security groups driver for ML2 plugin,Pass correct security groups driver for ML2 plugin In order to use security groups firewall_driver value should be set to a correct value for Neutron ML2 plugin Change-Id: If3f2f07f75c24658bef23f2de072fafa3fe71d5a Closes-bug: #1563876 (cherry picked from commit d3affe1c56e04fdda28d17eda5d5e1942ede9630),7604,Sergey Kolekonov,"[3, 6926, 7745, 8971, 9387, 10489, 14985, 17730, 18290, 20656]","['Jenkins', 'Bogdan Dobrelya', 'Denis Egorenko', 'Fuel CI', 'Aleksandr Didenko', 'Bartosz Kupidura', 'Alex Schultz', 'Maciej Relewicz', 'Kyrylo Galanov', 'Fuel Packaging CI']",pass correct security groups driver ml2 plugin order use security groups firewalldriver value set correct value neutron ml2 plugin changeid if3f2f07f75c24658bef23f2de072fafa3fe71d5a closesbug 1563876 cherry picked commit d3affe1c56e04fdda28d17eda5d5e1942ede9630
https://review.opendev.org/280538,This patch implements security group app,"Implement security group app initialization As the first step to implement sg app, we need to change the current pipeline. For both egress and ingress direction, we need to add three flow tables: pre_ct table to make the ip packet tracked, ct table to determine the packet's ct_state and sg table to enforce sg rules into the new connection of packets. For these tables, some flows should be installed at initialization phase and also change the L2 app to fit into this change. Change-Id: Ia1f311ec68085f911fcbf50121a3dbe988826316 Implements: blueprint security-group-dragonflow-driver",18668,ding bo,"[3, 7805, 11343, 11364, 13070, 18668, 18740, 18903, 20229, 20298, 20336, 20405, 21007]","['Jenkins', 'Li Ma', 'Gal Sagie', 'Fei Rao', 'Eran Gampel', 'ding bo', 'Billy Xu', 'Yuli', 'Omer Anson', 'feipeng', 'heshan', 'liuhaixia', 'yuan wei']",implement security group app initialization first step implement sg app need change current pipeline egress ingress direction need add three flow tables prect table make ip packet tracked ct table determine packets ctstate sg table enforce sg rules new connection packets tables flows installed initialization phase also change l2 app fit change changeid ia1f311ec68085f911fcbf50121a3dbe988826316 implements blueprint securitygroupdragonflowdriver
https://review.opendev.org/306231,Fix random failure of security group unit test,Fix random failure of security group unit test CLITestV20SecurityGroupsJSON.test_extend_list_exceed_max_uri_len fails randomly because this test uses query parameters and the order of query parameters in a construct URL is not deterministic. As a result the test failed randomly. The test should use MyUrlComparator to compare URLs. MyUrlComparator ignores the order parameters when comparing URLs. Change-Id: I8a8116f45583102fa1351d17a1cc5174bdce3cc9 Closes-Bug: #1570689,841,Akihiro Motoki,"[3, 6951, 7787, 9656, 14605, 17776]","['Jenkins', 'Brandon Logan', 'Kevin Benton', 'Ihar Hrachyshka', 'vikram.choudhary', 'Reedip']",fix random failure security group unit test clitestv20securitygroupsjsontestextendlistexceedmaxurilen fails randomly test uses query parameters order query parameters construct url deterministic result test failed randomly test use myurlcomparator compare urls myurlcomparator ignores order parameters comparing urls changeid i8a8116f45583102fa1351d17a1cc5174bdce3cc9 closesbug 1570689
https://review.opendev.org/301744,Add project options to security group rule create,Add project options to security group rule create Add the --project and --project-domain options to the 'os security group rule create' command. These options are for Network v2 only. Change-Id: Ie3e136be076f0f2c22fbe7048d1d6eaebf5aa655 Partial-Bug: #1519512 Implements: blueprint neutron-client,8410,Richard Theis,"[3, 970, 8410, 14937, 17776, 18777]","['Jenkins', 'Dean Troyer', 'Richard Theis', 'Tang Chen', 'Reedip', 'Jinxing Fang']",add project options security group rule create add project projectdomain options os security group rule create command options network v2 changeid ie3e136be076f0f2c22fbe7048d1d6eaebf5aa655 partialbug 1519512 implements blueprint neutronclient
https://review.opendev.org/300593,Add network options to security group rule create,"Add options to security group rule create Add the following options to the ""os security group rule"" command: (1) --direction (Network v2 only) (2) --ethertype (Network v2 only) (3) --no-src These options enable egress and IPv6 security group rules for Network v2. They also allow no source IP or group to be specified. Change-Id: Ie30b5e95f94e0c087b0ce81e518de72d2dda25ad Partial-Bug: #1519512",8410,Richard Theis,"[3, 970, 8410, 14937, 17776]","['Jenkins', 'Dean Troyer', 'Richard Theis', 'Tang Chen', 'Reedip']",add options security group rule create add following options os security group rule command 1 direction network v2 2 ethertype network v2 3 nosrc options enable egress ipv6 security group rules network v2 also allow source ip group specified changeid ie30b5e95f94e0c087b0ce81e518de72d2dda25ad partialbug 1519512
https://review.opendev.org/302385,Optionally apply security hardening in Liberty,"Optionally apply security hardening in Liberty This patch brings the openstack-ansible-security role into the Liberty release as an opt in feature. Deployers will need to adjust apply_security_hardening to true for the standards to be applied. Security hardening is automatically enabled in Liberty gate jobs, as it has been in Mitaka since January 2016. Change-Id: Ia76d7634b4d14d1cbc0c71e800508afb992e9f7c",538,Major Hayden,"[3, 538, 6816, 7353, 10881, 12402, 14805, 15993, 17068, 17799, 19814, 20810, 21211]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Kevin Carter', 'Neill Cox', 'Robb Romans', 'Jimmy McCrory', 'Amy Marrich', 'Jean-Philippe Evrard', 'Logan V', 'Travis Truman (automagically)', 'Kshitiz Arora', 'Anil Vashistha']",optionally apply security hardening liberty patch brings openstackansiblesecurity role liberty release opt feature deployers need adjust applysecurityhardening true standards applied security hardening automatically enabled liberty gate jobs mitaka since january 2016 changeid ia76d7634b4d14d1cbc0c71e800508afb992e9f7c
https://review.opendev.org/301908,nsx_v3: Allow security group rule id to be specified,nsx_v3: Allow security group rule id to be specified This is will be leverages in api-replay-mode for migrating neutron deployments to nsx-v3. This patch allows us to preserve the same security-group-rule-id. Change-Id: I0f5b48c2fc63c1bf8308f25d2fc7b0876eaeaf7f,4395,Aaron Rosen,"[3, 1653, 4395, 9008, 9423]","['Jenkins', 'garyk', 'Aaron Rosen', 'VMware NSX CI', 'Roey Chen']",nsxv3 allow security group rule id specified leverages apireplaymode migrating neutron deployments nsxv3 patch allows us preserve securitygroupruleid changeid i0f5b48c2fc63c1bf8308f25d2fc7b0876eaeaf7f
https://review.opendev.org/304497,[Admin Utils] Added missing return to get security group,[Admin Utils] Added missing return to get security group Change-Id: I3c0cf9d44ae3ee8e673a449a46beee8bedd480fc Closes-bug: #1640599,8072,Saurabh Chordiya,"[3, 1653, 4395, 7018, 9008]","['Jenkins', 'garyk', 'Aaron Rosen', 'Abhishek Raut', 'VMware NSX CI']",admin utils added missing return get security group changeid i3c0cf9d44ae3ee8e673a449a46beee8bedd480fc closesbug 1640599
https://review.opendev.org/302699,Pass correct security groups driver for ML2 plugin,Pass correct security groups driver for ML2 plugin In order to use security groups firewall_driver value should be set to a correct value for Neutron ML2 plugin Change-Id: If3f2f07f75c24658bef23f2de072fafa3fe71d5a Closes-bug: #1563876,7604,Sergey Kolekonov,"[3, 7468, 7732, 7745, 8971, 9037, 11090, 11708, 11827, 14985, 16771, 18290, 20656]","['Jenkins', 'Sergey Vasilenko', 'Ivan Berezovskiy', 'Denis Egorenko', 'Fuel CI', 'Dmitry Ilyin', 'Sergii Golovatiuk', 'Atsuko Ito', 'Stanislaw Bogatkin', 'Alex Schultz', 'mpolenchuk', 'Kyrylo Galanov', 'Fuel Packaging CI']",pass correct security groups driver ml2 plugin order use security groups firewalldriver value set correct value neutron ml2 plugin changeid if3f2f07f75c24658bef23f2de072fafa3fe71d5a closesbug 1563876
https://review.opendev.org/745686,Add security context template for keystone-webhook container,Add security context template for keystone-webhook container This implements security context override at pod level and adds readOnly-fs to keystone-webhook container Change-Id: Ia67947b7323e41363a5ee379c0dfb001936b5107,29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 18511, 20466, 21420, 22348, 22477, 23928, 29131, 29161, 30777, 32029]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Brian Wickersham', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'diwakar thyagaraj', 'Rahul Khiyani', 'Steven Fitzpatrick', 'likui']",add security context template keystonewebhook container implements security context override pod level adds readonlyfs keystonewebhook container changeid ia67947b7323e41363a5ee379c0dfb001936b5107
https://review.opendev.org/743831,Add missing security context template to mariadb-backup pod,Add missing security context template to mariadb-backup pod Change-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe,29161,Rahul Khiyani,"[8863, 8898, 18236, 18511, 22348, 22636, 29161, 30746]","['Andrii Ostapenko', 'Chris Wedgwood', 'Sophie Huang', 'Brian Wickersham', 'Zuul', 'Cliff Parsons', 'Rahul Khiyani', 'Travis Neely']",add missing security context template mariadbbackup pod changeid i2931eb1408d1d8145b476a76ff8cfac36e9f2bfe
https://review.opendev.org/745191,override security context capabilities to values.yaml,override security context capabilities to values.yaml Change-Id: I1120a4f5325172a8ece7d2ce8bb24706e28b319f,29161,Rahul Khiyani,"[7769, 8749, 22259, 22348, 22477, 23186, 23928, 24816, 26628, 26686, 27715, 28208, 28235, 28618, 28628, 28664, 28719, 28778, 29131, 29144, 29624, 30172]","['Pentheus', 'Evgeniy L', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Michael Beaver', 'Ahmad Mahmoudi', 'Phil Sphicas', 'Dan Crank', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Alexander Hughes', 'Ian H Pittwood']",override security context capabilities valuesyaml changeid i1120a4f5325172a8ece7d2ce8bb24706e28b319f
https://review.opendev.org/302833,Explicitly enable security groups for ML2 plugin,"Explicitly enable security groups for ML2 plugin If Neutron is installed from Ubuntu/Debian packages, neutron-server and openvswitch agent use separate files to load configuration related to ML2 plugin. So in order to use security groups firewall_driver value should be passed to both configuration files (ml2_conf.ini and openvswitch_agent.ini). Also explicitly enable security groups to fix tests for related patch to puppet-neutron Change-Id: Ia298e002f71e8de0358c90277c24ca5a3c417b3c Related-bug: #1563876 (cherry picked from commit e522e6a98ca22dd22d5bd8740605389fd87dbfee)",7604,Sergey Kolekonov,"[3, 7604, 7745, 8971, 9387, 11090, 11708, 11827, 18290, 20656, 20993, 20996]","['Jenkins', 'Sergey Kolekonov', 'Denis Egorenko', 'Fuel CI', 'Aleksandr Didenko', 'Sergii Golovatiuk', 'Atsuko Ito', 'Stanislaw Bogatkin', 'Kyrylo Galanov', 'Fuel Packaging CI', 'Cody Eilrich', 'Avinash Raghavendra']",explicitly enable security groups ml2 plugin neutron installed ubuntudebian packages neutronserver openvswitch agent use separate files load configuration related ml2 plugin order use security groups firewalldriver value passed configuration files ml2confini openvswitchagentini also explicitly enable security groups fix tests related patch puppetneutron changeid ia298e002f71e8de0358c90277c24ca5a3c417b3c relatedbug 1563876 cherry picked commit e522e6a98ca22dd22d5bd8740605389fd87dbfee
https://review.opendev.org/296516,Refactor security group rule list to use SDK,"Refactor security group rule list to use SDK Refactored the 'os security group rule list' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. In addition, a release note was added to document the features and fixes resulting from this refactor. Change-Id: I24d04b720102ed1c60776e1ca67d4ca20e31b663 Partial-Bug: #1519512 Implements: blueprint neutron-client",8410,Richard Theis,"[3, 970, 8410, 14937, 17776]","['Jenkins', 'Dean Troyer', 'Richard Theis', 'Tang Chen', 'Reedip']",refactor security group rule list use sdk refactored os security group rule list command use sdk neutron enabled continue use nova client nova network enabled addition release note added document features fixes resulting refactor changeid i24d04b720102ed1c60776e1ca67d4ca20e31b663 partialbug 1519512 implements blueprint neutronclient
https://review.opendev.org/301034,Include security role in setup-hosts.yml,Include security role in setup-hosts.yml The openstack-ansible-security role is now included in the setup-hosts.yml playbook but it still requires a deployer to set apply_security_hardening to True for it to be applied. Change-Id: I02324b15a4ddffa52b15a23bd381892d4dfd39fc (cherry picked from commit 00207d3988853c3e1eb32297154276199d740522),6816,Jesse Pretorius,"[3, 7353, 10881, 12402, 14805, 15993, 20683, 20996]","['Jenkins', 'Kevin Carter', 'Neill Cox', 'Robb Romans', 'Jimmy McCrory', 'Amy Marrich', 'Venkata Mahesh Chinta', 'Avinash Raghavendra']",include security role setuphostsyml openstackansiblesecurity role included setuphostsyml playbook still requires deployer set applysecurityhardening true applied changeid i02324b15a4ddffa52b15a23bd381892d4dfd39fc cherry picked commit 00207d3988853c3e1eb32297154276199d740522
https://review.opendev.org/296402,"Restrict deletion of ""default"" security group","Restrict deletion of ""default"" security group This patch restricts deletion of ""default"" security group in a tenant using admin client only and not non-admin user client. Change-Id: I0eaa57cc00c5bccc2657d094357ea0bb65524984 Closes-Bug: #1557662",20196,Piyush,"[3, 6172, 8491, 9545, 14817, 20196]","['Jenkins', 'Boris Pavlovic', 'Illia Khudoshyn', 'Andrey Kurilin', 'Mirantis Rally CI', 'Piyush']",restrict deletion default security group patch restricts deletion default security group tenant using admin client nonadmin user client changeid i0eaa57cc00c5bccc2657d094357ea0bb65524984 closesbug 1557662
https://review.opendev.org/301534,Autorequire nova security group,Autorequire nova security group Autorequire nova security group for related nova security rule. Change-Id: I89aa036c8a24d919c15ceb909f0c567dad3c6032 (cherry picked from commit 9aa5ee10241dd66585be685427c178c2f05e051a),16771,mpolenchuk,"[3, 3153, 7732, 14007, 14200, 14985]","['Jenkins', 'Emilien Macchi', 'Ivan Berezovskiy', 'Maksym Yatsenko', 'Maksim Malchuk', 'Alex Schultz']",autorequire nova security group autorequire nova security group related nova security rule changeid i89aa036c8a24d919c15ceb909f0c567dad3c6032 cherry picked commit 9aa5ee10241dd66585be685427c178c2f05e051a
https://review.opendev.org/301547,Explicitly enable security groups for ML2 plugin,"Explicitly enable security groups for ML2 plugin If Neutron is installed from Ubuntu/Debian packages, neutron-server and openvswitch agent use separate files to load configuration related to ML2 plugin. So in order to use security groups firewall_driver value should be passed to both configuration files (ml2_conf.ini and openvswitch_agent.ini). Also explicitly enable security groups to fix tests for related patch to puppet-neutron Change-Id: Ia298e002f71e8de0358c90277c24ca5a3c417b3c Related-bug: #1563876",7604,Sergey Kolekonov,"[3, 6926, 7468, 7732, 7745, 8786, 8971, 9037, 11827, 16771, 17730, 20656]","['Jenkins', 'Bogdan Dobrelya', 'Sergey Vasilenko', 'Ivan Berezovskiy', 'Denis Egorenko', 'Vladimir Kuklin', 'Fuel CI', 'Dmitry Ilyin', 'Stanislaw Bogatkin', 'mpolenchuk', 'Maciej Relewicz', 'Fuel Packaging CI']",explicitly enable security groups ml2 plugin neutron installed ubuntudebian packages neutronserver openvswitch agent use separate files load configuration related ml2 plugin order use security groups firewalldriver value passed configuration files ml2confini openvswitchagentini also explicitly enable security groups fix tests related patch puppetneutron changeid ia298e002f71e8de0358c90277c24ca5a3c417b3c relatedbug 1563876
https://review.opendev.org/301152,Apply host security hardening by default,Apply host security hardening by default Security hardening has been applied to all gate jobs since January 2016 in the Mitaka release. This patch enables security hardening for all deployments in Newton by changing the apply_security_hardening variable to true by default. Change-Id: Ia30a54f9e94c7341a306a7ed7561cdbc3e234db2 Depends-On: I18ccbd8e1cd7c311521d0ffdfcf6f46dbc4e395d,538,Major Hayden,"[3, 538, 6816, 7307, 7353, 10881, 12402, 12807]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Matt Thompson', 'Kevin Carter', 'Neill Cox', 'Robb Romans', 'Steve Lewis (stevelle)']",apply host security hardening default security hardening applied gate jobs since january 2016 mitaka release patch enables security hardening deployments newton changing applysecurityhardening variable true default changeid ia30a54f9e94c7341a306a7ed7561cdbc3e234db2 dependson i18ccbd8e1cd7c311521d0ffdfcf6f46dbc4e395d
https://review.opendev.org/300855,NSX: do not block init with security group logging configuration,NSX: do not block init with security group logging configuration Ensure that service is not blocked when updating the security group logging configuration Change-Id: I76eeeb351a9a7dfb8ded5aa47ae4f29d91fa3939,1653,garyk,"[3, 4395, 9008, 9423]","['Jenkins', 'Aaron Rosen', 'VMware NSX CI', 'Roey Chen']",nsx block init security group logging configuration ensure service blocked updating security group logging configuration changeid i76eeeb351a9a7dfb8ded5aa47ae4f29d91fa3939
https://review.opendev.org/296548,Autorequire nova security group,Autorequire nova security group Change-Id: I89aa036c8a24d919c15ceb909f0c567dad3c6032,16771,mpolenchuk,"[3, 3153, 7604, 8482, 8971, 9448, 14007, 16771]","['Jenkins', 'Emilien Macchi', 'Sergey Kolekonov', 'Colleen Murphy', 'Fuel CI', 'Ivan Ponomarev', 'Maksym Yatsenko', 'mpolenchuk']",autorequire nova security group changeid i89aa036c8a24d919c15ceb909f0c567dad3c6032
https://review.opendev.org/290526,Include security role in setup-hosts.yml,Include security role in setup-hosts.yml The openstack-ansible-security role is now included in the setup-hosts.yml playbook but it still requires a deployer to set apply_security_hardening to True for it to be applied. Change-Id: I02324b15a4ddffa52b15a23bd381892d4dfd39fc,538,Major Hayden,"[3, 538, 6816, 7353, 12402, 14805, 15993, 19814]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Kevin Carter', 'Robb Romans', 'Jimmy McCrory', 'Amy Marrich', 'Travis Truman (automagically)']",include security role setuphostsyml openstackansiblesecurity role included setuphostsyml playbook still requires deployer set applysecurityhardening true applied changeid i02324b15a4ddffa52b15a23bd381892d4dfd39fc
https://review.opendev.org/299240,"Modifing and adding parameters in ""Create security group rule""","Modifing and adding parameters in ""Create security group rule"" This patch modified type of parameters: security_group_rule, group and tenant_id. After modify, Type of parameters (security_group_rule, group and tenant_id) are ""xsd:dict"", ""xsd:dict"" and ""URI"" sequently And added a ""parent_group_id"" parameter, which was been missed. Change-Id: I0d8734230b51f965edbc8f6ee551b060b848e87b Closes-Bug: #1563691",19554,Nam,"[3, 612, 15905, 17207]","['Jenkins', 'Tom Fifield', 'Cao Xuan Hoang', 'Atsushi SAKAI']",modifing adding parameters create security group rule patch modified type parameters securitygrouprule group tenantid modify type parameters securitygrouprule group tenantid xsddict xsddict uri sequently added parentgroupid parameter missed changeid i0d8734230b51f965edbc8f6ee551b060b848e87b closesbug 1563691
https://review.opendev.org/295582,libvirt: Comment non-obvious security implications of migrate code,"libvirt: Comment non-obvious security implications of migrate code There are 2 lines in finish_migration which look like a bug. The original reason for adding them no longer exists, but removing them now would open a severe security bug due to a series of non-obvious interactions. This patch simply adds a comment to ensure this is taken into consideration when changing this code in future. Change-Id: Icfe4b5deadfe7dbb0f34ea9af1f95b62cfca8a0a (cherry picked from commit 61b34ed9a4030e44f6ae26e9326888d47aeb53df)",6873,Matt Riedemann,"[3, 1653, 5170, 6873, 6962, 8213, 8871, 9555, 16376]","['Jenkins', 'garyk', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'Kashyap Chamarthy', 'Claudiu Belu', 'Elastic Recheck', 'Matthew Booth', 'Intel NFV CI']",libvirt comment nonobvious security implications migrate code 2 lines finishmigration look like bug original reason adding longer exists removing would open severe security bug due series nonobvious interactions patch simply adds comment ensure taken consideration changing code future changeid icfe4b5deadfe7dbb0f34ea9af1f95b62cfca8a0a cherry picked commit 61b34ed9a4030e44f6ae26e9326888d47aeb53df
https://review.opendev.org/299392,LBaaS: Add security group + quota docs,LBaaS: Add security group + quota docs The LBaaS documentation overhaul[1] left out any mention of security groups as well as LBaaS-related quotas. This patch adds documentation for both of those steps to avoid confusion. [1] https://review.openstack.org/#/c/278128/ Closes-Bug: 1562116 Change-Id: Iad12b1ca345603d2d04f8473360bcf78efadf0aa (cherry picked from commit e229634986460377a033b7f5b7961c83788052d3),538,Major Hayden,"[3, 6547, 6589, 10607]","['Jenkins', 'Andreas Jaeger', 'Jesse Keating', 'Alexandra Settle']",lbaas add security group quota docs lbaas documentation overhaul1 left mention security groups well lbaasrelated quotas patch adds documentation steps avoid confusion 1 httpsreviewopenstackorgc278128 closesbug 1562116 changeid iad12b1ca345603d2d04f8473360bcf78efadf0aa cherry picked commit e229634986460377a033b7f5b7961c83788052d3
https://review.opendev.org/299544,[sec-guide]Update security guide for next release,[sec-guide]Update security guide for next release Change-Id: Idc3296a340b4f03db8b5aede7131ded9989fed98 Closes-Bug: #1563982,19779,Chason Chan,"[3, 6547, 10670, 12325, 20380]","['Jenkins', 'Andreas Jaeger', 'Michael McCune', 'Nathaniel Dillon', 'Jeffrey Augustine']",secguideupdate security guide next release changeid idc3296a340b4f03db8b5aede7131ded9989fed98 closesbug 1563982
https://review.opendev.org/298408,LBaaS: Add security group + quota docs,LBaaS: Add security group + quota docs The LBaaS documentation overhaul[1] left out any mention of security groups as well as LBaaS-related quotas. This patch adds documentation for both of those steps to avoid confusion. [1] https://review.openstack.org/#/c/278128/ Closes-Bug: 1562116 Change-Id: Iad12b1ca345603d2d04f8473360bcf78efadf0aa,538,Major Hayden,"[3, 538, 612, 2556, 6589, 9162, 10607, 12402, 14643, 19779, 20995]","['Jenkins', 'Major Hayden', 'Tom Fifield', 'Evan Callicoat', 'Jesse Keating', 'Lana Brindley', 'Alexandra Settle', 'Robb Romans', 'Olga Gusarenko', 'Chason Chan', 'yashvant']",lbaas add security group quota docs lbaas documentation overhaul1 left mention security groups well lbaasrelated quotas patch adds documentation steps avoid confusion 1 httpsreviewopenstackorgc278128 closesbug 1562116 changeid iad12b1ca345603d2d04f8473360bcf78efadf0aa
https://review.opendev.org/298358,add test case to check security profile,add test case to check security profile add test case to allow by deleting router from fw add test case to block and allow subnet Change-Id: I036a4d71eeab2485311d9ef3adf5b52785cd62a2,6671,Jerry Zhao,"[3, 6671]","['Jenkins', 'Jerry Zhao']",add test case check security profile add test case allow deleting router fw add test case block allow subnet changeid i036a4d71eeab2485311d9ef3adf5b52785cd62a2
https://review.opendev.org/294216,Support security group name for --src-group,"Support security group name for --src-group Support security group name for the ""--src-group"" option on the ""os security group rule create"" command. Change-Id: Ic23d0671dad77566269c9a588644c8d774368733 Closes-Bug: #1540656",8410,Richard Theis,"[3, 970, 6482, 8410, 17776]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Richard Theis', 'Reedip']",support security group name srcgroup support security group name srcgroup option os security group rule create command changeid ic23d0671dad77566269c9a588644c8d774368733 closesbug 1540656
https://review.opendev.org/791004,Removed files by security scan,Removed files by security scan Change-Id: I242c3562ee188f19793c2383e191525ac68eed66 Signed-off-by: smarcet <smarcet@gmail.com>,9139,sebastian marcet,"[9139, 22348]","['sebastian marcet', 'Zuul']",removed files security scan changeid i242c3562ee188f19793c2383e191525ac68eed66 signedoffby smarcet smarcetgmailcom
https://review.opendev.org/790734,Updated Security Guide,"Updated Security Guide Added last Note, Step 5, and Step 6 to the file ""configure-oidc-auth-applications"" in the Security Guide Patch 1: Acted on comments by Adil Patch 2: Acted on comments by Greg and Jerry Signed-off-by: egoncalv <elisamaraaoki.goncalves@windriver.com> Change-Id: Iae92595a0da5cf7de3d95dd70448d306f9473aec (cherry picked from commit cd607d6d64ed01f38abded57c55f728b34a898dd)",33342,Elisamara Aoki Gonçalves,"[22348, 26026, 30539, 30859]","['Zuul', 'Greg Waines', 'Ron Stone', 'M Camp']",updated security guide added last note step 5 step 6 file configureoidcauthapplications security guide patch 1 acted comments adil patch 2 acted comments greg jerry signedoffby egoncalv elisamaraaokigoncalveswindrivercom changeid iae92595a0da5cf7de3d95dd70448d306f9473aec cherry picked commit cd607d6d64ed01f38abded57c55f728b34a898dd
https://review.opendev.org/790498,[API Replay] Stop processing when security group creation fails,"[API Replay] Stop processing when security group creation fails In this case, there is no point in processing rules. Processing will also fail due to an unreferenced variable. Change-Id: I1344eca7ef1667be5a66b8d63818ba5e8f43ac20",261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",api replay stop processing security group creation fails case point processing rules processing also fail due unreferenced variable changeid i1344eca7ef1667be5a66b8d63818ba5e8f43ac20
https://review.opendev.org/788994,Updated Security Guide,"Updated Security Guide Added last Note, Step 5, and Step 6 to the file ""configure-oidc-auth-applications"" in the Security Guide Signed-off-by: egoncalv <elisamaraaoki.goncalves@windriver.com> Change-Id: Iae92595a0da5cf7de3d95dd70448d306f9473aec",33342,Elisamara Aoki Gonçalves,"[21776, 22348, 26026, 30539, 30859, 32187, 33239]","['Jerry Sun', 'Zuul', 'Greg Waines', 'Ron Stone', 'M Camp', 'Juanita-Balaraj', 'Mohamed Adil Assakkali']",updated security guide added last note step 5 step 6 file configureoidcauthapplications security guide signedoffby egoncalv elisamaraaokigoncalveswindrivercom changeid iae92595a0da5cf7de3d95dd70448d306f9473aec
https://review.opendev.org/787838,Don't send empty remote_address_group_id for security groups,"Don't send empty remote_address_group_id for security groups We are seeing an error raised by older Neutron's 400: Client Error for url: <cloud>/v2.0/security-group-rules, Unrecognized attribute(s) 'remote_address_group_id' This field was added unconditionally with I50374c339ab7685a6e74f25f9521b8810c532e13 but, per above, appears to cause problems for older Neutron instances. To work around this, remove the argument from the body when blank by overriding the _prepare_request function of SecurityGroupRule. Two tests where this are used are updated; one checks the body is not sent when None and the other is modified to send a remote_address_group_id value to validate the other path. Story: #2008577 Task: #41729 Change-Id: I25dabfde27b843df1c91c7fc37a1fe8d207b8010 (cherry picked from commit b562d779e60337926c011b147256ba81cc1e6f88)",13252,Dr. Jens Harbott,"[6816, 7118, 10239, 22348, 27900]","['Jesse Pretorius', 'Ian Wienand', 'Dmitry Tantsur', 'Zuul', 'Artem Goncharov']",dont send empty remoteaddressgroupid security groups seeing error raised older neutrons 400 client error url cloudv20securitygrouprules unrecognized attributes remoteaddressgroupid field added unconditionally i50374c339ab7685a6e74f25f9521b8810c532e13 per appears cause problems older neutron instances work around remove argument body blank overriding preparerequest function securitygrouprule two tests used updated one checks body sent none modified send remoteaddressgroupid value validate path story 2008577 task 41729 changeid i25dabfde27b843df1c91c7fc37a1fe8d207b8010 cherry picked commit b562d779e60337926c011b147256ba81cc1e6f88
https://review.opendev.org/744966,Add missing security context template to promenade init container,Add missing security context template to promenade init container This change adds security context template at container level to implement readOnly-fs flag Change-Id: Iab814a3dd5a9bc46251939d6335af6aab21e5eb5,29161,Rahul Khiyani,"[7769, 8749, 22259, 22348, 22477, 23186, 23928, 24816, 26628, 26686, 27715, 28208, 28235, 28618, 28628, 28664, 28719, 28778, 29131, 29298, 29624, 30172]","['Pentheus', 'Evgeniy L', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Michael Beaver', 'Ahmad Mahmoudi', 'Phil Sphicas', 'Dan Crank', 'diwakar thyagaraj', 'Jagan Mohan Kavva', 'Alexander Hughes', 'Ian H Pittwood']",add missing security context template promenade init container change adds security context template container level implement readonlyfs flag changeid iab814a3dd5a9bc46251939d6335af6aab21e5eb5
https://review.opendev.org/744971,Add missing security context to Nova pods/containers,Add missing security context to Nova pods/containers This updates the Nova chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I10b12db8019beb42005764430711694a61c8d17b,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 18511, 20466, 21420, 22348, 22477, 23928, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Brian Wickersham', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Steven Fitzpatrick']",add missing security context nova podscontainers updates nova chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i10b12db8019beb42005764430711694a61c8d17b
https://review.opendev.org/744970,Add missing security context to Keystone pods/containers,Add missing security context to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I0e00571d4060cca914d1bdb4f36e736fa8501130,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Steven Fitzpatrick']",add missing security context keystone podscontainers updates keystone chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i0e00571d4060cca914d1bdb4f36e736fa8501130
https://review.opendev.org/294118,Refactor security group rule create to use SDK,"Refactor security group create rule to use SDK Refactored the 'os security group rule create' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. Added a release note for the change in security group rules output due to Network v2. Change-Id: I8c6c99d5272ff5d410a449f73d198d834c5cd96e Partial-Bug: #1519512 Implements: blueprint neutron-client",8410,Richard Theis,"[3, 970, 8410, 14937, 17776]","['Jenkins', 'Dean Troyer', 'Richard Theis', 'Tang Chen', 'Reedip']",refactor security group create rule use sdk refactored os security group rule create command use sdk neutron enabled continue use nova client nova network enabled added release note change security group rules output due network v2 changeid i8c6c99d5272ff5d410a449f73d198d834c5cd96e partialbug 1519512 implements blueprint neutronclient
https://review.opendev.org/297811,support FGT default security profile in firewall as a service,"support FGT default security profile in firewall as a service 1. add 5 security profiles params in plugin.ini 2. enable FGT firewall policies security profiles according to the settings 3. fixed a bug cannot exist properly in testing templates 4. according to the upstreaming commit, removed the old function call(get tenant_id) in fwaas plugin Change-Id: If88dea4b2ae12de965b84d670c7d10c1d2a6615f",6671,Jerry Zhao,"[3, 6671, 10499, 19745]","['Jenkins', 'Jerry Zhao', 'Sam', 'Fortinet CI']",support fgt default security profile firewall service 1 add 5 security profiles params pluginini 2 enable fgt firewall policies security profiles according settings 3 fixed bug exist properly testing templates 4 according upstreaming commit removed old function callget tenantid fwaas plugin changeid if88dea4b2ae12de965b84d670c7d10c1d2a6615f
https://review.opendev.org/297689,6wind-virtual-accelerator-plugin: disable security group ipset,6wind-virtual-accelerator-plugin: disable security group ipset This patch adds an option to configure compute and network nodes to disable ipset (plugin default behavior) via the Web UI. Change-Id: I10546822f27bc5e695fcf2113cbcdedfc220e304 Signed-off-by: Francesco Santoro <francesco.santoro@6wind.com>,17671,Francesco Santoro,"[3, 12340, 16321]","['Jenkins', 'Vincent Jardin', 'Samuel Gauthier']",6windvirtualacceleratorplugin disable security group ipset patch adds option configure compute network nodes disable ipset plugin default behavior via web ui changeid i10546822f27bc5e695fcf2113cbcdedfc220e304 signedoffby francesco santoro francescosantoro6windcom
https://review.opendev.org/292208,Fuel plugins: Apply patchset to support neutron security group,Apply nova patchset to support neutron security group Change-Id: Ic20774f23ebd4d08c7f3102029058a7cc977d029,17922,Huan Xie,"[3, 6735, 17169, 17920, 17922]","['Jenkins', 'Bob Ball', 'John Hua', 'Jianghua Wang', 'Huan Xie']",apply nova patchset support neutron security group changeid ic20774f23ebd4d08c7f3102029058a7cc977d029
https://review.opendev.org/292178,Port Security added to OVO,[WIP] Port security Change-Id: I5f72b730aaa0439c50845454c0a5f6438b53605f,20813,Sofia Enriquez,"[3, 5170, 6788, 7787, 8726, 9656, 9681, 9732, 10184, 14208, 14323, 14571, 14611, 15752, 19234, 20813]","['Jenkins', 'Microsoft Hyper-V CI', 'Rossella Sblendido', 'Kevin Benton', 'Victor Morales', 'Ihar Hrachyshka', 'Ryu CI', 'Mellanox CI', 'Nuage CI', 'Cisco CI', 'HP Networking CI', 'Intel Experimental CI', 'dasm', 'Intel SR-IOV CI', 'Alexey Stupnikov', 'Sofia Enriquez']",wip port security changeid i5f72b730aaa0439c50845454c0a5f6438b53605f
https://review.opendev.org/269219,Support port security API extension,(WIP) Support port security API extension The patches to support port security in OVN are still WIP and not yet submitted in the ML. (Running the tempest cases to test and validate the code - both the plugin and ovn-northd code) Change-Id: Ic7932feffb10562fef35a63d8fa02f5f8fc94c4c Closes-bug: #1496595,10237,Numan Siddique,"[3, 105, 1561, 4395, 8410, 10237, 11682, 13667]","['Jenkins', 'Kyle Mestery', 'Russell Bryant', 'Aaron Rosen', 'Richard Theis', 'Numan Siddique', 'Ryan Moats', 'ZongKai LI']",wip support port security api extension patches support port security ovn still wip yet submitted ml running tempest cases test validate code plugin ovnnorthd code changeid ic7932feffb10562fef35a63d8fa02f5f8fc94c4c closesbug 1496595
https://review.opendev.org/295750,add releasenote for security group provider,add releasenote for security group provider Change-Id: I88c0fab2945dabac9236ca58d02fee473bb7a0f2,3153,Emilien Macchi,"[3, 7745, 14985]","['Jenkins', 'Denis Egorenko', 'Alex Schultz']",add releasenote security group provider changeid i88c0fab2945dabac9236ca58d02fee473bb7a0f2
https://review.opendev.org/293284,Restrict SSH according the security settings,Restrict SSH according the security settings * Bind SSH service on the all interfaces by default * Restrict SSH access only on ssh_network from the fuelmenu Change-Id: I3c5f7e931669d9d28f59d9f64b4d407b2f37215e Depends-on: I2d1149a7596d596f581b7628de7089ac375772f6 Closes-Bug: #1557190,14200,Maksim Malchuk,"[3, 6926, 7195, 7468, 7604, 7732, 7745, 8971, 9037, 10489, 11827, 14200, 14316, 14495, 16771, 17730, 18290, 19560, 20996]","['Jenkins', 'Bogdan Dobrelya', 'Matthew Mosesohn', 'Sergey Vasilenko', 'Sergey Kolekonov', 'Ivan Berezovskiy', 'Denis Egorenko', 'Fuel CI', 'Dmitry Ilyin', 'Bartosz Kupidura', 'Stanislaw Bogatkin', 'Maksim Malchuk', 'Peter Zhurba', 'Adam Heczko', 'mpolenchuk', 'Maciej Relewicz', 'Kyrylo Galanov', 'Dmitry Bilunov', 'Avinash Raghavendra']",restrict ssh according security settings bind ssh service interfaces default restrict ssh access sshnetwork fuelmenu changeid i3c5f7e931669d9d28f59d9f64b4d407b2f37215e dependson i2d1149a7596d596f581b7628de7089ac375772f6 closesbug 1557190
https://review.opendev.org/293283,Add security module,Add security module Initial commit wich adds the security module to the fuelmenu. Change-Id: I2d1149a7596d596f581b7628de7089ac375772f6 Partial-Bug: #1557190,14200,Maksim Malchuk,"[3, 7195, 10443, 10488, 11782, 11898, 14200, 14316, 14495, 14985, 17730, 18290, 19560, 19896, 20384]","['Jenkins', 'Matthew Mosesohn', 'Fedor Zhadaev', 'Artur Svechnikov', 'Andrey Grebennikov', 'Alexander Saprykin', 'Maksim Malchuk', 'Peter Zhurba', 'Adam Heczko', 'Alex Schultz', 'Maciej Relewicz', 'Kyrylo Galanov', 'Dmitry Bilunov', 'yejiawei', 'Nikita Zubkov']",add security module initial commit wich adds security module fuelmenu changeid i2d1149a7596d596f581b7628de7089ac375772f6 partialbug 1557190
https://review.opendev.org/293989,Add ability to create security groups from puppet,[WIP] Add ability to create security groups from puppet Change-Id: I1835f121726e2b99bd6cc62e67849a0bc248ea4f,13752,Alexey Deryugin,"[3, 3153, 7745, 8971, 13752, 14525, 14985]","['Jenkins', 'Emilien Macchi', 'Denis Egorenko', 'Fuel CI', 'Alexey Deryugin', 'Vasyl Saienko', 'Alex Schultz']",wip add ability create security groups puppet changeid i1835f121726e2b99bd6cc62e67849a0bc248ea4f
https://review.opendev.org/294793,Fix facts for security module in the fuelmenu,Fix facts for security module in the fuelmenu Change-Id: I9609003d892875b0bbe00d24fe8365edb1f3c57e Partial-Bug: #1557190,14200,Maksim Malchuk,"[3, 6926, 8971, 9037, 9387, 14316, 14985]","['Jenkins', 'Bogdan Dobrelya', 'Fuel CI', 'Dmitry Ilyin', 'Aleksandr Didenko', 'Peter Zhurba', 'Alex Schultz']",fix facts security module fuelmenu changeid i9609003d892875b0bbe00d24fe8365edb1f3c57e partialbug 1557190
https://review.opendev.org/293945,fix security group rules comparision,fix security group rules comparision neutron started to return empty description that shouldn't be checked when ec2api compare rules for deletion Change-Id: I0c195a6d19803742f1a6f654317cc5da6fb8d52c,10234,Andrey Pavlov,"[3, 9312, 10224]","['Jenkins', 'Alexandre Levine', 'Feodor Tersin']",fix security group rules comparision neutron started return empty description shouldnt checked ec2api compare rules deletion changeid i0c195a6d19803742f1a6f654317cc5da6fb8d52c
https://review.opendev.org/284093,Websockify security proxy framework,"Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers. It also proposes a reference driver for that framework for TLS security. Previously approved: Juno, Kilo, Mitaka Blueprint websocket-proxy-to-host-security Change-Id: I00fe3098222640f75ba45c0f276e8f5b064f72dc",1779,Daniel Berrange,"[3, 6873]","['Jenkins', 'Matt Riedemann']",websockify security proxy framework blueprint proposes generic framework supporting maninthemiddle authentication encryption websockify hypervisor graphics servers also proposes reference driver framework tls security previously approved juno kilo mitaka blueprint websocketproxytohostsecurity changeid i00fe3098222640f75ba45c0f276e8f5b064f72dc
https://review.opendev.org/294243,Disable Neutron port security driver on upgrades,"Disable Neutron port security driver on upgrades When upgrading from Kilo to Liberty, networks existing prior to the upgrade prevented new VMs from booting. This was due to the introduction of the port_security extension to Neutron's defaults in the openstack-ansible Liberty release. This change disables the port_security driver in environments upgrading from Kilo, with documentation informing deployers of the change. Greenfield Liberty environments do not experience this behavior, as the port_security driver is enabled for all networks created there. Upstream Neutron do not currently provide a mechanism for adding port_security binding information to pre-existing networks, nor does it fail gracefully. Hence, this patch is deemed the least invasive way to work around the issue for openstack-ansible. This depends on Change-Id: I3838374467fe7cb35222a80d78095af806114b1a being present in liberty. Change-Id: Ib0d9eeae3766626186586c22875a2c1acf259e03",12892,Nolan Brubaker,"[3, 6816, 7217, 7219, 7353, 12892, 14288, 19805]","['Jenkins', 'Jesse Pretorius', 'Hugh Saunders', 'git-harry', 'Kevin Carter', 'Nolan Brubaker', 'Matthew Thode', 'Tom Cameron']",disable neutron port security driver upgrades upgrading kilo liberty networks existing prior upgrade prevented new vms booting due introduction portsecurity extension neutrons defaults openstackansible liberty release change disables portsecurity driver environments upgrading kilo documentation informing deployers change greenfield liberty environments experience behavior portsecurity driver enabled networks created upstream neutron currently provide mechanism adding portsecurity binding information preexisting networks fail gracefully hence patch deemed least invasive way work around issue openstackansible depends changeid i3838374467fe7cb35222a80d78095af806114b1a present liberty changeid ib0d9eeae3766626186586c22875a2c1acf259e03
https://review.opendev.org/286152,add a readme to the security guide project,"add a readme to the security guide project as discussed at the security doc team meeting on feb. 22, 2016, this readme is being added to express the views of the team regarding the bug reporting and review process. Change-Id: I315a84ccf93b2d3997fea8bfe795b73deb615016",10670,Michael McCune,"[3, 9162, 10281, 10670, 12325]","['Jenkins', 'Lana Brindley', 'Priti Desai', 'Michael McCune', 'Nathaniel Dillon']",add readme security guide project discussed security doc team meeting feb 22 2016 readme added express views team regarding bug reporting review process changeid i315a84ccf93b2d3997fea8bfe795b73deb615016
https://review.opendev.org/293753,Support security module in the fuelmenu,Support security module in the fuelmenu Change-Id: I6518923c089a0f602566394bc4502a57c4306eb7 Partial-Bug: #1557190,14200,Maksim Malchuk,"[3, 6926, 8971, 9037, 9387, 14985, 18290]","['Jenkins', 'Bogdan Dobrelya', 'Fuel CI', 'Dmitry Ilyin', 'Aleksandr Didenko', 'Alex Schultz', 'Kyrylo Galanov']",support security module fuelmenu changeid i6518923c089a0f602566394bc4502a57c4306eb7 partialbug 1557190
https://review.opendev.org/293730,Revert security group management to support legacy deployment,Revert security group management to support legacy deployment 1. Revert to use NOVA API to manage security group; 2. Fix the security group not found issue for lagacy deployment; 3. Remove unneeded chmod before scp binaries into target VM; Change-Id: I8879dcf2dde07142713e60ec5aee1032a78d340c,13786,Yichen Wang,"[3, 13786]","['Jenkins', 'Yichen Wang']",revert security group management support legacy deployment 1 revert use nova api manage security group 2 fix security group found issue lagacy deployment 3 remove unneeded chmod scp binaries target vm changeid i8879dcf2dde07142713e60ec5aee1032a78d340c
https://review.opendev.org/291736,Add project options to security group create,Add project options to security group create Add the --project and --project-domain options to the 'os security group create' command. These options are for Network v2 only. Change-Id: I9e1667080a1a49389d51ade2e76a08b08a09870b Closes-Bug: #1519511 Implements: blueprint neutron-client,8410,Richard Theis,"[3, 970, 6482, 14937, 17211, 17776]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Tang Chen', 'Brandon Palm', 'Reedip']",add project options security group create add project projectdomain options os security group create command options network v2 changeid i9e1667080a1a49389d51ade2e76a08b08a09870b closesbug 1519511 implements blueprint neutronclient
https://review.opendev.org/291155,libvirt: Comment non-obvious security implications of migrate code,"libvirt: Comment non-obvious security implications of migrate code There are 2 lines in finish_migration which look like a bug. The original reason for adding them no longer exists, but removing them now would open a severe security bug due to a series of non-obvious interactions. This patch simply adds a comment to ensure this is taken into consideration when changing this code in future. Change-Id: Icfe4b5deadfe7dbb0f34ea9af1f95b62cfca8a0a",9555,Matthew Booth,"[3, 782, 5441, 6962, 7730, 9578, 10385, 15286]","['Jenkins', 'John Garbutt', 'Andrew Laski', 'Kashyap Chamarthy', 'sahid', 'DB Datasets CI', 'Citrix XenServer CI', 'XenProject CI']",libvirt comment nonobvious security implications migrate code 2 lines finishmigration look like bug original reason adding longer exists removing would open severe security bug due series nonobvious interactions patch simply adds comment ensure taken consideration changing code future changeid icfe4b5deadfe7dbb0f34ea9af1f95b62cfca8a0a
https://review.opendev.org/287562,Implement security group - Neutron plugin part,"Implement security group - Neutron plugin part The task Neutron plugin needs to finish for security group functionality is simple. When a rule is created or deleted in a security group, it just updates the corresponding bottom security group. Also, creating or deleting a rule with ""remote_group_id and changing rules in default security group will be rejected by plugin. Currently this task runs in synchronous way. Later it can be implemented in asynchronous way for better response time. Change-Id: Ibbf46c2e91382986c02324d86bc22887e93267eb",12076,Zhiyuan Cai,"[3, 11819, 13305, 13779, 19960, 20165]","['Jenkins', 'Chaoyi Huang', 'Khayam Gondal', 'Pengfei Shi', 'newypei', 'Bean Zhang']",implement security group neutron plugin part task neutron plugin needs finish security group functionality simple rule created deleted security group updates corresponding bottom security group also creating deleting rule remotegroupid changing rules default security group rejected plugin currently task runs synchronous way later implemented asynchronous way better response time changeid ibbf46c2e91382986c02324d86bc22887e93267eb
https://review.opendev.org/284615,Implement security group - Nova API gateway part,"Implement security group - Nova API gateway part Nova API gateway needs to finish two tasks for security group functionality. One is to create security group in bottom pod if it does not exist. Only when the user boot a server can we know which pod to create the security group. The other one is to handle default security group. We decide to replace the default ""remote group"" rules with several ""remote ip prefix"" rules. Each rule points to a CIDR of one of the project's subnets. Since the collection of subnets may change, we need to update bottom security group rules. Currently these two tasks both run in synchronous way. For better response time the second task can be implemented in asynchronous way later. Neutron plugin part for security group functionality will be covered in next patch. Change-Id: I1822ff16e3dfc2a89c34f7833adcc1ad1d952462",12076,Zhiyuan Cai,"[3, 11819, 13305, 13779, 19960, 20165]","['Jenkins', 'Chaoyi Huang', 'Khayam Gondal', 'Pengfei Shi', 'newypei', 'Bean Zhang']",implement security group nova api gateway part nova api gateway needs finish two tasks security group functionality one create security group bottom pod exist user boot server know pod create security group one handle default security group decide replace default remote group rules several remote ip prefix rules rule points cidr one projects subnets since collection subnets may change need update bottom security group rules currently two tasks run synchronous way better response time second task implemented asynchronous way later neutron plugin part security group functionality covered next patch changeid i1822ff16e3dfc2a89c34f7833adcc1ad1d952462
https://review.opendev.org/744927,Add missing security context template to nagios init container,Add missing security context template to nagios init container This change adds security context template at container level to implement readOnly-fs flag Change-Id: Ibd4f8a916bcd74c1d89aa360e89d4477cd01d367,29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Steven Fitzpatrick']",add missing security context template nagios init container change adds security context template container level implement readonlyfs flag changeid ibd4f8a916bcd74c1d89aa360e89d4477cd01d367
https://review.opendev.org/291208,Add release notes for security fixes in 13.0.0 mitaka GA,Add release notes for security fixes in 13.0.0 mitaka GA There are three security issues fixed in mitaka. The first two were documented for liberty 12.0.1 but we apparently forgot to doc them for mitaka. Related-Bug: #1524274 Related-Bug: #1516765 Related-Bug: #1548450 Change-Id: I3eba75f1fc86c4c9abd258042dfafc6df1f2405c,6873,Matt Riedemann,"[3, 782, 6873, 7166, 10385, 15286, 15751, 16376]","['Jenkins', 'John Garbutt', 'Matt Riedemann', 'Sylvain Bauza', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI', 'Intel NFV CI']",add release notes security fixes 1300 mitaka ga three security issues fixed mitaka first two documented liberty 1201 apparently forgot doc mitaka relatedbug 1524274 relatedbug 1516765 relatedbug 1548450 changeid i3eba75f1fc86c4c9abd258042dfafc6df1f2405c
https://review.opendev.org/281490,ODL v2: Security Group support,"DO NOT MERGE: ODL v2: Security Group support This commits refactors the Opendaylight security group code to handle race conditions and out of sync issues. It attempts to address these using an atomic thread synchronization model that tracks the sync, retry, success and failed states of Neutron objects sent to Opendaylight. [rcurran - Pushing up code so others know that this work has been completed (sorry Yalei). Will push up for official review once the ODL v2 L3 and outstanding bugfixes in networking-odl queue have been merged. TODO: Use existing callback.py registration hooks or new events.PRECOMMIT* ?] Change-Id: Ia1742bfd30aeef0ad9216e4b02d6a97751b276c3 Partial-Bug: #1493551",6694,rcurran,"[3, 333, 10386, 20084]","['Jenkins', 'Isaku Yamahata', 'OpenDaylight CI', 'Intel networking-odl CI']",merge odl v2 security group support commits refactors opendaylight security group code handle race conditions sync issues attempts address using atomic thread synchronization model tracks sync retry success failed states neutron objects sent opendaylight rcurran pushing code others know work completed sorry yalei push official review odl v2 l3 outstanding bugfixes networkingodl queue merged todo use existing callbackpy registration hooks new eventsprecommit changeid ia1742bfd30aeef0ad9216e4b02d6a97751b276c3 partialbug 1493551
https://review.opendev.org/287866,Enable the ML2 port security extension driver by default,Enable the ML2 port security extension driver by default This patch enables the port security ML2 extension driver by default. It should have no impact on users that do not explicitly modify the port security property on a port. Change-Id: I1413428a1c0329acf0276bf6032684e5e7f8e177 Closes-Bug: #1531970 (cherry picked from commit d9fa3428fd4a794bddff68960c8748642017f7e4),6681,Brent Eagles,"[3, 6796, 7144, 10873]","['Jenkins', 'Giulio Fidente', 'James Slagle', 'Juan Antonio Osorio Robles']",enable ml2 port security extension driver default patch enables port security ml2 extension driver default impact users explicitly modify port security property port changeid i1413428a1c0329acf0276bf6032684e5e7f8e177 closesbug 1531970 cherry picked commit d9fa3428fd4a794bddff68960c8748642017f7e4
https://review.opendev.org/286861,Refactor security group create to use SDK,"Refactor security group create to use SDK Refactored the 'os security group create' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. Change-Id: Ib29df42edcddcc73a123fff6a64743a6bfcb7fbf Partial-Bug: #1519511 Implements: blueprint neutron-client",8410,Richard Theis,"[3, 970, 8276, 8410, 14937]","['Jenkins', 'Dean Troyer', 'kiwik', 'Richard Theis', 'Tang Chen']",refactor security group create use sdk refactored os security group create command use sdk neutron enabled continue use nova client nova network enabled changeid ib29df42edcddcc73a123fff6a64743a6bfcb7fbf partialbug 1519511 implements blueprint neutronclient
https://review.opendev.org/286275,Refactor security group show to use SDK,"Refactor security group show to use SDK Refactored the 'os security group show' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. Change-Id: I25233ddb8115d18b8b88affb3de13346084a339d Partial-Bug: #1519511 Implements: blueprint neutron-client",8410,Richard Theis,"[3, 970, 8276, 8410, 14937, 17211]","['Jenkins', 'Dean Troyer', 'kiwik', 'Richard Theis', 'Tang Chen', 'Brandon Palm']",refactor security group show use sdk refactored os security group show command use sdk neutron enabled continue use nova client nova network enabled changeid i25233ddb8115d18b8b88affb3de13346084a339d partialbug 1519511 implements blueprint neutronclient
https://review.opendev.org/291386,Use Neutron API to handle security group,Use Neutron API to handle security group Change-Id: Ib19a634c8527b63a5e012a826fab3b082206b340,13786,Yichen Wang,"[3, 13786]","['Jenkins', 'Yichen Wang']",use neutron api handle security group changeid ib19a634c8527b63a5e012a826fab3b082206b340
https://review.opendev.org/288150,Add Syntribos Project to OpenStack Security Project,Add Syntribos Project to OpenStack Security Project Change-Id: I3471fbd6c78d63ee40fc25d7de810e4f0de5d114,15259,Michael Xin,"[3, 308, 7063, 14379, 17709, 18729]","['Jenkins', 'Thierry Carrez', 'Robert Clark', 'Ning Sun', 'Michael Dong', 'Matt Valdes']",add syntribos project openstack security project changeid i3471fbd6c78d63ee40fc25d7de810e4f0de5d114
https://review.opendev.org/281094,NSX Admin: Add support for NSXv Security groups,NSX Admin: Add support for NSXv Security groups Change-Id: I43f958ff5e3d705e9b5ccf29d66bbefb4f3d1cc3,9423,Roey Chen,"[3, 1653, 7018, 9008, 9423, 12024, 12134, 13438]","['Jenkins', 'garyk', 'Abhishek Raut', 'VMware NSX CI', 'Roey Chen', 'Tong Liu', 'Akash Gangil', 'Kobi Samoray']",nsx admin add support nsxv security groups changeid i43f958ff5e3d705e9b5ccf29d66bbefb4f3d1cc3
https://review.opendev.org/289579,Move Security Policy Enforcement to Proposed,Move Security Policy Enforcement to Proposed Move User Story and adjust to conform to new template. Change-Id: Ib576d77d2b91f3146986d880f70f39967ca4ec8b,16157,Ken Johnston,"[3, 6772, 12651, 15521, 16157]","['Jenkins', 'Stephen Gordon', 'Shamail Tahir', 'Carol Barrett', 'Ken Johnston']",move security policy enforcement proposed move user story adjust conform new template changeid ib576d77d2b91f3146986d880f70f39967ca4ec8b
https://review.opendev.org/290462,Move Security Segregation user story,Move Security Segregation user story Per recent process change move story to proposed. Template adjustments to be submitted as a separate change to ensure they show up in diff. Change-Id: I5228d178e735e53731d1e6b7a682d0786f166bfe,6772,Stephen Gordon,"[3, 12651, 15521]","['Jenkins', 'Shamail Tahir', 'Carol Barrett']",move security segregation user story per recent process change move story proposed template adjustments submitted separate change ensure show diff changeid i5228d178e735e53731d1e6b7a682d0786f166bfe
https://review.opendev.org/290014,Add tox job for the bandit python security linter,Add tox job for the bandit python security linter Bandit is a job that parses and analyzes python code to detect common insecure programming practices. TrivialFix Change-Id: Iea23a9bd23b25827043f02aa1a62fb0724f1d0ee,11561,Dave McCowan,"[3, 1390, 2834, 11105, 13642, 14119]","['Jenkins', 'Paul Bourke (pbourke)', 'Steven Dake', 'Swapnil Kulkarni', 'Vikram Hosakote', 'Sam Yaple']",add tox job bandit python security linter bandit job parses analyzes python code detect common insecure programming practices trivialfix changeid iea23a9bd23b25827043f02aa1a62fb0724f1d0ee
https://review.opendev.org/288911,Add release note for security group set refactor,Add release note for security group set refactor Add a release note for [1]. [1] https://review.openstack.org/#/c/287763/ Change-Id: I30812c3ead477267dc7e3dc774c09b3435152eb9 Partial-Bug: #1519511 Implements: blueprint neutron-client,8410,Richard Theis,"[3, 6482, 14937, 18658]","['Jenkins', 'Steve Martinelli', 'Tang Chen', 'Jas Singh']",add release note security group set refactor add release note 1 1 httpsreviewopenstackorgc287763 changeid i30812c3ead477267dc7e3dc774c09b3435152eb9 partialbug 1519511 implements blueprint neutronclient
https://review.opendev.org/287763,Refactor security group set to use SDK,"Refactor security group set to use SDK Refactored the 'os security group set' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. This patch set also fixes a compute bug which ignores name and description when set to an empty value. Change-Id: I4225179dca4aedf799e1656ec49236bdedc5e9bd Partial-Bug: #1519511 Implements: blueprint neutron-client",8410,Richard Theis,"[3, 6482, 8410, 14937]","['Jenkins', 'Steve Martinelli', 'Richard Theis', 'Tang Chen']",refactor security group set use sdk refactored os security group set command use sdk neutron enabled continue use nova client nova network enabled patch set also fixes compute bug ignores name description set empty value changeid i4225179dca4aedf799e1656ec49236bdedc5e9bd partialbug 1519511 implements blueprint neutronclient
https://review.opendev.org/284973,Don't force people to security groups after they add a FIP,Don't force people to security groups after they add a FIP Horizon should not move people from the instances page to the security groups page after adding a FIP. It's already too late to prevent bad things from happening and this implies that it is not too late. Change-Id: I03796253fc6b6c56572c6e841f3ce3102c9c6cdd Closes-bug: #1550023,128,David Medberry,"[3, 128, 4264, 5623, 6650, 7665, 12281, 12826, 19896]","['Jenkins', 'David Medberry', 'Matthias Runge', 'David Lyle', 'Eric Peterson', 'Travis Tripp', 'Itxaka', 'Rob Cresswell', 'yejiawei']",dont force people security groups add fip horizon move people instances page security groups page adding fip already late prevent bad things happening implies late changeid i03796253fc6b6c56572c6e841f3ce3102c9c6cdd closesbug 1550023
https://review.opendev.org/286769,Add security exceptions for qemu KVM driver,Add security exceptions for qemu KVM driver By configuring apparmor libvirt-qemu configurations. Change-Id: I03d20abe54e447ed1ccbfefed1dd3ab31e9443c4,11968,Aviram Bar-Haim,"[3, 6849, 11968, 12171, 16690, 18937]","['Jenkins', 'Roman Podoliaka', 'Aviram Bar-Haim', 'Moshe Levi', 'Noam Angel', 'Rawan Herzallah']",add security exceptions qemu kvm driver configuring apparmor libvirtqemu configurations changeid i03d20abe54e447ed1ccbfefed1dd3ab31e9443c4
https://review.opendev.org/278481,Refactor security group list to use SDK,"Refactor security group list to use SDK Refactored the 'os security group list' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. This refactor also removes the logic for displaying project names instead of project IDs when the --all-projects option is specified. This logic was removed because it is inconsistent with the other network commands. Since neutron will always display security groups across all projects for an admin, the --all-projects option is now hidden when neutron is enabled and the Project column is always displayed. Change-Id: I934a1f5084ef3c5f929d0ffd38ebf5064d799941 Partial-Bug: #1519511 Related-to: blueprint neutron-client",8410,Richard Theis,"[3, 6482, 8410, 14937, 17211]","['Jenkins', 'Steve Martinelli', 'Richard Theis', 'Tang Chen', 'Brandon Palm']",refactor security group list use sdk refactored os security group list command use sdk neutron enabled continue use nova client nova network enabled refactor also removes logic displaying project names instead project ids allprojects option specified logic removed inconsistent network commands since neutron always display security groups across projects admin allprojects option hidden neutron enabled project column always displayed changeid i934a1f5084ef3c5f929d0ffd38ebf5064d799941 partialbug 1519511 relatedto blueprint neutronclient
https://review.opendev.org/277668,Caches Security Group Rule ACLs,"Caches Security Group Rule ACLs In order to avoid querying for the mentioned WMI objects, adds a cache for them, verifying the existence of the Security Group Rules using the cache instead. Adds the Weight field to the SecurityGroupRuleR2 in order for the objects to have the same fields as the ACLs. Partial-Bug: #1505196 Change-Id: I63d5984f3f9343e32e065f219567c4a821eb997b",8213,Claudiu Belu,"[3, 5170, 8213, 8543, 12604]","['Jenkins', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Lucian Petrut', 'Adelina Tuvenie']",caches security group rule acls order avoid querying mentioned wmi objects adds cache verifying existence security group rules using cache instead adds weight field securitygroupruler2 order objects fields acls partialbug 1505196 changeid i63d5984f3f9343e32e065f219567c4a821eb997b
https://review.opendev.org/282963,Add topics for security groups,Add topics for security groups Add tenant_id as topics for security group creation and deletion Change-Id: I004c7142a34debd4ff5b2bbc09fc37a7feb28308,11343,Gal Sagie,"[3, 7805, 11343, 11364, 13070, 18668, 18811, 18903, 20153, 20229, 20287, 20298, 20336]","['Jenkins', 'Li Ma', 'Gal Sagie', 'Fei Rao', 'Eran Gampel', 'ding bo', 'Shlomo', 'Yuli', 'Duan Kebo', 'Omer Anson', 'hujie', 'feipeng', 'heshan']",add topics security groups add tenantid topics security group creation deletion changeid i004c7142a34debd4ff5b2bbc09fc37a7feb28308
https://review.opendev.org/282593,Fix improper egress security rule deletion,"Fix improper egress security rule deletion If we enable VRRP, which uses unique IP protocols 51 and 112, the egress security group rules get mistakenly removed from the neutron ports. This patch fixes that issue by excluding non-TCP security rules from the delta calculation. Change-Id: I5c5c65224349a8f3c68a7c5a07582dcfc69f4eaa Closes-Bug: #1547760",11628,Michael Johnson,"[3, 10273, 10850, 11685, 16923]","['Jenkins', 'Adam Harwell', 'German Eichberger', 'Stephen Balukoff', 'HP Octavia Sonar CI']",fix improper egress security rule deletion enable vrrp uses unique ip protocols 51 112 egress security group rules get mistakenly removed neutron ports patch fixes issue excluding nontcp security rules delta calculation changeid i5c5c65224349a8f3c68a7c5a07582dcfc69f4eaa closesbug 1547760
https://review.opendev.org/282811,Various fixes for security group,Various fixes for security group 1. make sure using iptables as firewall driver 2. port name is using the first 11 charactors of its uuid Change-Id: I71acbb19d03b0a747752785aeb83ba3e84e2b7ca (cherry picked from commit 3393833c373c416aaca4e82987e2d599b88a9a4e),15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",various fixes security group 1 make sure using iptables firewall driver 2 port name using first 11 charactors uuid changeid i71acbb19d03b0a747752785aeb83ba3e84e2b7ca cherry picked commit 3393833c373c416aaca4e82987e2d599b88a9a4e
https://review.opendev.org/278586,Various fixes for security group,Various fixes for security group 1. make sure using iptables as firewall driver 2. port name is using the first 11 charactors of its uuid Change-Id: I71acbb19d03b0a747752785aeb83ba3e84e2b7ca,15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",various fixes security group 1 make sure using iptables firewall driver 2 port name using first 11 charactors uuid changeid i71acbb19d03b0a747752785aeb83ba3e84e2b7ca
https://review.opendev.org/282802,"BVS-5248, register callback functions for security group operation.","BVS-5248, register callback functions for security group operation. Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e (cherry picked from commit e9e146c8d2d9634b4006fdb0d6bb3e06c08004fd)",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs5248 register callback functions security group operation changeid i2474bf92dc22c77d6ab7569245518c96542df07e cherry picked commit e9e146c8d2d9634b4006fdb0d6bb3e06c08004fd
https://review.opendev.org/273690,"BVS-5307, tenant and security group should exist in topology sync","BVS-5307, tenant and security group should exist in topology sync In nsapi, the topology sync always expects all tenants present. https://github.com/bigswitch/bvs/blob/master/src/main/python/ns_project/nsapp/views_20.py#L84-L103 This change also sync security group, since it should apply to both p-only and p+v setup Change-Id: Ia541d12549d312210e41d975ca72643deba02ae0",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs5307 tenant security group exist topology sync nsapi topology sync always expects tenants present httpsgithubcombigswitchbvsblobmastersrcmainpythonnsprojectnsappviews20pyl84l103 change also sync security group since apply ponly pv setup changeid ia541d12549d312210e41d975ca72643deba02ae0
https://review.opendev.org/276059,"BVS-5248, register callback functions for security group operation.","BVS-5248, register callback functions for security group operation. Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs5248 register callback functions security group operation changeid i2474bf92dc22c77d6ab7569245518c96542df07e
https://review.opendev.org/252755,Add precommit_XXX event for security group and rules,"Add precommit event for security group Add PRECOMMIT_CREATE/DELETE/UPDATE event type for callback function, and use it in the security group db transaction. Change-Id: Icd2849bd84dab6733a572e8c85f242afcefc6c78 Closes-Bug: #1522172",11114,yalei wang,"[3, 333, 748, 1653, 1689, 5170, 6659, 6854, 7249, 7787, 9681, 9732, 9845, 10153, 10184, 10386, 10387, 10692, 11114, 11682, 13667, 14212, 14213, 14215, 14323, 14571, 15296, 15443, 15752, 17211, 20084]","['Jenkins', 'Isaku Yamahata', 'Armando Migliaccio', 'garyk', 'Robert Kukura', 'Microsoft Hyper-V CI', 'Paul Michali', 'YAMAMOTO Takashi', 'Ann Taraday', 'Kevin Benton', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'yalei wang', 'Ryan Moats', 'ZongKai LI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco CSR1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco UCSM CI', 'Intel SR-IOV CI', 'Brandon Palm', 'Intel networking-odl CI']",add precommit event security group add precommitcreatedeleteupdate event type callback function use security group db transaction changeid icd2849bd84dab6733a572e8c85f242afcefc6c78 closesbug 1522172
https://review.opendev.org/264940,Enable the ML2 port security extension driver by default,Enable the ML2 port security extension driver by default This patch enables the port security ML2 extension driver by default. It should have no impact on users that do not explicitly modify the port security property on a port. Change-Id: I1413428a1c0329acf0276bf6032684e5e7f8e177 Closes-Bug: #1531970,6681,Brent Eagles,"[3, 360, 4328, 6796, 6928, 7144, 8449]","['Jenkins', 'Dan Prince', 'Steven Hardy', 'Giulio Fidente', 'Ben Nemec', 'James Slagle', 'Marios Andreou']",enable ml2 port security extension driver default patch enables port security ml2 extension driver default impact users explicitly modify port security property port changeid i1413428a1c0329acf0276bf6032684e5e7f8e177 closesbug 1531970
https://review.opendev.org/276775,Refactor security group rule delete to use SDK,"Refactor security group rule delete to use SDK Refactored the 'os security group rule delete' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. This patch set also introduces a new FakeSecurityGroupRule class for testing security group rules. And fixes were made to the FakeSecurityGroup class. Change-Id: I8d0917925aa464e8255defae95a2a2adfb6cfb75 Partial-Bug: #1519512 Related-to: blueprint neutron-client",8410,Richard Theis,"[3, 970, 6482, 17776]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Reedip']",refactor security group rule delete use sdk refactored os security group rule delete command use sdk neutron enabled continue use nova client nova network enabled patch set also introduces new fakesecuritygrouprule class testing security group rules fixes made fakesecuritygroup class changeid i8d0917925aa464e8255defae95a2a2adfb6cfb75 partialbug 1519512 relatedto blueprint neutronclient
https://review.opendev.org/275194,Ensure security groups are properly rebound,"Ensure security groups are properly rebound If a port was disconnected via port_update and then reconnected, the security groups are not reapplied. Clears the port's security groups cache when the port is disconnected. port_update now reapplies security groups, if necessary. Change-Id: Iaef444ed898fd624f9d34c594db89665bd70dcdb",8213,Claudiu Belu,"[3, 3185, 5170, 8543]","['Jenkins', 'Alessandro Pilotti', 'Microsoft Hyper-V CI', 'Lucian Petrut']",ensure security groups properly rebound port disconnected via portupdate reconnected security groups reapplied clears ports security groups cache port disconnected portupdate reapplies security groups necessary changeid iaef444ed898fd624f9d34c594db89665bd70dcdb
https://review.opendev.org/276800,Refactor security group functional tests,"Refactor security group functional tests Moved the functional tests for ""os security group"" and ""os security group rule"" from the compute to the network directory to align with the refactoring to the commands. Change-Id: Ief6ab17775c6d7e3bef58d9fa025d9dd520b7370 Partial-Bug: #1519511 Partial-Bug: #1519512 Related-to: blueprint neutron-client",8410,Richard Theis,"[3, 6482]","['Jenkins', 'Steve Martinelli']",refactor security group functional tests moved functional tests os security group os security group rule compute network directory align refactoring commands changeid ief6ab17775c6d7e3bef58d9fa025d9dd520b7370 partialbug 1519511 partialbug 1519512 relatedto blueprint neutronclient
https://review.opendev.org/743752,"Revert ""Add missing pod level security context template for mariadb-backup""","Revert ""Add missing pod level security context template for mariadb-backup"" This reverts commit 0da55ad85ef621baa22887799e3146cecd93d368. Change-Id: I9de78186a2c3a6d181bedfdb8b84abeecce46bd6",29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29131, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'diwakar thyagaraj', 'Steven Fitzpatrick']",revert add missing pod level security context template mariadbbackup reverts commit 0da55ad85ef621baa22887799e3146cecd93d368 changeid i9de78186a2c3a6d181bedfdb8b84abeecce46bd6
https://review.opendev.org/743448,NSX|P: improve security rules creation performance,NSX|P: improve security rules creation performance Call the api under transaction without child rules Depends-on: Ib6361575642fa96a93dd49107ece1f120a6e61b2 Change-Id: Ibb891b2c31e756b2813d55635a80e5a0ac658ae8,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp improve security rules creation performance call api transaction without child rules dependson ib6361575642fa96a93dd49107ece1f120a6e61b2 changeid ibb891b2c31e756b2813d55635a80e5a0ac658ae8
https://review.opendev.org/743449,NSX|P: improve security rules creation performance,NSX|P: improve security rules creation performance Call the api under transaction without child rules Depends-on: Ib6361575642fa96a93dd49107ece1f120a6e61b2 Change-Id: Ibb891b2c31e756b2813d55635a80e5a0ac658ae8,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp improve security rules creation performance call api transaction without child rules dependson ib6361575642fa96a93dd49107ece1f120a6e61b2 changeid ibb891b2c31e756b2813d55635a80e5a0ac658ae8
https://review.opendev.org/741391,NSX|P: improve security rules creation performance,NSX|P: improve security rules creation performance Call the api under transaction without child rules Depends-on: Ib6361575642fa96a93dd49107ece1f120a6e61b2 Change-Id: Ibb891b2c31e756b2813d55635a80e5a0ac658ae8,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp improve security rules creation performance call api transaction without child rules dependson ib6361575642fa96a93dd49107ece1f120a6e61b2 changeid ibb891b2c31e756b2813d55635a80e5a0ac658ae8
https://review.opendev.org/743447,Improve security policy update rules with transactions,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules. This is expected to have better performance on the NSX side. This patch re-itroduce the fix from: I213616a8b47f11adb1a897568746885f3e77078c but this time with a flag to not break stuff Change-Id: Ib6361575642fa96a93dd49107ece1f120a6e61b2,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",improve security policy update rules transactions use policy rules attribute instead adding child rules expected better performance nsx side patch reitroduce fix i213616a8b47f11adb1a897568746885f3e77078c time flag break stuff changeid ib6361575642fa96a93dd49107ece1f120a6e61b2
https://review.opendev.org/743446,Improve security policy update rules with transactions,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules. This is expected to have better performance on the NSX side. This patch re-itroduce the fix from: I213616a8b47f11adb1a897568746885f3e77078c but this time with a flag to not break stuff Change-Id: Ib6361575642fa96a93dd49107ece1f120a6e61b2,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",improve security policy update rules transactions use policy rules attribute instead adding child rules expected better performance nsx side patch reitroduce fix i213616a8b47f11adb1a897568746885f3e77078c time flag break stuff changeid ib6361575642fa96a93dd49107ece1f120a6e61b2
https://review.opendev.org/741388,Improve security policy update rules with transactions,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules. This is expected to have better performance on the NSX side. This patch re-itroduce the fix from: I213616a8b47f11adb1a897568746885f3e77078c but this time with a flag to not break stuff Change-Id: Ib6361575642fa96a93dd49107ece1f120a6e61b2,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",improve security policy update rules transactions use policy rules attribute instead adding child rules expected better performance nsx side patch reitroduce fix i213616a8b47f11adb1a897568746885f3e77078c time flag break stuff changeid ib6361575642fa96a93dd49107ece1f120a6e61b2
https://review.opendev.org/742498,Add security context template for etcd-backup chart,Add security context template for etcd-backup chart This change also removes etcd-perms container which is not required Change-Id: Ia6c38424e0c2d177e35fc904a9551d601a31ac3b,29161,Rahul Khiyani,"[7769, 8749, 22259, 22348, 22477, 23186, 23928, 24816, 26628, 26686, 27715, 28208, 28235, 28618, 28628, 28664, 28719, 28778, 29131, 29144, 29624, 30172]","['Pentheus', 'Evgeniy L', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Michael Beaver', 'Ahmad Mahmoudi', 'Phil Sphicas', 'Dan Crank', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Alexander Hughes', 'Ian H Pittwood']",add security context template etcdbackup chart change also removes etcdperms container required changeid ia6c38424e0c2d177e35fc904a9551d601a31ac3b
https://review.opendev.org/260973,Added IPv6 support to Security Groups in OVS DPDK firewall.,Added IPv6 support to Security Groups in OVS DPDK firewall. Added support for IPv6 to the SG OVS DPDK firewall and UTs testing the new functionality. Change-Id: I9e6f131fe11d87974a8d09e50e28acdd49ca1bfb,16688,Rodolfo Alonso,"[3, 11604, 11647, 14571, 16688, 17627]","['Jenkins', 'sean mooney', 'Przemyslaw Czesnowicz', 'Intel Experimental CI', 'Rodolfo Alonso', 'Václav Hejral']",added ipv6 support security groups ovs dpdk firewall added support ipv6 sg ovs dpdk firewall uts testing new functionality changeid i9e6f131fe11d87974a8d09e50e28acdd49ca1bfb
https://review.opendev.org/278585,Various fixes for security group,Various fixes for security group 1. make sure using iptables as firewall driver 2. port name is using the first 11 charactors of its uuid Change-Id: I71acbb19d03b0a747752785aeb83ba3e84e2b7ca,15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",various fixes security group 1 make sure using iptables firewall driver 2 port name using first 11 charactors uuid changeid i71acbb19d03b0a747752785aeb83ba3e84e2b7ca
https://review.opendev.org/265389,Minor cloudcafe updates for security groups tests,Minor cloudcafe updates for security groups tests - Adding LinuxClient delete_file method - Adding networks common constants - Updating security groups data plane delay config default value Change-Id: I0ee0c15a501270c3a7b7b6ab02be93917c4618a9,8357,Leonardo Maycotte,"[3, 97, 1980, 7207, 8969]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Carlos Martinez', 'Christopher Hunt']",minor cloudcafe updates security groups tests adding linuxclient deletefile method adding networks common constants updating security groups data plane delay config default value changeid i0ee0c15a501270c3a7b7b6ab02be93917c4618a9
https://review.opendev.org/277278,Adds security group app,Adds security group app Adds security group add framework Change-Id: I41019ccc51713bb8e1745643197c58ae954d6e79 Implements: blueprint security-group-dragonflow-driver,18668,ding bo,"[3, 11343, 13070]","['Jenkins', 'Gal Sagie', 'Eran Gampel']",adds security group app adds security group add framework changeid i41019ccc51713bb8e1745643197c58ae954d6e79 implements blueprint securitygroupdragonflowdriver
https://review.opendev.org/262634,Configure security data into DF DB and sync it into local cache,Configure security data into DF DB Sync neutron security group data into DF DB Change-Id: I44e68066e457d2cf077dcb70fe4aa7fc5a11c0fb,18668,ding bo,"[3, 6835, 7805, 8976, 11343, 11364, 11800, 13070, 14249, 18668, 18740, 18903, 20229]","['Jenkins', 'Kun Huang', 'Li Ma', 'shihanzhang', 'Gal Sagie', 'Fei Rao', 'Gal Sagie', 'Eran Gampel', 'Lionel Zerbib', 'ding bo', 'Billy Xu', 'Yuli', 'Omer Anson']",configure security data df db sync neutron security group data df db changeid i44e68066e457d2cf077dcb70fe4aa7fc5a11c0fb
https://review.opendev.org/273002,don't explicitly delete security group rules,don't explicitly delete security group rules security group rules will get deleted when the security group is deleted. Doing deletes ourselves in tempest adds complexity and slows things down for not particularly interesting reason. Change-Id: I6bac772d8e50f6e7174b267dbf55670b6bf891d7,2750,Sean Dague,"[3, 2750, 7350, 8556, 9732, 10385, 12017]","['Jenkins', 'Sean Dague', 'Jordan Pittier', 'Ghanshyam', 'Mellanox CI', 'Citrix XenServer CI', 'DellEMC VNX CI']",dont explicitly delete security group rules security group rules get deleted security group deleted deletes tempest adds complexity slows things particularly interesting reason changeid i6bac772d8e50f6e7174b267dbf55670b6bf891d7
https://review.opendev.org/276501,Add bandit security linter,Add bandit security linter Bandit detects potential security issues in code. This patch adds it to tox. Some of the issues found need to be fixed prior to introducing into a gate job. Change-Id: Id902d8b95626f98d79755cbab9144b2d6041f66e,8119,Eric Brown,"[3, 1653, 9008, 12134]","['Jenkins', 'garyk', 'VMware NSX CI', 'Akash Gangil']",add bandit security linter bandit detects potential security issues code patch adds tox issues found need fixed prior introducing gate job changeid id902d8b95626f98d79755cbab9144b2d6041f66e
https://review.opendev.org/259037,Add popular IP protocols for security group,Add popular IP protocols for security group This patch is a follow-up of https://review.openstack.org/#/c/252155 Change-Id: I9ce3dd4ef0400b134f67b9e9cbf2e09cee7ebb01 Related-Bug: #1475717,7805,Li Ma,"[3, 105, 841, 1653, 4656, 6524, 6659, 10980, 12860, 17776]","['Jenkins', 'Kyle Mestery', 'Akihiro Motoki', 'garyk', 'Sean M. Collins', 'Henry Gessau', 'Paul Michali', 'Doug Wiegley', 'Dongcan Ye', 'Reedip']",add popular ip protocols security group patch followup httpsreviewopenstackorgc252155 changeid i9ce3dd4ef0400b134f67b9e9cbf2e09cee7ebb01 relatedbug 1475717
https://review.opendev.org/275902,Add nsxv3 security group test,Add nsxv3 security group test Add security group tempest test for nsxv3 to test the behavior of create/update/delete security group and security group rule has correct behavior on both openstack and nsx backend. The following test cases has been added: - Create security group - Update security group - Delete security group - Create security group rule - Delete security group rule Change-Id: Idacbd48b6380722aac6ab8ef6db03263ca23d154,12024,Tong Liu,"[3, 9008, 12024, 16499]","['Jenkins', 'VMware NSX CI', 'Tong Liu', 'Alex Kang']",add nsxv3 security group test add security group tempest test nsxv3 test behavior createupdatedelete security group security group rule correct behavior openstack nsx backend following test cases added create security group update security group delete security group create security group rule delete security group rule changeid idacbd48b6380722aac6ab8ef6db03263ca23d154
https://review.opendev.org/252155,Add popular IP protocols for security group,Add popular IP protocols for security group Change-Id: Iaef9b650449b4d9d362a59305c45e0aa3831507c Closes-Bug: #1475717,7805,Li Ma,"[3, 1131, 1653, 5170, 6524, 6659, 6854, 7776, 7787, 7805, 8788, 9681, 9732, 9845, 10153, 10184, 10386, 10387, 10692, 10980, 11159, 11682, 12860, 13667, 14212, 14213, 14215, 14323, 14571, 14605, 15296, 15443, 15752, 16707, 17120, 17211, 17776, 18289, 18369]","['Jenkins', 'Brian Haley', 'garyk', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Paul Michali', 'YAMAMOTO Takashi', 'Paul Carver', 'Kevin Benton', 'Li Ma', 'Miguel Angel Ajo', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Doug Wiegley', 'Hong Hui Xiao', 'Ryan Moats', 'Dongcan Ye', 'ZongKai LI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco CSR1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'vikram.choudhary', 'Brocade Openstack CI', 'Cisco UCSM CI', 'Intel SR-IOV CI', 'Mohankumar', 'Manjeet Singh Bhatia', 'Brandon Palm', 'Reedip', 'Sreekumar S', '6WIND Networking CI']",add popular ip protocols security group changeid iaef9b650449b4d9d362a59305c45e0aa3831507c closesbug 1475717
https://review.opendev.org/276033,"BVS-5248, register callback functions for security group operation.","BVS-5248, register callback functions for security group operation. Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs5248 register callback functions security group operation changeid i2474bf92dc22c77d6ab7569245518c96542df07e
https://review.opendev.org/257543,Refactor security group delete to use SDK,"Refactor security group delete to use SDK Refactored the 'os security group delete' command to use the SDK when neutron is enabled, but continue to use the nova client when nova network is enabled. This patch set introduces a new NetworkAndComputeCommand class to be used for commands that must support neutron and nova network. The current DeleteSecurityGroup class is now a subclass of this new class and has moved under the network v2 commands. This patch set also introduces a new FakeSecurityGroup class for testing security groups. Change-Id: Ic21376b86b40cc6d97f360f3760ba5beed154537 Depends-On: Ia37e81d4fb05a1e2fceb3e5d367bda769ab8e64b Partial-Bug: #1519511",8410,Richard Theis,"[3, 970, 2874, 6482, 8410, 8736, 14937]","['Jenkins', 'Dean Troyer', 'yong sheng gong', 'Steve Martinelli', 'Richard Theis', 'Terry Howe', 'Tang Chen']",refactor security group delete use sdk refactored os security group delete command use sdk neutron enabled continue use nova client nova network enabled patch set introduces new networkandcomputecommand class used commands must support neutron nova network current deletesecuritygroup class subclass new class moved network v2 commands patch set also introduces new fakesecuritygroup class testing security groups changeid ic21376b86b40cc6d97f360f3760ba5beed154537 dependson ia37e81d4fb05a1e2fceb3e5d367bda769ab8e64b partialbug 1519511
https://review.opendev.org/275579,Apply PAM security limits by running daemons through su,"Apply PAM security limits by running daemons through su Daemons launched from OCF scripts inherit default resource limits. It could confuse users and cause resource allocation fail under heavy load. We should run daemons requiring root privileges through su - root -c, so limits from limits.conf would be enforced. To make it easier to implement, a new wrapper ""ocf_run_as_root"" is implemented in ocf-fuel-funcs. Change-Id: Iea56e4d08a2c1f92500129210d79e4b1fe04e3fd Closes-Bug: #1429553 (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6)",19560,Dmitry Bilunov,"[3, 6926, 8971, 11090, 11827, 14200, 16771]","['Jenkins', 'Bogdan Dobrelya', 'Fuel CI', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Maksim Malchuk', 'mpolenchuk']",apply pam security limits running daemons su daemons launched ocf scripts inherit default resource limits could confuse users cause resource allocation fail heavy load run daemons requiring root privileges su root c limits limitsconf would enforced make easier implement new wrapper ocfrunasroot implemented ocffuelfuncs changeid iea56e4d08a2c1f92500129210d79e4b1fe04e3fd closesbug 1429553 cherry picked commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6
https://review.opendev.org/275275,Apply PAM security limits by running daemons through su,"Apply PAM security limits by running daemons through su Daemons launched from OCF scripts inherit default resource limits. It could confuse users and cause resource allocation fail under heavy load. We should run daemons requiring root privileges through su - root -c, so limits from limits.conf would be enforced. To make it easier to implement, a new wrapper ""ocf_run_as_root"" is implemented in ocf-fuel-funcs. Change-Id: Iea56e4d08a2c1f92500129210d79e4b1fe04e3fd Closes-Bug: #1429553",19560,Dmitry Bilunov,"[3, 6926, 8971, 11090, 11827, 14200, 16771]","['Jenkins', 'Bogdan Dobrelya', 'Fuel CI', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Maksim Malchuk', 'mpolenchuk']",apply pam security limits running daemons su daemons launched ocf scripts inherit default resource limits could confuse users cause resource allocation fail heavy load run daemons requiring root privileges su root c limits limitsconf would enforced make easier implement new wrapper ocfrunasroot implemented ocffuelfuncs changeid iea56e4d08a2c1f92500129210d79e4b1fe04e3fd closesbug 1429553
https://review.opendev.org/270675,Apply PAM security limits by running daemons through su,"Apply PAM security limits by running daemons through su Daemons launched from OCF scripts inherit default resource limits. It could confuse users and cause resource allocation fail under heavy load. We should run daemons requiring root privileges through su - root -c, so limits from limits.conf would be enforced. To make it easier to implement, a new wrapper ""ocf_run_as_root"" is implemented in ocf-fuel-funcs. Change-Id: I4b0e0cd0ebca9013adbd69830ea79772014d6cf1 Closes-Bug: #1429553",19560,Dmitry Bilunov,"[3, 7195, 7468, 8971, 9037, 11090, 11827, 13343, 13344, 13948, 14200, 14316, 16771, 18290, 19560]","['Jenkins', 'Matthew Mosesohn', 'Sergey Vasilenko', 'Fuel CI', 'Dmitry Ilyin', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Stanislav Makar', 'Oleksiy Molchanov', 'Bart?omiej Piotrowski', 'Maksim Malchuk', 'Peter Zhurba', 'mpolenchuk', 'Kyrylo Galanov', 'Dmitry Bilunov']",apply pam security limits running daemons su daemons launched ocf scripts inherit default resource limits could confuse users cause resource allocation fail heavy load run daemons requiring root privileges su root c limits limitsconf would enforced make easier implement new wrapper ocfrunasroot implemented ocffuelfuncs changeid i4b0e0cd0ebca9013adbd69830ea79772014d6cf1 closesbug 1429553
https://review.opendev.org/274450,Adding the security project blog,Adding the security project blog Change-Id: Ie8884f8bf0073f79f451db3e480eb5386e036d5e,7063,Robert Clark,"[3, 10348]","['Jenkins', 'Maish Saidel-Keesing']",adding security project blog changeid ie8884f8bf0073f79f451db3e480eb5386e036d5e
https://review.opendev.org/273689,"BVS-5307, tenant and security group should exist in topology sync","BVS-5307, tenant and security group should exist in topology sync In nsapi, the topology sync always expects all tenants present. https://github.com/bigswitch/bvs/blob/master/src/main/python/ns_project/nsapp/views_20.py#L84-L103 This change also sync security group, since it should apply to both p-only and p+v setup Change-Id: Ia541d12549d312210e41d975ca72643deba02ae0",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs5307 tenant security group exist topology sync nsapi topology sync always expects tenants present httpsgithubcombigswitchbvsblobmastersrcmainpythonnsprojectnsappviews20pyl84l103 change also sync security group since apply ponly pv setup changeid ia541d12549d312210e41d975ca72643deba02ae0
https://review.opendev.org/273366,"BVS-5307, tenant and security group should exist in topology sync",make sure tenant and security group are always populated in topology sync Change-Id: Ia541d12549d312210e41d975ca72643deba02ae0,15342,xin wu,"[3, 7591, 15342]","['Jenkins', 'Kanzhe Jiang', 'xin wu']",make sure tenant security group always populated topology sync changeid ia541d12549d312210e41d975ca72643deba02ae0
https://review.opendev.org/269874,Add Security Segregation user story,"Add Security Segregation user story Add security segregation user story imported from telecommunications working group. The goal of this use-case is to present the need for a (partly) segregation of physical resources to support the well-known classic separation of DMZ and MZ, which is still needed by several applications (VNFs) and requested by telco security rules. Change-Id: I4200a528970ea28b8fad18f30db5a51cc4a7cc80",6772,Stephen Gordon,"[3, 6772, 12651, 16157]","['Jenkins', 'Stephen Gordon', 'Shamail Tahir', 'Ken Johnston']",add security segregation user story add security segregation user story imported telecommunications working group goal usecase present need partly segregation physical resources support wellknown classic separation dmz mz still needed several applications vnfs requested telco security rules changeid i4200a528970ea28b8fad18f30db5a51cc4a7cc80
https://review.opendev.org/273525,"Revert ""Apply PAM security limits by running daemons through su""","Revert ""Apply PAM security limits by running daemons through su"" This reverts commit 478fef32ceb706da22aff84ec28f54d03273c07e. Change-Id: I7c24683a33afca8ea872cedf99002109acc55e80 Closes-bug: #1539074",6926,Bogdan Dobrelya,"[3, 6926, 7195, 8786, 8971, 9387, 11090, 14200]","['Jenkins', 'Bogdan Dobrelya', 'Matthew Mosesohn', 'Vladimir Kuklin', 'Fuel CI', 'Aleksandr Didenko', 'Sergii Golovatiuk', 'Maksim Malchuk']",revert apply pam security limits running daemons su reverts commit 478fef32ceb706da22aff84ec28f54d03273c07e changeid i7c24683a33afca8ea872cedf99002109acc55e80 closesbug 1539074
https://review.opendev.org/742002,Add missing security context to Keystone pods/containers,Add missing security context to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I655ef19a3c187e3462ff8ec1a54bc9691ca64d41,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",add missing security context keystone podscontainers updates keystone chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i655ef19a3c187e3462ff8ec1a54bc9691ca64d41
https://review.opendev.org/270131,Update CentOS 7 update and security packages repo url,"Update CentOS 7 update and security packages repo url Start from Fuel 8.0, we are using CentOS 7 instead of CentOS 6 for host OS, update repo url for this change. Change-Id: I00e7c6fcc0e984f0a70ee3d6f592a996277e0c54 Closes-Bug: #1529564 (cherry picked from commit d848806e8d7def67762b7b14d7be18b28fdd2277)",19196,Valentin Kaplov,"[3, 1313, 8392, 8931, 8971, 10391, 18205]","['Jenkins', 'Yaguang Tang', 'Aleksey Kasatkin', 'Artem Roma', 'Fuel CI', 'Ihor Kalnytskyi', 'Bulat Gaifullin']",update centos 7 update security packages repo url start fuel 80 using centos 7 instead centos 6 host os update repo url change changeid i00e7c6fcc0e984f0a70ee3d6f592a996277e0c54 closesbug 1529564 cherry picked commit d848806e8d7def67762b7b14d7be18b28fdd2277
https://review.opendev.org/272772,fix NoneType for security groups,fix NoneType for security groups Change-Id: I2df7205384138eb7a1cdb03bd76c8e833d0f983b,15342,xin wu,"[3, 7591, 15342]","['Jenkins', 'Kanzhe Jiang', 'xin wu']",fix nonetype security groups changeid i2df7205384138eb7a1cdb03bd76c8e833d0f983b
https://review.opendev.org/272239,Add icmpv6 as a protocol to security groups rules,Indicate in that icmpv6 is a supported protocol type under neutron security group rules. This is to address doc bug #1449756 (https://bugs.launchpad.net/openstack-manuals/+bug/1449756) Change-Id: Iba731ad4c8b40d2954293a58031e44d29e8e3777,14844,John Joyce,"[3, 6772, 10497, 19472]","['Jenkins', 'Stephen Gordon', 'KATO Tomoyuki', 'Gerard Braad']",indicate icmpv6 supported protocol type neutron security group rules address doc bug 1449756 httpsbugslaunchpadnetopenstackmanualsbug1449756 changeid iba731ad4c8b40d2954293a58031e44d29e8e3777
https://review.opendev.org/266564,Split out Neutron security group rules client,Split out Neutron security group rules client Splitting out a security group rules client for Neutron. Partially implements blueprint consistent-service-method-names # Change-Id: I2cd6bef13a16672bf0dbf6aeab0c60f0221e1a49,8001,John Warren,"[3, 6167, 8556, 9732, 10385]","['Jenkins', ""Ken'ichi Ohmichi"", 'Ghanshyam', 'Mellanox CI', 'Citrix XenServer CI']",split neutron security group rules client splitting security group rules client neutron partially implements blueprint consistentservicemethodnames changeid i2cd6bef13a16672bf0dbf6aeab0c60f0221e1a49
https://review.opendev.org/262432,Update CentOS 7 update and security packages repo url,"Update CentOS 7 update and security packages repo url Start from Fuel 8.0, we are using CentOS 7 instead of CentOS 6 for host OS, update repo url for this change. Change-Id: I00e7c6fcc0e984f0a70ee3d6f592a996277e0c54 Closes-Bug: #1529564",1313,Yaguang Tang,"[3, 6719, 8392, 8777, 8931, 8971, 10391, 18205, 19196]","['Jenkins', 'tatyana-leontovich', 'Aleksey Kasatkin', 'Roman Vyalov', 'Artem Roma', 'Fuel CI', 'Ihor Kalnytskyi', 'Bulat Gaifullin', 'Valentin Kaplov']",update centos 7 update security packages repo url start fuel 80 using centos 7 instead centos 6 host os update repo url change changeid i00e7c6fcc0e984f0a70ee3d6f592a996277e0c54 closesbug 1529564
https://review.opendev.org/267178,Add security fixes to the release notes for 12.0.1,Add security fixes to the release notes for 12.0.1 There are two security fixes in the upcoming stable/liberty point release (12.0.1) so we should document those in the release notes. This shouldn't be merged until I11485f077d28f4e97529a691e55e3e3c0bea8872 is merged. We don't use Depends-On here since we don't want to hold this up on the stable/kilo backport of that change. Change-Id: Ib2235d6aee540d9010dc86c73aff71179d46e921 Related-Bug: #1516765 Related-Bug: #1524274,6873,Matt Riedemann,"[3, 2750, 4393, 6873, 7166, 12898]","['Jenkins', 'Sean Dague', 'Dan Smith', 'Matt Riedemann', 'Sylvain Bauza', 'Tony Breeds']",add security fixes release notes 1201 two security fixes upcoming stableliberty point release 1201 document release notes shouldnt merged i11485f077d28f4e97529a691e55e3e3c0bea8872 merged dont use dependson since dont want hold stablekilo backport change changeid ib2235d6aee540d9010dc86c73aff71179d46e921 relatedbug 1516765 relatedbug 1524274
https://review.opendev.org/266336,Corrected typo in fetch security groups comment,Corrected typo in fetch security groups comment Edited comment from returns image to security group Change-Id: Ia41c1bbaa7e3291eb010e7441f9f60dea03339e7 Closes-Issue:#1533181,17457,Karthik Suresh,"[3, 5623, 9631, 11215, 12826, 16237, 17172, 19779]","['Jenkins', 'David Lyle', 'sajuptpm', 'Vivek Dhayaal', 'Rob Cresswell', 'venkatamahesh', 'Kenji Ishii', 'Chason Chan']",corrected typo fetch security groups comment edited comment returns image security group changeid ia41c1bbaa7e3291eb010e7441f9f60dea03339e7 closesissue1533181
https://review.opendev.org/259920,[Ops Manager] Add configuring for security group,"[Ops Manager] Add configuring for security group Previously, security group wasn't configured due to the fact that it is not required in Ops Manager settings. But it caused an error during Ops Manager deployment This patch adds configuring fot security group field. Change-Id: I44dfdae4cf2e351d7efb6e989f5a44f66a9db806 Closes-Bug: #1527630",13149,Dmytro Dovbii,"[3, 7225, 7535, 7549, 13149, 13962, 15168]","['Jenkins', 'Serg Melikyan', 'Nikolay Starodubtsev', 'Ekaterina Chernova', 'Dmytro Dovbii', 'Victor Ryzhenkin (freerunner)', 'Kirill Zaitsev']",ops manager add configuring security group previously security group wasnt configured due fact required ops manager settings caused error ops manager deployment patch adds configuring fot security group field changeid i44dfdae4cf2e351d7efb6e989f5a44f66a9db806 closesbug 1527630
https://review.opendev.org/742259,Add security context template for promenade charts,Add security context template for promenade charts This changes adds security context template at pod level to set run as user value This also adds security context template at container level to set readOnly-fs flag Change-Id: Iba720e687218987cfefe7a9f08630fb11e8eac12,29161,Rahul Khiyani,"[7769, 8749, 22259, 22348, 22477, 23186, 23928, 24816, 26628, 26686, 27715, 28208, 28235, 28618, 28628, 28664, 28719, 28778, 29131, 29161, 29624, 30172]","['Pentheus', 'Evgeniy L', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Michael Beaver', 'Ahmad Mahmoudi', 'Phil Sphicas', 'Dan Crank', 'diwakar thyagaraj', 'Rahul Khiyani', 'Alexander Hughes', 'Ian H Pittwood']",add security context template promenade charts changes adds security context template pod level set run user value also adds security context template container level set readonlyfs flag changeid iba720e687218987cfefe7a9f08630fb11e8eac12
https://review.opendev.org/742062,[FIX] override security context capabilities in values.yaml,[FIX] override security context capabilities in values.yaml Add missing helm-toolkit snippet for ingress-errors container Change-Id: I9c7ec6b71a1d026257c2a1f76e18a3e3be8e244d,29161,Rahul Khiyani,"[7769, 8749, 22259, 22348, 22477, 23186, 23928, 24816, 26628, 26686, 27715, 28208, 28235, 28618, 28628, 28664, 28719, 28778, 29144, 29161, 29298, 29624, 30172]","['Pentheus', 'Evgeniy L', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Michael Beaver', 'Ahmad Mahmoudi', 'Phil Sphicas', 'Dan Crank', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Jagan Mohan Kavva', 'Alexander Hughes', 'Ian H Pittwood']",fix override security context capabilities valuesyaml add missing helmtoolkit snippet ingresserrors container changeid i9c7ec6b71a1d026257c2a1f76e18a3e3be8e244d
https://review.opendev.org/265813,Skip security group tests without secgroup ext,Skip security group tests without secgroup ext Closes-Bug: #1532796 Change-Id: I42d4e70aefb82141118c17b2ccb5d788765ecef5,15554,Bence Romsics,"[3, 2750, 8313, 8556]","['Jenkins', 'Sean Dague', 'Lajos Katona', 'Ghanshyam']",skip security group tests without secgroup ext closesbug 1532796 changeid i42d4e70aefb82141118c17b2ccb5d788765ecef5
https://review.opendev.org/265596,Improve Security Guide chapter 6 Identity example,Improve Security Guide chapter 6 Identity example Made example more succinct and Added cross reference to the Configuration Reference book for policy.json Change-Id: Ib09eea72a75a3b1841937b23c5951235028a458f Closes-bug: #1411515,6587,Patrick Amor,"[3, 6547, 6587, 7063, 10281, 10670]","['Jenkins', 'Andreas Jaeger', 'Patrick Amor', 'Robert Clark', 'Priti Desai', 'Michael McCune']",improve security guide chapter 6 identity example made example succinct added cross reference configuration reference book policyjson changeid ib09eea72a75a3b1841937b23c5951235028a458f closesbug 1411515
https://review.opendev.org/263825,Rename references to compute security group rules client,"Rename references to compute security group rules client The single network client is being split out into multiple clients, one of which will be called SecurityGroupRulesClient. This patch renames references to the compute security group rules client (security_group_rules_client changed to compute_security_group_rules_client) to avoid confusion or conflicts with the new neutron security groups client in code that will reference both the nova and neutron security group rules clients. Partially implements blueprint consistent-service-method-names Change-Id: I25c89475df185f6a6397309ffb880f275c7c9e80",8001,John Warren,"[3, 6167, 8556, 9732, 10385]","['Jenkins', ""Ken'ichi Ohmichi"", 'Ghanshyam', 'Mellanox CI', 'Citrix XenServer CI']",rename references compute security group rules client single network client split multiple clients one called securitygrouprulesclient patch renames references compute security group rules client securitygrouprulesclient changed computesecuritygrouprulesclient avoid confusion conflicts new neutron security groups client code reference nova neutron security group rules clients partially implements blueprint consistentservicemethodnames changeid i25c89475df185f6a6397309ffb880f275c7c9e80
https://review.opendev.org/263843,"Further improve output for ""os security group show""","Further improve output for ""os security group show"" Improve the security group rules output when running the ""os security group show"" command. Empty and duplicate information for each security group rule is now removed. This will ensure that the rules remain readable when direction and ethertype information is returned as part of the transition to neutron networking. Change-Id: Ib49c27a9d7f4d5d38ceb2b0d785ddf94d88b2d89 Partial-Bug: #1519511 Related-To: blueprint neutron-client",8410,Richard Theis,"[3, 1941, 6482, 8410, 14937]","['Jenkins', 'Lin Hua Cheng', 'Steve Martinelli', 'Richard Theis', 'Tang Chen']",improve output os security group show improve security group rules output running os security group show command empty duplicate information security group rule removed ensure rules remain readable direction ethertype information returned part transition neutron networking changeid ib49c27a9d7f4d5d38ceb2b0d785ddf94d88b2d89 partialbug 1519511 relatedto blueprint neutronclient
https://review.opendev.org/264105,nsx_v3: delete security group rule from backend first,"nsx_v3: delete security group rule from backend first We should delete the security group rule from the backend first before the database so that we can ensure that it's actually removed from the backend. Previously, we could get into a sistuation where we'd delete it from the db but the delete to the backend would fail. In this case the neutron db would be out of sync from what's actually in the backend. Switching the order avoids this problem. Change-Id: I9a4fc1ec0264e5d1ea298fcf07baa79fdec9a5ae (cherry picked from commit 383443134977c8553fab38caaa0b19baf625addf)",1653,garyk,"[3, 1653, 4395]","['Jenkins', 'garyk', 'Aaron Rosen']",nsxv3 delete security group rule backend first delete security group rule backend first database ensure actually removed backend previously could get sistuation wed delete db delete backend would fail case neutron db would sync whats actually backend switching order avoids problem changeid i9a4fc1ec0264e5d1ea298fcf07baa79fdec9a5ae cherry picked commit 383443134977c8553fab38caaa0b19baf625addf
https://review.opendev.org/263958,nsx_v3: delete security group rule from backend first,"nsx_v3: delete security group rule from backend first We should delete the security group rule from the backend first before the database so that we can ensure that it's actually removed from the backend. Previously, we could get into a sistuation where we'd delete it from the db but the delete to the backend would fail. In this case the neutron db would be out of sync from what's actually in the backend. Switching the order avoids this problem. Change-Id: I9a4fc1ec0264e5d1ea298fcf07baa79fdec9a5ae",4395,Aaron Rosen,"[3, 1653, 9008, 9423]","['Jenkins', 'garyk', 'VMware NSX CI', 'Roey Chen']",nsxv3 delete security group rule backend first delete security group rule backend first database ensure actually removed backend previously could get sistuation wed delete db delete backend would fail case neutron db would sync whats actually backend switching order avoids problem changeid i9a4fc1ec0264e5d1ea298fcf07baa79fdec9a5ae
https://review.opendev.org/258684,Add support to list all security group rules,Add support to list all security group rules Both nova and neutron allow security group rules to be listed without specifying the owning security group. This patch set makes the group argument on 'os security group rule list' optional. Behavior is unchanged when the argument is specified. When the argument is not specified then all accessible security group rules will be listed. The listing will include the owning security group for each rule. Change-Id: I6914baecf70a65354e1e82dad92c6afbd32b4973 Related-Bug: #1519512,8410,Richard Theis,"[3, 970, 1941, 8410]","['Jenkins', 'Dean Troyer', 'Lin Hua Cheng', 'Richard Theis']",add support list security group rules nova neutron allow security group rules listed without specifying owning security group patch set makes group argument os security group rule list optional behavior unchanged argument specified argument specified accessible security group rules listed listing include owning security group rule changeid i6914baecf70a65354e1e82dad92c6afbd32b4973 relatedbug 1519512
https://review.opendev.org/261103,Functional tests for security group rule,"Functional tests for security group rule Add functional tests for the ""security group rule"" commands. Change-Id: Ia03886e92632f37a3d2625df1c3fa7c2a536c564 Partial-Bug: #1519512 Related-to: blueprint neutron-client",8410,Richard Theis,"[3, 970, 2874, 6482]","['Jenkins', 'Dean Troyer', 'yong sheng gong', 'Steve Martinelli']",functional tests security group rule add functional tests security group rule commands changeid ia03886e92632f37a3d2625df1c3fa7c2a536c564 partialbug 1519512 relatedto blueprint neutronclient
https://review.opendev.org/263054,Add security groups design blog post to documentation,Add security groups design blog post to documentation Change-Id: I28d533cd47e39b8582a45979221c9e56bb533732,11343,Gal Sagie,"[3, 105, 13070]","['Jenkins', 'Kyle Mestery', 'Eran Gampel']",add security groups design blog post documentation changeid i28d533cd47e39b8582a45979221c9e56bb533732
https://review.opendev.org/261089,"Improve output for ""os security group show""","Improve output for ""os security group show"" Improve the security group rules output when running the ""os security group show"" command. Each security group rule is now displayed on a separate line. Current output example: $ openstack security group show default +-------------+------------------------- ... ---+ | Field | Value ... | +-------------+------------------------- ... ---+ | description | Default security group ... | | id | 048a5fc3-3be1-407d-ae47-9... | | name | default ... | | project_id | 3b96bb2020c1459da76963f9e... | | rules | [u""id='5d812367-9829-4340...t""] | +-------------+------------------------- ... ---+ New output example: +-------------+------------------------- ... ---+ | Field | Value ... | +-------------+------------------------- ... ---+ | description | Default security group ... | | id | 048a5fc3-3be1-407d-ae47-9... | | name | default ... | | project_id | 3b96bb2020c1459da76963f9e... | | rules | id='5d812367-9829-4340-95...lt' | | | id='ee451d1c-ade3-4975-8e...lt' | +-------------+------------------------- ... ---+ Change-Id: I1386075310896c58a2b776e2bbec3603bd00eff1 Partial-Bug: #1519511 Related-To: blueprint neutron-client",8410,Richard Theis,"[3, 1941, 2874, 6482]","['Jenkins', 'Lin Hua Cheng', 'yong sheng gong', 'Steve Martinelli']",improve output os security group show improve security group rules output running os security group show command security group rule displayed separate line current output example openstack security group show default field value description default security group id 048a5fc33be1407dae479 name default projectid 3b96bb2020c1459da76963f9e rules uid5d81236798294340t new output example field value description default security group id 048a5fc33be1407dae479 name default projectid 3b96bb2020c1459da76963f9e rules id5d8123679829434095lt idee451d1cade349758elt changeid i1386075310896c58a2b776e2bbec3603bd00eff1 partialbug 1519511 relatedto blueprint neutronclient
https://review.opendev.org/260879,Fix the security group command,"This cmd has only following two parameters, but in the doc it seems three parameter [root@nsj1 ~]# nova help secgroup-create usage: nova secgroup-create <name> <description> Create a security group. Positional arguments: <name> Name of security group. <description> Description of security group. [root@nsj1 ~]# So I reduce a parameter in nova secgroup-create cli cmd. $ nova secgroup-create Group Name Description--->>I changed this line to : $ nova secgroup-create GroupName Description Change-Id: Ica8d8366debcfa4778563e67836a3d0c8c0dadc2",19460,shirleychen,"[3, 6116, 6547, 10497, 16237]","['Jenkins', 'li,chen', 'Andreas Jaeger', 'KATO Tomoyuki', 'venkatamahesh']",cmd following two parameters doc seems three parameter rootnsj1 nova help secgroupcreate usage nova secgroupcreate name description create security group positional arguments name name security group description description security group rootnsj1 reduce parameter nova secgroupcreate cli cmd nova secgroupcreate group name descriptioni changed line nova secgroupcreate groupname description changeid ica8d8366debcfa4778563e67836a3d0c8c0dadc2
https://review.opendev.org/260356,Clean security group code in plugin,"Clean security group code in plugin This cleans unneeded code in the plugin, when security groups are added, this code will need to be modified Change-Id: I0d027448c1645d0a9c27baf471082738c7e1a090",11343,Gal Sagie,"[3, 7805, 13070]","['Jenkins', 'Li Ma', 'Eran Gampel']",clean security group code plugin cleans unneeded code plugin security groups added code need modified changeid i0d027448c1645d0a9c27baf471082738c7e1a090
https://review.opendev.org/251242,XenAPI: Fix netwrap to support security group,"XenAPI: Support neutron security group This implementation is to give support on neutron security group with XenServer as compute driver. When using openvswitch, the ovs agent on compute node cannot execute some linux commands correctly due to xenserver driver lacking of such support Change-Id: I377f8ad51e1d2725c3e0153e64322055fcce7b54 Implements: blueprint xenserver-give-support-on-neutron-security-group",17922,Huan Xie,"[3, 1653, 5170, 6735, 6854, 7448, 7805, 9681, 10153, 10386, 14208, 14212, 14213, 14571, 14605, 15296, 15443, 15752, 16707, 17922, 18369]","['Jenkins', 'garyk', 'Microsoft Hyper-V CI', 'Bob Ball', 'YAMAMOTO Takashi', 'Carl Baldwin', 'Li Ma', 'Ryu CI', 'One Convergence CI', 'OpenDaylight CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'vikram.choudhary', 'Brocade Openstack CI', 'Cisco UCSM CI', 'Intel SR-IOV CI', 'Mohankumar', 'Huan Xie', '6WIND Networking CI']",xenapi support neutron security group implementation give support neutron security group xenserver compute driver using openvswitch ovs agent compute node execute linux commands correctly due xenserver driver lacking support changeid i377f8ad51e1d2725c3e0153e64322055fcce7b54 implements blueprint xenservergivesupportonneutronsecuritygroup
https://review.opendev.org/259844,[arch-design] Consolidating security content,[arch-design] Consolidating security content Consolidate and reorganise security content from the current guide to the draft guide. Change-Id: Icc8f997bfc6d3bb2560a2e7c7b29bbac48564bbf Implements: blueprint arch-guide-mitaka-reorg,10705,Darren Chan,"[3, 9382, 9383, 10086, 10497, 10607, 10705, 13995, 16237, 19819]","['Jenkins', 'Shilla Saebi', 'Chuck Burkett', 'Xav Paice', 'KATO Tomoyuki', 'Alexandra Settle', 'Darren Chan', 'Nate Johnston', 'venkatamahesh', 'Michael Richardson']",archdesign consolidating security content consolidate reorganise security content current guide draft guide changeid icc8f997bfc6d3bb2560a2e7c7b29bbac48564bbf implements blueprint archguidemitakareorg
https://review.opendev.org/738873,Add missing security context to Heat pods/containers,Implement helm-toolkit snippet to Heat pods/containers This updates the heat chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I7ba17382059dfc23ab125a49b2b302166915c350,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",implement helmtoolkit snippet heat podscontainers updates heat chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i7ba17382059dfc23ab125a49b2b302166915c350
https://review.opendev.org/741512,Add missing security context for Keystone rally tests,Add missing security context for Keystone rally tests Change-Id: I29a432f28a4d8dd57341152d60b34c5a391e872f,29144,PRATEEK REDDY DODDA,"[8863, 20466, 22348]","['Andrii Ostapenko', 'Tin Lam', 'Zuul']",add missing security context keystone rally tests changeid i29a432f28a4d8dd57341152d60b34c5a391e872f
https://review.opendev.org/738500,Add missing security context to Horizon test pods/containers,Implement helm-toolkit snippet to Horizon test pods/containers This updates the horizon chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 29298, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Jagan Mohan Kavva', 'Steven Fitzpatrick']",implement helmtoolkit snippet horizon test podscontainers updates horizon chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i2ccd920fa26aca2955afef8b71d56e55d1ae26e8
https://review.opendev.org/258030,Split out Neutron security groups client,Split out Neutron security groups client Splitting out a security groups client for Neutron. Partially implements blueprint consistent-service-method-names Change-Id: I88a43f44346671de5dfb759d07c4086cffa8d4d9,8001,John Warren,"[3, 6167, 8001, 8556, 8871, 9732, 10385]","['Jenkins', ""Ken'ichi Ohmichi"", 'John Warren', 'Ghanshyam', 'Elastic Recheck', 'Mellanox CI', 'Citrix XenServer CI']",split neutron security groups client splitting security groups client neutron partially implements blueprint consistentservicemethodnames changeid i88a43f44346671de5dfb759d07c4086cffa8d4d9
https://review.opendev.org/243154,Remove cretaed security group from shared resource,Remove cretaed security group from shared resource To avoid issues like LP1512692 remove security group from shared resources Also add secutiry group cleanup to NovaNetworkScenarioTest Change-Id: I929f8edafd98bbb73eb399db1c9cfb131b904406 Closes-Bug: #1512692,6719,tatyana-leontovich,"[3, 6719, 8882, 8971]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Fuel CI']",remove cretaed security group shared resource avoid issues like lp1512692 remove security group shared resources also add secutiry group cleanup novanetworkscenariotest changeid i929f8edafd98bbb73eb399db1c9cfb131b904406 closesbug 1512692
https://review.opendev.org/257907,Fixed the comments of port security group test,Fixed the comments of port security group test Change-Id: Ice4b5e7766eea181ebfd8b33104a2b3ae5512542,19118,Eran Kuris,"[3, 1921, 4727, 5803, 8576, 10068, 14885]","['Jenkins', 'Andrea Frittoli', 'Itzik Brown', 'Attila Fazekas', 'Yair Fried', 'Welcome, new contributor!', 'Daniel Mellado']",fixed comments port security group test changeid ice4b5e7766eea181ebfd8b33104a2b3ae5512542
https://review.opendev.org/256050,Rename references to compute security groups client,"Rename references to compute security groups client The single network client is being split out into multiple clients, one of which will be called SecurityGroupsClient. This patch renames references to the compute security groups client (security_groups_client changed to compute_security_groups_client) to avoid confusion or conflicts with the new neutron security groups client in code that will reference both the nova and neutron security groups clients. Partially implements blueprint consistent-service-method-names Change-Id: Ic454de109e646b070d37f2976b723a6f1d184874",8001,John Warren,"[3, 1921, 7350, 7428, 8001, 8871, 9732, 10385]","['Jenkins', 'Andrea Frittoli', 'Jordan Pittier', 'Yaroslav Lobankov', 'John Warren', 'Elastic Recheck', 'Mellanox CI', 'Citrix XenServer CI']",rename references compute security groups client single network client split multiple clients one called securitygroupsclient patch renames references compute security groups client securitygroupsclient changed computesecuritygroupsclient avoid confusion conflicts new neutron security groups client code reference nova neutron security groups clients partially implements blueprint consistentservicemethodnames changeid ic454de109e646b070d37f2976b723a6f1d184874
https://review.opendev.org/253103,Remote security group name not displayed for rule,Remote security group name not displayed for rule The 'security group rule list' command was updated to display the remote security group name for a security group rule. This was done via a new 'Remote Security Group' column. The output of the 'security group rule create' and 'security group show' commands was also updated to include 'remote_security_group' information instead of the raw 'group' information returned from the API layer. Change-Id: I5f9600338c8331966d2c658109a24b502c538106 Closes-Bug: #1520003,8410,Richard Theis,"[3, 970, 6482, 8410, 8736]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Richard Theis', 'Terry Howe']",remote security group name displayed rule security group rule list command updated display remote security group name security group rule done via new remote security group column output security group rule create security group show commands also updated include remotesecuritygroup information instead raw group information returned api layer changeid i5f9600338c8331966d2c658109a24b502c538106 closesbug 1520003
https://review.opendev.org/256630,Fix update_port for security group change when remote_group involved,"Fix update_port for security group change when remote_group involved When there are security group changes, update_port doesn't work properly: if there are security rules with remote-group, the acls related to other port of that remote-group not updated for the group membership change. This patch fixes the problem. Closes-bug: 1525360 Change-Id: I5cf13fcbbc12539d99d9cd034a595f231b96372c",11762,Han Zhou,"[3, 1561, 4395, 11343, 11762]","['Jenkins', 'Russell Bryant', 'Aaron Rosen', 'Gal Sagie', 'Han Zhou']",fix updateport security group change remotegroup involved security group changes updateport doesnt work properly security rules remotegroup acls related port remotegroup updated group membership change patch fixes problem closesbug 1525360 changeid i5cf13fcbbc12539d99d9cd034a595f231b96372c
https://review.opendev.org/253613,Create unit tests to test v4 and v6 security group rules,"Create unit tests to test v4 and v6 security group rules The branch for if classifier_type is model.Ipv4Classifier was not covered by a unit test, so a typo slipped through. My bad. Change-Id: Id1ec95d6131226ee8a0055e35f98c24b846499a4",4656,Sean M. Collins,"[3, 4656, 7244, 14605, 16788]","['Jenkins', 'Sean M. Collins', 'Victor Howard', 'vikram.choudhary', 'Ramanjaneya Reddy Palleti']",create unit tests test v4 v6 security group rules branch classifiertype modelipv4classifier covered unit test typo slipped bad changeid id1ec95d6131226ee8a0055e35f98c24b846499a4
https://review.opendev.org/253725,Add source security group support to create rule,Add source security group support to create rule The 'security group rule create' command was updated to support a source security group. Now either a source IP address block or source security group can be specified when creating a rule. The default remains the same. Change-Id: If57de2871810caddeeaee96482eb34146968e173 Closes-Bug: #1522969,8410,Richard Theis,"[3, 1941, 6482, 8410, 8736, 14937]","['Jenkins', 'Lin Hua Cheng', 'Steve Martinelli', 'Richard Theis', 'Terry Howe', 'Tang Chen']",add source security group support create rule security group rule create command updated support source security group either source ip address block source security group specified creating rule default remains changeid if57de2871810caddeeaee96482eb34146968e173 closesbug 1522969
https://review.opendev.org/741374,"Revert ""Improve security policy update rules with transactions""","Revert ""Improve security policy update rules with transactions"" This reverts commit a1c689b4182d36fc2936dd7d9781af32d369b39c. Change-Id: Ib888bc0adc46d555e2e386747f46ef9483a3f18d",261,Salvatore Orlando,"[261, 20363, 22348]","['Salvatore Orlando', 'Adit Sarfaty', 'Zuul']",revert improve security policy update rules transactions reverts commit a1c689b4182d36fc2936dd7d9781af32d369b39c changeid ib888bc0adc46d555e2e386747f46ef9483a3f18d
https://review.opendev.org/741363,"Revert ""Improve security policy update rules with transactions""","Revert ""Improve security policy update rules with transactions"" This reverts commit a1c689b4182d36fc2936dd7d9781af32d369b39c. Change-Id: Ib888bc0adc46d555e2e386747f46ef9483a3f18d",20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",revert improve security policy update rules transactions reverts commit a1c689b4182d36fc2936dd7d9781af32d369b39c changeid ib888bc0adc46d555e2e386747f46ef9483a3f18d
https://review.opendev.org/741362,"Revert ""Improve security policy update rules with transactions""","Revert ""Improve security policy update rules with transactions"" This reverts commit 650d58064fa8fd692e4d3912ac7d6c7697e7d21e. Change-Id: Id96378dbc86a2d76fd1f14197c21b2141a06620f",20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",revert improve security policy update rules transactions reverts commit 650d58064fa8fd692e4d3912ac7d6c7697e7d21e changeid id96378dbc86a2d76fd1f14197c21b2141a06620f
https://review.opendev.org/741361,"Revert ""Improve security policy update rules with transactions""","Revert ""Improve security policy update rules with transactions"" This reverts commit 3ddc9e865ca63a96555dc731ea8a931e146fb79c. Change-Id: I512067a33abaf61f7ff98b878adf6307724bfd44",20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",revert improve security policy update rules transactions reverts commit 3ddc9e865ca63a96555dc731ea8a931e146fb79c changeid i512067a33abaf61f7ff98b878adf6307724bfd44
https://review.opendev.org/738422,Improve security policy update rules with transactions,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules. This is expected to have better performance on the NSX side. Change-Id: I213616a8b47f11adb1a897568746885f3e77078c,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",improve security policy update rules transactions use policy rules attribute instead adding child rules expected better performance nsx side changeid i213616a8b47f11adb1a897568746885f3e77078c
https://review.opendev.org/738423,Improve security policy update rules with transactions,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules. This is expected to have better performance on the NSX side. Change-Id: I213616a8b47f11adb1a897568746885f3e77078c,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",improve security policy update rules transactions use policy rules attribute instead adding child rules expected better performance nsx side changeid i213616a8b47f11adb1a897568746885f3e77078c
https://review.opendev.org/737491,Improve security policy update rules with transactions,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules. This is expected to have better performance on the NSX side. Change-Id: I213616a8b47f11adb1a897568746885f3e77078c,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",improve security policy update rules transactions use policy rules attribute instead adding child rules expected better performance nsx side changeid i213616a8b47f11adb1a897568746885f3e77078c
https://review.opendev.org/741094,Add wait_until_realized for security policies,Add wait_until_realized for security policies Change-Id: I4ca75c8f419252ab14a4b510d0a47968c3ba16b9,20363,Adit Sarfaty,"[20363, 22348]","['Adit Sarfaty', 'Zuul']",add waituntilrealized security policies changeid i4ca75c8f419252ab14a4b510d0a47968c3ba16b9
https://review.opendev.org/738769,[OVN] Fix db-sync-util Traceback when port security not enabled,[OVN] Fix db-sync-util Traceback when port security not enabled Change-Id: Id1ed2922a908148b2b271bd28cc974ef424530d5 Closes-Bug: #1882061 (cherry picked from commit 58d1d0dbddd3299537f67b0fdee906918fd4bb6f),13686,Frode Nordahl,"[1131, 13686, 13995, 21798, 22348, 26622]","['Brian Haley', 'Frode Nordahl', 'Nate Johnston', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",ovn fix dbsyncutil traceback port security enabled changeid id1ed2922a908148b2b271bd28cc974ef424530d5 closesbug 1882061 cherry picked commit 58d1d0dbddd3299537f67b0fdee906918fd4bb6f
https://review.opendev.org/741093,Add wait_until_realized for security policies,Add wait_until_realized for security policies Change-Id: I4ca75c8f419252ab14a4b510d0a47968c3ba16b9,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",add waituntilrealized security policies changeid i4ca75c8f419252ab14a4b510d0a47968c3ba16b9
https://review.opendev.org/741089,Add wait_until_realized for security policies,Add wait_until_realized for security policies Change-Id: I4ca75c8f419252ab14a4b510d0a47968c3ba16b9,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",add waituntilrealized security policies changeid i4ca75c8f419252ab14a4b510d0a47968c3ba16b9
https://review.opendev.org/728604,Add security service to share networks,Add security service to share networks This patch adds dynamic security service configuration when provided in the new manila-tempest-plugin dictopt. With this patch the manila-tempest-plugin will be able to perform tests using real security services configurations provided by the administrator in a new config option called 'share_security_service'. Change-Id: I544d415f51cd9fa9daae0010dd9d9c5d0dde516b Closes-Bug: #1699856,30998,Andre Luiz Beltrami Rocha,"[9003, 12017, 14624, 16643, 21884, 22348, 25243, 30002, 30998]","['Tom Barron', 'DellEMC VNX CI', 'Sam Wan', 'Goutham Pacha Ravi', 'DellEMC Unity CI', 'Zuul', 'NetApp CI', 'Douglas Viroel', 'Andre Luiz Beltrami Rocha']",add security service share networks patch adds dynamic security service configuration provided new manilatempestplugin dictopt patch manilatempestplugin able perform tests using real security services configurations provided administrator new config option called sharesecurityservice changeid i544d415f51cd9fa9daae0010dd9d9c5d0dde516b closesbug 1699856
https://review.opendev.org/740100,Add missing security context to Ranger pods/containers,Add missing security context to Ranger pods/containers This updates the Ranger chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ic06caec81015ac04fb162d8c2482da6b2329e204,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29131, 29144, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Steven Fitzpatrick']",add missing security context ranger podscontainers updates ranger chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid ic06caec81015ac04fb162d8c2482da6b2329e204
https://review.opendev.org/738690,Add missing security context to Barbican test pods/containers,Implement helm-toolkit snippet to Barbican test pods/containers This updates the barbican chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ibb85435c1fa9fe577bc7a14d97e0acaf9b9513a2,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",implement helmtoolkit snippet barbican test podscontainers updates barbican chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid ibb85435c1fa9fe577bc7a14d97e0acaf9b9513a2
https://review.opendev.org/738680,Add missing security context to Glance pods/containers,Implement helm-toolkit snippet to Horizon pods/containers This updates the horizon chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I49ac688fa9cb73ddbc215198c74fae26f503cb51,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",implement helmtoolkit snippet horizon podscontainers updates horizon chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i49ac688fa9cb73ddbc215198c74fae26f503cb51
https://review.opendev.org/738895,Add missing security context to Cinder pods/containers,Implement helm-toolkit snippet to Cinder pods/containers This updates the Cinder chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: If17af3e3dba188a43ed11a0d5757fcae9f5358e8,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 29298, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Jagan Mohan Kavva', 'Steven Fitzpatrick']",implement helmtoolkit snippet cinder podscontainers updates cinder chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid if17af3e3dba188a43ed11a0d5757fcae9f5358e8
https://review.opendev.org/740383,Add missing security context to Keystone pods/containers,Add missing security context to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true. Change-Id: I2ac3a4efa6798e263de19f0db444f37c5236d121,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29161, 29298, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Rahul Khiyani', 'Jagan Mohan Kavva', 'Steven Fitzpatrick']",add missing security context keystone podscontainers updates keystone chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i2ac3a4efa6798e263de19f0db444f37c5236d121
https://review.opendev.org/739123,Add missing security context to Neutron pods/containers,Implement helm-toolkit snippet to Neutron pods/containers This updates the Nova chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I50ccec785eb3b18d6c00df2ad5f566a72db4604d,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",implement helmtoolkit snippet neutron podscontainers updates nova chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i50ccec785eb3b18d6c00df2ad5f566a72db4604d
https://review.opendev.org/739070,Add missing security context to Nova pods/containers,Implement helm-toolkit snippet to Nova pods/containers This updates the Nova chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I3ba6fcf0cc6ff97a306866f2d2b408635519ff02,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 29298, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Jagan Mohan Kavva', 'Steven Fitzpatrick']",implement helmtoolkit snippet nova podscontainers updates nova chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i3ba6fcf0cc6ff97a306866f2d2b408635519ff02
https://review.opendev.org/739866,Add missing security context to Ranger-Agent pods/containers,Add missing security context to Ranger-Agent pods/containers This updates the ranger-agent chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I9fe5d96958805ae9634521604845411d904d8458,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29131, 29144, 30777]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Steven Fitzpatrick']",add missing security context rangeragent podscontainers updates rangeragent chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i9fe5d96958805ae9634521604845411d904d8458
https://review.opendev.org/249529,Add description of security group and rules,Add description of security group and rules Change-Id: I54883ca6352390447b6955fd3c4717f2335b2b71 Closes-Bug: #1275316,2448,Diane Fleming,"[3, 612, 964, 2448, 10497, 14947, 15293, 17207]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Diane Fleming', 'KATO Tomoyuki', 'Maria Zlatkova', 'Karen Bradshaw', 'Atsushi SAKAI']",add description security group rules changeid i54883ca6352390447b6955fd3c4717f2335b2b71 closesbug 1275316
https://review.opendev.org/252500,Implement ClassifierGroup and Security Group conversions,[WIP] Convert a ClassifierGroup to a Security Group Change-Id: Ib7d5d83b0c06ad326d100d55a506262dbfc520b3,4656,Sean M. Collins,"[3, 4656, 14605, 16788, 18602]","['Jenkins', 'Sean M. Collins', 'vikram.choudhary', 'Ramanjaneya Reddy Palleti', 'Gábor Antal']",wip convert classifiergroup security group changeid ib7d5d83b0c06ad326d100d55a506262dbfc520b3
https://review.opendev.org/201120,Add Bandit to tox for security static analysis,Add Bandit to tox for security static analysis Bandit is a tool designed to find common security issues in Python code. This change adds a bandit target to tox.ini. The config file bandit.yaml is borrowed from [1]. Run bandit: tox -e bandit [1] https://github.com/openstack/bandit/blob/master/bandit/config/bandit.yaml Change-Id: I3bd64e1e58d4dc460ce869c50818e9913fe1b9b8,7293,Elena Ezhova,"[3, 5638, 6486, 7293, 8122, 9107, 9796]","['Jenkins', 'Davanum Srinivas', 'Brant Knudson', 'Elena Ezhova', 'Cyril Roelandt', 'Victor Stinner', 'ChangBo Guo(gcb)']",add bandit tox security static analysis bandit tool designed find common security issues python code change adds bandit target toxini config file bandityaml borrowed 1 run bandit tox e bandit 1 httpsgithubcomopenstackbanditblobmasterbanditconfigbandityaml changeid i3bd64e1e58d4dc460ce869c50818e9913fe1b9b8
https://review.opendev.org/252005,Docs: Classifier example for a Security Group Rule,Docs: Classifier example for a Security Group Rule Change-Id: I33c5f0fb91fd22a85fe7feaa789f42b9fb33616d,4656,Sean M. Collins,"[3, 4656, 7244]","['Jenkins', 'Sean M. Collins', 'Victor Howard']",docs classifier example security group rule changeid i33c5f0fb91fd22a85fe7feaa789f42b9fb33616d
https://review.opendev.org/249117,Change security group ID from uuid to int,"Change security group type from uuid to int security group id is not uuid, it's a int. All the occurance of security-group are changed. Partial-Bug: #1515222 Change-Id: Ia6ec855ac85442b1a369bac34f7680991145b5f9",6062,jichencom,"[3, 2448]","['Jenkins', 'Diane Fleming']",change security group type uuid int security group id uuid int occurance securitygroup changed partialbug 1515222 changeid ia6ec855ac85442b1a369bac34f7680991145b5f9
https://review.opendev.org/249830,Refactor: Order of security group class names,"Refactor: Order of security group class names Per comment in [1], refactor the security group class names to be in alphabetical order. [1] https://review.openstack.org/#/c/249223 Change-Id: If28a153cdab57c0659ff5c78b276766d4043467f",8410,Richard Theis,"[3, 6482, 8736]","['Jenkins', 'Steve Martinelli', 'Terry Howe']",refactor order security group class names per comment 1 refactor security group class names alphabetical order 1 httpsreviewopenstackorgc249223 changeid if28a153cdab57c0659ff5c78b276766d4043467f
https://review.opendev.org/249223,Doc: Add security group and security group rule,"Doc: Add security group and security group rule Add missing command list documentation for the 'security group' and 'security group rule' commands. In addition, update the command description and argument help to fix minor issues and use consistent terminology. Change-Id: I9f4a3fbac5637289f19511874e16391d3fe27132",8410,Richard Theis,"[3, 1941, 6482, 8410, 8736]","['Jenkins', 'Lin Hua Cheng', 'Steve Martinelli', 'Richard Theis', 'Terry Howe']",doc add security group security group rule add missing command list documentation security group security group rule commands addition update command description argument help fix minor issues use consistent terminology changeid i9f4a3fbac5637289f19511874e16391d3fe27132
https://review.opendev.org/248259,Do not allow security group rule update,Do not allow security group rule update Neutron does not allow security group rules to be updated. This patch set removes the update support for security group rules. Change-Id: I8748a7a274b3cbcbf4fc45598d8018ccaf95b082 Closes-Bug: #1464752,8410,Richard Theis,"[3, 8736]","['Jenkins', 'Terry Howe']",allow security group rule update neutron allow security group rules updated patch set removes update support security group rules changeid i8748a7a274b3cbcbf4fc45598d8018ccaf95b082 closesbug 1464752
https://review.opendev.org/740071,Add security context from snippet for tungstenfabric container,Add security context from snippet for tungstenfabric container Change-Id: I4db982e8f600288ec954d4c019f096bd8dcd7e52 Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>,8863,Andrii Ostapenko,"[8863, 8898, 20466, 21420, 22348, 29144, 30551, 30777, 32056]","['Andrii Ostapenko', 'Chris Wedgwood', 'Tin Lam', 'Gage Hugo', 'Zuul', 'PRATEEK REDDY DODDA', 'Oleg Bravo', 'Steven Fitzpatrick', 'Ivan Timofeev']",add security context snippet tungstenfabric container changeid i4db982e8f600288ec954d4c019f096bd8dcd7e52 signedoffby andrii ostapenko andriiostapenkoattcom
https://review.opendev.org/740104,Add missing security context to Sonobuoy pods/containers,Add missing security context to Sonobuoy pods/containers This updates the sonobuoy chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I0964c9809402635c9a7049b61fb954a4ebf01bb1,29144,PRATEEK REDDY DODDA,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Steven Fitzpatrick']",add missing security context sonobuoy podscontainers updates sonobuoy chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i0964c9809402635c9a7049b61fb954a4ebf01bb1
https://review.opendev.org/739630,Add missing security context to elasticsearch pods/containers,Add missing security context to elasticsearch pods/containers This updates the elasticsearch chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c,29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 29144, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Steven Fitzpatrick']",add missing security context elasticsearch podscontainers updates elasticsearch chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i8d1057f242b741fd297eca7475eb3bfb5e383f1c
https://review.opendev.org/247787,"BVS-4833, add missig api from listening to security group updates","BVS-4833, add missig api from listening to security group updates Change-Id: Ifc29a2a3cddf346f7d6e76fe6acfc3459338b2e6",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs4833 add missig api listening security group updates changeid ifc29a2a3cddf346f7d6e76fe6acfc3459338b2e6
https://review.opendev.org/247759,"BVS-4833, add missig api from listening to security group updates","BVS-4833, add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843 (cherry picked from commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2)",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs4833 add missig api listening security group updates changeid i9532fa321b0493f2601c69b981a58114acf9e843 cherry picked commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2
https://review.opendev.org/247760,"BVS-4833, add missig api from listening to security group updates","BVS-4833, add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843 (cherry picked from commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2)",15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",bvs4833 add missig api listening security group updates changeid i9532fa321b0493f2601c69b981a58114acf9e843 cherry picked commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2
https://review.opendev.org/247287,"BVS-4833, add missig api from listening to security group updates","BVS-4833, add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843",15342,xin wu,"[3, 7787, 15342]","['Jenkins', 'Kevin Benton', 'xin wu']",bvs4833 add missig api listening security group updates changeid i9532fa321b0493f2601c69b981a58114acf9e843
https://review.opendev.org/246571,[Kubernetes] Fix cAdvisor port was not added to security group,[Kubernetes] Fix cAdvisor port was not added to security group Change-Id: I0dd421b918c4bf7c85e9e75404f3876f9328c310 Closes-Bug: #1498879 (cherry picked from commit d8c5139b8af4107cf15c3330bcae8dcb18d6397a),13149,Dmytro Dovbii,"[3, 7225, 7549]","['Jenkins', 'Serg Melikyan', 'Ekaterina Chernova']",kubernetes fix cadvisor port added security group changeid i0dd421b918c4bf7c85e9e75404f3876f9328c310 closesbug 1498879 cherry picked commit d8c5139b8af4107cf15c3330bcae8dcb18d6397a
https://review.opendev.org/246384,Make libvirt migration security configurable,Make libvirt migration security configurable Adding flags to choose between tls/tcp connections as well as sasl/none authentication when configuring libvirt migration. This allows to deploy proper libvirt security in combination with the nova::compute class. Change-Id: Ib479a1f4cd2df0d55347ed71fb8f0ab69aaeceef (cherry picked from commit 1383cee7d46c5c6b6c83bed194822c846b10782d),3153,Emilien Macchi,"[3, 7155, 7745, 9410, 11479, 11491, 14985]","['Jenkins', 'Sebastien Badia', 'Denis Egorenko', 'Yanis Guenane', 'David Gurtner', 'Gael Chamoulaud', 'Alex Schultz']",make libvirt migration security configurable adding flags choose tlstcp connections well saslnone authentication configuring libvirt migration allows deploy proper libvirt security combination novacompute class changeid ib479a1f4cd2df0d55347ed71fb8f0ab69aaeceef cherry picked commit 1383cee7d46c5c6b6c83bed194822c846b10782d
https://review.opendev.org/171877,Make libvirt migration security configurable,Refactor libvirt migration to be configurable Adding flags to choose between tls/tcp connections as well as sasl/none authentication when configuring libvirt migration. This allows to deploy proper libvirt security in combination with the nova::compute class. Change-Id: Ib479a1f4cd2df0d55347ed71fb8f0ab69aaeceef,11479,David Gurtner,"[3, 3153, 6926, 7155, 7156, 8482, 11479, 11491, 15313]","['Jenkins', 'Emilien Macchi', 'Bogdan Dobrelya', 'Sebastien Badia', 'Mathieu Gagné', 'Colleen Murphy', 'David Gurtner', 'Gael Chamoulaud', 'Toby Oxborrow']",refactor libvirt migration configurable adding flags choose tlstcp connections well saslnone authentication configuring libvirt migration allows deploy proper libvirt security combination novacompute class changeid ib479a1f4cd2df0d55347ed71fb8f0ab69aaeceef
https://review.opendev.org/240385,Adding Security Checklist,Adding Security Checklist Adding separate section on Neutron checklists. Added bunch of checks on how to harden configuration files and set certain configuration keys for secured communication. Change-Id: I8a336d57ee38d47d2b24f276a023dd16e109efd9,10281,Priti Desai,"[3, 704, 1923, 6785, 7063, 9162, 9970, 10281, 10670, 12325]","['Jenkins', 'Edgar Magana', 'Mohammad Banikazemi', 'Rudrajit Tapadar', 'Robert Clark', 'Lana Brindley', 'John Kasperski', 'Priti Desai', 'Michael McCune', 'Nathaniel Dillon']",adding security checklist adding separate section neutron checklists added bunch checks harden configuration files set certain configuration keys secured communication changeid i8a336d57ee38d47d2b24f276a023dd16e109efd9
https://review.opendev.org/241611,Add team:diverse-affiliation to Security and OSC,Add team:diverse-affiliation to Security and OSC Security now has a diverse affiliation: Security (48.35% | 27.57% | 30.07% | 26.32%) (58.88% | 53.91% | 55.91% | 42.11%) ( 17 | 15) OpenStack Client now has diverse affiliation too: OpenStack client (35.26% | 35.20% | 43.06% | 45.45%) (65.53% | 63.96% | 71.26% | 72.73%) ( 9 | 8) Change-Id: I531e0ebaaae9e2dfb7bd78f0590612b12433b362,308,Thierry Carrez,"[3, 105, 308, 1561, 2472, 11561]","['Jenkins', 'Kyle Mestery', 'Thierry Carrez', 'Russell Bryant', 'Doug Hellmann', 'Dave McCowan']",add teamdiverseaffiliation security osc security diverse affiliation security 4835 2757 3007 2632 5888 5391 5591 4211 17 15 openstack client diverse affiliation openstack client 3526 3520 4306 4545 6553 6396 7126 7273 9 8 changeid i531e0ebaaae9e2dfb7bd78f0590612b12433b362
https://review.opendev.org/244436,minor change to shared file sys security services file,minor change to shared file sys security services file corrected a typo associated Change-Id: Ic190a0afe760734ca51ea2a687b5d0a24d5e1e4f,9382,Shilla Saebi,"[3, 6547, 10497, 16237, 18906]","['Jenkins', 'Andreas Jaeger', 'KATO Tomoyuki', 'venkatamahesh', 'Muneeb Ahmad']",minor change shared file sys security services file corrected typo associated changeid ic190a0afe760734ca51ea2a687b5d0a24d5e1e4f
https://review.opendev.org/239300,Add test for security error with no message,"Add test for security error with no message A test is added that shows that when no message is given to a SecurityError the resulting string is the same whether debug is enabled or not, it's just got some extra text that says that disabling debug will change the message when it won't. Change-Id: I40c899e48205e27e46a9af709fe94ef92492e0c0 Partial-Bug: 1496530",6486,Brant Knudson,"[3, 5046, 8978]","['Jenkins', 'Lance Bragstad', 'Marek Denis']",add test security error message test added shows message given securityerror resulting string whether debug enabled got extra text says disabling debug change message wont changeid i40c899e48205e27e46a9af709fe94ef92492e0c0 partialbug 1496530
https://review.opendev.org/240370,Adding Security Checklist,Adding Security Checklist Adding separate section on Horizon checklists. Added bunch of checks on how to harden configuration files and set certain configuration keys for secured communication. Change-Id: I67e8eca6acd8f3263ddc7a8f4a730a3bf271ff06 Partial-Bug: #1342993,10281,Priti Desai,"[3, 6547, 7179, 9162, 10281, 10497, 10670, 12325]","['Jenkins', 'Andreas Jaeger', 'Brad Pokorny', 'Lana Brindley', 'Priti Desai', 'KATO Tomoyuki', 'Michael McCune', 'Nathaniel Dillon']",adding security checklist adding separate section horizon checklists added bunch checks harden configuration files set certain configuration keys secured communication changeid i67e8eca6acd8f3263ddc7a8f4a730a3bf271ff06 partialbug 1342993
https://review.opendev.org/237065,Adding security pulse testcases,Adding security pulse testcases Change-Id: I55597ec84868d1263b0db934802b1c70ad7b9374,13318,Ramaraja,"[3, 15237]","['Jenkins', 'Anand Shanmugam']",adding security pulse testcases changeid i55597ec84868d1263b0db934802b1c70ad7b9374
https://review.opendev.org/240848,Added security test cases for password encryption check,Added security test cases for password encryption check Change-Id: I569d3a153a66d348e7931f8787a55a9edc0aebdd,18719,Kiruba,"[3, 15237]","['Jenkins', 'Anand Shanmugam']",added security test cases password encryption check changeid i569d3a153a66d348e7931f8787a55a9edc0aebdd
https://review.opendev.org/240846,Added security test cases for log files,Added security test cases for log files Change-Id: I07e547a4c2d6af7a3eb4f489cbab11dc89eadc94,18719,Kiruba,"[3, 10068, 15237]","['Jenkins', 'Welcome, new contributor!', 'Anand Shanmugam']",added security test cases log files changeid i07e547a4c2d6af7a3eb4f489cbab11dc89eadc94
https://review.opendev.org/243336,Continuous systems management in Security Guide,"Continuous systems management in Security Guide In References section The ""OpenStack Security Primer"" has a link where the music piracy blog doesn't exist. The owner took it down. So this fix is to remove the reference to it. Change-Id: I206c249af1bc27732dd07489ccb8d687fe3343b7 Closes-bug: #1510806",18460,Jaiveek Shah,"[3, 10497, 12325]","['Jenkins', 'KATO Tomoyuki', 'Nathaniel Dillon']",continuous systems management security guide references section openstack security primer link music piracy blog doesnt exist owner took fix remove reference changeid i206c249af1bc27732dd07489ccb8d687fe3343b7 closesbug 1510806
https://review.opendev.org/243280,Fixes IPv6 Security Group rules with 128 prefix length,Fixes IPv6 Security Group rules with 128 prefix length Hyper-V cannot add Extended ACLs which have /128 IPv6 IP addresses in the RemoteIPAddress field. Removes the /128 length from the remote_address field. Change-Id: I9581740b7af58116e40cd094a813170b46de1623 Closes-Bug: #1505578 (cherry picked from commit 00773fc26e7bae9ac9440a530e37bd88b86a3791),8213,Claudiu Belu,"[3, 5170, 8213]","['Jenkins', 'Microsoft Hyper-V CI', 'Claudiu Belu']",fixes ipv6 security group rules 128 prefix length hyperv add extended acls 128 ipv6 ip addresses remoteipaddress field removes 128 length remoteaddress field changeid i9581740b7af58116e40cd094a813170b46de1623 closesbug 1505578 cherry picked commit 00773fc26e7bae9ac9440a530e37bd88b86a3791
https://review.opendev.org/243111,Fixes IPv6 Security Group rules with 128 prefix length,Fixes IPv6 Security Group rules with 128 prefix length Hyper-V cannot add Extended ACLs which have /128 IPv6 IP addresses in the RemoteIPAddress field. Removes the /128 length from the remote_address field. Change-Id: I9581740b7af58116e40cd094a813170b46de1623 Closes-Bug: #1505578,8213,Claudiu Belu,"[3, 5170, 8543, 12604]","['Jenkins', 'Microsoft Hyper-V CI', 'Lucian Petrut', 'Adelina Tuvenie']",fixes ipv6 security group rules 128 prefix length hyperv add extended acls 128 ipv6 ip addresses remoteipaddress field removes 128 length remoteaddress field changeid i9581740b7af58116e40cd094a813170b46de1623 closesbug 1505578
https://review.opendev.org/231546,Added a Security Guide for the Shared File Systems service,WIP: Added Security Guide for the Shared File Systems service Added a security guide for Shared File Systems service. Change-Id: I99eee1ac641a31bf39d2f9fd8669e2002d146697 Closes-Bug: #1503334,16433,Ievgeniia Zadorozhna,"[3, 612, 6547, 6772, 8851, 9377, 10497, 10670, 10705, 11931, 12325, 13962, 14232, 16433, 17106]","['Jenkins', 'Tom Fifield', 'Andreas Jaeger', 'Stephen Gordon', 'Valeriy Ponomaryov', 'Sergey Slipushenko', 'KATO Tomoyuki', 'Michael McCune', 'Darren Chan', 'Maxim Usichenko', 'Nathaniel Dillon', 'Victor Ryzhenkin (freerunner)', 'Igor Malinovskiy', 'Ievgeniia Zadorozhna', 'IanSun']",wip added security guide shared file systems service added security guide shared file systems service changeid i99eee1ac641a31bf39d2f9fd8669e2002d146697 closesbug 1503334
https://review.opendev.org/240707,Disable security for Oozie in Ambari,Disable security for Oozie in Ambari Temporary disable security for Oozie in Ambari plugin. That returned again when Sahara Oozie client will be able to authenticate. Change-Id: I661e2cf55243c661103c807e5fba7ad74978f215,12038,Vitaly Gridnev,"[3, 7213, 7710, 8090, 9382, 12038, 12039, 13919, 13953]","['Jenkins', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Chad Roberts', 'Shilla Saebi', 'Vitaly Gridnev', 'Andrey Pavlov', 'Evgeny Sikachev', 'Elise Gafford']",disable security oozie ambari temporary disable security oozie ambari plugin returned sahara oozie client able authenticate changeid i661e2cf55243c661103c807e5fba7ad74978f215
https://review.opendev.org/739623,Add missing security context to ceph-rgw and ceph-osd pods/containers,Add missing security context to ceph-rgw test pods/containers This updates the ceph-rgw chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1,29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 20466, 21420, 22348, 22477, 23928, 28372, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'chinasubbareddy mallavarapu', 'Rahul Khiyani', 'Steven Fitzpatrick']",add missing security context cephrgw test podscontainers updates cephrgw chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i1b78b7a0fc413acdb5ea2dc295a0026616d7cac1
https://review.opendev.org/739852,Add missing security context to promethues and postgresql pods/containers,Add missing security context to promethues and postgresql pods/containers This updates the chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709,29161,Rahul Khiyani,"[8863, 8898, 20466, 21420, 22348, 23928, 29161, 30777]","['Andrii Ostapenko', 'Chris Wedgwood', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Pete Birley', 'Rahul Khiyani', 'Steven Fitzpatrick']",add missing security context promethues postgresql podscontainers updates chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid icb7a9de4d98bac1f0bcf6181b6e88695f4b09709
https://review.opendev.org/241180,[arch-design] Convert Legal and Security to RST,[arch-design] Convert Legal and Security to RST Change-Id: Iefb86a87bd939c894bd31af34e8cc750214d58c1 Implements: blueprint archguide-mitaka-rst,10497,KATO Tomoyuki,"[3, 9382, 10497, 14962]","['Jenkins', 'Shilla Saebi', 'KATO Tomoyuki', 'ologvinova']",archdesign convert legal security rst changeid iefb86a87bd939c894bd31af34e8cc750214d58c1 implements blueprint archguidemitakarst
https://review.opendev.org/240933,Set security group provider rule for icmpv6 RA in DVR,Set security group provider rule for icmpv6 RA in DVR Security group provider rules for RA is set for the VM ports when a router interface is added or updated after the VM instance is created. In the case of DVR Routers the security group provider rule to allow the RA packets to flow through the VM port input chain was missing and so the VM was not able to get a SLAAC/DHCP address when associated with a DVR Router. This fix will add the security group rule to the VM port input chain to allow the RA packets to flow into the VM and hence the VM will obtain an IP address assigned by the Router. Closes-Bug: #1501969 Conflicts: neutron/db/securitygroups_rpc_base.py Change-Id: Ib0b3499d9c880fe1462734b2d4092debf4819509,9656,Ihar Hrachyshka,"[3, 105, 1131, 5170, 7016, 7787, 9681, 10153, 10692, 14208, 14212, 14213, 14323, 14571, 15296, 15443]","['Jenkins', 'Kyle Mestery', 'Brian Haley', 'Microsoft Hyper-V CI', 'Swaminathan Vasudevan', 'Kevin Benton', 'Ryu CI', 'One Convergence CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco UCSM CI']",set security group provider rule icmpv6 ra dvr security group provider rules ra set vm ports router interface added updated vm instance created case dvr routers security group provider rule allow ra packets flow vm port input chain missing vm able get slaacdhcp address associated dvr router fix add security group rule vm port input chain allow ra packets flow vm hence vm obtain ip address assigned router closesbug 1501969 conflicts neutrondbsecuritygroupsrpcbasepy changeid ib0b3499d9c880fe1462734b2d4092debf4819509
https://review.opendev.org/240768,Add help text for IPv6 security roles,"Add help text for IPv6 security roles Implementation is already there, it still missed an example or help text. Change-Id: I468d5408869c7396a3ac4f0288d6d4684089cc7a",4264,Matthias Runge,"[3, 6610, 6914]","['Jenkins', 'Zhenguo Niu', 'Tatiana Ovchinnikova']",add help text ipv6 security roles implementation already still missed example help text changeid i468d5408869c7396a3ac4f0288d6d4684089cc7a
https://review.opendev.org/238990,Set security group provider rule for icmpv6 RA in DVR,Set security group provider rule for icmpv6 RA in DVR Security group provider rules for RA is set for the VM ports when a router interface is added or updated after the VM instance is created. In the case of DVR Routers the security group provider rule to allow the RA packets to flow through the VM port input chain was missing and so the VM was not able to get a SLAAC/DHCP address when associated with a DVR Router. This fix will add the security group rule to the VM port input chain to allow the RA packets to flow into the VM and hence the VM will obtain an IP address assigned by the Router. Closes-Bug: #1501969 Change-Id: Ib0b3499d9c880fe1462734b2d4092debf4819509 (cherry picked from commit a7dc528c1860f6a325a36bb7c633c60b635fc9a6),8873,Assaf Muller,"[3, 105, 1131, 5170, 7016, 7249, 7787, 8976, 9681, 10153, 10692, 14208, 14212, 14213, 14571, 15296, 15443, 18573]","['Jenkins', 'Kyle Mestery', 'Brian Haley', 'Microsoft Hyper-V CI', 'Swaminathan Vasudevan', 'Ann Taraday', 'Kevin Benton', 'shihanzhang', 'Ryu CI', 'One Convergence CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco UCSM CI', 'Petri Kemppainen']",set security group provider rule icmpv6 ra dvr security group provider rules ra set vm ports router interface added updated vm instance created case dvr routers security group provider rule allow ra packets flow vm port input chain missing vm able get slaacdhcp address associated dvr router fix add security group rule vm port input chain allow ra packets flow vm hence vm obtain ip address assigned router closesbug 1501969 changeid ib0b3499d9c880fe1462734b2d4092debf4819509 cherry picked commit a7dc528c1860f6a325a36bb7c633c60b635fc9a6
https://review.opendev.org/240211,Fix paths to updates and security repositories According to a new scheme of repos,Fix paths to updates and security repositories According to a new scheme of repos Change-Id: I1b78a50603cfbb0d2f7b4aba455e31aa861aedd9 Related-Bug: #1482710,3009,Vladimir Kozhukalov,"[3, 8749, 8971, 10391, 12200, 16518, 18205]","['Jenkins', 'Evgeniy L', 'Fuel CI', 'Ihor Kalnytskyi', 'Sebastian Kalinowski', 'Alexey Shtokolov', 'Bulat Gaifullin']",fix paths updates security repositories according new scheme repos changeid i1b78a50603cfbb0d2f7b4aba455e31aa861aedd9 relatedbug 1482710
https://review.opendev.org/229559,Add Neutron Security Groups scenarios,Add Neutron Security Groups scenarios This patch adds the following scenarios: * Create and list Neutron security groups * Create and delete Neutron security groups * Create and update Neutron security groups Change-Id: Icd452f92a2be645354eb8f2f9c61ad57328f1863,14884,Kiran Ranganath,"[3, 167, 6835, 7369, 10475, 11748, 14817, 14884]","['Jenkins', 'Christian Berendt', 'Kun Huang', 'Sergey Skripnick', 'Alexander Maretskiy', 'Chris St. Pierre', 'Mirantis Rally CI', 'Kiran Ranganath']",add neutron security groups scenarios patch adds following scenarios create list neutron security groups create delete neutron security groups create update neutron security groups changeid icd452f92a2be645354eb8f2f9c61ad57328f1863
https://review.opendev.org/239141,expand security groups in get_hostvars_from_server,expand security groups in get_hostvars_from_server Add a call to `list_server_security_groups` to `meta.get_hostvars_from_server. This replaces the minimal list of security group names with detailed information that includes security group ids. Change-Id: I5a01b37efd5520205c6ce94f0fdc4c09f75053c2,8745,Lars Kellogg-Stedman,"[2, 3, 3099, 6488, 8745]","['Monty Taylor', 'Jenkins', 'David Shrewsbury', ""Clint 'SpamapS' Byrum"", 'Lars Kellogg-Stedman']",expand security groups gethostvarsfromserver add call listserversecuritygroups metagethostvarsfromserver replaces minimal list security group names detailed information includes security group ids changeid i5a01b37efd5520205c6ce94f0fdc4c09f75053c2
https://review.opendev.org/238842,Change in Configure access security for instances,Change in Configure access security for instances Updated key description Change-Id: Ia6f59f663bffa79d9c6b14bbf5b23d0d04dcd148 Closes-Bug:#1506985,18466,Syed Ahsan Shamim Zaidi,"[3, 8768, 10497, 10607, 12686, 14947, 17832, 18466]","['Jenkins', 'Chris Friesen', 'KATO Tomoyuki', 'Alexandra Settle', 'Brian Moss', 'Maria Zlatkova', 'Linette Williams', 'Syed Ahsan Shamim Zaidi']",change configure access security instances updated key description changeid ia6f59f663bffa79d9c6b14bbf5b23d0d04dcd148 closesbug1506985
https://review.opendev.org/237403,Set security group provider rule for icmpv6 RA in DVR,Set security group provider rule for icmpv6 RA in DVR Security group provider rules for RA is set for the VM ports when a router interface is added or updated after the VM instance is created. In the case of DVR Routers the security group provider rule to allow the RA packets to flow through the VM port input chain was missing and so the VM was not able to get a SLAAC/DHCP address when associated with a DVR Router. This fix will add the security group rule to the VM port input chain to allow the RA packets to flow into the VM and hence the VM will obtain an IP address assigned by the Router. Closes-Bug: #1501969 Change-Id: Ib0b3499d9c880fe1462734b2d4092debf4819509,7016,Swaminathan Vasudevan,"[3, 1131, 4656, 5170, 6524, 6685, 7016, 7448, 7787, 9681, 9845, 9970, 10153, 10386, 10635, 10692, 13667, 13734, 14208, 14212, 14213, 14571, 14615, 15443, 15736, 15752]","['Jenkins', 'Brian Haley', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Baodong (Robert) Li', 'Swaminathan Vasudevan', 'Carl Baldwin', 'Kevin Benton', 'Ryu CI', 'Arista CI', 'John Kasperski', 'One Convergence CI', 'OpenDaylight CI', 'Octavian Ciuhandu', 'Brocade Vyatta CI', 'ZongKai LI', 'Neil Jerram', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'Sergey Belous', 'Cisco UCSM CI', 'Ritesh Anand', 'Intel SR-IOV CI']",set security group provider rule icmpv6 ra dvr security group provider rules ra set vm ports router interface added updated vm instance created case dvr routers security group provider rule allow ra packets flow vm port input chain missing vm able get slaacdhcp address associated dvr router fix add security group rule vm port input chain allow ra packets flow vm hence vm obtain ip address assigned router closesbug 1501969 changeid ib0b3499d9c880fe1462734b2d4092debf4819509
https://review.opendev.org/233905,Caches Security Group Rule ACLs,"Caches Security Group Rule ACLs In order to avoid querying for the mentioned WMI objects, adds a cache for them, verifying the existence of the Security Group Rules using the cache instead. Partial-Bug: #1505196 Change-Id: I63d5984f3f9343e32e065f219567c4a821eb997b",8213,Claudiu Belu,"[3, 5170, 8213, 15882, 18598]","['Jenkins', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Victor Laza', 'Andrei Bacos']",caches security group rule acls order avoid querying mentioned wmi objects adds cache verifying existence security group rules using cache instead partialbug 1505196 changeid i63d5984f3f9343e32e065f219567c4a821eb997b
https://review.opendev.org/223817,Add security group support using OVN ACLs.,"wip: security group support This patch implements Neutron security groups by creating the appropriate ACLs in the OVN_Northbound database. It's currently a WIP because it depends on code not yet merged into OVN, and it still needs more testing. Change-Id: I71d59dcab3f8b52adb734308df7ac97e2fa0d1b4",1561,Russell Bryant,"[3, 105, 1561, 4395, 7448]","['Jenkins', 'Kyle Mestery', 'Russell Bryant', 'Aaron Rosen', 'Carl Baldwin']",wip security group support patch implements neutron security groups creating appropriate acls ovnnorthbound database currently wip depends code yet merged ovn still needs testing changeid i71d59dcab3f8b52adb734308df7ac97e2fa0d1b4
https://review.opendev.org/238007,"Never run Flask in debug mode, it poses a security risk","Never run Flask in debug mode, it poses a security risk Change-Id: I0c0c192bc75f42cfb070059f1764a0837ae956bb Closes-Bug: #1506419",10239,Dmitry Tantsur,"[3, 10239]","['Jenkins', 'Dmitry Tantsur']",never run flask debug mode poses security risk changeid i0c0c192bc75f42cfb070059f1764a0837ae956bb closesbug 1506419
https://review.opendev.org/232088,"V-3851{1,2,3}, V-38686: IPv4 security controls","V-3851{1,2,3}: IPv4 security controls Mainly a documentation commit with one special case and two exceptions. Change-Id: Ib9607f6df8aaed63b494a7f87af33cb7d3117f1d",538,Major Hayden,"[3, 538, 6816, 7307, 14288, 15313, 17068]","['Jenkins', 'Major Hayden', 'Jesse Pretorius', 'Matt Thompson', 'Matthew Thode', 'Toby Oxborrow', 'Jean-Philippe Evrard']",v3851123 ipv4 security controls mainly documentation commit one special case two exceptions changeid ib9607f6df8aaed63b494a7f87af33cb7d3117f1d
https://review.opendev.org/736076,Add test for checking intra security group isolation,"Add test for intra security group isolation Default security group may not allow packets packets that originate from peers of the same security group (aka intra-sg) This new test ensures that even in such cases, servers are able to obtain an address via dhcp. Depends-On: https://review.opendev.org/#/c/733033 Related-Bug: #1881316 Change-Id: Iceb2abf908fa3c7bb59dec2c0400c8b2ba6fc1a8 Signed-off-by: Flavio Fernandes <flaviof@redhat.com>",11952,Flavio Fernandes,"[1131, 4694, 6773, 8313, 11952, 11975, 16688, 22348, 23804, 24791]","['Brian Haley', 'Miguel Lavalle', 'Lucas Alvares Gomes', 'Lajos Katona', 'Flavio Fernandes', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Zuul', 'Daniel Alvarez', 'Maciej Jozefczyk']",add test intra security group isolation default security group may allow packets packets originate peers security group aka intrasg new test ensures even cases servers able obtain address via dhcp dependson httpsreviewopendevorgc733033 relatedbug 1881316 changeid iceb2abf908fa3c7bb59dec2c0400c8b2ba6fc1a8 signedoffby flavio fernandes flaviofredhatcom
https://review.opendev.org/233904,Avoids rebinding the same security group rules,"Avoids rebinding the same security group rules Previously, logic has been introduced to ensure that all the given security group rules have been applied. No need to force the rebinding after the agent restarts. Partial-Bug: #1505196 Change-Id: I355629ddb78441eaf2aadfd27efc6dd1f1ce4de9",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",avoids rebinding security group rules previously logic introduced ensure given security group rules applied need force rebinding agent restarts partialbug 1505196 changeid i355629ddb78441eaf2aadfd27efc6dd1f1ce4de9
https://review.opendev.org/227145,Move security group setting to kubecluster.yaml,Move security group setting to kubecluster.yaml Currently security group is created for each kube masters and kube minions. It's very redundant. This patch moves security group setting to kubecluster.yaml to share. Change-Id: Idb6cdb5c5c6015b29331238f7fbbcd92e1a70d83 Closes-Bug: #1499184,12385,Motohiro/Yuanying Otsuka,"[3, 668, 7494, 8143, 10263, 11536, 11650, 12053, 12134, 12385, 15967]","['Jenkins', 'Adrian Otto', 'Guangya Liu', 'Egor Guz', 'Vilobh Meshram', 'hongbin', 'Tom Cammann', 'Hua Wang', 'Akash Gangil', 'Motohiro/Yuanying Otsuka', 'vikas choudhary']",move security group setting kubeclusteryaml currently security group created kube masters kube minions redundant patch moves security group setting kubeclusteryaml share changeid idb6cdb5c5c6015b29331238f7fbbcd92e1a70d83 closesbug 1499184
https://review.opendev.org/233547,TEST #2 for fuel security updates,TEST #2 for fuel security updates Change-Id: I13d085decc6f014834426ed3d7b0a699bca71927,8786,Vladimir Kuklin,"[3, 8786, 8971]","['Jenkins', 'Vladimir Kuklin', 'Fuel CI']",test 2 fuel security updates changeid i13d085decc6f014834426ed3d7b0a699bca71927
https://review.opendev.org/230899,[Kubernetes] Fix cAdvisor port was not added to security group,[Kubernetes] Fix cAdvisor port was not added to security group Change-Id: I0dd421b918c4bf7c85e9e75404f3876f9328c310 Closes-Bug: #1498879,7226,Stan Lagun,"[3, 7225, 7549, 13149]","['Jenkins', 'Serg Melikyan', 'Ekaterina Chernova', 'Dmytro Dovbii']",kubernetes fix cadvisor port added security group changeid i0dd421b918c4bf7c85e9e75404f3876f9328c310 closesbug 1498879
https://review.opendev.org/232469,[Kubernetes] Fix cAdvisor port was not added to security group,[Kubernetes] Fix cAdvisor port was not added to security group Change-Id: Ib0d72e4406511534defbd77028d8db15de53ec4a Closes-Bug: #1498879,7226,Stan Lagun,"[3, 7225, 7549]","['Jenkins', 'Serg Melikyan', 'Ekaterina Chernova']",kubernetes fix cadvisor port added security group changeid ib0d72e4406511534defbd77028d8db15de53ec4a closesbug 1498879
https://review.opendev.org/229204,Adding security groups error types constants,Adding security groups error types constants Change-Id: I148958e6be952e69684565dc6e8a81d58886c534,8357,Leonardo Maycotte,"[3, 1980, 7207]","['Jenkins', 'jose-idar', 'Carlos Martinez']",adding security groups error types constants changeid i148958e6be952e69684565dc6e8a81d58886c534
https://review.opendev.org/229208,Minor update on security group tests,Minor update on security group tests - Updating neutron error types Change-Id: Ie4ba7b3a22b3f078f93e8defa9595e0a0e3a4ea6,8357,Leonardo Maycotte,"[3, 1980, 7207, 8357, 17462]","['Jenkins', 'jose-idar', 'Carlos Martinez', 'Leonardo Maycotte', 'Doyle Dennis']",minor update security group tests updating neutron error types changeid ie4ba7b3a22b3f078f93e8defa9595e0a0e3a4ea6
https://review.opendev.org/231016,Added IPv6 support to Security Groups in OVS DPDK firewall.,Added IPv6 support to Security Groups in OVS DPDK firewall. Added support for IPv6 to the SG OVS DPDK firewall and UTs testing the new functionality. Change-Id: I49de465c0e198b73dbd0d5bec33a8634aa33c23e,16688,Rodolfo Alonso,"[3, 11604, 11647, 16688]","['Jenkins', 'sean mooney', 'Przemyslaw Czesnowicz', 'Rodolfo Alonso']",added ipv6 support security groups ovs dpdk firewall added support ipv6 sg ovs dpdk firewall uts testing new functionality changeid i49de465c0e198b73dbd0d5bec33a8634aa33c23e
https://review.opendev.org/216627,Implementation of Security Groups in OVS DPDK driver.,Implementation of Security Groups in OVS DPDK driver. This implementation is based on OVS learn actions. Each new rule manually added to a security group (ingress or egress) will create a mirror action to allow this traffic (and only this one) to return. Notes: - Not IPv6 manual rules support yet. Change-Id: Ie21c41b3a72e22d23f09bd224b31ba9a16612719,16688,Rodolfo Alonso,"[3, 11604, 11647, 16688]","['Jenkins', 'sean mooney', 'Przemyslaw Czesnowicz', 'Rodolfo Alonso']",implementation security groups ovs dpdk driver implementation based ovs learn actions new rule manually added security group ingress egress create mirror action allow traffic one return notes ipv6 manual rules support yet changeid ie21c41b3a72e22d23f09bd224b31ba9a16612719
https://review.opendev.org/231160,Honor until_refresh config when creating default security group,Honor until_refresh config when creating default security group The logic to ensure that a project has a default security group created for it also creates an entry in the quota_usages table to track the usage of that security group. When it does that it sets until_refresh to None rather than using the value of CONF.until_refresh like every other quota_usages entry does. This means that tracked security group usages are at risk of getting out of sync with the actual usages and bypass the healing mechanism that other quotas use. This changes the security group quota creation to honor until_refresh. Change-Id: I834cd09d42ed10ab7d5671c053162be2b1595f8e Closes-bug: 1503027,5441,Andrew Laski,"[3, 2271, 4690, 5170, 9008, 9578, 9732, 10118, 10385, 15286, 15751]","['Jenkins', 'Michael Still', 'melanie witt', 'Microsoft Hyper-V CI', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI']",honor untilrefresh config creating default security group logic ensure project default security group created also creates entry quotausages table track usage security group sets untilrefresh none rather using value confuntilrefresh like every quotausages entry means tracked security group usages risk getting sync actual usages bypass healing mechanism quotas use changes security group quota creation honor untilrefresh changeid i834cd09d42ed10ab7d5671c053162be2b1595f8e closesbug 1503027
https://review.opendev.org/231906,Assures that security group rules are added first,Assures that security group rules are added first Closes-Bug: #1503615 Change-Id: I68317c4169aad017e68a284d8b43ee218dcbb88f (cherry picked from commit 2a38d83d6faa9628333c3b171c0dbe5e4f53c970),8213,Claudiu Belu,"[3, 5170, 8213]","['Jenkins', 'Microsoft Hyper-V CI', 'Claudiu Belu']",assures security group rules added first closesbug 1503615 changeid i68317c4169aad017e68a284d8b43ee218dcbb88f cherry picked commit 2a38d83d6faa9628333c3b171c0dbe5e4f53c970
https://review.opendev.org/227750,Assures that security group rules are added first,Assures that security group rules are added first Change-Id: I68317c4169aad017e68a284d8b43ee218dcbb88f,8213,Claudiu Belu,"[3, 5170, 8213]","['Jenkins', 'Microsoft Hyper-V CI', 'Claudiu Belu']",assures security group rules added first changeid i68317c4169aad017e68a284d8b43ee218dcbb88f
https://review.opendev.org/230184,nsx v3 port security support,nsx v3 port security support this patch adds the port security and address pairs extensions to the nsx v3 plugin. the patch also includes the core neutron unit tests for those extensions. NB: I did a good bit of manual testing with this code and didn't find any problems. however I'm not fully vested on all the other impl details so would be good to get some burn-in on this code by others. Change-Id: Iaca19428515a25ac6cf433c65cc81968e3175768,5367,boden,"[3, 1653, 4395, 5367, 7187]","['Jenkins', 'garyk', 'Aaron Rosen', 'boden', 'Janet Yu']",nsx v3 port security support patch adds port security address pairs extensions nsx v3 plugin patch also includes core neutron unit tests extensions nb good bit manual testing code didnt find problems however im fully vested impl details would good get burnin code others changeid iaca19428515a25ac6cf433c65cc81968e3175768
https://review.opendev.org/231151,Initial security documentation,"Initial security documentation This documentation explains the security measures which are already in place in all openstack-ansible deployments. As the security-hardening role grows, this section will have additional details around the security improvements within the openstack-ansible project. Implements: blueprint security-hardening Closes-Bug: 1500564 Change-Id: Ia95bad57ba4a096f8fe85049421e58e4412b524a (cherry picked from commit 4177548409d52ca98938bdf73e9fc3a28ca1b66b)",538,Major Hayden,"[3, 6816, 12807]","['Jenkins', 'Jesse Pretorius', 'Steve Lewis (stevelle)']",initial security documentation documentation explains security measures already place openstackansible deployments securityhardening role grows section additional details around security improvements within openstackansible project implements blueprint securityhardening closesbug 1500564 changeid ia95bad57ba4a096f8fe85049421e58e4412b524a cherry picked commit 4177548409d52ca98938bdf73e9fc3a28ca1b66b
https://review.opendev.org/226339,Update indexes after adding security repo in MapR plugin,Update indexes after adding security repo in MapR plugin The root cause of the bug is that repo with necessary package exists but indexes are not updated so the package is not available. Closes-Bug: #1498479 Change-Id: I38a0291e391057d8111ea304e4d00ad0c194e2e2,12693,Artem Osadchiy,"[3, 6786, 7213, 7710, 8932, 13919]","['Jenkins', 'Sergey Lukjanov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Telles Mota Vidal Nóbrega', 'Evgeny Sikachev']",update indexes adding security repo mapr plugin root cause bug repo necessary package exists indexes updated package available closesbug 1498479 changeid i38a0291e391057d8111ea304e4d00ad0c194e2e2
https://review.opendev.org/228591,Initial security documentation,"Initial security documentation This documentation explains the security measures which are already in place in all openstack-ansible deployments. As the security-hardening role grows, this section will have additional details around the security improvements within the openstack-ansible project. Change-Id: Ia95bad57ba4a096f8fe85049421e58e4412b524a",538,Major Hayden,"[3, 3114, 6816, 7353, 12807, 15313]","['Jenkins', 'Karin Levenstein', 'Jesse Pretorius', 'Kevin Carter', 'Steve Lewis (stevelle)', 'Toby Oxborrow']",initial security documentation documentation explains security measures already place openstackansible deployments securityhardening role grows section additional details around security improvements within openstackansible project changeid ia95bad57ba4a096f8fe85049421e58e4412b524a
https://review.opendev.org/230138,Adding Security Checklist,Adding Security Checklist Adding separate section on Block Storage checklists. Added bunch of checks on how to harden configuration files and set certain configuration keys for secured communication. Change-Id: I7d48b36aa2b1b59729ff09c96aa52afc5eac2cbe Partial-Bug: #1342993,10281,Priti Desai,"[3, 979, 6547, 10281, 10670, 12325]","['Jenkins', 'Dave Walker', 'Andreas Jaeger', 'Priti Desai', 'Michael McCune', 'Nathaniel Dillon']",adding security checklist adding separate section block storage checklists added bunch checks harden configuration files set certain configuration keys secured communication changeid i7d48b36aa2b1b59729ff09c96aa52afc5eac2cbe partialbug 1342993
https://review.opendev.org/230729,Add user story security and policy enforcement for enterprise IT.,Add user story security and policy enforcement for enterprise IT. This is initial draft. Change-Id: I7c692b3e3562c92fbb3818d825f37bbb0e292f8e,14091,Yih Leong Sun,"[3, 10068, 12651, 16157]","['Jenkins', 'Welcome, new contributor!', 'Shamail Tahir', 'Ken Johnston']",add user story security policy enforcement enterprise initial draft changeid i7c692b3e3562c92fbb3818d825f37bbb0e292f8e
https://review.opendev.org/229767,Use security group id not name in the create instance dialog,"Use security group id not name in the create instance dialog It's possible to create multiple security groups with the same name, and then launching an instance will error with ""Error: Multiple security_group matches found for name 'foo', use an ID to be more specific."" The solution is to use the group id instead of group name in the form. This only works with Neutron, because Nova-Network not only requires the groups to be passed by name, but also passes them by name internally in several places. Change-Id: I83587e15a8c18d64a29fd1083e786a73162b19f9 Partial-bug: #1203413 (cherry picked from commit 5562694b7c81821820a846dd76471f66d8a47c12)",8648,Radomir Dopieralski,"[3, 4264, 5623, 12826]","['Jenkins', 'Matthias Runge', 'David Lyle', 'Rob Cresswell']",use security group id name create instance dialog possible create multiple security groups name launching instance error error multiple securitygroup matches found name foo use id specific solution use group id instead group name form works neutron novanetwork requires groups passed name also passes name internally several places changeid i83587e15a8c18d64a29fd1083e786a73162b19f9 partialbug 1203413 cherry picked commit 5562694b7c81821820a846dd76471f66d8a47c12
https://review.opendev.org/209863,Add security to libvirtd,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: I9d20b77ee4233469077f37e8b497f0dba5587fdd Closes-Bug: 1477543,13344,Oleksiy Molchanov,"[3, 7745, 8971, 11090, 11827, 13344, 14610, 14689]","['Jenkins', 'Denis Egorenko', 'Fuel CI', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Oleksiy Molchanov', 'Denis V. Meltsaykin', 'Vitaly Sedelnik']",add security libvirtd allow libvirt accessed management network changeid i9d20b77ee4233469077f37e8b497f0dba5587fdd closesbug 1477543
https://review.opendev.org/211046,Use security group id not name in the create instance dialog,"Use security group id not name in the create instance dialog It's possible to create multiple security groups with the same name, and then launching an instance will error with ""Error: Multiple security_group matches found for name 'foo', use an ID to be more specific."" The solution is to use the group id instead of group name in the form. I'm not sure how compatible this change is with Neutron/Nova-network, as the discussions on bug #1445235 and bug #1203413 are old. Change-Id: I83587e15a8c18d64a29fd1083e786a73162b19f9 Closes-bug: #1203413",8648,Radomir Dopieralski,"[3, 8648, 8674, 9317, 12826]","['Jenkins', 'Radomir Dopieralski', 'Yves-Gwenael Bourhis', 'Ana Krivokapic', 'Rob Cresswell']",use security group id name create instance dialog possible create multiple security groups name launching instance error error multiple securitygroup matches found name foo use id specific solution use group id instead group name form im sure compatible change neutronnovanetwork discussions bug 1445235 bug 1203413 old changeid i83587e15a8c18d64a29fd1083e786a73162b19f9 closesbug 1203413
https://review.opendev.org/225291,Adding Security Checklist,Adding Security Checklist Adding seperate section on Compute checklists. Added bunch of checklist on how to harden configuration files and set certain configuration keys for secured communication. Change-Id: I726060a45a1a2af084a0ef284e88da6486bff758 Partial-Bug: #1342993,10281,Priti Desai,"[3, 979, 1528, 10281, 10497, 10670, 12000, 12325]","['Jenkins', 'Dave Walker', 'Stanislaw Pitucha', 'Priti Desai', 'KATO Tomoyuki', 'Michael McCune', 'Ian Cordasco', 'Nathaniel Dillon']",adding security checklist adding seperate section compute checklists added bunch checklist harden configuration files set certain configuration keys secured communication changeid i726060a45a1a2af084a0ef284e88da6486bff758 partialbug 1342993
https://review.opendev.org/229122,Use random IPs in security service tests,"Use random IPs in security service tests This patch changes the creation of security services in Manila tempest to use randomized IP addresses instead of name-like strings for both the 'dns_ip' and 'server' fields. The use of a name-like string for the dns_ip field does not make sense from a positive test perspective. The server field is more ambiguous in whether it should take an IP or a hostname, but since nearly anything that can take a hostname can also accept an IP, but not necessarily the reverse (e.g. the NetApp drivers are expecting an IP), then it makes more sense to use an IP here as well to cater to a broader audience. The rand_ip() method is not in an ideal location. My preference would be to push for this method to make it into the tempest_lib.common.utils.data_utils package along with all the other rand_whatever() methods. However, until that can be submitted, accepted, and released, it will need to live inside the manila tests temporarily. Closes-bug: 1500899 Change-Id: I7dbeb9407e056266cc7a61722365f70ab668a525",9366,Andrew Kerr,"[3, 2417, 8851, 9366, 10621, 11865, 12017, 13144, 14384, 15942, 16657, 17623, 18128, 18402]","['Jenkins', 'Ben Swartzlander', 'Valeriy Ponomaryov', 'Andrew Kerr', 'NetApp CI', 'Clinton Knight', 'DellEMC VNX CI', 'Oracle ZFSSA CI', 'Quobyte CI', 'Dell EMC Isilon CI', 'Huawei Manila CI', 'Hitachi Manila HNAS CI', 'Microsoft Manila CI', 'HPE Storage CI']",use random ips security service tests patch changes creation security services manila tempest use randomized ip addresses instead namelike strings dnsip server fields use namelike string dnsip field make sense positive test perspective server field ambiguous whether take ip hostname since nearly anything take hostname also accept ip necessarily reverse eg netapp drivers expecting ip makes sense use ip well cater broader audience randip method ideal location preference would push method make tempestlibcommonutilsdatautils package along randwhatever methods however submitted accepted released need live inside manila tests temporarily closesbug 1500899 changeid i7dbeb9407e056266cc7a61722365f70ab668a525
https://review.opendev.org/228742,populate port security default into network,"populate port security default into network Previously, the default value would be populated into attr by API controller, but some codes in plugin or service plugins call plugin to create network directly, such as l3, which will have no default value populated. This patch fixes it by populating default port_security value into network data. In addition, for network without port-security set, we also give the default value to populate the return network dict object, which will let the extension construct the response dictionary gracefully for those existing network. Co-Authored-By: gong yong sheng <gong.yongsheng@99cloud.net> Change-Id: I73abc98d83372f6259f17680806e6541458e2077 Closes-bug: #1461519 Closes-Bug: #1461647 Closes-Bug: #1468588 (cherry picked from commit f4e1289d8d381b775f7a6e5f98c507a99fd42b54)",2035,Maru Newby,"[3, 105, 748, 2035, 2874, 5170, 7715, 8873, 9656, 9681, 9732, 10153, 14064, 14208, 14212, 14213, 14571, 15296, 16788]","['Jenkins', 'Kyle Mestery', 'Armando Migliaccio', 'Maru Newby', 'yong sheng gong', 'Microsoft Hyper-V CI', 'Hirofumi Ichihara', 'Assaf Muller', 'Ihar Hrachyshka', 'Ryu CI', 'Mellanox CI', 'One Convergence CI', 'Kahou Lei', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Ramanjaneya Reddy Palleti']",populate port security default network previously default value would populated attr api controller codes plugin service plugins call plugin create network directly l3 default value populated patch fixes populating default portsecurity value network data addition network without portsecurity set also give default value populate return network dict object let extension construct response dictionary gracefully existing network coauthoredby gong yong sheng gongyongsheng99cloudnet changeid i73abc98d83372f6259f17680806e6541458e2077 closesbug 1461519 closesbug 1461647 closesbug 1468588 cherry picked commit f4e1289d8d381b775f7a6e5f98c507a99fd42b54
https://review.opendev.org/229134,Fixes Neutron security groups for Swarm Bay type,"Fixes Neutron security groups for Swarm Bay type Previously, the security group rules were blocking all traffic except ssh, icmp and swarm-manager traffic. This causes container traffic to be blocked. This patch opens up the security rules until a better solution can be developed to secure Magnum nodes while allowing containers to communicate freely. Closes-bug: #1501038 Change-Id: Idc20201b7e1928101629fc6231fd8a9c9070ba33",6836,Daneyon Hansen,"[3, 5387, 5638, 10263, 11536, 11803]","['Jenkins', 'Andrew Melton', 'Davanum Srinivas', 'Vilobh Meshram', 'hongbin', 'Ryan Rossiter']",fixes neutron security groups swarm bay type previously security group rules blocking traffic except ssh icmp swarmmanager traffic causes container traffic blocked patch opens security rules better solution developed secure magnum nodes allowing containers communicate freely closesbug 1501038 changeid idc20201b7e1928101629fc6231fd8a9c9070ba33
https://review.opendev.org/733512,[OVN] Fix db-sync-util Traceback when port security not enabled,[OVN] Fix db-sync-util Traceback when port security not enabled Change-Id: Id1ed2922a908148b2b271bd28cc974ef424530d5 Closes-Bug: #1882061,13686,Frode Nordahl,"[6773, 9845, 11975, 13686, 16376, 21798, 22348, 26622]","['Lucas Alvares Gomes', 'Arista CI', 'Slawek Kaplonski', 'Frode Nordahl', 'Intel NFV CI', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",ovn fix dbsyncutil traceback port security enabled changeid id1ed2922a908148b2b271bd28cc974ef424530d5 closesbug 1882061
https://review.opendev.org/738478,Add pod/container security context to promenade charts,"Add pod/container security context to promenade charts This updates the coredns, haproxy and etcd chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag Change-Id: I9b5b0ea83acd4c5656577d8cbc684a5031ca0111",29161,Rahul Khiyani,"[7769, 8749, 22348, 22477, 23186, 23781, 23928, 26628, 26686, 27715, 28208, 28235, 28618, 28719, 29144, 31660]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Stanislav Egorov', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Phil Sphicas', 'PRATEEK REDDY DODDA', 'Francis Bacon Yi']",add podcontainer security context promenade charts updates coredns haproxy etcd chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag changeid i9b5b0ea83acd4c5656577d8cbc684a5031ca0111
https://review.opendev.org/738254,Apply mandatory pod security policies during upgrade,"Apply mandatory pod security policies during upgrade Ansible applies mandatory pod security policies, which are not applied during an upgrade. This commit adds a migration script to apply the pod security policy file applied by ansible during bootstrap. Closes-bug: 1885178 Change-Id: Icfbfa2f49d9657b43e903b1f22c81e3cf6a8a9f6 Signed-off-by: Jerry Sun <jerry.sun@windriver.com>",21776,Jerry Sun,"[9926, 14174, 21776, 22348, 28434, 28459]","['John Kung', 'Bart Wensley', 'Jerry Sun', 'Zuul', 'David Sullivan', 'Bob Church']",apply mandatory pod security policies upgrade ansible applies mandatory pod security policies applied upgrade commit adds migration script apply pod security policy file applied ansible bootstrap closesbug 1885178 changeid icfbfa2f49d9657b43e903b1f22c81e3cf6a8a9f6 signedoffby jerry sun jerrysunwindrivercom
https://review.opendev.org/228491,Minor changes to security hardening spec,Adding Cody to security hardening spec Change-Id: Icc8c89343b5b47434b5ad176669f083665f67c25,538,Major Hayden,"[3, 6816, 7414, 12807, 16237]","['Jenkins', 'Jesse Pretorius', 'David Wilde', 'Steve Lewis (stevelle)', 'venkatamahesh']",adding cody security hardening spec changeid icc8c89343b5b47434b5ad176669f083665f67c25
https://review.opendev.org/228544,Add SSH security issue to relnotes 7.0,Add SSH security issue to relnotes 7.0 Change-Id: Ic3828ffa289052ce9f6a566722fb1fe9179cbd10,14342,Evgeny Konstantinov,"[3, 7195, 8971, 14342]","['Jenkins', 'Matthew Mosesohn', 'Fuel CI', 'Evgeny Konstantinov']",add ssh security issue relnotes 70 changeid ic3828ffa289052ce9f6a566722fb1fe9179cbd10
https://review.opendev.org/222619,Spec: Security Hardening,Adding security hardening spec Change-Id: I7b4bdf39df9508cd8693c9548f432a88fefa8c08,538,Major Hayden,"[3, 4, 538, 3114, 6804, 6816, 7219, 7353, 9444, 12807, 13914, 14288, 17068]","['Jenkins', 'Dolph Mathews', 'Major Hayden', 'Karin Levenstein', 'bruce-benjamin', 'Jesse Pretorius', 'git-harry', 'Kevin Carter', 'gustavo panizzo', 'Steve Lewis (stevelle)', 'Darren J Moffat', 'Matthew Thode', 'Jean-Philippe Evrard']",adding security hardening spec changeid i7b4bdf39df9508cd8693c9548f432a88fefa8c08
https://review.opendev.org/227559,Fix Security bridge flows were not added issue,Fix Security bridge flows were not added issue Security bridge flows were not added after openvswitch restart because of the KeyError. Fixed the KeyError issue in this patchset. Change-Id: Ic83532797c691f0192a0eda69647c4529555d5b7,10370,Romil Gupta,"[3, 748, 9361, 10368, 10370, 11415, 11825]","['Jenkins', 'Armando Migliaccio', 'Vivekanandan Narasimhan', 'Raghuveer Shenoy', 'Romil Gupta', 'Rashmi P', 'Sudhakar Babu Gariganti']",fix security bridge flows added issue security bridge flows added openvswitch restart keyerror fixed keyerror issue patchset changeid ic83532797c691f0192a0eda69647c4529555d5b7
https://review.opendev.org/214072,Implemented an enhanced Security Group RPC of OVSvApp,"Implemented an enhanced Security Group RPC of OVSvApp security_group_rules_for_devices RPC brings in huge payload, which is having adverse impacts on Rabbitmq message bus leading to message Timeouts It also uses lot of server processing time. New RPC delegates the processing back to agents and helps decrease the load on the message bus. This will help in draining the RPC queue at a faster rate. Change-Id: I1080638fa3ffc0739786b942d772fb9f351d6f46 Co-Authored-By: Sudhakar Babu Gariganti <sudhakar-babu.gariganti@hp.com>",10370,Romil Gupta,"[3, 9361, 10368, 10370, 11415, 11825, 14323]","['Jenkins', 'Vivekanandan Narasimhan', 'Raghuveer Shenoy', 'Romil Gupta', 'Rashmi P', 'Sudhakar Babu Gariganti', 'HP Networking CI']",implemented enhanced security group rpc ovsvapp securitygrouprulesfordevices rpc brings huge payload adverse impacts rabbitmq message bus leading message timeouts also uses lot server processing time new rpc delegates processing back agents helps decrease load message bus help draining rpc queue faster rate changeid i1080638fa3ffc0739786b942d772fb9f351d6f46 coauthoredby sudhakar babu gariganti sudhakarbabugarigantihpcom
https://review.opendev.org/227320,Fix quota usage tracker for security group rules,"Fix quota usage tracker for security group rules This simple patch ensures usage for security group rules is marked as dirty when a security group rule is deleted. To this aim, the security group rule is deleted using ORM in order to ensure the sqlalchemy even if fired. Closes-Bug: #1499339 Change-Id: I1e81fe03fed14ec438cea5d7675f66caeb91afd8 (cherry picked from commit 851b1b4bbbaa965f190bfacab03fd6ece80ad0ec)",9656,Ihar Hrachyshka,"[3, 105, 261, 748, 841, 1131, 1653, 5170, 6951, 7448, 10153, 10692, 10980, 14208, 14212, 14213, 14571]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Armando Migliaccio', 'Akihiro Motoki', 'Brian Haley', 'garyk', 'Microsoft Hyper-V CI', 'Brandon Logan', 'Carl Baldwin', 'One Convergence CI', 'Brocade Vyatta CI', 'Doug Wiegley', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI']",fix quota usage tracker security group rules simple patch ensures usage security group rules marked dirty security group rule deleted aim security group rule deleted using orm order ensure sqlalchemy even fired closesbug 1499339 changeid i1e81fe03fed14ec438cea5d7675f66caeb91afd8 cherry picked commit 851b1b4bbbaa965f190bfacab03fd6ece80ad0ec
https://review.opendev.org/227281,Fix quota usage tracker for security group rules,"Fix quota usage tracker for security group rules This simple patch ensures usage for security group rules is marked as dirty when a security group rule is deleted. To this aim, the security group rule is deleted using ORM in order to ensure the sqlalchemy even if fired. Closes-Bug: #1499339 Change-Id: I1e81fe03fed14ec438cea5d7675f66caeb91afd8",261,Salvatore Orlando,"[3, 105, 1131, 1561, 2874, 7787, 10153, 10184, 10386, 10692, 13995, 14212, 14213, 14571, 15752]","['Jenkins', 'Kyle Mestery', 'Brian Haley', 'Russell Bryant', 'yong sheng gong', 'Kevin Benton', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Brocade Vyatta CI', 'Nate Johnston', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'Intel SR-IOV CI']",fix quota usage tracker security group rules simple patch ensures usage security group rules marked dirty security group rule deleted aim security group rule deleted using orm order ensure sqlalchemy even fired closesbug 1499339 changeid i1e81fe03fed14ec438cea5d7675f66caeb91afd8
https://review.opendev.org/207006,Blueprint for Websockify security proxy framework,"Blueprint for Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers. It also proposes a reference driver for that framework for TLS security. Spec for blueprint websocket-proxy-to-host-security Change-Id: Iffaa57bfff24af4b0b133dc159eaaaa5ddd013e3 Previously-approved: juno, kilo",1779,Daniel Berrange,"[3, 782, 1779]","['Jenkins', 'John Garbutt', 'Daniel Berrange']",blueprint websockify security proxy framework blueprint proposes generic framework supporting maninthemiddle authentication encryption websockify hypervisor graphics servers also proposes reference driver framework tls security spec blueprint websocketproxytohostsecurity changeid iffaa57bfff24af4b0b133dc159eaaaa5ddd013e3 previouslyapproved juno kilo
https://review.opendev.org/224185,nsx v3 port security plumbing,nsx v3 port security plumbing this patch includes some plumbing for the nsx v3 port security port which will come in subsequent patches. in particular this patch refactors the nsx v3 nsxlib rest client and adds a rest resource for nsx v3 switching profiles which will be leveraged in port security implementation. unit tests included. Change-Id: I210c8cc495bf30c798445c20f9604689fea37521,5367,boden,"[3, 1653, 4395, 5367, 7187, 9008, 9423, 12134, 13664]","['Jenkins', 'garyk', 'Aaron Rosen', 'boden', 'Janet Yu', 'VMware NSX CI', 'Roey Chen', 'Akash Gangil', 'Amey Bhide']",nsx v3 port security plumbing patch includes plumbing nsx v3 port security port come subsequent patches particular patch refactors nsx v3 nsxlib rest client adds rest resource nsx v3 switching profiles leveraged port security implementation unit tests included changeid i210c8cc495bf30c798445c20f9604689fea37521
https://review.opendev.org/225242,Update Links in Management interfaces in Security Guide,"Update Links in Management interfaces in Security Guide In the Management Interfaces section of the Security Guide, the two links under Management Utilities that redirect to the User Guide do not correctly go to the sections that are referenced in the Security Guide. This fix is to update the links to point to the Command Line Client Overview and the Download and Source the OpenStack RC file section. Change-Id: I30a9cbafe5c6c5890401156995dc84c4a1c2f946 Closes-Bug: #1490047",14606,Jeffrey Olsen,"[3, 10497, 12325, 16237]","['Jenkins', 'KATO Tomoyuki', 'Nathaniel Dillon', 'venkatamahesh']",update links management interfaces security guide management interfaces section security guide two links management utilities redirect user guide correctly go sections referenced security guide fix update links point command line client overview download source openstack rc file section changeid i30a9cbafe5c6c5890401156995dc84c4a1c2f946 closesbug 1490047
https://review.opendev.org/224930,Delete security group bindings on port delete,Delete security group bindings on port delete Delete the security group bindings from neutron DB and the backend during port deletion. Change-Id: I69be01ad6c1fce6f732de4af2cfe11a77c1db7db,7018,Abhishek Raut,"[3, 261, 1653, 4395, 7018, 9008, 9423]","['Jenkins', 'Salvatore Orlando', 'garyk', 'Aaron Rosen', 'Abhishek Raut', 'VMware NSX CI', 'Roey Chen']",delete security group bindings port delete delete security group bindings neutron db backend port deletion changeid i69be01ad6c1fce6f732de4af2cfe11a77c1db7db
https://review.opendev.org/221220,Add a simple test for port security vs security group,Add a simple test for port security vs security group Change-Id: Ib12b996a95ad792ff33170095b20cadfd30b7dd2,6854,YAMAMOTO Takashi,"[3, 5803, 7350, 10385]","['Jenkins', 'Attila Fazekas', 'Jordan Pittier', 'Citrix XenServer CI']",add simple test port security vs security group changeid ib12b996a95ad792ff33170095b20cadfd30b7dd2
https://review.opendev.org/224342,add missing api for listening to security group update,add missing api for listening to security group update Change-Id: I701c8d28594011a9a1b4e5ddee4b4f26286a6443,15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",add missing api listening security group update changeid i701c8d28594011a9a1b4e5ddee4b4f26286a6443
https://review.opendev.org/224324,add missig api from listening to security group updates,add missig api from listening to security group updates Change-Id: I639d4c0740fc283c599a19052517caef48116d64,15342,xin wu,"[3, 15342]","['Jenkins', 'xin wu']",add missig api listening security group updates changeid i639d4c0740fc283c599a19052517caef48116d64
https://review.opendev.org/220569,"Add ""update security group"" to Compute v2 and Networking v2","Add ""update security group"" to Compute v2 and Networking v2 Change-Id: I4ff45c7a998b1c0048e23e058f4ce15a3136287b Closes-Bug: #1463131",2448,Diane Fleming,"[3, 612, 964, 6547, 17207]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Andreas Jaeger', 'Atsushi SAKAI']",add update security group compute v2 networking v2 changeid i4ff45c7a998b1c0048e23e058f4ce15a3136287b closesbug 1463131
https://review.opendev.org/219439,"There's an grammar error in section ""Compartmentalize"" of Compliance overview in Security Guide.","There's an grammar error in section ""Compartmentalize"" of Compliance overview in Security Guide. In section ""Compartmentalize"" of this URL, there's the following description: ""Systems should be segregated in a such way that if one machine,..."". ""in a such way"" is not right, it should be ""in such a way"". The suggested description is as following: ""Systems should be segregated in such a way that if one machine,.."". Closes-bug : #1491041 Change-Id: I0e531ec59efcd5223e7eb0758f43d512b798f6a1",16625,Marianne Linhares Monteiro,"[3, 6547, 7634, 10705, 12325, 12686, 16237, 17043]","['Jenkins', 'Andreas Jaeger', 'Takashi Natsume', 'Darren Chan', 'Nathaniel Dillon', 'Brian Moss', 'venkatamahesh', 'Timothy Symanczyk']",theres grammar error section compartmentalize compliance overview security guide section compartmentalize url theres following description systems segregated way one machine way right way suggested description following systems segregated way one machine closesbug 1491041 changeid i0e531ec59efcd5223e7eb0758f43d512b798f6a1
https://review.opendev.org/216229,update the release tags for security deliverables,update the release tags for security deliverables Change-Id: I34d0103d36635974df8a83899b255d23861b2a2e,2472,Doug Hellmann,"[2, 3, 308, 2472]","['Monty Taylor', 'Jenkins', 'Thierry Carrez', 'Doug Hellmann']",update release tags security deliverables changeid i34d0103d36635974df8a83899b255d23861b2a2e
https://review.opendev.org/721737,Support address groups in security group rules,Support address groups in security group rules This specification describes how to support address groups in security group rules. Change-Id: Ib58afde9ed58092ffbc94f7d522d5f5d034b832b Related-Bug: #1592028,28159,Hang Yang,"[841, 1131, 4694, 6854, 8313, 10343, 11975, 13995, 16688, 22348, 28159]","['Akihiro Motoki', 'Brian Haley', 'Miguel Lavalle', 'YAMAMOTO Takashi', 'Lajos Katona', 'Jim Rollenhagen', 'Slawek Kaplonski', 'Nate Johnston', 'Rodolfo Alonso', 'Zuul', 'Hang Yang']",support address groups security group rules specification describes support address groups security group rules changeid ib58afde9ed58092ffbc94f7d522d5f5d034b832b relatedbug 1592028
https://review.opendev.org/214577,Allow user to unset security service params,"Allow user to unset security service params. It is impossible to unset some value from security service if it was set. Allow user to set security service params (dns_ip, server, domain, user, password, name, description) to empty value. Closes-bug: #1446696 Change-Id: Ifea8f49b2007358565686f90a5d56476c4913c86",7331,Julia Varlamova,"[3, 6491, 7102, 7331, 8851, 11047, 14232]","['Jenkins', 'xing-yang', 'Thomas Bechtold', 'Julia Varlamova', 'Valeriy Ponomaryov', 'Mark Sturdevant', 'Igor Malinovskiy']",allow user unset security service params impossible unset value security service set allow user set security service params dnsip server domain user password name description empty value closesbug 1446696 changeid ifea8f49b2007358565686f90a5d56476c4913c86
https://review.opendev.org/217559,Add unit tests for security group default rules,Add unit tests for security group default rules This patch adds unit tests for security_group_default_rules_client module Change-Id: I107b8e8c256fab258c830c4fc06dc114b135d812,11278,Anusha Ramineni,"[3, 6167, 7350, 7872, 10385, 11278]","['Jenkins', ""Ken'ichi Ohmichi"", 'Jordan Pittier', 'Marc Koderer', 'Citrix XenServer CI', 'Anusha Ramineni']",add unit tests security group default rules patch adds unit tests securitygroupdefaultrulesclient module changeid i107b8e8c256fab258c830c4fc06dc114b135d812
https://review.opendev.org/221464,fix: add requests security extras,"fix: add requests security extras - This will allow urllib3 to configure SSL use appropriately, thereby making requests use them. Change-Id: I65246ca249ad11c3d4047c5ef2591978c8f48d0e",8092,Sriram Madapusi Vasudevan,"[3, 7498, 8093]","['Jenkins', 'Malini Kamalambal', 'Amit Gandhi']",fix add requests security extras allow urllib3 configure ssl use appropriately thereby making requests use changeid i65246ca249ad11c3d4047c5ef2591978c8f48d0e
https://review.opendev.org/217581,Adds IPv6 support to auto security group,"Filter out IPv6 CIDR when generate auto-security group rule Heat infra-engine uses AWS::EC2::SecurityGroup. But AWS::EC2::SecurityGroup doesn't support IPv6. If private network has IPv6 subnet, cluster launch is always failed. This patch is filtering out IPv6 subnet CIDR to generate security group rule. Change-Id: I04e4aacdd843d3efa388f9527efec2e141eabbbb Closes-Bug: #1488452",11059,Kazuki OIKAWA,"[3, 6577, 6786, 7125, 7213, 7710, 8090, 8932, 9542, 11059, 12038, 12039, 13009, 13919]","['Jenkins', 'Sergey Kraynev', 'Sergey Lukjanov', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Chad Roberts', 'Telles Mota Vidal Nóbrega', 'Pavlo Shchelokovskyy', 'Kazuki OIKAWA', 'Vitaly Gridnev', 'Andrey Pavlov', 'Peter Razumovsky', 'Evgeny Sikachev']",filter ipv6 cidr generate autosecurity group rule heat infraengine uses awsec2securitygroup awsec2securitygroup doesnt support ipv6 private network ipv6 subnet cluster launch always failed patch filtering ipv6 subnet cidr generate security group rule changeid i04e4aacdd843d3efa388f9527efec2e141eabbbb closesbug 1488452
https://review.opendev.org/221261,Add Security group id's to port,Add Security group id's to port Adds and writes the port's security group id's in the NB DB Change-Id: Ic046d79b25b2bd2b07a11d94fd184813e43decfd,11343,Gal Sagie,"[3, 13070]","['Jenkins', 'Eran Gampel']",add security group ids port adds writes ports security group ids nb db changeid ic046d79b25b2bd2b07a11d94fd184813e43decfd
https://review.opendev.org/220803,Add Security group rule create/delete to plugin,Add Security group rule create/delete to plugin Add security group create/delete functionality to plugin and to NB DB. Change-Id: I3b666659ca6a068a23e18202b95ae3853acd950c,11343,Gal Sagie,"[3, 13070]","['Jenkins', 'Eran Gampel']",add security group rule createdelete plugin add security group createdelete functionality plugin nb db changeid i3b666659ca6a068a23e18202b95ae3853acd950c
https://review.opendev.org/221193,Wording for Security Groups is incorrect,Wording for Security Groups is incorrect The wording on the Security Groups tab for the Edit Instance window is wrong. This patch Correcting it. Current string: 'Add and remove security groups to this project ...' New string : 'Add and remove security groups to this instance ...' Change-Id: I76d3afb9174d1428a01dacdc3770a9ebac8f5ce8 Closes-Bug: #1493252,10442,Masco Kaliyamoorthy,"[3, 4264, 6610, 12826, 16237, 16352]","['Jenkins', 'Matthias Runge', 'Zhenguo Niu', 'Rob Cresswell', 'venkatamahesh', 'Shu Muto']",wording security groups incorrect wording security groups tab edit instance window wrong patch correcting current string add remove security groups project new string add remove security groups instance changeid i76d3afb9174d1428a01dacdc3770a9ebac8f5ce8 closesbug 1493252
https://review.opendev.org/217791,Fix problem with using auto security groups in Heat,Fix problem with using auto security groups in Heat Change-Id: I95744f71770486ea2ccdc20db456702d53ae5c42 Closes-bug: #1477530,7710,Sergey Reshetnyak,"[3, 6786, 7213, 8932, 12038, 13323, 13919, 13953]","['Jenkins', 'Sergey Lukjanov', 'Sahara Hadoop Cluster CI', 'Telles Mota Vidal Nóbrega', 'Vitaly Gridnev', 'Tetiana Lashchova', 'Evgeny Sikachev', 'Elise Gafford']",fix problem using auto security groups heat changeid i95744f71770486ea2ccdc20db456702d53ae5c42 closesbug 1477530
https://review.opendev.org/217907,devstackgaterc: Run some security group tests.,"devstackgaterc: Run some security group tests. I think that this subset of security group tests are fine to run. They should only require the API to manage security groups, which should be working. Change-Id: I3f7737e9d3803c8813ee0d4d9271248743ecaf1e Signed-off-by: Russell Bryant <rbryant@redhat.com>",1561,Russell Bryant,"[3, 1561, 4395, 11343]","['Jenkins', 'Russell Bryant', 'Aaron Rosen', 'Gal Sagie']",devstackgaterc run security group tests think subset security group tests fine run require api manage security groups working changeid i3f7737e9d3803c8813ee0d4d9271248743ecaf1e signedoffby russell bryant rbryantredhatcom
https://review.opendev.org/217315,Test for Tempurl Security Bug,Test for Tempurl Security Bug * Test related to tempurl security bug https://bugs.launchpad.net/swift/+bug/1453948 Change-Id: I91cce3b8d84d2d0870ff65d707c64b5177d88afa,12446,Josh Aldana,"[3, 1980, 7207, 7433, 7939, 11710]","['Jenkins', 'jose-idar', 'Carlos Martinez', 'Richard Hawkins', 'Luke Wollney', 'Anna Eilering']",test tempurl security bug test related tempurl security bug httpsbugslaunchpadnetswiftbug1453948 changeid i91cce3b8d84d2d0870ff65d707c64b5177d88afa
https://review.opendev.org/190834,Adding Security Groups Quota Tests,Adding Security Groups Quota Tests - Adding security rules per group quota test - Adding security groups per tenant quota test - Adding security rules per tenant quota test Change-Id: I976f3c733cbf02be1f3be7ad85f2e0336a5e8e2b,8357,Leonardo Maycotte,"[3, 97, 1980, 7939, 8357, 8969, 12446]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Luke Wollney', 'Leonardo Maycotte', 'Christopher Hunt', 'Josh Aldana']",adding security groups quota tests adding security rules per group quota test adding security groups per tenant quota test adding security rules per tenant quota test changeid i976f3c733cbf02be1f3be7ad85f2e0336a5e8e2b
https://review.opendev.org/202801,Corrected security group documentation,Corrected security group documentation Replaced outdated security group documentation with reference to current reference documentation on security groups and default behavior Change-Id: I6075841d30621e0c7fc8164516cff4fc8c4a2068 Closes-Bug: #1462137,9945,william snow,"[3, 979, 6547, 9945, 10068, 10281, 10670, 10705, 12325, 12442]","['Jenkins', 'Dave Walker', 'Andreas Jaeger', 'william snow', 'Welcome, new contributor!', 'Priti Desai', 'Michael McCune', 'Darren Chan', 'Nathaniel Dillon', 'Shellee Aragon']",corrected security group documentation replaced outdated security group documentation reference current reference documentation security groups default behavior changeid i6075841d30621e0c7fc8164516cff4fc8c4a2068 closesbug 1462137
https://review.opendev.org/182212,"Revert ""Make nova-network use conductor for security groups refresh""","Revert ""Make nova-network use conductor for security groups refresh"" This change reverts commit b1838c258df2465756e551fdb879b1d4a748cb2b. This makes network manager go back to issuing security group refresh calls directly instead of going through conductor now that the compute api call is converted to objects. Related to blueprint liberty-objects Change-Id: I74e002384b11063e30450e3854a95b6b848ddfb6",6450,Hans Lindgren,"[3, 782, 4393, 5170, 6450, 9008, 9578, 9732, 10118, 10385, 15286, 15751, 16897]","['Jenkins', 'John Garbutt', 'Dan Smith', 'Microsoft Hyper-V CI', 'Hans Lindgren', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'XenProject CI', 'Intel PCI CI', 'Virtuozzo Storage CI']",revert make novanetwork use conductor security groups refresh change reverts commit b1838c258df2465756e551fdb879b1d4a748cb2b makes network manager go back issuing security group refresh calls directly instead going conductor compute api call converted objects related blueprint libertyobjects changeid i74e002384b11063e30450e3854a95b6b848ddfb6
https://review.opendev.org/208499,Add system tests for security scans,Add system tests for security scans Test types: * Fuel master Credentialed Patch Audit * Fuel master Advanced Web Services tests * Ubuntu controller Credentialed Patch Audit Change-Id: I953b8bfb989becc264a9d6be3f66cf9d60f8842f,15692,Dmitry Kalashnik,"[3, 6719, 7227, 8882, 8971, 9439, 10136, 11969, 12867, 14057, 14708, 15692, 15943, 15984, 16106]","['Jenkins', 'tatyana-leontovich', 'Timur Nurlygayanov', 'Nastya Urlapova', 'Fuel CI', 'Egor Kotko', 'Andrey Sledzinskiy', 'Dennis Dmitriev', 'Dmitry Tyzhnenko', 'Alexander Kurenyshev', 'Maksym Strukov', 'Dmitry Kalashnik', 'Vasily Gorin', 'Vladimir Khlyunev', 'Alexandr Kostrikov']",add system tests security scans test types fuel master credentialed patch audit fuel master advanced web services tests ubuntu controller credentialed patch audit changeid i953b8bfb989becc264a9d6be3f66cf9d60f8842f
https://review.opendev.org/214456,Fix typo in public security domain section,Fix typo in public security domain section Change-Id: I9a2096333089b9714c0f8a688fbe30b4371b40c0 Implements: blueprint arch-guide,10705,Darren Chan,"[3, 6547, 10497]","['Jenkins', 'Andreas Jaeger', 'KATO Tomoyuki']",fix typo public security domain section changeid i9a2096333089b9714c0f8a688fbe30b4371b40c0 implements blueprint archguide
https://review.opendev.org/213143,Add default sorting to the Security Groups table.,Add default sorting to the Security Groups table. The Security Groups table (Project > Access & Security) is initially ordered by the group's uuid string which makes the table appear to be randomly sorted. This patch adds a default sorting by the groups' ``name`` attributes. Change-Id: Ica2831e043e2e7fec8129df4feee93f6c8be3462 Closes-Bug: #1484514,17888,Florian Fuchs,"[3, 6162, 6610, 6650, 8532, 9317, 9712, 11997, 14151]","['Jenkins', 'Dan Nguyen', 'Zhenguo Niu', 'Eric Peterson', 'Ryan Brady', 'Ana Krivokapic', 'Dougal Matthews', 'Lennart Regebro', 'ziyu032']",add default sorting security groups table security groups table project access security initially ordered groups uuid string makes table appear randomly sorted patch adds default sorting groups name attributes changeid ica2831e043e2e7fec8129df4feee93f6c8be3462 closesbug 1484514
https://review.opendev.org/213529,remove wide egress rules from PRS security groups,"remove wide egress rules from PRS security groups In order to avoind unwanted outgoing traffic, this patch completely eliminates the 'egress to ALL' rules we have and replaces them with the correct set of rules filtered by the providers/consumers' cidrs. Change-Id: I7c46723b1354553663eaa51e7b2fd52fcdf6b096 Closes-bug: 1479169",7987,Ivar Lazzaro,"[3, 490, 1689, 7278, 7987, 9375, 9722, 10965]","['Jenkins', 'Sumit Naiksatam', 'Robert Kukura', 'Subrahmanyam Ongole', 'Ivar Lazzaro', 'Stephen Wong', 'Hemanth Ravi', 'Magesh GV']",remove wide egress rules prs security groups order avoind unwanted outgoing traffic patch completely eliminates egress rules replaces correct set rules filtered providersconsumers cidrs changeid i7c46723b1354553663eaa51e7b2fd52fcdf6b096 closesbug 1479169
https://review.opendev.org/207250,remove wide egress rules from PRS security groups,"remove wide egress rules from PRS security groups In order to avoind unwanted outgoing traffic, this patch completely eliminates the 'egress to ALL' rules we have and replaces them with the correct set of rules filtered by the providers/consumers' cidrs. Change-Id: I7c46723b1354553663eaa51e7b2fd52fcdf6b096 Closes-bug: 1479169",7987,Ivar Lazzaro,"[3, 490, 1689, 7278, 7987, 9375, 9396, 9722, 10965]","['Jenkins', 'Sumit Naiksatam', 'Robert Kukura', 'Subrahmanyam Ongole', 'Ivar Lazzaro', 'Stephen Wong', 'Igor D.C.', 'Hemanth Ravi', 'Magesh GV']",remove wide egress rules prs security groups order avoind unwanted outgoing traffic patch completely eliminates egress rules replaces correct set rules filtered providersconsumers cidrs changeid i7c46723b1354553663eaa51e7b2fd52fcdf6b096 closesbug 1479169
https://review.opendev.org/212424,Architecture Design Guide - Security Content,"Architecture Design Guide - Security Content Adding security content to the legal and security requirements chapter, reducing duplication. Adjusting some sentences for clarity Change-Id: Id44e263dcfd8a926659d2766d62319aa3dff6c1d Implements: blueprint arch-guide",10897,Joseph Robinson,"[3, 4656, 8103, 10497, 10607, 10897, 12686, 14643]","['Jenkins', 'Sean M. Collins', 'Deepti Navale', 'KATO Tomoyuki', 'Alexandra Settle', 'Joseph Robinson', 'Brian Moss', 'Olga Gusarenko']",architecture design guide security content adding security content legal security requirements chapter reducing duplication adjusting sentences clarity changeid id44e263dcfd8a926659d2766d62319aa3dff6c1d implements blueprint archguide
https://review.opendev.org/208507,networking-tricircle core plugin and security group,"networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process. This just includes the Neutron side plugin. It replaces the ML2 plugin with one that doesn't do any actual network changes, instead only forwards it to the Cascade Service. Change-Id: Ic63e7a3d0a1b171d43aff535b65c949e9e51ff4f",2023,Saggi Mizrahi,"[3, 2023, 11819, 13070, 16911]","['Jenkins', 'Saggi Mizrahi', 'Chaoyi Huang', 'Eran Gampel', 'HUAWEI CASCADE CI']",networkingtricircle core plugin security group initial implementation include option use ml2 seem better use core plugin control process includes neutron side plugin replaces ml2 plugin one doesnt actual network changes instead forwards cascade service changeid ic63e7a3d0a1b171d43aff535b65c949e9e51ff4f
https://review.opendev.org/212063,Fix paths to updates and security repositories According to a new scheme of repos,Fix paths to updates and security repositories According to a new scheme of repos Change-Id: I1b78a50603cfbb0d2f7b4aba455e31aa861aedd9 Related-Bug: #1482710,16518,Alexey Shtokolov,"[3, 8749, 8907, 8971, 9582, 10391, 12200, 12817]","['Jenkins', 'Evgeniy L', 'Dmitry Shulyak', 'Fuel CI', 'Dmitry Burmistrov', 'Ihor Kalnytskyi', 'Sebastian Kalinowski', 'Sergey Kulanov']",fix paths updates security repositories according new scheme repos changeid i1b78a50603cfbb0d2f7b4aba455e31aa861aedd9 relatedbug 1482710
https://review.opendev.org/210277,Prevent writing security repos twice in MapR plugin,Prevent writing security repos twice in MapR plugin Registration of precise and lucid security repos moved to separate bash script which is executed only in case of non-prebuilt images. Prebuilt images already contains this repos. Change-Id: I9151e1213b0fa75e4c7e8e16839d269d38a3adce Closes-Bug: #1482237,12693,Artem Osadchiy,"[3, 6116, 6786, 7125, 7213, 12038, 12039, 13919, 13953]","['Jenkins', 'li,chen', 'Sergey Lukjanov', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Vitaly Gridnev', 'Andrey Pavlov', 'Evgeny Sikachev', 'Elise Gafford']",prevent writing security repos twice mapr plugin registration precise lucid security repos moved separate bash script executed case nonprebuilt images prebuilt images already contains repos changeid i9151e1213b0fa75e4c7e8e16839d269d38a3adce closesbug 1482237
https://review.opendev.org/212116,Point to Japanese RST Security Guide,"Point to Japanese RST Security Guide Now that the Japanese Security Guide has been converted to RST and published, update links to it. Change-Id: Id629285da330fe93a6d818499df8419ccb7f04c9",6547,Andreas Jaeger,"[3, 612, 10497]","['Jenkins', 'Tom Fifield', 'KATO Tomoyuki']",point japanese rst security guide japanese security guide converted rst published update links changeid id629285da330fe93a6d818499df8419ccb7f04c9
https://review.opendev.org/212044,Update Security Guide Links,Update Security Guide Links Redirect old contents to new index.html since most pages have different names. Update links to Guide. Remove links to PDF since we do not publish a PDF file. Change-Id: I32de4f11c42be0d8c1abc4baac0fd73f028a40c2,6547,Andreas Jaeger,"[3, 964, 6547, 9382, 9515, 10497]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger', 'Shilla Saebi', 'Matthew Kassawara', 'KATO Tomoyuki']",update security guide links redirect old contents new indexhtml since pages different names update links guide remove links pdf since publish pdf file changeid i32de4f11c42be0d8c1abc4baac0fd73f028a40c2
https://review.opendev.org/196395,Adding bandit for security static analysis testing in swift,Adding bandit for security static analysis testing in swift This change adds a basic bandit config for Swift. It can be invoked by running the tox environment for bandit; tox -e bandit This is an initial step for using bandit with Swift and it should be revisited to improve the testing as more is learned about the specific needs of the Swift code base. Tox is configured to only show results for high severity results. https://wiki.openstack.org/wiki/Security/Projects/Bandit Partially implements: swift-bandit Change-Id: I621be9a68ae9311f3a6eadd1636b05e646260cf2,14867,Jaivish Kothari(janonymous),"[3, 330, 2622, 6486, 7847, 8119, 11716, 11861, 13052, 14867, 15932]","['Jenkins', 'John Dickinson', 'Samuel Merritt', 'Brant Knudson', 'Alistair Coles', 'Eric Brown', 'Tim Kelsey', 'Travis McPeak', 'SwiftStack Cluster CI', 'Jaivish Kothari(janonymous)', 'Bill Huber']",adding bandit security static analysis testing swift change adds basic bandit config swift invoked running tox environment bandit tox e bandit initial step using bandit swift revisited improve testing learned specific needs swift code base tox configured show results high severity results httpswikiopenstackorgwikisecurityprojectsbandit partially implements swiftbandit changeid i621be9a68ae9311f3a6eadd1636b05e646260cf2
https://review.opendev.org/212069,Publish Japanese Security Guide,Publish Japanese Security Guide The Japanese Guide is ready for publishing. Change-Id: I6b0e504038f69a842cb22f8a45220d8974a5b1a4,6547,Andreas Jaeger,"[3, 12325]","['Jenkins', 'Nathaniel Dillon']",publish japanese security guide japanese guide ready publishing changeid i6b0e504038f69a842cb22f8a45220d8974a5b1a4
https://review.opendev.org/211699,Networking services in OpenStack Security Guide - Rewrite for clarity,Networking services in OpenStack Security Guide - Rewrite for clarity Rewrite some sections of the Network services page for clarity. Fixes bug #1447759 Change-Id: I4720c03b035062d89e18a0921e2d0eed49a0e06f,107,Arvind Somya,"[3, 107, 979, 6547, 10670, 12325]","['Jenkins', 'Arvind Somya', 'Dave Walker', 'Andreas Jaeger', 'Michael McCune', 'Nathaniel Dillon']",networking services openstack security guide rewrite clarity rewrite sections network services page clarity fixes bug 1447759 changeid i4720c03b035062d89e18a0921e2d0eed49a0e06f
https://review.opendev.org/211652,Fix paths to updates and security repositories According to a new scheme of repos,Fix paths to updates and security repositories According to a new scheme of repos Closes-Bug: #1482710 Change-Id: Ibf16be5c9f031f8c1b746933315d7747649d08ab,16518,Alexey Shtokolov,"[3, 406, 3009, 6926, 7195, 7732, 8392, 8776, 8777, 8786, 8787, 8789, 8965, 9439, 9977, 10391, 11090, 12817, 13194, 16518]","['Jenkins', 'Mike Scherbakov', 'Vladimir Kozhukalov', 'Bogdan Dobrelya', 'Matthew Mosesohn', 'Ivan Berezovskiy', 'Aleksey Kasatkin', 'Vladimir Sharshov', 'Roman Vyalov', 'Vladimir Kuklin', 'Dmitry Borodaenko', 'Dmitry Pyzhov', 'Igor Shishkin', 'Egor Kotko', 'Aleksandra Fedorova', 'Ihor Kalnytskyi', 'Sergii Golovatiuk', 'Sergey Kulanov', 'Alexei Sheplyakov', 'Alexey Shtokolov']",fix paths updates security repositories according new scheme repos closesbug 1482710 changeid ibf16be5c9f031f8c1b746933315d7747649d08ab
https://review.opendev.org/209161,Adds a security test to check for Command Injection vulnerabilities,"Adds a security test to check for Command Injection vulnerabilities This is a security test to verify whether the create service API is vulnerable to Command Injection. Some common injection strings are supplied to all fields of the JSON input to see if the API invocation succeeds. If so, this indicates a vulnerability. Change-Id: Iefc807db9e9f887c6cb0fc5f7076254e4a0c161f Implements: blueprint command-injection-vulnerability",14099,Henry Yamauchi,"[3, 7498, 8093]","['Jenkins', 'Malini Kamalambal', 'Amit Gandhi']",adds security test check command injection vulnerabilities security test verify whether create service api vulnerable command injection common injection strings supplied fields json input see api invocation succeeds indicates vulnerability changeid iefc807db9e9f887c6cb0fc5f7076254e4a0c161f implements blueprint commandinjectionvulnerability
https://review.opendev.org/211018,Added basic security groups functional test for OVSvApp -part4,Added basic security groups functional test for OVSvApp -part4 1.test_flows_consistent_across_ovsvapp_in_cluster Change-Id: I1a130362b79a06450ad49ba20c31a7e3acca1e28 Co-Authored-By: Ashish Kumar Gupta <ashish-kumar.gupta@hp.com>,12708,prabhu murthy,"[3, 9361, 10370, 11078, 11671, 12708, 12714, 14323]","['Jenkins', 'Vivekanandan Narasimhan', 'Romil Gupta', 'Sarada', 'Ashish Kumar Gupta', 'prabhu murthy', 'Preethi Dsilva', 'HP Networking CI']",added basic security groups functional test ovsvapp part4 1testflowsconsistentacrossovsvappincluster changeid i1a130362b79a06450ad49ba20c31a7e3acca1e28 coauthoredby ashish kumar gupta ashishkumarguptahpcom
https://review.opendev.org/147713,Add conntrack-tool to manage security groups,"Add conntrack-tool to manage security group this patch introduce conntrack-tool to manage security group. when a security group rule is deleted, it should use conntrack-tool to delete the invalid ip connectivity. Partially-Implements: bp conntrack-in-security-group Change-Id: Ibfd2d6a11aa970ea9e5009f4c4b858544d8b7463",8976,shihanzhang,"[3, 105, 261, 1131, 4395, 4656, 5170, 7293, 7787, 7805, 8124, 8645, 8788, 8976, 9008, 9423, 9681, 9682, 9732, 9751, 9787, 9845, 10116, 10117, 10121, 10153, 10184, 10257, 10386, 10387, 10692, 11343, 12040, 12860, 14102, 14208, 14212, 14213, 14214, 14215, 14216, 14249, 14323, 14571, 15296, 15309, 15752, 15894]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Brian Haley', 'Aaron Rosen', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Elena Ezhova', 'Kevin Benton', 'Li Ma', 'cbrandily', 'Trinath Somanchi', 'Miguel Angel Ajo', 'shihanzhang', 'VMware NSX CI', 'Roey Chen', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'IBM DB2 CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Sridhar Gaddam', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Gal Sagie', 'A10 Networks CI', 'Dongcan Ye', 'algerwang', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'Lionel Zerbib', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'zhaobo', 'Intel SR-IOV CI', 'Pluribus Networks CI']",add conntracktool manage security group patch introduce conntracktool manage security group security group rule deleted use conntracktool delete invalid ip connectivity partiallyimplements bp conntrackinsecuritygroup changeid ibfd2d6a11aa970ea9e5009f4c4b858544d8b7463
https://review.opendev.org/210794,Add Japanese RST Security Guide to draft,Add Japanese RST Security Guide to draft Reference new draft translation. Change-Id: Ie2444f81f785f88cfbba0b10931c6232cf9d1a92,6547,Andreas Jaeger,"[3, 167, 6547, 10497]","['Jenkins', 'Christian Berendt', 'Andreas Jaeger', 'KATO Tomoyuki']",add japanese rst security guide draft reference new draft translation changeid ie2444f81f785f88cfbba0b10931c6232cf9d1a92
https://review.opendev.org/206918,Build Japanese RST Security Guide,Build Japanese RST Security Guide Build and publish as draft the Japanese RST Security Guide. This sets up the infrastructure for building. It can merge once we have a Japanese translation file imported from security-guide-rst/source/locale/ja/LC_MESSAGES/security-guide-rst.po. Change-Id: I7075f020a8b48cdebfb579568de528fd10343bbe,6547,Andreas Jaeger,"[3, 167, 964, 979, 2807, 6547, 7063, 9098, 9162, 10497, 10670, 12325]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Dave Walker', 'Bryan D. Payne', 'Andreas Jaeger', 'Robert Clark', 'Nathan Kinder', 'Lana Brindley', 'KATO Tomoyuki', 'Michael McCune', 'Nathaniel Dillon']",build japanese rst security guide build publish draft japanese rst security guide sets infrastructure building merge japanese translation file imported securityguiderstsourcelocalejalcmessagessecurityguiderstpo changeid i7075f020a8b48cdebfb579568de528fd10343bbe
https://review.opendev.org/205801,Add section for security group with neutron,Add section for security group with neutron Add new section in Operation-Guide that explain the security group settings using neutron command. Change-Id: Ide7a85db6dba1f60519bd7a4c3ef2eff801ade4b Closes-Bug: #1408912,14154,Takanori Miyagishi,"[3, 612, 9162, 14154]","['Jenkins', 'Tom Fifield', 'Lana Brindley', 'Takanori Miyagishi']",add section security group neutron add new section operationguide explain security group settings using neutron command changeid ide7a85db6dba1f60519bd7a4c3ef2eff801ade4b closesbug 1408912
https://review.opendev.org/179568,Add bandit for security static analysis testing,Add bandit for security static analysis testing This change adds a basic bandit config for Cinder. It can be invoked by running the tox environment for bandit; tox -e bandit This is intended as a starting point for using bandit with Cinder and it should be revisited to improve the testing as more is learned about the specific needs of the Cinder code base. Change-Id: I0247e0ccaed6faacacb2b8d2f8b141a8edc704af,8119,Eric Brown,"[3, 170, 177, 1207, 1736, 2243, 2759, 4523, 5997, 6491, 7111, 7198, 8119, 8871, 9003, 9171, 9535, 9751, 10263, 10621, 10622, 11611, 11716, 11811, 11861, 11904, 12017, 12032, 12033, 12202, 12249, 12285, 12369, 12491, 12493, 12778, 12780, 13144, 13394, 13628, 13900, 13915, 14206, 14242, 14259, 14305, 14384, 14797, 14863, 14969, 15249, 15296, 15374, 15386, 15424, 15670, 15764, 15941, 16160, 16269, 16422, 16595, 16660, 16862, 16880, 16897, 16941, 16952]","['Jenkins', 'Mike Perez', 'Alex Meade', 'Duncan Thomas', 'Ivan Kolodyazhny', 'John Griffith', 'Huang Zhiteng', 'Eric Harney', 'Walt', 'xing-yang', 'hadi esiely', 'Jay Bryant', 'Eric Brown', 'Elastic Recheck', 'Tom Barron', 'Vipin Balachandran', 'Gorka Eguileor', 'IBM DB2 CI', 'Vilobh Meshram', 'NetApp CI', 'SolidFire CI', 'Nimble Storage CI', 'Tim Kelsey', 'HP Storage CI', 'Travis McPeak', 'Sean McGinnis', 'DellEMC VNX CI', 'Datera CI', 'DellEMC XtremIO CI', 'IBM Storwize CI', 'Scality CI', 'nikeshmahalka', 'Pure Storage CI', 'IBM GPFS CI', 'IBM XIV CI', 'HDS HNAS CI', 'ProphetStor CI', 'Oracle ZFSSA CI', 'Microsoft iSCSI CI', 'Huawei Volume CI', 'Accela Zhao', 'Silvan Kaiser', 'OpenvStorage CI - unmaintained', 'Mellanox Cinder CI', 'CloudByte CI', 'Yuriy Nesenenko', 'Quobyte CI', 'Violin Memory V6000 CI', 'Diego Zamboni Latance', 'X-IO OpenStack CI', 'Dell Storage CI', 'Brocade Openstack CI', 'IBM FlashSystem CI', 'Nexenta CI', 'javeme', 'StorPool distributed storage CI', 'NetApp FC CI', 'DellEMC PowerFlex CI', 'Blockbridge EPS CI', 'Hitachi HBSD CI', 'Tintri CI', 'HGST Solutions CI', 'Hitachi HBSD2 CI', 'IBM Storwize CI', 'XP Cinder CI', 'Virtuozzo Storage CI', 'Vedams-HPMSA FCISCSIDriver CI', 'Vedams-LenovoStorage FCISCSI CI']",add bandit security static analysis testing change adds basic bandit config cinder invoked running tox environment bandit tox e bandit intended starting point using bandit cinder revisited improve testing learned specific needs cinder code base changeid i0247e0ccaed6faacacb2b8d2f8b141a8edc704af
https://review.opendev.org/205509,Fix response params of Security groups and rules,"Fix response params of Security groups and rules The following ""Response parameters"" tables of ""Security groups and rules (security-groups)"" have a wrong parameter name. - Create security group (""security_groups"" should be ""security_group"") - Show security group (""security_groups"" should be ""security_group"") - Show security group rule (""security_groups_rules"" should be ""security_group_rule"") Change-Id: I988c20e68b2f926a02ce7f21099adb83a9c13527 Closes-Bug: #1477443",13623,Kei Tokunaga,"[3, 612, 964, 2448]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Diane Fleming']",fix response params security groups rules following response parameters tables security groups rules securitygroups wrong parameter name create security group securitygroups securitygroup show security group securitygroups securitygroup show security group rule securitygroupsrules securitygrouprule changeid i988c20e68b2f926a02ce7f21099adb83a9c13527 closesbug 1477443
https://review.opendev.org/205506,"Delete an entry from ""List security group rules"" table","Delete an entry from ""List security group rules"" table ""Response parameters"" table of ""List security group rules"" has an unnecessary entry. There are two ""tenant_id"" entries in the table. The latter is the unnecessary one as ""tenant_id"" in a response parameter is the ID of the tenant who owns the security group rule. Change-Id: I98300d7af66f5085e7360b2fab3ee260440ac73d Closes-Bug: #1477397",13623,Kei Tokunaga,"[3, 612, 964, 2448]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Diane Fleming']",delete entry list security group rules table response parameters table list security group rules unnecessary entry two tenantid entries table latter unnecessary one tenantid response parameter id tenant owns security group rule changeid i98300d7af66f5085e7360b2fab3ee260440ac73d closesbug 1477397
https://review.opendev.org/206095,Add security to libvirtd,Add security to libvirtd * Allow libvirt to be accessed only from management network * Add new define for managing rules with multiple sources Change-Id: Ied16d8892e0c091491cc33298626c18aae8e4125 Closes-Bug: 1477543,13344,Oleksiy Molchanov,"[3, 6849, 6926, 7468, 8786, 8971, 9387, 11090, 11827, 14525, 14774, 14985]","['Jenkins', 'Roman Podoliaka', 'Bogdan Dobrelya', 'Sergey Vasilenko', 'Vladimir Kuklin', 'Fuel CI', 'Aleksandr Didenko', 'Sergii Golovatiuk', 'Stanislaw Bogatkin', 'Vasyl Saienko', 'Fuel TPI CI', 'Alex Schultz']",add security libvirtd allow libvirt accessed management network add new define managing rules multiple sources changeid ied16d8892e0c091491cc33298626c18aae8e4125 closesbug 1477543
https://review.opendev.org/207026,Fix description of security group API,"Fix description of security group API If a client doesn't specify it, Nova returns a HTTP400(BadRequest) response to the client because of http://git.openstack.org/cgit/openstack/nova/tree/nova/compute/api.py#n3853 So the parameter description of security group API is required now. Change-Id: I9c9b66f35f267e4b99b8a294ebc23997b25ea920",6167,Ken'ichi Ohmichi,"[3, 2448, 6167, 14046, 17207]","['Jenkins', 'Diane Fleming', ""Ken'ichi Ohmichi"", 'Chris Cannon', 'Atsushi SAKAI']",fix description security group api client doesnt specify nova returns http400badrequest response client httpgitopenstackorgcgitopenstacknovatreenovacomputeapipyn3853 parameter description security group api required changeid i9c9b66f35f267e4b99b8a294ebc23997b25ea920
https://review.opendev.org/206072,Add conflict(409) error code to Delete security group,Add conflict(409) error code to Delete security group Change-Id: Ie8e016facaf2d039ef3a6863e301ef74f4b2e298 Closes-bug: #1477934,17294,Yoshinori Iwamoto,"[3, 2448, 10068]","['Jenkins', 'Diane Fleming', 'Welcome, new contributor!']",add conflict409 error code delete security group changeid ie8e016facaf2d039ef3a6863e301ef74f4b2e298 closesbug 1477934
https://review.opendev.org/206587,Fixes to security group Compute API docs,Fixes to security group Compute API docs Change-Id: Id603618d127fc4d15f5b6e24aaa1a3ea702fc231 Closes-bug: 1479012,964,Anne Gentle,"[3, 612, 6547]","['Jenkins', 'Tom Fifield', 'Andreas Jaeger']",fixes security group compute api docs changeid id603618d127fc4d15f5b6e24aaa1a3ea702fc231 closesbug 1479012
https://review.opendev.org/203851,"Note that we'll use ""allow-related"" for security groups.","Note that we'll use ""allow-related"" for security groups. The security group docs said that we'd use the ""allow"" ACL action when we really want to use ""allow-related"". The difference is that we want to allow return traffic for an opened connection that passed a security group rule. Related thread on ovs dev list: http://openvswitch.org/pipermail/dev/2015-July/057768.html Change-Id: Ide4482f94b03da3568ea2a0fbecc9ed58d4c9cf8 Signed-off-by: Russell Bryant <rbryant@redhat.com>",1561,Russell Bryant,"[3, 1561, 6854, 11343]","['Jenkins', 'Russell Bryant', 'YAMAMOTO Takashi', 'Gal Sagie']",note well use allowrelated security groups security group docs said wed use allow acl action really want use allowrelated difference want allow return traffic opened connection passed security group rule related thread ovs dev list httpopenvswitchorgpipermaildev2015july057768html changeid ide4482f94b03da3568ea2a0fbecc9ed58d4c9cf8 signedoffby russell bryant rbryantredhatcom
https://review.opendev.org/205223,Adds a security test to check for authorization vulnerabilities,"Adds a security test to check for authorization vulnerabilities This is a security test to verify whether the create service API is vulnerable to some authorization attacks. We attempt to create services without tokens, with invalid tokens, other user's tokens and so on. All such attempts should fail. Change-Id: I6b98a00e7925a93a5da3378a1f3e1fc5543472f9 Implements: blueprint security-authorization",14099,Henry Yamauchi,"[3, 7498, 8093]","['Jenkins', 'Malini Kamalambal', 'Amit Gandhi']",adds security test check authorization vulnerabilities security test verify whether create service api vulnerable authorization attacks attempt create services without tokens invalid tokens users tokens attempts fail changeid i6b98a00e7925a93a5da3378a1f3e1fc5543472f9 implements blueprint securityauthorization
https://review.opendev.org/199771,Wait for nova_server1 to be deleted before deleting it's security group,"Wait for nova_server1 to be deleted before deleting it's security group This adds a 30 second wait loop for the nova_server1 resource to be deleted before trying to delete it's related security group so we don't hit a 400 error from nova-api. This is basically a copy of what is done when deleting the cinder_server1 resource. Added notes that we can clean this up with the --wait option on the `openstack server delete` command when python-openstackclient>=1.4.0 at least in global-requirements, which will have to wait until at least the M release since stable/kilo caps osc at <1.1.0. Closes-Bug: #1460112 Change-Id: I16981765c12db7145f7c4754d454431afb6d5cbb",6873,Matt Riedemann,"[3, 2750, 6873]","['Jenkins', 'Sean Dague', 'Matt Riedemann']",wait novaserver1 deleted deleting security group adds 30 second wait loop novaserver1 resource deleted trying delete related security group dont hit 400 error novaapi basically copy done deleting cinderserver1 resource added notes clean wait option openstack server delete command pythonopenstackclient140 least globalrequirements wait least release since stablekilo caps osc 110 closesbug 1460112 changeid i16981765c12db7145f7c4754d454431afb6d5cbb
https://review.opendev.org/203687,Added basic security groups functional test for OVSvApp -part4,Added basic security groups functional test for OVSvApp -part4 11.test_icmp_security_group_rule_with_type_code. Change-Id: Idc9f08fa4132af5e54c0ce7ebc384878c23de56b,12708,prabhu murthy,"[3, 9361, 10370, 11078, 11670, 11671, 12708, 14323, 14838]","['Jenkins', 'Vivekanandan Narasimhan', 'Romil Gupta', 'Sarada', 'Alok Kumar Maurya', 'Ashish Kumar Gupta', 'prabhu murthy', 'HP Networking CI', 'Gandharva']",added basic security groups functional test ovsvapp part4 11testicmpsecuritygrouprulewithtypecode changeid idc9f08fa4132af5e54c0ce7ebc384878c23de56b
https://review.opendev.org/193482,Added basic security groups functional test for OVSvApp -part3,Added basic security groups functional test for OVSvApp -part3 3.test_port_creation_with_multiple_security_group. Change-Id: I3da0f58a8307d44e04f11f33256b1e3f19410189,14838,Gandharva,"[3, 9361, 10370, 11078, 11670, 11671, 12708, 13547, 13651, 14323, 14838]","['Jenkins', 'Vivekanandan Narasimhan', 'Romil Gupta', 'Sarada', 'Alok Kumar Maurya', 'Ashish Kumar Gupta', 'prabhu murthy', 'neethi shashidhar', 'Santosh', 'HP Networking CI', 'Gandharva']",added basic security groups functional test ovsvapp part3 3testportcreationwithmultiplesecuritygroup changeid i3da0f58a8307d44e04f11f33256b1e3f19410189
https://review.opendev.org/178522,Added security group and network,Added security group and network So it's easy to practice in devstack. Change-Id: I18cfe6b2ed3d4c4b148b9a5ea7f471e62fc99a4c,7761,Jun Jie Nan,"[3, 4571, 6899, 7193, 9542, 10487, 12259, 13323, 14027]","['Jenkins', 'Steve Baker', 'Sirushti Murugesan', 'Thomas Spatzier', 'Pavlo Shchelokovskyy', 'Kanagaraj Manickam', 'Anant Patil', 'Tetiana Lashchova', 'Michal Rostecki']",added security group network easy practice devstack changeid i18cfe6b2ed3d4c4b148b9a5ea7f471e62fc99a4c
https://review.opendev.org/205685,fixing todos in security services section,fixing todos in security services section in the instance management chapter * changing doc link from introduction chapter to security boundaries and threats section * changing doc link from networking chapter to ref link pointing at the security groups label Change-Id: I354cfc9fd61eaf8e8da97dc861d97c4f86b050e1 Partial-Implements: sec-guide-rst,10670,Michael McCune,"[3, 979, 6547, 10281, 12325]","['Jenkins', 'Dave Walker', 'Andreas Jaeger', 'Priti Desai', 'Nathaniel Dillon']",fixing todos security services section instance management chapter changing doc link introduction chapter security boundaries threats section changing doc link networking chapter ref link pointing security groups label changeid i354cfc9fd61eaf8e8da97dc861d97c4f86b050e1 partialimplements secguiderst
https://review.opendev.org/179566,Add bandit for security static analysis testing,Add bandit for security static analysis testing This change adds a basic bandit config for Nova. It can be invoked by running the tox environment for bandit; tox -e bandit This is intended as a starting point for using bandit with Nova and it should be revisited to improve the testing as more is learned about the specific needs of the Nova code base. Change-Id: I3026b81317f0a6322acfc94784899a7453af586f,8119,Eric Brown,"[3, 7, 642, 679, 782, 1653, 1779, 1849, 2271, 2750, 4393, 4690, 5170, 5441, 5511, 5638, 6167, 6873, 8119, 8871, 9578, 10118, 10385, 11716, 11861, 14027, 15286, 15751]","['Jenkins', 'Jay Pipes', 'Matt Dietz', 'Kevin L. Mitchell', 'John Garbutt', 'garyk', 'Daniel Berrange', 'Joe Gordon', 'Michael Still', 'Sean Dague', 'Dan Smith', 'melanie witt', 'Microsoft Hyper-V CI', 'Andrew Laski', 'Nikola Dipanov', 'Davanum Srinivas', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'Eric Brown', 'Elastic Recheck', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Tim Kelsey', 'Travis McPeak', 'Michal Rostecki', 'XenProject CI', 'Intel PCI CI']",add bandit security static analysis testing change adds basic bandit config nova invoked running tox environment bandit tox e bandit intended starting point using bandit nova revisited improve testing learned specific needs nova code base changeid i3026b81317f0a6322acfc94784899a7453af586f
https://review.opendev.org/204141,adding security guide rst build dir to ignore,adding security guide rst build dir to ignore Change-Id: Ibf94b5eaeadb2db30ad4d81b272ec4f12a063041,10670,Michael McCune,"[3, 6547, 12325]","['Jenkins', 'Andreas Jaeger', 'Nathaniel Dillon']",adding security guide rst build dir ignore changeid ibf94b5eaeadb2db30ad4d81b272ec4f12a063041
https://review.opendev.org/203743,Add RST Security Guide to draft-index,"Add RST Security Guide to draft-index The Security team has started working on the RST version of the guide, add a link to it. Change-Id: I0389a2f55d6ec8e90c6137e9ebb858aa082b6ebe",6547,Andreas Jaeger,"[3, 6547, 10281, 10670, 12686, 14396, 14643, 14947]","['Jenkins', 'Andreas Jaeger', 'Priti Desai', 'Michael McCune', 'Brian Moss', 'Alexander Adamov', 'Olga Gusarenko', 'Maria Zlatkova']",add rst security guide draftindex security team started working rst version guide add link changeid i0389a2f55d6ec8e90c6137e9ebb858aa082b6ebe
https://review.opendev.org/202917,Setup RST Security Guide,"Setup RST Security Guide Add all files for RST conversion of security-guide. The guide will be published to docs.openstack.org/draft/security-guide-rst while conversion happens. Translations are currently disabled for this guide during the conversion. Add tooling so that the guide gets build automatically. Add initial content. Note that the files in the imported directory will be imported from openstack-manuals automatically once this change is in, they are stubs right now to have this building. Change-Id: Id5fc16d3a3c8e2efa98eb3fd7f5c986e0a83a76b",6547,Andreas Jaeger,"[3, 979, 6547, 7063, 10281, 10670, 11397, 12325, 12442, 14046]","['Jenkins', 'Dave Walker', 'Andreas Jaeger', 'Robert Clark', 'Priti Desai', 'Michael McCune', 'Doug Chivers', 'Nathaniel Dillon', 'Shellee Aragon', 'Chris Cannon']",setup rst security guide add files rst conversion securityguide guide published docsopenstackorgdraftsecurityguiderst conversion happens translations currently disabled guide conversion add tooling guide gets build automatically add initial content note files imported directory imported openstackmanuals automatically change stubs right building changeid id5fc16d3a3c8e2efa98eb3fd7f5c986e0a83a76b
https://review.opendev.org/736000,Set up cert-manager cluster role for pod security policies,Set up cert-manager cluster role for pod security policies This commit adds a helm chart that deploys a rolebinding to the cert-manager application to allow deployments to the cert-manager namespace after PodSecurityPolicy plugin is enabled on the Kubernetes cluster. Partial-bug: 1878900 Depends-On: https://review.opendev.org/#/c/734408/ Depends-On: https://review.opendev.org/#/c/735998/ Change-Id: I73f91d94d341511b8e43c21d6f01b1cf3e7ad054 Signed-off-by: Jerry Sun <jerry.sun@windriver.com>,21776,Jerry Sun,"[22348, 26026, 28459, 28464, 31500]","['Zuul', 'Greg Waines', 'Bob Church', 'Eric MacDonald', 'Sabeel Ansari']",set certmanager cluster role pod security policies commit adds helm chart deploys rolebinding certmanager application allow deployments certmanager namespace podsecuritypolicy plugin enabled kubernetes cluster partialbug 1878900 dependson httpsreviewopendevorgc734408 dependson httpsreviewopendevorgc735998 changeid i73f91d94d341511b8e43c21d6f01b1cf3e7ad054 signedoffby jerry sun jerrysunwindrivercom
https://review.opendev.org/735648,Ceph-mon: Add pod/container security context,Ceph: Add pod/container security context This updates the ceph-mon chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I4c9e292eaf3d76ee80f50553d1cbc8cdc6f57cac,29161,Rahul Khiyani,"[7769, 8863, 8898, 12281, 18511, 20466, 21420, 22348, 22477, 23928, 28372, 29161, 30777]","['Pentheus', 'Andrii Ostapenko', 'Chris Wedgwood', 'Itxaka', 'Brian Wickersham', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'chinasubbareddy mallavarapu', 'Rahul Khiyani', 'Steven Fitzpatrick']",ceph add podcontainer security context updates cephmon chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i4c9e292eaf3d76ee80f50553d1cbc8cdc6f57cac
https://review.opendev.org/736002,Set up openstack cluster role for pod security policies,Set up openstack cluster role for pod security policies This commit adds a helm chart that deploys a rolebinding to the openstack application to allow deployments to the openstack namespace after PodSecurityPolicy plugin is enabled on the Kubernetes cluster. Change-Id: I57d3a31c9fcc7e03499e605d6d722fdb36004339 Partial-bug: 1878900 Depends-On: https://review.opendev.org/#/c/734408/ Depends-On: https://review.opendev.org/#/c/735998/ Signed-off-by: Jerry Sun <jerry.sun@windriver.com>,21776,Jerry Sun,"[8768, 21776, 22348, 26026, 28459]","['Chris Friesen', 'Jerry Sun', 'Zuul', 'Greg Waines', 'Bob Church']",set openstack cluster role pod security policies commit adds helm chart deploys rolebinding openstack application allow deployments openstack namespace podsecuritypolicy plugin enabled kubernetes cluster changeid i57d3a31c9fcc7e03499e605d6d722fdb36004339 partialbug 1878900 dependson httpsreviewopendevorgc734408 dependson httpsreviewopendevorgc735998 signedoffby jerry sun jerrysunwindrivercom
https://review.opendev.org/735998,Set up kube-system cluster role for pod security policies,Set up kube-system cluster role for pod security policies This commit adds cluster role and cluster role bindings for the PodSecurityPolicy plugin in the kube-system namespace. It also upversions the cert-manager application in the required applications list because we needed to modify that application for the same bug. Closes-bug: 1878900 Change-Id: Ia824346d759d4439691a9a9a000fd7e698914f65 Signed-off-by: Jerry Sun <jerry.sun@windriver.com>,21776,Jerry Sun,"[14174, 21776, 22348, 26026, 28431, 28459, 28486, 31500]","['Bart Wensley', 'Jerry Sun', 'Zuul', 'Greg Waines', 'Don Penney', 'Bob Church', 'Tee Ngo', 'Sabeel Ansari']",set kubesystem cluster role pod security policies commit adds cluster role cluster role bindings podsecuritypolicy plugin kubesystem namespace also upversions certmanager application required applications list needed modify application bug closesbug 1878900 changeid ia824346d759d4439691a9a9a000fd7e698914f65 signedoffby jerry sun jerrysunwindrivercom
https://review.opendev.org/202995,Remove security groups callback code,"Remove security groups callback code The security groups callback code was meant to be used with ML2, with a plugin we can directly implement security groups and this code should not be used Change-Id: Iffcd0f08aa9bf3f49544e90be7ecd9a24a51c390 Closes-Bug: #1475405",11343,Gal Sagie,"[3, 105, 1561, 1653, 4395, 5756, 6854, 11343]","['Jenkins', 'Kyle Mestery', 'Russell Bryant', 'garyk', 'Aaron Rosen', 'Terry Wilson', 'YAMAMOTO Takashi', 'Gal Sagie']",remove security groups callback code security groups callback code meant used ml2 plugin directly implement security groups code used changeid iffcd0f08aa9bf3f49544e90be7ecd9a24a51c390 closesbug 1475405
https://review.opendev.org/171262,Adds a security test to check for SQL injection vulnerabilities,"Adds a security test to check for SQL injection vulnerabilities This is a security test to verify whether the create service API is vulnerable to a SQL injection attack. Some common SQL injection strings are supplied to all fields of the JSON input to see if the API invocation succeeds. If so, this indicates a vulnerability. Change-Id: I88d52bcf10934b9988ce5ae19c8e4127bd549388 Implements: blueprint sql-injection",14099,Henry Yamauchi,"[3, 6971, 7498, 8093, 11193, 14099, 15759]","['Jenkins', 'Malini Kamalambal', 'Malini Kamalambal', 'Amit Gandhi', 'Obulpathi', 'Henry Yamauchi', 'Malini Kamalambal']",adds security test check sql injection vulnerabilities security test verify whether create service api vulnerable sql injection attack common sql injection strings supplied fields json input see api invocation succeeds indicates vulnerability changeid i88d52bcf10934b9988ce5ae19c8e4127bd549388 implements blueprint sqlinjection
https://review.opendev.org/191016,[Manila] Add scenario for attach of security service to share network,[Manila] Add scenario for attach of security service to share network List of changes: - Added support of 'attach-security-service-to-share-network' operation. - Added benchmark for creating security service and share network and attaching the former to the latter. Change-Id: Icc6fe65ddf796603e7f507b62c2f6c76a030c400,8851,Valeriy Ponomaryov,"[3, 6172, 6835, 8840, 8851, 9545, 14817]","['Jenkins', 'Boris Pavlovic', 'Kun Huang', 'Carlos L. Torres', 'Valeriy Ponomaryov', 'Andrey Kurilin', 'Mirantis Rally CI']",manila add scenario attach security service share network list changes added support attachsecurityservicetosharenetwork operation added benchmark creating security service share network attaching former latter changeid icc6fe65ddf796603e7f507b62c2f6c76a030c400
https://review.opendev.org/188209,populate port security default into network,"net-list should return gracefully for existing non port security enabled network Steps to reproduce: 1. Turn off port enable security flag from ml2 plugin, restart neutron service 2. Create a temporary network 3. Turn on port enable security flag from ml2 plugin, restart neutron service 4. Execute ""neutron net-list"" 5. Neutron should crash The root cause is that for those existing network which was created without port security enabled netowrk, port security extension didn't take care of them as the data model of those network is undefined. This patchset is to let the extension construct the response dictionary gracefully for those existing network. Change-Id: I73abc98d83372f6259f17680806e6541458e2077 Closes-bug: 1461519",14064,Kahou Lei,"[3, 105, 261, 841, 1653, 2874, 5170, 6854, 7787, 8873, 9008, 9681, 9682, 9751, 9787, 9845, 10121, 10153, 10184, 10267, 10386, 10387, 10965, 12955, 13770, 14064, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 15444, 15752]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Akihiro Motoki', 'garyk', 'yong sheng gong', 'Microsoft Hyper-V CI', 'YAMAMOTO Takashi', 'Kevin Benton', 'Assaf Muller', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'IBM DB2 CI', 'Big Switch CI', 'Arista CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'venkata anil', 'OpenDaylight CI', 'Freescale CI', 'Magesh GV', 'Aman Kumar', 'Adolfo Duarte', 'Kahou Lei', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Cisco FWaaS CI', 'Intel SR-IOV CI']",netlist return gracefully existing non port security enabled network steps reproduce 1 turn port enable security flag ml2 plugin restart neutron service 2 create temporary network 3 turn port enable security flag ml2 plugin restart neutron service 4 execute neutron netlist 5 neutron crash root cause existing network created without port security enabled netowrk port security extension didnt take care data model network undefined patchset let extension construct response dictionary gracefully existing network changeid i73abc98d83372f6259f17680806e6541458e2077 closesbug 1461519
https://review.opendev.org/193429,Added basic security groups functional test for OVSvApp -part2,Added ESX basic security groups functional test 1.test_to_Validate_Port_update_with_a_new_Security_group. Added function to check remote connectivity in manager.py. Change-Id: I5fb3c9760de9b4c41515a4fa9e59facbd10463a6,12708,prabhu murthy,"[3, 748, 9361, 10370, 11078, 11670, 14323, 14838]","['Jenkins', 'Armando Migliaccio', 'Vivekanandan Narasimhan', 'Romil Gupta', 'Sarada', 'Alok Kumar Maurya', 'HP Networking CI', 'Gandharva']",added esx basic security groups functional test 1testtovalidateportupdatewithanewsecuritygroup added function check remote connectivity managerpy changeid i5fb3c9760de9b4c41515a4fa9e59facbd10463a6
https://review.opendev.org/179802,Dashboard in Security Guide Bad Sentence,Dashboard in Security Guide Bad Sentence Fixing requested bad sentence in the openstack security guide Change-Id: I6ad0b3a2f7477c2e4a2897c464762b01869c6f7e Closes-Bug: #1447711,7244,Victor Howard,"[3, 612, 6547, 9382, 12325]","['Jenkins', 'Tom Fifield', 'Andreas Jaeger', 'Shilla Saebi', 'Nathaniel Dillon']",dashboard security guide bad sentence fixing requested bad sentence openstack security guide changeid i6ad0b3a2f7477c2e4a2897c464762b01869c6f7e closesbug 1447711
https://review.opendev.org/198873,Fix for race condition in security groups creation,"Fix for race condition in security group creation There was a race condition in the creation of default security group, which was exposed when neutron was able to create a default security group and backend controller fails which results in inconsitency between neutron and backend controller. This fix will allow both neutron and backend controller to rollback in case of any failure i.e. either on neutron side or backend controller to maintain consistency between both. It also removes the strict checking for one default security group per tenant and will allow neutron to handle this scenario. Change-Id: Ic0de2596d723ceba601d60371d644f320d5e37be Closes-Bug: 1471287",15307,Muawia Khan,"[3, 8279, 15307]","['Jenkins', 'Fawad Khaliq', 'Muawia Khan']",fix race condition security group creation race condition creation default security group exposed neutron able create default security group backend controller fails results inconsitency neutron backend controller fix allow neutron backend controller rollback case failure ie either neutron side backend controller maintain consistency also removes strict checking one default security group per tenant allow neutron handle scenario changeid ic0de2596d723ceba601d60371d644f320d5e37be closesbug 1471287
https://review.opendev.org/197444,Fix callback registry notification for security group rule,Fix callback registry notification for security group rule Some housekeeping was done in - SecurityGroupDbMixin: - create_rule_bulk() calls to create_rule(); - registry notification is in create_rule(); - separate validation for a single rule and for a group of rules - SecurityGroupServerRpcMixin: - overriden methods call to corresponding super class methods; Hopefully code is now self-documented enough Closes-Bug: #1461024 (cherry picked from commit 76b4803530c0d5f47659aa519585178cc33cba46) Conflicts: neutron/db/securitygroups_db.py Change-Id: Ia75d7e206716bbe74aae89e4cebd0c2c40af68a8,748,Armando Migliaccio,"[3, 748, 841, 1653, 4395, 5170, 5948, 6854, 6951, 8344, 9681, 9682, 9787, 9845, 10153, 10387, 14208, 14212, 14213, 14323, 14571, 14605]","['Jenkins', 'Armando Migliaccio', 'Akihiro Motoki', 'garyk', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'YAMAMOTO Takashi', 'Brandon Logan', 'fumihiko kakuma', 'Ryu CI', 'OpenContrail CI', 'Big Switch CI', 'Arista CI', 'One Convergence CI', 'Freescale CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'HP Networking CI', 'Intel Experimental CI', 'vikram.choudhary']",fix callback registry notification security group rule housekeeping done securitygroupdbmixin createrulebulk calls createrule registry notification createrule separate validation single rule group rules securitygroupserverrpcmixin overriden methods call corresponding super class methods hopefully code selfdocumented enough closesbug 1461024 cherry picked commit 76b4803530c0d5f47659aa519585178cc33cba46 conflicts neutrondbsecuritygroupsdbpy changeid ia75d7e206716bbe74aae89e4cebd0c2c40af68a8
https://review.opendev.org/196794,Add security groups events,"Add security groups events ML2 mech drivers have no direct exposure to security groups, and they can only infer them from the associated network/ports. This is problematic as agentless ML2 mech drivers have no way of intercepting securitygroups events and propagate the information to their backend, or more generally, react to them. This patch leverages the callback registry to dispatch such events so that interested ML2 mech drivers (or any interested party like service plugins) can be notified and react accordingly. This patch addresses create/update/delete of security groups and create/delete of security groups rules. Other events may be added over time, if need be. This patch is only about emitting the events. The actual subscription and implementation of the event handlers will have to take place where deemed appropriate. Closes-bug: #1444112 Change-Id: Ifa1d7ee9c967576f824f1129dd68e6e3abd48f5c (cherry picked from commit 868e67b480b08cc815d802cf950547c6b5ac0153)",748,Armando Migliaccio,"[3, 748, 841, 4395, 5170, 5948, 6854, 6951, 7787, 8344, 9656, 9681, 9682, 9787, 9845, 10153, 14208, 14212, 14213, 14571, 14605]","['Jenkins', 'Armando Migliaccio', 'Akihiro Motoki', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'YAMAMOTO Takashi', 'Brandon Logan', 'Kevin Benton', 'fumihiko kakuma', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Big Switch CI', 'Arista CI', 'One Convergence CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'vikram.choudhary']",add security groups events ml2 mech drivers direct exposure security groups infer associated networkports problematic agentless ml2 mech drivers way intercepting securitygroups events propagate information backend generally react patch leverages callback registry dispatch events interested ml2 mech drivers interested party like service plugins notified react accordingly patch addresses createupdatedelete security groups createdelete security groups rules events may added time need patch emitting events actual subscription implementation event handlers take place deemed appropriate closesbug 1444112 changeid ifa1d7ee9c967576f824f1129dd68e6e3abd48f5c cherry picked commit 868e67b480b08cc815d802cf950547c6b5ac0153
https://review.opendev.org/138512,lb-agent: handle security group updates in main loop,lb-agent: handle security group updates in main loop Patch I1574544734865506ff5383404516cc9349c16ec4 introduced deferring firewall refreshes to the main loop of the ovs-agent to improve performance. This patch enables the same on the linuxbridge agent. Change-Id: Ia8fe229910d2be718da52cb341be163b86ace571 Closes-Bug: #1368281,2733,Darragh O'Reilly,"[3, 105, 704, 841, 1131, 2592, 2733, 4656, 5170, 6502, 6788, 6854, 7715, 7787, 7805, 8645, 9681, 9682, 9732, 9787, 9845, 9846, 9925, 10116, 10117, 10119, 10121, 10153, 10184, 10386, 10387, 11343, 12040, 13051, 14208, 14212, 14213, 14214, 14323, 14571, 14615, 14956, 15296, 15444]","['Jenkins', 'Kyle Mestery', 'Edgar Magana', 'Akihiro Motoki', 'Brian Haley', 'Mark McClain', ""Darragh O'Reilly"", 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Andrey Epifanov', 'Rossella Sblendido', 'YAMAMOTO Takashi', 'Hirofumi Ichihara', 'Kevin Benton', 'Li Ma', 'Trinath Somanchi', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Gal Sagie', 'A10 Networks CI', 'Brocade LBaaS CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'HP Networking CI', 'Intel Experimental CI', 'Sergey Belous', 'Intel SR-IOV CI', 'Brocade Openstack CI', 'Cisco FWaaS CI']",lbagent handle security group updates main loop patch i1574544734865506ff5383404516cc9349c16ec4 introduced deferring firewall refreshes main loop ovsagent improve performance patch enables linuxbridge agent changeid ia8fe229910d2be718da52cb341be163b86ace571 closesbug 1368281
https://review.opendev.org/196176,Adding security specs repo,Adding security specs repo Change-Id: I790ea5083b3a8cd0d6a954e4d99203421caed018 Depends-On: Ia3f7d47438735cd036448660f525d5cd834eeefa Closes-Bug: #1469248,10281,Priti Desai,"[3, 308, 2472, 2592, 2750, 4190, 7063, 9098, 10281, 12325]","['Jenkins', 'Thierry Carrez', 'Doug Hellmann', 'Mark McClain', 'Sean Dague', 'lifeless', 'Robert Clark', 'Nathan Kinder', 'Priti Desai', 'Nathaniel Dillon']",adding security specs repo changeid i790ea5083b3a8cd0d6a954e4d99203421caed018 dependson ia3f7d47438735cd036448660f525d5cd834eeefa closesbug 1469248
https://review.opendev.org/197735,Setup Security Specs Repo,Initial Security Specs Repo Contains the basic minimal setup for creating a spec Change-Id: Ia22486f3f07420aad0925bfac1009f99386820ca Closes-Bug: #1469248,10281,Priti Desai,"[3, 6547, 7063, 9098, 9162, 10281, 10670, 12325, 12442]","['Jenkins', 'Andreas Jaeger', 'Robert Clark', 'Nathan Kinder', 'Lana Brindley', 'Priti Desai', 'Michael McCune', 'Nathaniel Dillon', 'Shellee Aragon']",initial security specs repo contains basic minimal setup creating spec changeid ia22486f3f07420aad0925bfac1009f99386820ca closesbug 1469248
https://review.opendev.org/190999,[Manila] Add scenario for creation and deletion of security services,Add scenario for creation and deletion of Manila security services List of changes: - Added support of 'create' and 'delete' operations for security services. - Added benchmark for creating and deleting security services. Change-Id: I26ba499f24d0cc0036fbc3c7b2e7f7239ffad583,8851,Valeriy Ponomaryov,"[3, 6172, 6835, 8851, 9545, 10475, 12395, 14817]","['Jenkins', 'Boris Pavlovic', 'Kun Huang', 'Valeriy Ponomaryov', 'Andrey Kurilin', 'Alexander Maretskiy', 'Roman Vasylets', 'Mirantis Rally CI']",add scenario creation deletion manila security services list changes added support create delete operations security services added benchmark creating deleting security services changeid i26ba499f24d0cc0036fbc3c7b2e7f7239ffad583
https://review.opendev.org/190280,Add functional tests for security group CRUD,Add functional tests for security group CRUD Change-Id: Ib5bbd46c0454d7dbb541354d515430922569c994,8736,Terry Howe,"[3, 970, 1941, 8736]","['Jenkins', 'Dean Troyer', 'Lin Hua Cheng', 'Terry Howe']",add functional tests security group crud changeid ib5bbd46c0454d7dbb541354d515430922569c994
https://review.opendev.org/198050,Get rid of duplicated creation of security groups in test_volume_boot_pattern,"Get rid of duplicated creation of security groups in test_volume_boot_pattern It turns out that a security group in test test_volume_boot_pattern is created twice. The first security group is created in test itself, the second security group is created in the method _boot_instance_from_ volume(). This patch fixes it. Now the security group is created once. Change-Id: I1c10e80161880c7ad04f7c0f48d51cc03b6cbada",7428,Yaroslav Lobankov,"[3, 1192, 5196, 5803, 6167, 7227, 7350, 8556, 10385]","['Jenkins', 'David Kranz', 'Matthew Treinish', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Timur Nurlygayanov', 'Jordan Pittier', 'Ghanshyam', 'Citrix XenServer CI']",get rid duplicated creation security groups testvolumebootpattern turns security group test testvolumebootpattern created twice first security group created test second security group created method bootinstancefrom volume patch fixes security group created changeid i1c10e80161880c7ad04f7c0f48d51cc03b6cbada
https://review.opendev.org/193200,Hyper-V: Fixes Security Group Driver ICMPv6 rules,"Hyper-V: Fixes Security Group Driver ICMPv6 rules Security Group rules created with ethertype 'IPv6' and protocol 'icmp' cannot be added by the Hyper-V Security Groups Driver, as it cannot add rules with the protocol 'icmpv6'. Creates stateless ICMPv6 security group rules properly. Note: This is not a direct cherry-pick, as the Hyper-V Security Groups Driver was refactored in the Kilo cycle. (cherry picked from commit 1ea0f15e6a3b050e1301274496494d732d18f0d9) Change-Id: Id49294965c7adb6d4fbc6c799e4ae7f30070bb71 Closes-Bug: #1466547",8213,Claudiu Belu,"[3, 704, 1653, 5170, 8213, 9656, 9681, 9682, 9845, 10153, 14571, 15894]","['Jenkins', 'Edgar Magana', 'garyk', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Arista CI', 'One Convergence CI', 'Intel Experimental CI', 'Pluribus Networks CI']",hyperv fixes security group driver icmpv6 rules security group rules created ethertype ipv6 protocol icmp added hyperv security groups driver add rules protocol icmpv6 creates stateless icmpv6 security group rules properly note direct cherrypick hyperv security groups driver refactored kilo cycle cherry picked commit 1ea0f15e6a3b050e1301274496494d732d18f0d9 changeid id49294965c7adb6d4fbc6c799e4ae7f30070bb71 closesbug 1466547
https://review.opendev.org/193199,Fixes Hyper-V agent stateful security group rules,"Fixes Hyper-V agent stateful security group rules Hyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that security group rules which allows ""ANY"" protocol must be split up into separate rules for each protocol. Also, Hyper-V does not allow stateful ICMP rules, which means ICMP rules must be added both inbound and outbound. Closes-Bug: #1362676 Change-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0",8213,Claudiu Belu,"[3, 704, 1653, 5170, 8213, 9656, 9681, 9682, 9845, 10153, 14571, 15894]","['Jenkins', 'Edgar Magana', 'garyk', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Arista CI', 'One Convergence CI', 'Intel Experimental CI', 'Pluribus Networks CI']",fixes hyperv agent stateful security group rules hyperv allow stateful acls protocol meaning security group rules allows protocol must split separate rules protocol also hyperv allow stateful icmp rules means icmp rules must added inbound outbound closesbug 1362676 changeid i0d4a6ebc6023ea616cf92539273b8b36a6b24ae0
https://review.opendev.org/196763,Avoid double-hopping deletes for security group rules,Avoid double-hopping deletes for security group rules There is no need to get and delete; we can delete with one bullet. This will most likely have quite a decent performance benefit overall. The patch preserves the existing logic of raising and error on the missing element; a test was added to spur up the coverage. Related-bug: #1444112 Change-Id: Iaef77bd3f7775ed91d374838fb5488d925b4062c (cherry picked from commit 05a9f16257c2953bf40d11ca2a2f9651ba4e86b2),748,Armando Migliaccio,"[3, 748, 2592, 5170, 5948, 6854, 7787, 9681, 9682, 9787, 9845, 10153, 14208, 14212, 14213, 14571, 14605]","['Jenkins', 'Armando Migliaccio', 'Mark McClain', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'YAMAMOTO Takashi', 'Kevin Benton', 'Ryu CI', 'OpenContrail CI', 'Big Switch CI', 'Arista CI', 'One Convergence CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Intel Experimental CI', 'vikram.choudhary']",avoid doublehopping deletes security group rules need get delete delete one bullet likely quite decent performance benefit overall patch preserves existing logic raising error missing element test added spur coverage relatedbug 1444112 changeid iaef77bd3f7775ed91d374838fb5488d925b4062c cherry picked commit 05a9f16257c2953bf40d11ca2a2f9651ba4e86b2
https://review.opendev.org/193608,JSCS Cleanup - style cleanup for Launch Instance Security Groups Step,"JSCS Cleanup - style cleanup for Launch Instance Security Groups Step Following John Papa's style guide https://github.com/johnpapa/angular-styleguide, this patch refactors the Angular code for 'Security Groups' step in Launch Instance wizard. Change-Id: If5c56df70e7232172fa8ddb4878d5517bf9413b1 Partially-Implements: blueprint jscs-cleanup",11881,Aaron Sahlin,"[3, 1941, 5623, 9717, 11881, 13785, 13805, 15168]","['Jenkins', 'Lin Hua Cheng', 'David Lyle', 'Michael Krotscheck', 'Aaron Sahlin', 'Kelly Domico', 'Shaoquan Chen', 'Kirill Zaitsev']",jscs cleanup style cleanup launch instance security groups step following john papas style guide httpsgithubcomjohnpapaangularstyleguide patch refactors angular code security groups step launch instance wizard changeid if5c56df70e7232172fa8ddb4878d5517bf9413b1 partiallyimplements blueprint jscscleanup
https://review.opendev.org/196165,Adding new repo for security specs,Adding new security repo Adding security-specs to the OpenStack CI System Change-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa,10281,Priti Desai,"[3, 5263, 6316, 6547, 6786, 7063, 9098, 10281, 10670, 12325]","['Jenkins', 'Jeremy Stanley', 'Anita Kuno', 'Andreas Jaeger', 'Sergey Lukjanov', 'Robert Clark', 'Nathan Kinder', 'Priti Desai', 'Michael McCune', 'Nathaniel Dillon']",adding new security repo adding securityspecs openstack ci system changeid ia3f7d47438735cd036448660f525d5cd834eeefa
https://review.opendev.org/196228,XSS Security fix,XSS Security fix Change-Id: I8e22979196756bfa51f291e6782cd5e37d91a07a,12906,tonytan4ever,"[3, 7498, 8093, 11193]","['Jenkins', 'Malini Kamalambal', 'Amit Gandhi', 'Obulpathi']",xss security fix changeid i8e22979196756bfa51f291e6782cd5e37d91a07a
https://review.opendev.org/195583,Don't disable Ubuntu updates and security repos,Don't disable Ubuntu updates and security repos Change-Id: I212a92a859f2f576b459a9d4b996c8f55a5dc5ff Closes-bug: #1468759,11081,Artem Panchenko,"[3, 6719, 8882, 8971, 10136, 11969, 12867, 14057, 14708, 15943, 15984, 16106]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Fuel CI', 'Andrey Sledzinskiy', 'Dennis Dmitriev', 'Dmitry Tyzhnenko', 'Alexander Kurenyshev', 'Maksym Strukov', 'Vasily Gorin', 'Vladimir Khlyunev', 'Alexandr Kostrikov']",dont disable ubuntu updates security repos changeid i212a92a859f2f576b459a9d4b996c8f55a5dc5ff closesbug 1468759
https://review.opendev.org/195581,Don't disable Ubuntu updates and security repos,Don't disable Ubuntu updates and security repos Change-Id: I212a92a859f2f576b459a9d4b996c8f55a5dc5ff Closes-bug: #1468759,11081,Artem Panchenko,"[3, 6719, 8882, 8971, 10136, 11081, 11969, 12867, 14057, 14708, 15943, 15984, 16106]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Fuel CI', 'Andrey Sledzinskiy', 'Artem Panchenko', 'Dennis Dmitriev', 'Dmitry Tyzhnenko', 'Alexander Kurenyshev', 'Maksym Strukov', 'Vasily Gorin', 'Vladimir Khlyunev', 'Alexandr Kostrikov']",dont disable ubuntu updates security repos changeid i212a92a859f2f576b459a9d4b996c8f55a5dc5ff closesbug 1468759
https://review.opendev.org/173671,Merge security groups tests between v2 and v2.1,"Merge security groups tests between v2 and v2.1 Currently v2 and v2.1 have separate functional tests and their corresponding sample files. As v2 and v2.1 are supposed to be identical, there is overhead to maintain two set of functional tests and sample files. We can have one set of tests which can run for both v2 and v2.1. This commit merges security groups functional tests. In V2.1 os-access-ip is separate plugin where in v2 it was mixed in server plugin itself. So os-access-ip extension is enabled to run merged functional tests for both v2 and v2.1. Change-Id: I45bc8a6ab4b48bff6ed28b4c779b575252161ed1",8556,Ghanshyam,"[3, 2750, 5170, 6167, 9008, 9578, 9732, 10118, 10385, 13663, 15286, 15751, 16897]","['Jenkins', 'Sean Dague', 'Microsoft Hyper-V CI', ""Ken'ichi Ohmichi"", 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'heijlong', 'XenProject CI', 'Intel PCI CI', 'Virtuozzo Storage CI']",merge security groups tests v2 v21 currently v2 v21 separate functional tests corresponding sample files v2 v21 supposed identical overhead maintain two set functional tests sample files one set tests run v2 v21 commit merges security groups functional tests v21 osaccessip separate plugin v2 mixed server plugin osaccessip extension enabled run merged functional tests v2 v21 changeid i45bc8a6ab4b48bff6ed28b4c779b575252161ed1
https://review.opendev.org/187586,Fix callback registry notification for security group rule,Fix callback registry notification for security group rule Move callback registry notifications to create_security_group_rule_bulk_native() as this method is actually used for rule creation. Change-Id: Ia75d7e206716bbe74aae89e4cebd0c2c40af68a8 Closes-Bug: #1461024,5948,Oleg Bondarev,"[3, 105, 261, 748, 1131, 5170, 5948, 6659, 6788, 6854, 7249, 8976, 9008, 9681, 9682, 9751, 9787, 9845, 9846, 10121, 10153, 10184, 10386, 10387, 10692, 11343, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 14605, 15296, 15444, 15752, 15894]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Armando Migliaccio', 'Brian Haley', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Paul Michali', 'Rossella Sblendido', 'YAMAMOTO Takashi', 'Ann Taraday', 'shihanzhang', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'IBM DB2 CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Gal Sagie', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'vikram.choudhary', 'Brocade Openstack CI', 'Cisco FWaaS CI', 'Intel SR-IOV CI', 'Pluribus Networks CI']",fix callback registry notification security group rule move callback registry notifications createsecuritygrouprulebulknative method actually used rule creation changeid ia75d7e206716bbe74aae89e4cebd0c2c40af68a8 closesbug 1461024
https://review.opendev.org/181929,Remove Thierry Carrez from security contacts,Remove Thierry Carrez from security contacts Stepping down from the core list of security contacts to make room for future additions. Change-Id: I1ff787fedf8293e8cc583fb3c391688be86a4119,308,Thierry Carrez,"[3, 5263, 8119, 12000]","['Jenkins', 'Jeremy Stanley', 'Eric Brown', 'Ian Cordasco']",remove thierry carrez security contacts stepping core list security contacts make room future additions changeid i1ff787fedf8293e8cc583fb3c391688be86a4119
https://review.opendev.org/193968,Upgrade Drupal Core to 7.38 and module security updates,Upgrade Drupal Core to 7.38 and module security updates Drupal Core 7.38: SA-CORE-2015-002 https://www.drupal.org/SA-CORE-2015-002 Module updates: Feeds 7.x-2.0-alpha9 https://www.drupal.org/node/2507273 jQuery Update 7.x-2.6 https://www.drupal.org/node/2507555 Change-Id: I4f6be8bbde831d3586d05c8ab5126bf143850978,6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",upgrade drupal core 738 module security updates drupal core 738 sacore2015002 httpswwwdrupalorgsacore2015002 module updates feeds 7x20alpha9 httpswwwdrupalorgnode2507273 jquery update 7x26 httpswwwdrupalorgnode2507555 changeid i4f6be8bbde831d3586d05c8ab5126bf143850978
https://review.opendev.org/156354,Fixes Hyper-V agent stateful security group rules,"Fixes Hyper-V agent stateful security group rules Hyper-V does not allow stateful ACLs with ""ANY"" protocol, meaning that security group rules which allows ""ANY"" protocol must be split up into separate rules for each protocol. Also, Hyper-V does not allow stateful ICMP rules, which means ICMP rules must be added both inbound and outbound. Closes-Bug: #1362676 Change-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0",8213,Claudiu Belu,"[3, 8213, 12604, 16039]","['Jenkins', 'Claudiu Belu', 'Adelina Tuvenie', 'Krishna Kanth Mallela']",fixes hyperv agent stateful security group rules hyperv allow stateful acls protocol meaning security group rules allows protocol must split separate rules protocol also hyperv allow stateful icmp rules means icmp rules must added inbound outbound closesbug 1362676 changeid i0d4a6ebc6023ea616cf92539273b8b36a6b24ae0
https://review.opendev.org/193226,Hyper-V: Fixes Security Group Driver ICMPv6 rules,"Hyper-V: Fixes Security Group Driver ICMPv6 rules Security Group rules created with ethertype 'IPv6' and protocol 'icmp' cannot be added by the Hyper-V Security Groups Driver, as it cannot add rules with the protocol 'icmpv6'. Creates stateless ICMPv6 security group rules properly. Change-Id: Id49294965c7adb6d4fbc6c799e4ae7f30070bb71 Closes-Bug: #1466547 (cherry picked from commit 1ea0f15e6a3b050e1301274496494d732d18f0d9)",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",hyperv fixes security group driver icmpv6 rules security group rules created ethertype ipv6 protocol icmp added hyperv security groups driver add rules protocol icmpv6 creates stateless icmpv6 security group rules properly changeid id49294965c7adb6d4fbc6c799e4ae7f30070bb71 closesbug 1466547 cherry picked commit 1ea0f15e6a3b050e1301274496494d732d18f0d9
https://review.opendev.org/193183,Hyper-V: Fixes Security Group Driver ICMPv6 rules,"Hyper-V: Fixes Security Group Driver ICMPv6 rules Security Group rules created with ethertype 'IPv6' and protocol 'icmp' cannot be added by the Hyper-V Security Groups Driver, as it cannot add rules with the protocol 'icmpv6'. Creates stateless ICMPv6 security group rules properly. Change-Id: Id49294965c7adb6d4fbc6c799e4ae7f30070bb71 Closes-Bug: #1466547",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",hyperv fixes security group driver icmpv6 rules security group rules created ethertype ipv6 protocol icmp added hyperv security groups driver add rules protocol icmpv6 creates stateless icmpv6 security group rules properly changeid id49294965c7adb6d4fbc6c799e4ae7f30070bb71 closesbug 1466547
https://review.opendev.org/192679,Add updates and security repositories,"Add updates and security repositories Added yum repositories for mos?.?-updates and mos?.?-security, depending on Fuel version After running fuelmenu, updates repo will be verified that it can be resolved and download updates. If updates fail or resolution fails, a warning is displayed at the end of deployment and broadcast to Fuel UI. This point was selected because Internet access is usually not available until after fuelmenu has been run. Change-Id: I30e8c854147bed9901470bf1a98875180d808ab4 Partial-Bug: #1466080 Partial-Bug: #1466070",7195,Matthew Mosesohn,"[3, 7468, 8749, 8786, 8789, 8882, 8971, 9037, 10391, 10959, 11081, 14985]","['Jenkins', 'Sergey Vasilenko', 'Evgeniy L', 'Vladimir Kuklin', 'Dmitry Pyzhov', 'Nastya Urlapova', 'Fuel CI', 'Dmitry Ilyin', 'Ihor Kalnytskyi', 'Alexander Kislitsky', 'Artem Panchenko', 'Alex Schultz']",add updates security repositories added yum repositories mosupdates mossecurity depending fuel version running fuelmenu updates repo verified resolved download updates updates fail resolution fails warning displayed end deployment broadcast fuel ui point selected internet access usually available fuelmenu run changeid i30e8c854147bed9901470bf1a98875180d808ab4 partialbug 1466080 partialbug 1466070
https://review.opendev.org/192771,Add updates and security repositories,"Add updates and security repositories Added yum repositories for mos?.?-updates and mos?.?-security, depending on Fuel version After running fuelmenu, updates repo will be verified that it can be resolved and download updates. If updates fail or resolution fails, a warning is displayed at the end of deployment and broadcast to Fuel UI. This point was selected because Internet access is usually not available until after fuelmenu has been run. Change-Id: I30e8c854147bed9901470bf1a98875180d808ab4 Partial-Bug: #1466080 Partial-Bug: #1466070",7195,Matthew Mosesohn,"[3, 406, 7195, 7468, 8749, 8786, 8789, 8882, 8971, 9037, 10391, 10959, 11081, 14985]","['Jenkins', 'Mike Scherbakov', 'Matthew Mosesohn', 'Sergey Vasilenko', 'Evgeniy L', 'Vladimir Kuklin', 'Dmitry Pyzhov', 'Nastya Urlapova', 'Fuel CI', 'Dmitry Ilyin', 'Ihor Kalnytskyi', 'Alexander Kislitsky', 'Artem Panchenko', 'Alex Schultz']",add updates security repositories added yum repositories mosupdates mossecurity depending fuel version running fuelmenu updates repo verified resolved download updates updates fail resolution fails warning displayed end deployment broadcast fuel ui point selected internet access usually available fuelmenu run changeid i30e8c854147bed9901470bf1a98875180d808ab4 partialbug 1466080 partialbug 1466070
https://review.opendev.org/192423,Add functional tests for security group rule,Add functional tests for security group rule Tests: test_find test_get test_list Change-Id: If54342ec8c57b926a5217d888a43dcd98223bd69,15739,Hardik Italia,"[3, 8736]","['Jenkins', 'Terry Howe']",add functional tests security group rule tests testfind testget testlist changeid if54342ec8c57b926a5217d888a43dcd98223bd69
https://review.opendev.org/192654,Add security repository into default set of repos,Add security repository into default set of repos Change-Id: I19b75bf9a1e6a3af6a2215f23ad96eaa4a0665cd Closes-bug: #1466080,8786,Vladimir Kuklin,"[3, 7195, 8392, 8749, 8971, 10391, 10474, 10959, 14985]","['Jenkins', 'Matthew Mosesohn', 'Aleksey Kasatkin', 'Evgeniy L', 'Fuel CI', 'Ihor Kalnytskyi', 'Vitaly Parakhin', 'Alexander Kislitsky', 'Alex Schultz']",add security repository default set repos changeid i19b75bf9a1e6a3af6a2215f23ad96eaa4a0665cd closesbug 1466080
https://review.opendev.org/192652,Add security repository into default set of repos,Add security repository into default set of repos Change-Id: I19b75bf9a1e6a3af6a2215f23ad96eaa4a0665cd Closes-bug: #1466080,8786,Vladimir Kuklin,"[3, 7195, 8392, 8971, 10391, 10474, 10959]","['Jenkins', 'Matthew Mosesohn', 'Aleksey Kasatkin', 'Fuel CI', 'Ihor Kalnytskyi', 'Vitaly Parakhin', 'Alexander Kislitsky']",add security repository default set repos changeid i19b75bf9a1e6a3af6a2215f23ad96eaa4a0665cd closesbug 1466080
https://review.opendev.org/192482,Hyper-V: Adds multiple security group rules,"Hyper-V: Adds multiple security group rules Until this commit, all security group rules are applied one by one. This can be problematic in large deployments, where there are hundreds of rules that need to be applied. Adding multiple ACLs at once will reduce the processing time greatly. Closes-Bug: #1443781 Change-Id: I362f030a95c71b8c86c5fb178493dadc1bc48d4a (cherry picked from commit e5e96e63acdc1be2b57fcce7b033f874909f80da)",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",hyperv adds multiple security group rules commit security group rules applied one one problematic large deployments hundreds rules need applied adding multiple acls reduce processing time greatly closesbug 1443781 changeid i362f030a95c71b8c86c5fb178493dadc1bc48d4a cherry picked commit e5e96e63acdc1be2b57fcce7b033f874909f80da
https://review.opendev.org/173551,Hyper-V: Adds multiple security group rules,"Hyper-V: Adds multiple security group rules Until this commit, all security group rules are applied one by one. This can be problematic in large deployments, where there are hundreds of rules that need to be applied. Adding multiple ACLs at once will reduce the processing time greatly. Closes-Bug: #1443781 Change-Id: I362f030a95c71b8c86c5fb178493dadc1bc48d4a",8213,Claudiu Belu,"[3, 8213, 10760, 15130]","['Jenkins', 'Claudiu Belu', 'Vinod Kumar', 'Sonu']",hyperv adds multiple security group rules commit security group rules applied one one problematic large deployments hundreds rules need applied adding multiple acls reduce processing time greatly closesbug 1443781 changeid i362f030a95c71b8c86c5fb178493dadc1bc48d4a
https://review.opendev.org/192481,Refactors Hyper-V Security Groups,"Refactors Hyper-V Security Groups Hyper-V Security Groups logic has become very convoluted and hard to maintain, mostly due to differences between Msvm_NetworkAdapterAcl and Msvm_NetworkAdapterExtendedAcl, used in Windows Hyper-V / Server 2012 and Windows Hyper-V / Server 2012 R2 respectively. This commit reduces the logic related to security groups from HyperVUtilsV2, the methods accepting SecurityGroupRule objects instead, making it easier to create the rules. Also, this commit introduces SecurityGroupRuleGenerators, which will generate the rules, according to the supported version and many different conditions when creating them. Change-Id: Ia4ecc1a1ecce19aef000ae39b9efe935ff0db907 (cherry picked from commit 3abcc92f73c17cca8f884ebcf2d767b695e5c9d0)",8213,Claudiu Belu,"[3, 8213]","['Jenkins', 'Claudiu Belu']",refactors hyperv security groups hyperv security groups logic become convoluted hard maintain mostly due differences msvmnetworkadapteracl msvmnetworkadapterextendedacl used windows hyperv server 2012 windows hyperv server 2012 r2 respectively commit reduces logic related security groups hypervutilsv2 methods accepting securitygrouprule objects instead making easier create rules also commit introduces securitygrouprulegenerators generate rules according supported version many different conditions creating changeid ia4ecc1a1ecce19aef000ae39b9efe935ff0db907 cherry picked commit 3abcc92f73c17cca8f884ebcf2d767b695e5c9d0
https://review.opendev.org/156355,Refactors Hyper-V Security Groups,"Refactors Hyper-V Security Groups Hyper-V Security Groups logic has become very convoluted and hard to maintain, mostly due to differences between Msvm_NetworkAdapterAcl and Msvm_NetworkAdapterExtendedAcl, used in Windows Hyper-V / Server 2012 and Windows Hyper-V / Server 2012 R2 respectively. This commit reduces the logic related to security groups from HyperVUtilsV2, the methods accepting SecurityGroupRule objects instead, making it easier to create the rules. Also, this commit introduces SecurityGroupRuleGenerators, which will generate the rules, according to the supported version and many different conditions when creating them. Change-Id: Ia4ecc1a1ecce19aef000ae39b9efe935ff0db907",8213,Claudiu Belu,"[3, 8213, 10760]","['Jenkins', 'Claudiu Belu', 'Vinod Kumar']",refactors hyperv security groups hyperv security groups logic become convoluted hard maintain mostly due differences msvmnetworkadapteracl msvmnetworkadapterextendedacl used windows hyperv server 2012 windows hyperv server 2012 r2 respectively commit reduces logic related security groups hypervutilsv2 methods accepting securitygrouprule objects instead making easier create rules also commit introduces securitygrouprulegenerators generate rules according supported version many different conditions creating changeid ia4ecc1a1ecce19aef000ae39b9efe935ff0db907
https://review.opendev.org/191953,Add delete method for security group rules,Add delete method for security group rules DO NOT MERGE Change-Id: I9c66aee078fa999a85336f600f086b93640ca96e,3099,David Shrewsbury,"[2, 3, 3099]","['Monty Taylor', 'Jenkins', 'David Shrewsbury']",add delete method security group rules merge changeid i9c66aee078fa999a85336f600f086b93640ca96e
https://review.opendev.org/190650,Cerberus creates an uuid for security reports,"Cerberus creates an uuid for security reports Previously, Cerberus retrieved reports according to the report identifier the plugin provided. The goal of this US is for Cerberus to create its own uuid and keep the report identifier of the plugin. The changes include: * Migration of the db * an unique attribute UUID * Tuple (report_id, plugin_id) must be unique * Changes of unit & functional tests Change-Id: I9aedb88fd5a4f66ccd5e2e831790d9655f76bb09",10557,Ziba,"[3, 10557]","['Jenkins', 'Ziba']",cerberus creates uuid security reports previously cerberus retrieved reports according report identifier plugin provided goal us cerberus create uuid keep report identifier plugin changes include migration db unique attribute uuid tuple reportid pluginid must unique changes unit functional tests changeid i9aedb88fd5a4f66ccd5e2e831790d9655f76bb09
https://review.opendev.org/734912,added the preset security groups on horizon,added the preset security groups on horizon Change-Id: I2e44f7d89ed49008bfe92c725c7481b7227982ed,31752,Vladimir Blando,"[1004, 22348, 28008, 31746]","['Mohammed Naser', 'Zuul', 'Guilherme', 'Oleksandr Kozachenko']",added preset security groups horizon changeid i2e44f7d89ed49008bfe92c725c7481b7227982ed
https://review.opendev.org/188533,Add functional tests for security groups,Add functional tests for security groups Change-Id: I90b29c2e48303867ae2f670643171d113e485cf1,8736,Terry Howe,"[3, 8246, 8736, 15739]","['Jenkins', 'Qiming Teng', 'Terry Howe', 'Hardik Italia']",add functional tests security groups changeid i90b29c2e48303867ae2f670643171d113e485cf1
https://review.opendev.org/188642,Add create method for security groups,"Add create method for security groups Adds the API method to create a security group, using nova or neutron. Change-Id: I495c8272220837982b7e1f880646748a30b7d727",3099,David Shrewsbury,"[2, 3, 3099, 6133]","['Monty Taylor', 'Jenkins', 'David Shrewsbury', 'yolanda.robla']",add create method security groups adds api method create security group using nova neutron changeid i495c8272220837982b7e1f880646748a30b7d727
https://review.opendev.org/188636,Add delete method for security groups,"Add delete method for security groups Adds the API method to delete a security group, using nova or neutron, and consolidates existing and new security group tests into a new file. Change-Id: Ib85b3ec0de8b2b42f691c3e2127adb16e8b14c99",3099,David Shrewsbury,"[2, 3, 3099, 6133]","['Monty Taylor', 'Jenkins', 'David Shrewsbury', 'yolanda.robla']",add delete method security groups adds api method delete security group using nova neutron consolidates existing new security group tests new file changeid ib85b3ec0de8b2b42f691c3e2127adb16e8b14c99
https://review.opendev.org/183913,Fix Nova API misimplementation for security groups,"Fix Nova API misimplementation for security groups According to the Compute API reference [1], the 'description' parameter is optional when creating a security group. Still, Tempest is expecting errors when a description isn't provided. This patch removes the checks so that change I404dd30c7dac4b8a9e01cf2ea62fa404fdcce3de can pass Tempest checks. [1]: http://developer.openstack.org/api-ref-compute-v2-ext.html#createSecGroup Related-Bug: #1434172 Change-Id: I504f00cecbd004f00b3553e8a23c2b3870405050",12561,Adrien Vergé,"[3, 970, 4690, 5803, 6482, 7350, 7872, 8556, 8768, 12561]","['Jenkins', 'Dean Troyer', 'melanie witt', 'Attila Fazekas', 'Steve Martinelli', 'Jordan Pittier', 'Marc Koderer', 'Ghanshyam', 'Chris Friesen', 'Adrien Vergé']",fix nova api misimplementation security groups according compute api reference 1 description parameter optional creating security group still tempest expecting errors description isnt provided patch removes checks change i404dd30c7dac4b8a9e01cf2ea62fa404fdcce3de pass tempest checks 1 httpdeveloperopenstackorgapirefcomputev2exthtmlcreatesecgroup relatedbug 1434172 changeid i504f00cecbd004f00b3553e8a23c2b3870405050
https://review.opendev.org/179945,Split security group list operations,Split security group list operations DO NOT MERGE... yet. Change-Id: I4474341ebc255700a06247846c6350981437e8ae,3099,David Shrewsbury,"[2, 3, 3099, 6133, 6488]","['Monty Taylor', 'Jenkins', 'David Shrewsbury', 'yolanda.robla', ""Clint 'SpamapS' Byrum""]",split security group list operations merge yet changeid i4474341ebc255700a06247846c6350981437e8ae
https://review.opendev.org/186385,Fix security group list command,"Fix security group list command Security group list command tries to get a project list and this may fail with a 404 as well as a 401, so add the 404 to the ignore list. Change-Id: I68214d2680bad907f9d04ad3ca2f62cf3feee028 Closes-Bug: #1459629",8736,Terry Howe,"[3, 970, 1941, 8736, 13252]","['Jenkins', 'Dean Troyer', 'Lin Hua Cheng', 'Terry Howe', 'Dr. Jens Harbott']",fix security group list command security group list command tries get project list may fail 404 well 401 add 404 ignore list changeid i68214d2680bad907f9d04ad3ca2f62cf3feee028 closesbug 1459629
https://review.opendev.org/187615,Remove duplicated tenant_id param in list security group method,Remove duplicated tenant_id param in list security group method Change-Id: I6bf82e24823885f74d8297268ce97c3af66f281a,7488,Jeffrey Zhang,"[3, 2448]","['Jenkins', 'Diane Fleming']",remove duplicated tenantid param list security group method changeid i6bf82e24823885f74d8297268ce97c3af66f281a
https://review.opendev.org/187226,tests crud security report and task,tests crud security report and task Change-Id: I4e51696a7c98d2cb0b7df94a897e25e64442a465,10557,Ziba,"[3, 10557]","['Jenkins', 'Ziba']",tests crud security report task changeid i4e51696a7c98d2cb0b7df94a897e25e64442a465
https://review.opendev.org/186593,Display protocol in security group rules,Display protocol in security group rules Display protocol of the security group rules in dashboard instance overview page Change-Id: Icc8db874083dcb71e14fd4b6e686aed9a6a39600 Co-Authored-By:Sridevi <sridevi.maddipati@tcs.com> Closes-Bug: #1378170,1941,Lin Hua Cheng,"[3, 841, 5623, 6610, 6763]","['Jenkins', 'Akihiro Motoki', 'David Lyle', 'Zhenguo Niu', 'Liuqing Jing']",display protocol security group rules display protocol security group rules dashboard instance overview page changeid icc8db874083dcb71e14fd4b6e686aed9a6a39600 coauthoredbysridevi sridevimaddipatitcscom closesbug 1378170
https://review.opendev.org/187194,Storage and the notification of a security report,Storage and the notification of a security report * New functional test * Fix of bugs Change-Id: I700fb634d4aba47c4996df5d5e59c38a034ddcc7,10557,Ziba,"[3, 10557]","['Jenkins', 'Ziba']",storage notification security report new functional test fix bugs changeid i700fb634d4aba47c4996df5d5e59c38a034ddcc7
https://review.opendev.org/186122,Do not assume order of security group rules,"Do not assume order of security group rules This fixes the unit tests[1] that breaks with a randomized PYTHONHASHSEED (see the bug report). The test assumed that the security_group_rules_for_devices method from neutron.agent.securitygroups_rpc returned security group rules in a particular order. Found with PYTHONHASHSEED=2. The fix refactors the test case to handle unsorted security group rules. [1] neutron.tests.unit.plugins.ml2.test_security_group.\ TestMl2SGServerRpcCallBack.\ test_security_group_rules_for_devices_ipv4_ingress_addr_pair Partial-bug: #1348818 Note: There are several other unrelated unit tests that also break with a randomized PYTHONHASHSEED, but they are not addressed here. They will be addressed in separate patches. Change-Id: I1b2bd4100c19004f12822c414aefc86aae9849db",8124,cbrandily,"[3, 2592, 5170, 6524, 7249, 8124, 8645, 9656, 9681, 9682, 9751, 9787, 9845, 9846, 10121, 10153, 10184, 10387, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 15296, 15444, 15752]","['Jenkins', 'Mark McClain', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Ann Taraday', 'cbrandily', 'Trinath Somanchi', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'IBM DB2 CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Freescale CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Brocade Openstack CI', 'Cisco FWaaS CI', 'Intel SR-IOV CI']",assume order security group rules fixes unit tests1 breaks randomized pythonhashseed see bug report test assumed securitygrouprulesfordevices method neutronagentsecuritygroupsrpc returned security group rules particular order found pythonhashseed2 fix refactors test case handle unsorted security group rules 1 neutrontestsunitpluginsml2testsecuritygroup testml2sgserverrpccallback testsecuritygrouprulesfordevicesipv4ingressaddrpair partialbug 1348818 note several unrelated unit tests also break randomized pythonhashseed addressed addressed separate patches changeid i1b2bd4100c19004f12822c414aefc86aae9849db
https://review.opendev.org/185107,Add flag to indicate handling of security groups,"Add flag to indicate handling of security groups Security groups can be handled by either nova, neutron, or just not be supported. This adds a flag for that. Values will be one of 'neutron' (the default), 'nova', or None. None indicates that security groups are not supported. Change-Id: I81a2e10e14e53acc9ffc328771d8ef721e2fd370",3099,David Shrewsbury,"[2, 3, 970, 1726, 6550, 8736]","['Monty Taylor', 'Jenkins', 'Dean Troyer', 'Ghe Rivero', 'Davide Guerri', 'Terry Howe']",add flag indicate handling security groups security groups handled either nova neutron supported adds flag values one neutron default nova none none indicates security groups supported changeid i81a2e10e14e53acc9ffc328771d8ef721e2fd370
https://review.opendev.org/183607,Updating Case Studies - Alice's Instance Security Management section,Updating Case Studies - Alice's Instance Security Management section + Clarifying additional consideration before hardware is selected of rdrand support highlighted in RFP + Using egd + libvirt + Using 'trusted compute pools' for attestation + Ensuring logging captures on-system commands in images + HIDS agent + Calls out architectural dependency that requires clear ownership Change-Id: I8861bb8c1dace8fc7526a1464c6abc61faac032e Partial-Bug: #1349540,12325,Nathaniel Dillon,"[3, 6547, 7063, 9098, 10281, 10670, 12442]","['Jenkins', 'Andreas Jaeger', 'Robert Clark', 'Nathan Kinder', 'Priti Desai', 'Michael McCune', 'Shellee Aragon']",updating case studies alices instance security management section clarifying additional consideration hardware selected rdrand support highlighted rfp using egd libvirt using trusted compute pools attestation ensuring logging captures onsystem commands images hids agent calls architectural dependency requires clear ownership changeid i8861bb8c1dace8fc7526a1464c6abc61faac032e partialbug 1349540
https://review.opendev.org/177008,Security group and security group rules delete tests,Security group and security group rules delete tests - Adding tests for security groups delete - Adding tests for security group rules delete Change-Id: Id9433f58ca4ace38d1c17a683c03e49e85a88d48,8357,Leonardo Maycotte,"[3, 97, 1980, 7207, 7939, 8357, 8969]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Carlos Martinez', 'Luke Wollney', 'Leonardo Maycotte', 'Christopher Hunt']",security group security group rules delete tests adding tests security groups delete adding tests security group rules delete changeid id9433f58ca4ace38d1c17a683c03e49e85a88d48
https://review.opendev.org/184085,Adds associate security group action to Compute API v2,Adds associate security group action to Compute API v2 Change-Id: I869a9e1996d55549fdbaa6d84dfffc2595bd7e9c Closes-bug:1456189,964,Anne Gentle,"[3, 2448, 15293]","['Jenkins', 'Diane Fleming', 'Karen Bradshaw']",adds associate security group action compute api v2 changeid i869a9e1996d55549fdbaa6d84dfffc2595bd7e9c closesbug1456189
https://review.opendev.org/183431,Delete port security bindings on existing port,Delete port security bindings on existing port If router interface added by port it is required delete security group bindings before update port_security attribute on port Change-Id: Ib949a849119b7a440fd34843a9105aff317e08ed,14081,Harkirat Singh,"[3, 10182, 12525, 13380, 13485, 14081, 15296]","['Jenkins', 'Karthik Natarajan', 'vishwanath jayaraman', 'Sridhar Ramaswamy', 'Sripriya Seetharam', 'Harkirat Singh', 'Brocade Openstack CI']",delete port security bindings existing port router interface added port required delete security group bindings update portsecurity attribute port changeid ib949a849119b7a440fd34843a9105aff317e08ed
https://review.opendev.org/730580,[Fullstack] Mark security groups test as unstable,[Fullstack] Mark security groups test as unstable It's still failing from time to time and we don't know the root cause of that failure. So lets mark it as unstable for now until we will finally find out what's going on in this test and until we will finally fix it. Change-Id: I2b6b50fb14856997d886daed5cf7bb4898d57130 Related-bug: #1742401,11975,Slawek Kaplonski,"[1131, 5948, 8313, 9845, 11975, 16376, 22348, 26622]","['Brian Haley', 'Oleg Bondarev', 'Lajos Katona', 'Arista CI', 'Slawek Kaplonski', 'Intel NFV CI', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fullstack mark security groups test unstable still failing time time dont know root cause failure lets mark unstable finally find whats going test finally fix changeid i2b6b50fb14856997d886daed5cf7bb4898d57130 relatedbug 1742401
https://review.opendev.org/179428,Fix security groups cleanup,"Fix security groups cleanup In addition to the security groups that are explicitly created, Neutron automatically creates a security group called ""default"" for each tenant. We have to clean these up manually, this also needs the admin context. At the same time we avoid trying to delete the other security groups twice. Change-Id: Ib8da1c608a3355cd2e08a7bc1a5aaa86444d1c39 Closes-Bug: 1355629",13252,Dr. Jens Harbott,"[3, 4428, 6172, 9545, 9601, 10475, 11748, 13252, 13919, 14817]","['Jenkins', 'Liyingjun', 'Boris Pavlovic', 'Andrey Kurilin', 'Oleh Anufriiev', 'Alexander Maretskiy', 'Chris St. Pierre', 'Dr. Jens Harbott', 'Evgeny Sikachev', 'Mirantis Rally CI']",fix security groups cleanup addition security groups explicitly created neutron automatically creates security group called default tenant clean manually also needs admin context time avoid trying delete security groups twice changeid ib8da1c608a3355cd2e08a7bc1a5aaa86444d1c39 closesbug 1355629
https://review.opendev.org/182529,Improve language in Security Guide,Improve language in Security Guide Change-Id: I6499448fe9abfaf3dc07f06268eb69d100498100 Closes-Bug: #1447667,12686,Brian Moss,"[3, 6547, 10670, 12325, 12442, 14920]","['Jenkins', 'Andreas Jaeger', 'Michael McCune', 'Nathaniel Dillon', 'Shellee Aragon', 'Michael Simo']",improve language security guide changeid i6499448fe9abfaf3dc07f06268eb69d100498100 closesbug 1447667
https://review.opendev.org/172196,Adds a security test to check for Cross Site Scripting vulnerabilities,"Adds a security test to check for Cross Site Scripting vulnerabilities This is a security test to verify whether the create service API is vulnerable to Cross Site Scripting. Some common XSS strings are supplied to all fields of the JSON input to see if the API invocation succeeds. If so, this indicates a vulnerability. Change-Id: I5728541900c5964a189aa7c03a8a56434f5cae9f Implements: blueprint cross-site-scripting",14099,Henry Yamauchi,"[3, 7498, 8093, 14099]","['Jenkins', 'Malini Kamalambal', 'Amit Gandhi', 'Henry Yamauchi']",adds security test check cross site scripting vulnerabilities security test verify whether create service api vulnerable cross site scripting common xss strings supplied fields json input see api invocation succeeds indicates vulnerability changeid i5728541900c5964a189aa7c03a8a56434f5cae9f implements blueprint crosssitescripting
https://review.opendev.org/181753,Views module security upgrade,Views module security upgrade Views - Critical - Cross Site Scripting (XSS) - SA-CONTRIB-2015-103 https://www.drupal.org/node/2480327 Upgrade views module to 3.11 Change-Id: I55f975053f0c03ba2e54b8d3a53e9d21903ec77e,6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",views module security upgrade views critical cross site scripting xss sacontrib2015103 httpswwwdrupalorgnode2480327 upgrade views module 311 changeid i55f975053f0c03ba2e54b8d3a53e9d21903ec77e
https://review.opendev.org/181378,Set port security for logical port,"Set port security for logical port port_security is ""a set of L2 (Ethernet) addresses from which the logical port is allowed to send packets and to which it is allowed to receive packets. Logical ports are always allowed to receive packets addressed to multicast and broadcast addresses."" Set this field with the port mac address and any configured allowed address pairs mac addresses Change-Id: I30b89f163f3941b8082e208c788aff94ef6f02db",11343,Gal Sagie,"[3, 105, 1561, 1653, 4395, 5756, 13070]","['Jenkins', 'Kyle Mestery', 'Russell Bryant', 'garyk', 'Aaron Rosen', 'Terry Wilson', 'Eran Gampel']",set port security logical port portsecurity set l2 ethernet addresses logical port allowed send packets allowed receive packets logical ports always allowed receive packets addressed multicast broadcast addresses set field port mac address configured allowed address pairs mac addresses changeid i30b89f163f3941b8082e208c788aff94ef6f02db
https://review.opendev.org/180543,disable port security on Akanda router ports,"disable port security on Akanda router ports Router ports should not have port security enabled, so disable it on the Akanda ports since they're doubling the router interface ports. Change-Id: I3f771bf0b84f984614939e1bffce52aea91c8f9a",2592,Mark McClain,"[3, 6923, 8005]","['Jenkins', 'Sean Roberts', 'Ryan Petrello']",disable port security akanda router ports router ports port security enabled disable akanda ports since theyre doubling router interface ports changeid i3f771bf0b84f984614939e1bffce52aea91c8f9a
https://review.opendev.org/177813,Fix grammar errors of section of Security groups,Fix grammar errors of networking services security best practices Rewriten the sentences which using conjunctive adverbs at the beginning and overuse of commas in the section_networking-services-security-best-practices.xml of security-guide Close-Bug: #1447772 Change-Id: Ie7e8f54e7342394a188656119bff4a8658a8e78b,16107,zichen tian,"[3, 6547, 9382, 10670, 12325, 12442, 14920, 14962]","['Jenkins', 'Andreas Jaeger', 'Shilla Saebi', 'Michael McCune', 'Nathaniel Dillon', 'Shellee Aragon', 'Michael Simo', 'ologvinova']",fix grammar errors networking services security best practices rewriten sentences using conjunctive adverbs beginning overuse commas sectionnetworkingservicessecuritybestpracticesxml securityguide closebug 1447772 changeid ie7e8f54e7342394a188656119bff4a8658a8e78b
https://review.opendev.org/177186,Add security group calls missing from latest compute rpc api version bump,"Merge security group client side rpc api with compute rpc api Both compute and security group client side rpc api:s share a single target, which is of little value and only cause mistakes like with the recent bump of the compute rpc api that missed out on the security group client api. This change eliminates future problems like this by combining them into one to get a 1:1 relationship between client and server api:s. Change-Id: I9207592a87fab862c04d210450cbac47af6a3fd7 Closes-Bug: #1448075",6450,Hans Lindgren,"[3, 308, 782, 4393, 4690, 5170, 5638, 6450, 8871, 9008, 9578, 10118, 15286, 15751]","['Jenkins', 'Thierry Carrez', 'John Garbutt', 'Dan Smith', 'melanie witt', 'Microsoft Hyper-V CI', 'Davanum Srinivas', 'Hans Lindgren', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'XenProject CI', 'Intel PCI CI']",merge security group client side rpc api compute rpc api compute security group client side rpc apis share single target little value cause mistakes like recent bump compute rpc api missed security group client api change eliminates future problems like combining one get 11 relationship client server apis changeid i9207592a87fab862c04d210450cbac47af6a3fd7 closesbug 1448075
https://review.opendev.org/174727,Fixes malformed sentences in the security guide.,"Fixes malformed sentences in the security guide. Change-Id: I11800ae1d73f1ba99676884b043c1ca6fe930eb8 Closes-Bug:#1442291,#1442297,#1442318",15225,Deepti Ramakrishna,"[3, 6547, 10670, 11224, 12325, 12442, 15225]","['Jenkins', 'Andreas Jaeger', 'Michael McCune', 'Swami Reddy', 'Nathaniel Dillon', 'Shellee Aragon', 'Deepti Ramakrishna']",fixes malformed sentences security guide changeid i11800ae1d73f1ba99676884b043c1ca6fe930eb8 closesbug144229114422971442318
https://review.opendev.org/176216,Rename OpenStack Security Group (OSSG) Meeting,Rename OpenStack Security Group (OSSG) Meeting Based on: https://wiki.openstack.org/w/index.php?title=Meetings&diff=next&oldid=77629 Change-Id: I0b618a675329f85364803b5803e537ed3549637e,12898,Tony Breeds,"[3, 308]","['Jenkins', 'Thierry Carrez']",rename openstack security group ossg meeting based httpswikiopenstackorgwindexphptitlemeetingsdiffnextoldid77629 changeid i0b618a675329f85364803b5803e537ed3549637e
https://review.opendev.org/177791,Add security group calls missing from latest compute rpc api version bump,"Add security group calls missing from latest compute rpc api version bump The recent compute rpc api version bump missed out on the security group related calls that are part of the api. One possible reason is that both compute and security group client side rpc api:s share a single target, which is of little value and only cause mistakes like this. This change eliminates future problems like this by combining them into one to get a 1:1 relationship between client and server api:s. Change-Id: I9207592a87fab862c04d210450cbac47af6a3fd7 Closes-Bug: #1448075 (cherry picked from commit bebd00b117c68097203adc2e56e972d74254fc59)",4393,Dan Smith,"[3, 308, 782, 1063, 4393, 5170, 6450, 10118]","['Jenkins', 'Thierry Carrez', 'John Garbutt', 'Ed Leafe', 'Dan Smith', 'Microsoft Hyper-V CI', 'Hans Lindgren', 'IBM PowerKVM CI']",add security group calls missing latest compute rpc api version bump recent compute rpc api version bump missed security group related calls part api one possible reason compute security group client side rpc apis share single target little value cause mistakes like change eliminates future problems like combining one get 11 relationship client server apis changeid i9207592a87fab862c04d210450cbac47af6a3fd7 closesbug 1448075 cherry picked commit bebd00b117c68097203adc2e56e972d74254fc59
https://review.opendev.org/177788,Sentences order adjustment of section of Security groups,commit 503993fc9e08c5e8014c468d94f47547549dd7a6 Author: tianzichen306 Date: Mon Apr 27 22:20:46 2015 Sentences order adjustment of networking services security best practices Swap two sentences and use pronouns in the section_networking-services-security-best-practices.xml of security-guide Close-Bug: #1447773 Change-Id: Id4957561ff17d7c83ffe5576230fc9f083faacf8,16107,zichen tian,"[3, 6547, 10281, 10670, 12325, 12442]","['Jenkins', 'Andreas Jaeger', 'Priti Desai', 'Michael McCune', 'Nathaniel Dillon', 'Shellee Aragon']",commit 503993fc9e08c5e8014c468d94f47547549dd7a6 author tianzichen306 date mon apr 27 222046 2015 sentences order adjustment networking services security best practices swap two sentences use pronouns sectionnetworkingservicessecuritybestpracticesxml securityguide closebug 1447773 changeid id4957561ff17d7c83ffe5576230fc9f083faacf8
https://review.opendev.org/177822,add security groups to topology,add security groups to topology Change-Id: I8246ee16690cf47921df921aefb710892307cbd0,7591,Kanzhe Jiang,"[3, 7787]","['Jenkins', 'Kevin Benton']",add security groups topology changeid i8246ee16690cf47921df921aefb710892307cbd0
https://review.opendev.org/177663,add security groups to topology,add security groups to topology Change-Id: I8246ee16690cf47921df921aefb710892307cbd0,7591,Kanzhe Jiang,"[3, 7591, 7787]","['Jenkins', 'Kanzhe Jiang', 'Kevin Benton']",add security groups topology changeid i8246ee16690cf47921df921aefb710892307cbd0
https://review.opendev.org/726046,Fix security issues with EC2 credentials,"Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens. 1. Disable altering credential owner attributes or metadata Without this patch, an authenticated user can create an EC2 credential for themself for a project they have a role on, then update the credential to target a user and project completely unrelated to them. In the worst case, this could be the admin user and a project the admin user has a role assignment on. A token granted for an altered credential like this would allow the user to masquerade as the victim user. This patch ensures that when updating a credential, the new form of the credential is one the acting user has access to: if the system admin user is changing the credential, the new user ID or project ID could be anything, but regular users may only change the credential to be one that they still own. Relatedly, when a user uses an application credential or a trust to create an EC2 credential, keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used. Without this patch, a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's, application credential creator's, or OAuth1 access token authorizor's privileges on the project. This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential. 2. Respect token roles when creating EC2 credentials Without this patch, a trustee, an application credential user, or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor, application credential creator, or access token authorizor had on the project, regardless of whether the creator had delegated only a limited subset of roles. This was because the trust_id attribute of the EC2 access blob was ignored, and no metadata for the application credential or access token was recorded either. This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request. Conflicts (six removal in e2d83ae9, pep8 fixes in e2d83ae9): keystone/api/credentials.py keystone/tests/unit/test_v3_application_credential.py keystone/tests/unit/test_v3_credential.py Conflicts due to flask reorg: keystone/api/_shared/EC2_S3_Resource.py keystone/api/credentials.py keystone/api/users.py keystone/tests/unit/test_v3_credential.py Moved the test_update_credential_non_owner unit test to CredentialSelfServiceTestCase since in this branch the default policies are not affected by #1872733. NOTE: the application credential functional changes, along with its tests were removed from the stable/pike backport as stable/pike does not support application credentials. Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178) (cherry picked from commit bfba75fc3c5c8f119f74dbf31347e008824a2134) (cherry picked from commit 53d1ccb8a1bdbb5aa0efaacf9739b1a6f436e191)",1916,guang-yee,"[1736, 1916, 5046, 8482, 8866, 16310, 21420, 22348]","['Ivan Kolodyazhny', 'guang-yee', 'Lance Bragstad', 'Colleen Murphy', 'Raildo Mascena de Sousa Filho', 'Flávio Ramalho', 'Gage Hugo', 'Zuul']",fix security issues ec2 credentials change addresses several issues creation use ec2s3 credentials keystone tokens 1 disable altering credential owner attributes metadata without patch authenticated user create ec2 credential themself project role update credential target user project completely unrelated worst case could admin user project admin user role assignment token granted altered credential like would allow user masquerade victim user patch ensures updating credential new form credential one acting user access system admin user changing credential new user id project id could anything regular users may change credential one still relatedly user uses application credential trust create ec2 credential keystone automatically adds trust id application credential id metadata ec2 access blob knows token scoped used without patch user created credential way update access blob remove alter metadata escalate privileges fully authorized trustors application credential creators oauth1 access token authorizors privileges project patch fixes issue simply disallowing updates keystonecontrolled metadata credential 2 respect token roles creating ec2 credentials without patch trustee application credential user oauth1 access token holder could create ec2 credential application credential using roles trustor application credential creator access token authorizor project regardless whether creator delegated limited subset roles trustid attribute ec2 access blob ignored metadata application credential access token recorded either change ensures access delegation resource recorded metadata ec2 credential created passed token provider used authentication token provider look correct roles request conflicts six removal e2d83ae9 pep8 fixes e2d83ae9 keystoneapicredentialspy keystonetestsunittestv3applicationcredentialpy keystonetestsunittestv3credentialpy conflicts due flask reorg keystoneapisharedec2s3resourcepy keystoneapicredentialspy keystoneapiuserspy keystonetestsunittestv3credentialpy moved testupdatecredentialnonowner unit test credentialselfservicetestcase since branch default policies affected 1872733 note application credential functional changes along tests removed stablepike backport stablepike support application credentials changeid i39d0d705839fbe31ac518ac9a82959e108cb7c1d closesbug 1872733 closesbug 1872755 closesbug 1872735 cherry picked commit 37e9907a176dad6843819b1bec4946c3aecc4548 cherry picked commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d cherry picked commit 27caafe3daa552663719954f2cd6713dd4493178 cherry picked commit bfba75fc3c5c8f119f74dbf31347e008824a2134 cherry picked commit 53d1ccb8a1bdbb5aa0efaacf9739b1a6f436e191
https://review.opendev.org/714412,ping scenario with security groups,"ping scenario with security groups This scenario enables to boot VMs with security groups. User can specify number of security groups and security group rules to be created per iteration. As we know, only members and not rules of remote security group are used in security group implementation, this scenario creates a remote security group for each user requested security group but with no rules. Additionally it creates a security group with ssh and icmp rule for each iteration. After the VM is booted, this scenrios tests pinging VMs floating ip. Change-Id: I72e3dc826a1904894e39a2e756d1800cb7db20e1",10267,venkata anil,"[10267, 16845, 22348, 23181]","['venkata anil', 'Sindhur', 'Zuul', 'RDO Third Party CI']",ping scenario security groups scenario enables boot vms security groups user specify number security groups security group rules created per iteration know members rules remote security group used security group implementation scenario creates remote security group user requested security group rules additionally creates security group ssh icmp rule iteration vm booted scenrios tests pinging vms floating ip changeid i72e3dc826a1904894e39a2e756d1800cb7db20e1
https://review.opendev.org/177097,Method to get security group updates in driver,Method to get security group updates in driver Use the RPC listener that an agent would use to receive any security group updated messages that the server has put onto the message queue. Conflicts: bsnstacklib/plugins/ml2/drivers/mech_bigswitch/driver.py Change-Id: Ic969db3bd4a577834ce8f5a06cc59a81543bdd99,7591,Kanzhe Jiang,"[3, 7591, 7787]","['Jenkins', 'Kanzhe Jiang', 'Kevin Benton']",method get security group updates driver use rpc listener agent would use receive security group updated messages server put onto message queue conflicts bsnstacklibpluginsml2driversmechbigswitchdriverpy changeid ic969db3bd4a577834ce8f5a06cc59a81543bdd99
https://review.opendev.org/156838,Add bandit to tox for security static analysis,Add bandit to tox for security static analysis Change-Id: Id74a190e893326a587911e32593040bcb844d3e9,8119,Eric Brown,"[3, 1653, 6754, 7400, 7575, 8119, 9008, 9172]","['Jenkins', 'garyk', 'Mark T. Voelker', 'Tracy Jones', 'Sabari', 'Eric Brown', 'VMware NSX CI', 'Radoslav Gerganov']",add bandit tox security static analysis changeid id74a190e893326a587911e32593040bcb844d3e9
https://review.opendev.org/165956,Fix security group create description bug,Fix security group create description bug --description is optional in our CLI but the server requires it to be non-empty. Set a default value of the given name. Closes-Bug: #1434172 Change-Id: I81507a77ad8d815000ff411784ae71e229c77f78,970,Dean Troyer,"[3, 970, 6482]","['Jenkins', 'Dean Troyer', 'Steve Martinelli']",fix security group create description bug description optional cli server requires nonempty set default value given name closesbug 1434172 changeid i81507a77ad8d815000ff411784ae71e229c77f78
https://review.opendev.org/174588,Add security groups events,"Add security groups events Today ML2 mech drivers have no direct exposure of security groups, and they can only infer them from the associated network/ports. This is problematic as agentless ML2 mech drivers have no way to intercept securitygroups events and propagate the information to backend, or more generally, react to them. This patch leverages the callback registry to dispatch such events so that interested ML2 mech drivers (or any interested party) can therefore be notified. This patch is solely about security groups. A follow up patch will address the remainder of securitygroup related events, such as those for rules. Partial-bug: #1444112 Change-Id: Ifa1d7ee9c967576f824f1129dd68e6e3abd48f5c",748,Armando Migliaccio,"[3, 105, 748, 1561, 1653, 5170, 6524, 7715, 9008, 9423, 9681, 9682, 9732, 9787, 9845, 10116, 10121, 10153, 10184, 10386, 10387, 10692, 11343, 11952, 12040, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 15296, 15443, 15444, 15752]","['Jenkins', 'Kyle Mestery', 'Armando Migliaccio', 'Russell Bryant', 'garyk', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Hirofumi Ichihara', 'VMware NSX CI', 'Roey Chen', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Gal Sagie', 'Flavio Fernandes', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco UCSM CI', 'Cisco FWaaS CI', 'Intel SR-IOV CI']",add security groups events today ml2 mech drivers direct exposure security groups infer associated networkports problematic agentless ml2 mech drivers way intercept securitygroups events propagate information backend generally react patch leverages callback registry dispatch events interested ml2 mech drivers interested party therefore notified patch solely security groups follow patch address remainder securitygroup related events rules partialbug 1444112 changeid ifa1d7ee9c967576f824f1129dd68e6e3abd48f5c
https://review.opendev.org/174995,[Launch Instance Fix] Security Group Nova Net,"[Launch Instance Fix] Security Group Nova Net When nova networking is enabled, the input to security groups needs to be by name. When neutron, it needs to be by id. This solves that issues. Change-Id: If32671af90facd16e60caa33ed84ba7c9796ad11 Closes-Bug: #1445235 (cherry picked from commit b7de0333b13f73f6a66380623d7579373709c756)",5623,David Lyle,"[3, 308, 7665, 9622]","['Jenkins', 'Thierry Carrez', 'Travis Tripp', 'Cindy Lu']",launch instance fix security group nova net nova networking enabled input security groups needs name neutron needs id solves issues changeid if32671af90facd16e60caa33ed84ba7c9796ad11 closesbug 1445235 cherry picked commit b7de0333b13f73f6a66380623d7579373709c756
https://review.opendev.org/175979,Security groups and security group rules GET tests,Security groups and security group rules GET tests - Adding security group get and list tests - Adding security group rules get and list tests Change-Id: I40453d1247c4ae117b96b7697a9068b384b03c01,8357,Leonardo Maycotte,"[3, 1980, 8969]","['Jenkins', 'jose-idar', 'Christopher Hunt']",security groups security group rules get tests adding security group get list tests adding security group rules get list tests changeid i40453d1247c4ae117b96b7697a9068b384b03c01
https://review.opendev.org/176251,Fixed a typo in the Security entry.,Fixed a typo in the Security entry. Change-Id: Id53e24eab1ba52d97cffd68dd9f5019efdda20e9,7063,Robert Clark,"[3, 308]","['Jenkins', 'Thierry Carrez']",fixed typo security entry changeid id53e24eab1ba52d97cffd68dd9f5019efdda20e9
https://review.opendev.org/175689,Method to get security group updates in driver,Method to get security group updates in driver Use the RPC listener that an agent would use to receive any security group updated messages that the server has put onto the message queue. Change-Id: Ic969db3bd4a577834ce8f5a06cc59a81543bdd99,7787,Kevin Benton,"[3, 7591, 15342, 15413]","['Jenkins', 'Kanzhe Jiang', 'xin wu', 'Vishnu Emmadi']",method get security group updates driver use rpc listener agent would use receive security group updated messages server put onto message queue changeid ic969db3bd4a577834ce8f5a06cc59a81543bdd99
https://review.opendev.org/175762,Backend handling on security group update,Backend handling on security group update Change-Id: I303200c403348865e2c629975c0f300d8aa3a3ce (cherry picked from commit 5b69818710aad4bd2d9ddfbf6134e5be84409cb1),1653,garyk,"[3, 1653, 9423]","['Jenkins', 'garyk', 'Roey Chen']",backend handling security group update changeid i303200c403348865e2c629975c0f300d8aa3a3ce cherry picked commit 5b69818710aad4bd2d9ddfbf6134e5be84409cb1
https://review.opendev.org/171417,Backend handling on security group update,Adding missing security group hanling on update Change-Id: I303200c403348865e2c629975c0f300d8aa3a3ce,9423,Roey Chen,"[3, 1653, 9008, 9423]","['Jenkins', 'garyk', 'VMware NSX CI', 'Roey Chen']",adding missing security group hanling update changeid i303200c403348865e2c629975c0f300d8aa3a3ce
https://review.opendev.org/174666,Avoid double-hopping deletes for security group rules,Avoid double-hopping deletes for security group rules There is no need to get and delete; we can delete with one bullet. This will most likely have quite a decent performance benefit overall. The patch preserves the existing logic of raising and error on the missing element; a test was added to spur up the coverage. Related-bug: #1444112 Change-Id: Iaef77bd3f7775ed91d374838fb5488d925b4062c,748,Armando Migliaccio,"[3, 105, 748, 2035, 5170, 5948, 6524, 7787, 9008, 9681, 9682, 9787, 9845, 10116, 10121, 10153, 10184, 10386, 10387, 10692, 10980, 12040, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 15296, 15444, 15752]","['Jenkins', 'Kyle Mestery', 'Armando Migliaccio', 'Maru Newby', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Henry Gessau', 'Kevin Benton', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Doug Wiegley', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco FWaaS CI', 'Intel SR-IOV CI']",avoid doublehopping deletes security group rules need get delete delete one bullet likely quite decent performance benefit overall patch preserves existing logic raising error missing element test added spur coverage relatedbug 1444112 changeid iaef77bd3f7775ed91d374838fb5488d925b4062c
https://review.opendev.org/175119,Display Suite module security update,Display Suite module security update SA-CONTRIB-2015-095 https://www.drupal.org/node/2471733 Change-Id: Ibdefcdbbcdede2693bfcb234d21ab9917bf72783,6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",display suite module security update sacontrib2015095 httpswwwdrupalorgnode2471733 changeid ibdefcdbbcdede2693bfcb234d21ab9917bf72783
https://review.opendev.org/174168,Deal with TODO related to Security Groups RPC API's classes,Addressg TODO related to Security Groups RPC API's classes Change-Id: Ifb70a118cef48c3c4cd313e22e907aa47bc51ad0,748,Armando Migliaccio,"[3, 105, 841, 5170, 8788, 9008, 9681, 9787, 9845, 10121, 10153, 10184, 10370, 10386, 10387, 10692, 10980, 12040, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 15296, 15444, 15752, 15894]","['Jenkins', 'Kyle Mestery', 'Akihiro Motoki', 'Microsoft Hyper-V CI', 'Miguel Angel Ajo', 'VMware NSX CI', 'Ryu CI', 'Big Switch CI', 'Arista CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Romil Gupta', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'Doug Wiegley', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco FWaaS CI', 'Intel SR-IOV CI', 'Pluribus Networks CI']",addressg todo related security groups rpc apis classes changeid ifb70a118cef48c3c4cd313e22e907aa47bc51ad0
https://review.opendev.org/174636,[Launch Instance Fix] Security Group Nova Net,"[Launch Instance Fix] Security Group Nova Net When nova networking is enabled, the input to security groups needs to be by name. When neutron, it needs to be by id. This solves that issues. Change-Id: If32671af90facd16e60caa33ed84ba7c9796ad11 Closes-Bug: #1445235",7665,Travis Tripp,"[3, 5623, 9622, 11098, 13785]","['Jenkins', 'David Lyle', 'Cindy Lu', 'Brian Tully', 'Kelly Domico']",launch instance fix security group nova net nova networking enabled input security groups needs name neutron needs id solves issues changeid if32671af90facd16e60caa33ed84ba7c9796ad11 closesbug 1445235
https://review.opendev.org/167337,[Launch Instance Fix] Add Security Group Step Unit Tests,[Launch Instance Fix] Add Security Group Step Unit Tests This patch adds unit tests for the security groupg step. These tests are focused around the controller and its related components (no selenium tests or view tests). Change-Id: I14dbc603e3bafdcebcb13b0ef7f77d05a26a2122 Partial-Bug: 1435869,14124,Matt Borland,"[3, 5623, 7665, 9576, 13785, 14124, 14307]","['Jenkins', 'David Lyle', 'Travis Tripp', 'Thai Tran', 'Kelly Domico', 'Matt Borland', 'Tyr Johanson']",launch instance fix add security group step unit tests patch adds unit tests security groupg step tests focused around controller related components selenium tests view tests changeid i14dbc603e3bafdcebcb13b0ef7f77d05a26a2122 partialbug 1435869
https://review.opendev.org/163399,Add security segregation usecase,Add security segregation usecase Change-Id: I5a1ff68e3dc89ef9cda07ac80c7d75dcca5e1d03,13969,Daniel Schabarum,"[3, 6772, 6932, 7872, 9064, 9411, 13966, 13969, 14744, 15478, 15479, 15481]","['Jenkins', 'Stephen Gordon', 'Adrian Hoban', 'Marc Koderer', 'Danny Al-Gaaf', 'Anthony Veiga', 'Yuriy Babenko', 'Daniel Schabarum', 'Vikash Kumar', 'Dennis Kusidlo', 'Markus Groben', 'Ralf Trezeciak']",add security segregation usecase changeid i5a1ff68e3dc89ef9cda07ac80c7d75dcca5e1d03
https://review.opendev.org/171893,Add Bandit security static analysis checking via tox,Add Bandit security static analysis checking via tox The plan is to add Bandit to the commit gate. Bandit is produced by the OpenStack security team to do static code analysis for security implementation failures. It tests the code base for ~30 common security problems in Python with more to come. The bandit.yaml configuration file is set to the value recommended by the Bandit team. run with: tox -e bandit Change-Id: I46cde803119d0162b6256346e423079cadac17cb Partially-Implements: blueprint gate-bandit,11561,Dave McCowan,"[3, 6486, 7136, 7262, 7973, 8623, 10873, 11561, 11861]","['Jenkins', 'Brant Knudson', 'Chad Lung', 'John Vrbanac', 'Douglas Mendizábal', 'Kaitlin Farr', 'Juan Antonio Osorio Robles', 'Dave McCowan', 'Travis McPeak']",add bandit security static analysis checking via tox plan add bandit commit gate bandit produced openstack security team static code analysis security implementation failures tests code base 30 common security problems python come bandityaml configuration file set value recommended bandit team run tox e bandit changeid i46cde803119d0162b6256346e423079cadac17cb partiallyimplements blueprint gatebandit
https://review.opendev.org/172204,Improve formatting of security teams link,Improve formatting of security teams link Change-Id: I9fa1637c39e5d40d7918dcfc1288340103e71a8b,5263,Jeremy Stanley,"[3, 308]","['Jenkins', 'Thierry Carrez']",improve formatting security teams link changeid i9fa1637c39e5d40d7918dcfc1288340103e71a8b
https://review.opendev.org/171610,"todo: Add security groups, track assignees.",todo: Add security groups. Change-Id: Ib47b7e59b3c9f9e4a624493a1dd492a815fef4b4,1561,Russell Bryant,"[3, 1561, 11343]","['Jenkins', 'Russell Bryant', 'Gal Sagie']",todo add security groups changeid ib47b7e59b3c9f9e4a624493a1dd492a815fef4b4
https://review.opendev.org/171755,Add Bandit security lint checking via tox,Add Bandit security lint checking via tox The idea is to make the codebase gate on Bandit. Bandit is produced by the OpenStack security team to do static code analysis for security implementation failures. It tests the code base for ~30 common security problems in Python with more to come. run with: tox -e bandit Partially-Implements: gate-bandit Change-Id: Iade9936268a539384d6067104f02f9a9001c3627,2834,Steven Dake,"[3, 2834, 5638, 7049, 7494, 8580, 10206, 11861]","['Jenkins', 'Steven Dake', 'Davanum Srinivas', 'Kai Qiang Wu(Kennan)', 'Guangya Liu', 'Digambar', 'Madhuri Kumari', 'Travis McPeak']",add bandit security lint checking via tox idea make codebase gate bandit bandit produced openstack security team static code analysis security implementation failures tests code base 30 common security problems python come run tox e bandit partiallyimplements gatebandit changeid iade9936268a539384d6067104f02f9a9001c3627
https://review.opendev.org/793196,Added test for reattached security groups,Added test for reattached security groups We had a bug for OSP13 with openvswitch firewall driver that the established connection can't be resumed after the security group has been removed from the port and than added back. There are 2 new tests: - To make sure that the new connection can be initiated after security group has been re-attached to the server - To make sure that the existing connection can still be active after security group has been re-attached In order to keep the connection open there is a new StatefulConnection class Change-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a,31450,Alex Katz,"[11975, 16688, 19118, 21798, 22348, 29350]","['Slawek Kaplonski', 'Rodolfo Alonso', 'Eran Kuris', 'Bernard Cafarelli', 'Zuul', 'Roman Safronov']",added test reattached security groups bug osp13 openvswitch firewall driver established connection cant resumed security group removed port added back 2 new tests make sure new connection initiated security group reattached server make sure existing connection still active security group reattached order keep connection open new statefulconnection class changeid i3c2f037180b35dbbd254d8b4ce69852d31391a9a
https://review.opendev.org/774408,Don't try to create default SG when security groups are disabled,"Don't try to create default SG when security groups are disabled If security group API is disabled, there is no point to create default security group for tenant when e.g. network is created. Conflicts: neutron/db/securitygroups_db.py neutron/tests/unit/db/test_securitygroups_db.py Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)",11975,Slawek Kaplonski,"[5948, 16688, 21798, 22348]","['Oleg Bondarev', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",dont try create default sg security groups disabled security group api disabled point create default security group tenant eg network created conflicts neutrondbsecuritygroupsdbpy neutrontestsunitdbtestsecuritygroupsdbpy closesbug 1913297 changeid ib73babdd563e3e8c21ce6f63456cc87af414c5aa cherry picked commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae
https://review.opendev.org/774430,Don't try to create default SG when security groups are disabled,"Don't try to create default SG when security groups are disabled If security group API is disabled, there is no point to create default security group for tenant when e.g. network is created. Conflicts: neutron/db/securitygroups_db.py neutron/tests/unit/db/test_securitygroups_db.py Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)",11975,Slawek Kaplonski,"[5948, 16688, 21798, 22348]","['Oleg Bondarev', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul']",dont try create default sg security groups disabled security group api disabled point create default security group tenant eg network created conflicts neutrondbsecuritygroupsdbpy neutrontestsunitdbtestsecuritygroupsdbpy closesbug 1913297 changeid ib73babdd563e3e8c21ce6f63456cc87af414c5aa cherry picked commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae
https://review.opendev.org/789445,pod security policies updates,pod security policies updates New content: Minor Usability Enhancement to Default Pod Security Policies Implemented patchset 2 comment Implemented patchset 3 comments Signed-off-by: Ron Stone <ronald.stone@windriver.com> Change-Id: I82d31f412c47bfecf4601169400bf090ceda636c Signed-off-by: Ron Stone <ronald.stone@windriver.com> (cherry picked from commit 398041b403bfff061efe6e5c82b3efc25b1066d5),30539,Ron Stone,"[22348, 26026, 28286, 30859]","['Zuul', 'Greg Waines', 'Bruce Jones', 'M Camp']",pod security policies updates new content minor usability enhancement default pod security policies implemented patchset 2 comment implemented patchset 3 comments signedoffby ron stone ronaldstonewindrivercom changeid i82d31f412c47bfecf4601169400bf090ceda636c signedoffby ron stone ronaldstonewindrivercom cherry picked commit 398041b403bfff061efe6e5c82b3efc25b1066d5
https://review.opendev.org/789090,Add new Debian security mirror suite pattern,"Add new Debian security mirror suite pattern Starting with Debian 11 (bullseye), security packages are in bullseye-security as opposed to older releases like buster/updates. List the last several stable releases in hopes nobody is trying to use this role to configure platforms older than Debian 8 (jessie, the current ""oldoldstable""). Change-Id: I2d7712cbfd037a65b9025980a6c0cccd917f8947",5263,Jeremy Stanley,"[1, 4146, 5263, 22348]","['James E. Blair', 'Clark Boylan', 'Jeremy Stanley', 'Zuul']",add new debian security mirror suite pattern starting debian 11 bullseye security packages bullseyesecurity opposed older releases like busterupdates list last several stable releases hopes nobody trying use role configure platforms older debian 8 jessie current oldoldstable changeid i2d7712cbfd037a65b9025980a6c0cccd917f8947
https://review.opendev.org/156017,Fix security group checking action permissions raise error,Fix security group checking action permissions raise error The security group usage didnot contain key 'available'. so it must be checked before using. Change-Id: I1a4b78360ce84731449ca9416c36c552e35fe20b Closes-Bug: #1422049,13979,qiaojian,"[3, 1941, 6610, 6763, 8648, 9622, 12355, 12826, 13979, 14151]","['Jenkins', 'Lin Hua Cheng', 'Zhenguo Niu', 'Liuqing Jing', 'Radomir Dopieralski', 'Cindy Lu', 'Vlad Okhrimenko', 'Rob Cresswell', 'qiaojian', 'ziyu032']",fix security group checking action permissions raise error security group usage didnot contain key available must checked using changeid i1a4b78360ce84731449ca9416c36c552e35fe20b closesbug 1422049
https://review.opendev.org/170172,Adding the security team.,Adding the security team. Moving VMT responsibilities from Release to security Change-Id: I9d0db560952380d3283ca710608ed0fdd3af64da,7063,Robert Clark,"[2, 3, 7, 67, 105, 308, 964, 1561, 1849, 2271, 2472, 2592, 2750, 2889, 6547, 7063]","['Monty Taylor', 'Jenkins', 'Jay Pipes', 'Vish Ishaya', 'Kyle Mestery', 'Thierry Carrez', 'Anne Gentle', 'Russell Bryant', 'Joe Gordon', 'Michael Still', 'Doug Hellmann', 'Mark McClain', 'Sean Dague', 'Aeva Black', 'Andreas Jaeger', 'Robert Clark']",adding security team moving vmt responsibilities release security changeid i9d0db560952380d3283ca710608ed0fdd3af64da
https://review.opendev.org/170691,"Remove meaningless ""(CIDR)"" suffix in Security Group Rules table","Remove meaningless ""(CIDR)"" suffix in Security Group Rules table Previously (until Juno) ""(CIDR)"" suffix was used to mention a value is ""remote IP prefix"" in ""Remote"" column. However, in Kilo ""Remote"" column was split into ""Remote IP Prefix"" and ""Remote Security Group"" columns, and ""(CIDR)"" suffix is no longer needed and now meaningless. Closes-Bug: #1440441 Change-Id: Idde94f699ce2c23b8cb48a34d768312ecb9966b9",841,Akihiro Motoki,"[3, 1941, 9317, 12525, 12826, 13161]","['Jenkins', 'Lin Hua Cheng', 'Ana Krivokapic', 'vishwanath jayaraman', 'Rob Cresswell', 'Kamil Rykowski']",remove meaningless cidr suffix security group rules table previously juno cidr suffix used mention value remote ip prefix remote column however kilo remote column split remote ip prefix remote security group columns cidr suffix longer needed meaningless closesbug 1440441 changeid idde94f699ce2c23b8cb48a34d768312ecb9966b9
https://review.opendev.org/124070,Fix error raising in security groups method,Fix error raising in security groups method In case there were security groups not belonging to tenant on port _get_security_groups_on_port would try to raise exception but fail trying to index set. This patch fixes removes use of index and introduces new exception which provides better explanation of situation which occurred. Change-Id: I039ea57269dc53ced8dece0985f33ce9ae7eab17 Closes-Bug: #1373816,12737,Jacek Swiderski,"[3, 105, 4149, 5170, 5948, 6502, 6659, 6788, 7183, 7249, 7787, 8645, 9008, 9656, 9681, 9682, 9732, 9787, 9845, 9846, 10116, 10117, 10121, 10153, 10184, 10192, 10294, 10386, 10387, 10503, 10692, 10980, 11114, 11343, 12040, 12444, 12737, 14039, 14208, 14212, 14213, 14214, 14215, 14216, 14323, 14571, 15296, 15443, 15444, 15752]","['Jenkins', 'Kyle Mestery', 'Itsuro Oda', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Andrey Epifanov', 'Paul Michali', 'Rossella Sblendido', 'Xu Han Peng', 'Ann Taraday', 'Kevin Benton', 'Trinath Somanchi', 'VMware NSX CI', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'OpenDaylight CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI', 'Doug Wiegley', 'yalei wang', 'Gal Sagie', 'A10 Networks CI', 'John Schwarz', 'Jacek Swiderski', 'watanabe isao', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Cisco CSR1kv CI', 'Cisco vpnaas CI', 'HP Networking CI', 'Intel Experimental CI', 'Brocade Openstack CI', 'Cisco UCSM CI', 'Cisco FWaaS CI', 'Intel SR-IOV CI']",fix error raising security groups method case security groups belonging tenant port getsecuritygroupsonport would try raise exception fail trying index set patch fixes removes use index introduces new exception provides better explanation situation occurred changeid i039ea57269dc53ced8dece0985f33ce9ae7eab17 closesbug 1373816
https://review.opendev.org/159234,Add xml security test case,"Add xml security test case This XML security test case is to check wehther the application is vulnerable XML bomb attack by sending a payload with XML bomb. The expected response is ""Invalid Json"". Otherwise, it fails. Change-Id: Ia4ca814b59cce2293006357973d35594ba992784 Implements: blueprint security-testing",15259,Michael Xin,"[3, 7498, 8093, 10068, 12906]","['Jenkins', 'Malini Kamalambal', 'Amit Gandhi', 'Welcome, new contributor!', 'tonytan4ever']",add xml security test case xml security test case check wehther application vulnerable xml bomb attack sending payload xml bomb expected response invalid json otherwise fails changeid ia4ca814b59cce2293006357973d35594ba992784 implements blueprint securitytesting
https://review.opendev.org/169067,fix for creating security groups in devstack,fix for creating security groups in devstack Upstream neutron interface for creating security groups was changed to require a description for a security group. Updating cue devstack plugin to provide a description for rabbitmq security group being created while stacking. Change-Id: I348a5e1ec51954a829e19a3d345ff01992e3a84d,10584,Min Pae,"[3, 10584, 13771]","['Jenkins', 'Min Pae', 'Davide Agnello']",fix creating security groups devstack upstream neutron interface creating security groups changed require description security group updating cue devstack plugin provide description rabbitmq security group created stacking changeid i348a5e1ec51954a829e19a3d345ff01992e3a84d
https://review.opendev.org/167409,Identity in OpenStack Security Guide  - Style nits,Identity in OpenStack Security Guide  - Style nits Made fixes to grammar and style nits described in bug description. Closes Bug: #1411519 Change-Id: I4ca527dd85b218f53956fc4e8464c6a0a9e426f6,12442,Shellee Aragon,"[3, 6547, 7063, 10670, 11343, 12325]","['Jenkins', 'Andreas Jaeger', 'Robert Clark', 'Michael McCune', 'Gal Sagie', 'Nathaniel Dillon']",identity openstack security guide style nits made fixes grammar style nits described bug description closes bug 1411519 changeid i4ca527dd85b218f53956fc4e8464c6a0a9e426f6
https://review.opendev.org/167220,don't 500 on invalid security group format,"don't 500 on invalid security group format Fix a user reported issue with invalid security group format causing Nova to throw a 500 error (never a good thing). This provides some minimal validation of the security group in the v2 API to return a 400 instead of a 500 on garbage input. It does not break string freeze because this uses the same string as the validator for jsonschema. We aren't nearly as helpful about what's wrong with the secgroup format, that comes with v2.1. Test case is added for both v2 and v2.1 on the v2 endpoint (which passed previously). There is some copy and paste in the test case, but that's intentional for now until we figure out which pieces of the samples_base classes are really useful in other tests (and that we seem to keep wanting in other tests), and will be refactored later. Change-Id: I3fec08df09a7705e5c882d3ef29d9c4e620781fc Closes-Bug: #1239723",2750,Sean Dague,"[3, 642, 2750, 5441, 6873, 9008, 9578, 10118, 10385, 11103, 15286]","['Jenkins', 'Matt Dietz', 'Sean Dague', 'Andrew Laski', 'Matt Riedemann', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI', 'XenProject CI']",dont 500 invalid security group format fix user reported issue invalid security group format causing nova throw 500 error never good thing provides minimal validation security group v2 api return 400 instead 500 garbage input break string freeze uses string validator jsonschema arent nearly helpful whats wrong secgroup format comes v21 test case added v2 v21 v2 endpoint passed previously copy paste test case thats intentional figure pieces samplesbase classes really useful tests seem keep wanting tests refactored later changeid i3fec08df09a7705e5c882d3ef29d9c4e620781fc closesbug 1239723
https://review.opendev.org/167078,[Launch Instance Fix] Split Security & Access in 2,"[Launch Instance Fix] Split Security and Access into two steps This splits the single Security and Access step so that the two panes in that step (Security Groups / Keypairs) have their own steps in the wizard, thus making everything much more consistent. Change-Id: Ib1d79ce8019e5361faccf77360989c38ce1cab2c Closes-Bug: 1435636",12071,Richard Jones,"[3, 5623, 7665, 9576, 9622, 12071, 12826, 13785, 14124, 14151, 14307]","['Jenkins', 'David Lyle', 'Travis Tripp', 'Thai Tran', 'Cindy Lu', 'Richard Jones', 'Rob Cresswell', 'Kelly Domico', 'Matt Borland', 'ziyu032', 'Tyr Johanson']",launch instance fix split security access two steps splits single security access step two panes step security groups keypairs steps wizard thus making everything much consistent changeid ib1d79ce8019e5361faccf77360989c38ce1cab2c closesbug 1435636
https://review.opendev.org/164361,Add security groups scenario test,Add security groups scenario test This commit adds scenario testing for security groups Change-Id: I2c8eb9903a92790139fac8311ef671e1d1851145,4694,Miguel Lavalle,"[3, 97, 1980, 4694, 8256, 8969, 11710]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Miguel Lavalle', 'Ivo Vasev', 'Christopher Hunt', 'Anna Eilering']",add security groups scenario test commit adds scenario testing security groups changeid i2c8eb9903a92790139fac8311ef671e1d1851145
https://review.opendev.org/141050,Exclude security group related quotas when the extension disabled,"Exclude security group related quotas when the extension disabled When using neutron as network service and security group extension disabled, the quotas update workflow will hit some error, because 'security_group' and 'security_group_rule' are passed to the quotas update method for neutron. This patch fixes the problem by excluding these two quotas when neutron security group extension is disabled. Change-Id: I0011e1c0956d3248b748f109d5ab5e93ec55f7d3 Closes-bug: 1330632 (cherry picked from commit 1246cd32e33451831255236a3abd8e5e4bf236b1)",6593,Dirk Mueller,"[3, 979, 1941, 1955, 4264, 4428, 6162, 6610, 6763, 12355]","['Jenkins', 'Dave Walker', 'Lin Hua Cheng', 'Alan Pevec', 'Matthias Runge', 'Liyingjun', 'Dan Nguyen', 'Zhenguo Niu', 'Liuqing Jing', 'Vlad Okhrimenko']",exclude security group related quotas extension disabled using neutron network service security group extension disabled quotas update workflow hit error securitygroup securitygrouprule passed quotas update method neutron patch fixes problem excluding two quotas neutron security group extension disabled changeid i0011e1c0956d3248b748f109d5ab5e93ec55f7d3 closesbug 1330632 cherry picked commit 1246cd32e33451831255236a3abd8e5e4bf236b1
https://review.opendev.org/165501,Improve styling for security group detail table,"Improve styling for security group detail table In the Access and Security step of the new Launch Instance Wizard, there is a detail table that shows when expanding the security groups. Currently this detail table is very compact/congested and uses table striping, which does not match the mockups. This patch removes table striping from the security group details table, and adds padding so that it more closely matches the mockups. Closes-Bug: 1433688 Change-Id: Iccd4a83cb3c7e36383f6063cb65d9e7c4efe84b1",11098,Brian Tully,"[3, 7665, 9576, 9622, 10881, 12071, 13785, 13805, 14124]","['Jenkins', 'Travis Tripp', 'Thai Tran', 'Cindy Lu', 'Neill Cox', 'Richard Jones', 'Kelly Domico', 'Shaoquan Chen', 'Matt Borland']",improve styling security group detail table access security step new launch instance wizard detail table shows expanding security groups currently detail table compactcongested uses table striping match mockups patch removes table striping security group details table adds padding closely matches mockups closesbug 1433688 changeid iccd4a83cb3c7e36383f6063cb65d9e7c4efe84b1
https://review.opendev.org/165615,Add column sorting to Access & Security tables,Add column sorting to Access & Security tables This patch adds column sorting to the transfer tables within the Access and Security step of the new Launch Instance Wizard. This ensures UI consistency with other steps' transfer tables. Closes-Bug: 1433790 Change-Id: Ic4571998cc6a5e31466f90ab95dcbdf1fc825b40,11098,Brian Tully,"[3, 7665, 8512, 9576, 9622, 9981, 13785, 14124]","['Jenkins', 'Travis Tripp', 'Matt Farina', 'Thai Tran', 'Cindy Lu', 'Doug Fish', 'Kelly Domico', 'Matt Borland']",add column sorting access security tables patch adds column sorting transfer tables within access security step new launch instance wizard ensures ui consistency steps transfer tables closesbug 1433790 changeid ic4571998cc6a5e31466f90ab95dcbdf1fc825b40
https://review.opendev.org/164364,Adding conf options for security groups,Adding conf options for security groups Adding conf options for security groups scenario testing Change-Id: Ieeec4c71404d3335ae40f489d6a553cd7f726264,4694,Miguel Lavalle,"[3, 97, 1980, 11710]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Anna Eilering']",adding conf options security groups adding conf options security groups scenario testing changeid ieeec4c71404d3335ae40f489d6a553cd7f726264
https://review.opendev.org/157164,Adding Security Checklist,Adding Security Checklist Adding seperate section for checklists. This is an initial commit to get feedback on the format. Starting with checklist on Keystone (identity). Change-Id: If36e99aae03f35775e9df665f7a204580717f5a2 Partial-Bug: #1342993,10281,Priti Desai,"[3, 964, 2807, 6547, 10281, 10670, 12325, 12402]","['Jenkins', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger', 'Priti Desai', 'Michael McCune', 'Nathaniel Dillon', 'Robb Romans']",adding security checklist adding seperate section checklists initial commit get feedback format starting checklist keystone identity changeid if36e99aae03f35775e9df665f7a204580717f5a2 partialbug 1342993
https://review.opendev.org/150820,Fixed auto security group cleanup in case of creation error,Fixed auto security group cleanup in case of creation error Change-Id: I4b025442ddc4d2433d4a537508d3b1d3b8e64592 Closes-Bug: #1391536 (cherry picked from commit 912cd351942eb442024e9b881e639b8f780f7138),7132,Nikita Konovalov,"[3, 1955, 6786, 7132, 7213, 7710, 8090, 8091, 8411, 10670, 12038, 13919]","['Jenkins', 'Alan Pevec', 'Sergey Lukjanov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Chad Roberts', 'Trevor McKay', 'Andrew Lazarev', 'Michael McCune', 'Vitaly Gridnev', 'Evgeny Sikachev']",fixed auto security group cleanup case creation error changeid i4b025442ddc4d2433d4a537508d3b1d3b8e64592 closesbug 1391536 cherry picked commit 912cd351942eb442024e9b881e639b8f780f7138
https://review.opendev.org/164521,DVS: add security group extension,DVS: add security group extension The DVS plugin does not support security groups. But we do need to have the extension and DB mixin to ensure that Nova works with the plugin. Change-Id: I6ee4b83a98b2ed190a477cd05ce642b404a458ef,1653,garyk,"[3, 1653, 9008, 13438]","['Jenkins', 'garyk', 'VMware NSX CI', 'Kobi Samoray']",dvs add security group extension dvs plugin support security groups need extension db mixin ensure nova works plugin changeid i6ee4b83a98b2ed190a477cd05ce642b404a458ef
https://review.opendev.org/150328,Move policy enforcement into REST API layer for v2.1 security groups,Move policy enforcement into REST API layer for v2.1 security groups This patch moves the policy enforcement into REST API layer for v2.1 security groups and adds related unittest. Partially implements bp v3-api-policy DocImpact Change-Id: If2a3c392a839ee5d88882e1eab66d9b91e6ed72b,14131,shaohef,"[3, 2271, 2750, 5170, 5754, 6167, 8412, 9008, 9578, 10118, 10385, 11103, 11189, 12175, 14131]","['Jenkins', 'Michael Still', 'Sean Dague', 'Microsoft Hyper-V CI', 'Alex Xu', ""Ken'ichi Ohmichi"", 'Mike Durnosvistov', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI', 'yuntongjin', 'Eli Qiao', 'shaohef']",move policy enforcement rest api layer v21 security groups patch moves policy enforcement rest api layer v21 security groups adds related unittest partially implements bp v3apipolicy docimpact changeid if2a3c392a839ee5d88882e1eab66d9b91e6ed72b
https://review.opendev.org/159021,"Fix response parameters table of ""List/Show security group""","Fix response parameters table of ""List/Show security group"" Add following parameters to these tables. ""security-group-rules"", ""tenant_id"" Change-Id: Ifcd396f793686a84bdd967f5b9be97416a06adf5 Closes-Bug: #1424929",14154,Takanori Miyagishi,"[3, 964, 2448]","['Jenkins', 'Anne Gentle', 'Diane Fleming']",fix response parameters table listshow security group add following parameters tables securitygrouprules tenantid changeid ifcd396f793686a84bdd967f5b9be97416a06adf5 closesbug 1424929
https://review.opendev.org/54007,Allow all printable ASCII characters in security group names,"Allow all printable ASCII characters in security group names. Thus far, the security group name was checked with Django's validate_slug. Consequently, some characters like spaces (bug #1224576) and @ (bug #1233501) were forbidden. This fix removes validate_slug and provides a less restrictive validation. Now, all printable ASCII characters -- i.e. from 0x20 to 0x7E -- are valid. Note that diacritics are disallowed. On top of that the length is now checked and limited to 255 characters in accordance with Nova and Neutron back ends. Security group forms have been factorized in one abstract base class: GroupBase. CreateGroup and UpdateGroup subclass GroupBase in order to be more DRY. Change-Id: Ifc8e5f75419a73a353b2138641773d36138ecea8 Closes-Bug: #1224576 Closes-Bug: #1233501",8876,Romain Hardouin,"[3, 841, 1941, 6610, 7012, 7634, 8305, 8411, 8648, 8674, 8876, 9622, 10442, 12000, 12355, 13325, 14967]","['Jenkins', 'Akihiro Motoki', 'Lin Hua Cheng', 'Zhenguo Niu', 'Brianna Poulos', 'Takashi Natsume', 'floren', 'Andrew Lazarev', 'Radomir Dopieralski', 'Yves-Gwenael Bourhis', 'Romain Hardouin', 'Cindy Lu', 'Masco Kaliyamoorthy', 'Ian Cordasco', 'Vlad Okhrimenko', 'Paul Karikh', 'Thiago Gomes']",allow printable ascii characters security group names thus far security group name checked djangos validateslug consequently characters like spaces bug 1224576 bug 1233501 forbidden fix removes validateslug provides less restrictive validation printable ascii characters ie 0x20 0x7e valid note diacritics disallowed top length checked limited 255 characters accordance nova neutron back ends security group forms factorized one abstract base class groupbase creategroup updategroup subclass groupbase order dry changeid ifc8e5f75419a73a353b2138641773d36138ecea8 closesbug 1224576 closesbug 1233501
https://review.opendev.org/160815,Make listing security groups faster,Make listing security groups faster If we have a large number of security groups (more than 1000) with security group rules (about 100 for each group) listing them could take rather long time(more than 1 minute). Adding lazy join to backref to SecurityGroupRule model will make it faster at list on 15%. Change-Id: I648a48cdefe0faf75c0c62bd8adffc12547293be Closes-bug: #1426383 (cherry picked from commit 5917fcff32a51e755b7bb90790cac5afd92556e8),7249,Ann Taraday,"[3, 105, 748, 1131, 5215, 6854, 7249, 7715, 9656, 9681, 9682, 9787, 10153, 10387, 10692, 12040, 12525, 14208, 14212, 14213, 14214, 14571]","['Jenkins', 'Kyle Mestery', 'Armando Migliaccio', 'Brian Haley', 'Dermot Tynan', 'YAMAMOTO Takashi', 'Ann Taraday', 'Hirofumi Ichihara', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Big Switch CI', 'One Convergence CI', 'Freescale CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'vishwanath jayaraman', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Intel Experimental CI']",make listing security groups faster large number security groups 1000 security group rules 100 group listing could take rather long timemore 1 minute adding lazy join backref securitygrouprule model make faster list 15 changeid i648a48cdefe0faf75c0c62bd8adffc12547293be closesbug 1426383 cherry picked commit 5917fcff32a51e755b7bb90790cac5afd92556e8
https://review.opendev.org/161186,Hyper-V: Fixes security groups issue,"Hyper-V: Fixes security groups issue After this patch If19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroups_rpc, prepare_devices_filter attempts to use methods unimplemented by the HyperV security groups driver. For this reason, binding ports fails with NotImplementedError if security groups are enabled. Until the HyperV security groups driver reaches parity, the use_enhanced_rpc property should be set to False on the HyperVSecurityAgent, falling back to the old behaviour. (cherry picked from commit 7076d9edee29b852833d934761052efcbc6e8fcf) Change-Id: I1a7ee2b92367d2d59932b8b39372a055bf19951b Closes-Bug: #1415523",9361,Vivekanandan Narasimhan,"[3, 105, 704, 748, 1653, 3185, 6854, 7718, 8213, 8543, 9361, 9656, 9681, 9682, 9732, 10153, 10387, 14208, 14212, 14213, 14214, 14571]","['Jenkins', 'Kyle Mestery', 'Edgar Magana', 'Armando Migliaccio', 'garyk', 'Alessandro Pilotti', 'YAMAMOTO Takashi', 'Ashok kumaran B', 'Claudiu Belu', 'Lucian Petrut', 'Vivekanandan Narasimhan', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'One Convergence CI', 'Freescale CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Intel Experimental CI']",hyperv fixes security groups issue patch if19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroupsrpc preparedevicesfilter attempts use methods unimplemented hyperv security groups driver reason binding ports fails notimplementederror security groups enabled hyperv security groups driver reaches parity useenhancedrpc property set false hypervsecurityagent falling back old behaviour cherry picked commit 7076d9edee29b852833d934761052efcbc6e8fcf changeid i1a7ee2b92367d2d59932b8b39372a055bf19951b closesbug 1415523
https://review.opendev.org/160498,Fix some cases of passing context to remotables with security groups,Fix some cases of passing context to remotables with security groups This fixes a couple of cases where we pass a context to security group methods in the quotas module and in the compute manager. Related to blueprint kilo-objects Change-Id: Id3bb9f35d50e888fd704dc903d49ca1350037432,4393,Dan Smith,"[3, 1653, 1849, 4393, 4690, 5441, 9008, 9578, 9732, 10118, 10385, 11103]","['Jenkins', 'garyk', 'Joe Gordon', 'Dan Smith', 'melanie witt', 'Andrew Laski', 'VMware NSX CI', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI']",fix cases passing context remotables security groups fixes couple cases pass context security group methods quotas module compute manager related blueprint kiloobjects changeid id3bb9f35d50e888fd704dc903d49ca1350037432
https://review.opendev.org/163264,Update help messages for default security group commands,"Update help messages for default security group commands The secgroup-{add,delete,list}-default-rules? family of commands has confusing help text that makes it sounds like they actually operate on the default security group (that is, the security group named 'default' which is the default for the current tenant). Instead, the operate on a sort of meta-security-group object which is only used to populate the 'default' security group in newly-created tenants. This is crazy confusing. These commands get fancy new help strings that should hopefully make it a little more clear. Closes-Bug: 1430354 Change-Id: I4d9569ba7ea9ad7a20e984df7a137c99240a9748",11748,Chris St. Pierre,"[3, 679, 4690]","['Jenkins', 'Kevin L. Mitchell', 'melanie witt']",update help messages default security group commands secgroupadddeletelistdefaultrules family commands confusing help text makes sounds like actually operate default security group security group named default default current tenant instead operate sort metasecuritygroup object used populate default security group newlycreated tenants crazy confusing commands get fancy new help strings hopefully make little clear closesbug 1430354 changeid i4d9569ba7ea9ad7a20e984df7a137c99240a9748
https://review.opendev.org/161650,Default security group table,Default security group table Added a note on introducing new default_security_group table to prevent race conditions when creating a tenant's default security group. Change-Id: I77fb9444e64a86661d0f39e2dee7f898d24aa943 Closes-Bug: #1416116,14396,Alexander Adamov,"[3, 167, 6547, 9515, 14396, 14643, 14947, 14962]","['Jenkins', 'Christian Berendt', 'Andreas Jaeger', 'Matthew Kassawara', 'Alexander Adamov', 'Olga Gusarenko', 'Maria Zlatkova', 'ologvinova']",default security group table added note introducing new defaultsecuritygroup table prevent race conditions creating tenants default security group changeid i77fb9444e64a86661d0f39e2dee7f898d24aa943 closesbug 1416116
https://review.opendev.org/160744,Adds Security Group support with OVS Bridge,"Adds Security Group support with OVS Bridge Presently the DockerGenericVIFDriver doesnot support the security group functionality when used with OVS bridge. Due to this, security group rules when applied through openstack does not work with containers. Now with this fix,a hybrid mechanism is used to support the IPTable filtration and openstack security group rules. Change-Id: I4886a6cf7fb955a451c247588aa50f61224fcaae Implements: blueprint container-security-group-support",14659,shaikh ikhlaque ali,"[3, 159, 5638, 10068, 10070, 14570, 14659]","['Jenkins', 'Eric Windisch', 'Davanum Srinivas', 'Welcome, new contributor!', 'LiangChen', 'Ashish Billore', 'shaikh ikhlaque ali']",adds security group support ovs bridge presently dockergenericvifdriver doesnot support security group functionality used ovs bridge due security group rules applied openstack work containers fixa hybrid mechanism used support iptable filtration openstack security group rules changeid i4886a6cf7fb955a451c247588aa50f61224fcaae implements blueprint containersecuritygroupsupport
https://review.opendev.org/158530,added security group to create cluster call,"added security group to create cluster call - Added a configuration item, os_security_group, to api to allow a default security group to be specified - Added tests to test_create_vm to verify invalid security group results in a failure - Modified nova fixture to check for security_groups in vm create Change-Id: Ib8490b15b0e90812d630d237cc4fcc8d0c8a4f9a",10584,Min Pae,"[3, 1925, 10584, 13771]","['Jenkins', 'Vipul Sabhaya', 'Min Pae', 'Davide Agnello']",added security group create cluster call added configuration item ossecuritygroup api allow default security group specified added tests testcreatevm verify invalid security group results failure modified nova fixture check securitygroups vm create changeid ib8490b15b0e90812d630d237cc4fcc8d0c8a4f9a
https://review.opendev.org/158928,Fix ICMP code/type in security group rule test,"Fix ICMP code/type in security group rule test Security group rule with ICMP protocol has type/code fields which should follow ICMP specification. Remove the ones that are invalid and add more meaningful type/code values. - Echo Request (type 8, code 0) - Echo Response(type 0, code 0) Change-Id: Ia82193eca71f97581e11badd545ac28236f68f85",12024,Tong Liu,"[3, 261, 1192, 1653, 1921, 4395, 5196, 5803, 10385, 12024, 13050]","['Jenkins', 'Salvatore Orlando', 'David Kranz', 'garyk', 'Andrea Frittoli', 'Aaron Rosen', 'Matthew Treinish', 'Attila Fazekas', 'Citrix XenServer CI', 'Tong Liu', 'VMWare Congress CI']",fix icmp codetype security group rule test security group rule icmp protocol typecode fields follow icmp specification remove ones invalid add meaningful typecode values echo request type 8 code 0 echo responsetype 0 code 0 changeid ia82193eca71f97581e11badd545ac28236f68f85
https://review.opendev.org/158939,Fix missing parameters for Neutron security group API,Fix missing parameters for Neutron security group API 1. Query parameters Add query parameters for Show/List API. 2. Security Group Rule Add some parameters about Security group rule for Show/List/Create API. 3. tenant_id Add tenant_id parameter for Show/List/Create API. Change-Id: Iac9ecf0391a2d4a6713ee337896c2e5ed30607bf Closes-Bug: #1425337,15149,yuji hagiwara,"[3, 964, 8878, 15149]","['Jenkins', 'Anne Gentle', 'Masahito Muroi', 'yuji hagiwara']",fix missing parameters neutron security group api 1 query parameters add query parameters showlist api 2 security group rule add parameters security group rule showlistcreate api 3 tenantid add tenantid parameter showlistcreate api changeid iac9ecf0391a2d4a6713ee337896c2e5ed30607bf closesbug 1425337
https://review.opendev.org/161769,Some convenience methods for security groups,Some convenience methods for security groups Add two methods to add secuirty group rules to a security group. These two methods cover the most common use cases. Change-Id: Ic48d31bdbfa8d3b3ea6a3770556a43749b45e70f,8736,Terry Howe,"[3, 8257, 8736]","['Jenkins', 'Brian Curtin', 'Terry Howe']",convenience methods security groups add two methods add secuirty group rules security group two methods cover common use cases changeid ic48d31bdbfa8d3b3ea6a3770556a43749b45e70f
https://review.opendev.org/160868,Add reference links to Openstack Security Guide,Add reference links to Openstack Security Guide - Securing Openstack networking services section Add cross reference links to authentication and access sections Change-Id: Ifffd64719846dcec6598f0b453fa56df977752b1 Closes-Bug: #1419506,13697,Leon Zachery,"[3, 2807, 6547, 10068, 10670, 12325, 13409, 13697, 14757]","['Jenkins', 'Bryan D. Payne', 'Andreas Jaeger', 'Welcome, new contributor!', 'Michael McCune', 'Nathaniel Dillon', 'Andrew Boik', 'Leon Zachery', 'Timothy Swanson']",add reference links openstack security guide securing openstack networking services section add cross reference links authentication access sections changeid ifffd64719846dcec6598f0b453fa56df977752b1 closesbug 1419506
https://review.opendev.org/159028,"Fix response parameters table of ""List/Show security group rule""","Fix response parameters table of ""List/Show security group rule"" Add following parameters to these tables. ""id"", ""tenant_id"" Change-Id: Ifb9f6117b8c09642c002587588b201ffaf8e5e24 Closes-Bug: #1425022",14154,Takanori Miyagishi,"[3, 964, 2448, 10607, 14154]","['Jenkins', 'Anne Gentle', 'Diane Fleming', 'Alexandra Settle', 'Takanori Miyagishi']",fix response parameters table listshow security group rule add following parameters tables id tenantid changeid ifb9f6117b8c09642c002587588b201ffaf8e5e24 closesbug 1425022
https://review.opendev.org/161669,Add security group for neutron ports,"Add security group for neutron ports During testing of scale heat rally test for neutron (HeatStack.create_and_delete_stack) is falling because neutron creates multiple security groups but nova cannot define which one should it use. As a result nova cannot boot an instance. The fix defines default security group in the server_with_ports.yaml.template, so nova will choose the one specific group. In addition, the deprecated attribute network_id in the template has been replaced with the network attribute. Change-Id: I5e610f0fe3817fdbf6acd1e62ef7a5de3273874a Closes-bug: #1428066",14676,Kairat Kushaev,"[3, 6172, 8507, 9545, 14817]","['Jenkins', 'Boris Pavlovic', 'Mikhail Dubov', 'Andrey Kurilin', 'Mirantis Rally CI']",add security group neutron ports testing scale heat rally test neutron heatstackcreateanddeletestack falling neutron creates multiple security groups nova define one use result nova boot instance fix defines default security group serverwithportsyamltemplate nova choose one specific group addition deprecated attribute networkid template replaced network attribute changeid i5e610f0fe3817fdbf6acd1e62ef7a5de3273874a closesbug 1428066
https://review.opendev.org/158612,"Fix incorrect parameters for ""Create security group rule""","Fix incorrect parameters for ""Create security group rule"" Fix following parameters. [Request] (1)ethertype Add ""(Optional)"" signage. [Response] (2)Modified the table to content for ""Create security group rule"". It was content for ""Create security group"". Change-Id: I828ee6d8367f5ead68f8c4b25e961eeea1c9122a Closes-Bug: #1420165",14154,Takanori Miyagishi,"[3, 612, 964, 2448, 6547, 10607]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Diane Fleming', 'Andreas Jaeger', 'Alexandra Settle']",fix incorrect parameters create security group rule fix following parameters request 1ethertype add optional signage response 2modified table content create security group rule content create security group changeid i828ee6d8367f5ead68f8c4b25e961eeea1c9122a closesbug 1420165
https://review.opendev.org/159850,Make listing security groups faster,Make listing security groups faster If we have a large number of security groups (more than 1000) with security group rules (about 100 for each group) listing them could take rather long time(more than 1 minute). Adding lazy join to backref to SecurityGroupRule model will make it faster at list on 15%. Change-Id: I648a48cdefe0faf75c0c62bd8adffc12547293be Closes-bug: #1426383,7249,Ann Taraday,"[3, 704, 2874, 5170, 5948, 6854, 7293, 8645, 8976, 9681, 9682, 9732, 9787, 9845, 10117, 10121, 10153, 10184, 10386, 10387, 12040, 14212, 14213, 14214, 14571, 14956]","['Jenkins', 'Edgar Magana', 'yong sheng gong', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'YAMAMOTO Takashi', 'Elena Ezhova', 'Trinath Somanchi', 'shihanzhang', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'A10 Networks CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Intel Experimental CI', 'Intel SR-IOV CI']",make listing security groups faster large number security groups 1000 security group rules 100 group listing could take rather long timemore 1 minute adding lazy join backref securitygrouprule model make faster list 15 changeid i648a48cdefe0faf75c0c62bd8adffc12547293be closesbug 1426383
https://review.opendev.org/157162,Adding clarification to Networking's security guide references.,Adding clarification to Networking's security guide references Change-Id: I9e867ce469034bba40d812dcbd0a2190efa75c40 Closes-Bug: #1419490,12325,Nathaniel Dillon,"[3, 2807, 6547, 7063, 7923, 12402]","['Jenkins', 'Bryan D. Payne', 'Andreas Jaeger', 'Robert Clark', 'Gauvain Pocentek', 'Robb Romans']",adding clarification networkings security guide references changeid i9e867ce469034bba40d812dcbd0a2190efa75c40 closesbug 1419490
https://review.opendev.org/157868,Adding Networks Security Groups Test Fixture,Adding Networks Security Groups Test Fixture - Adding NetworkingSecurityGroupsFixture at networking.networks.fixtures - Minor updates on getting user and secondary user data Change-Id: I349938312f125912e4e5bbe964ad02278c129443,8357,Leonardo Maycotte,"[3, 97, 1980, 7207, 8357, 8969]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Carlos Martinez', 'Leonardo Maycotte', 'Christopher Hunt']",adding networks security groups test fixture adding networkingsecuritygroupsfixture networkingnetworksfixtures minor updates getting user secondary user data changeid i349938312f125912e4e5bbe964ad02278c129443
https://review.opendev.org/159445,Apply security update of Entity module,Apply security update of Entity module Upgrade from 1.5 to 1.6. See SA-CONTRIB-2015-053 - Entity API - Cross Site Scripting (XSS) https://www.drupal.org/node/2437905 Change-Id: I4faeddd596642f3b82fcfcd67066f28adaf4d945,6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",apply security update entity module upgrade 15 16 see sacontrib2015053 entity api cross site scripting xss httpswwwdrupalorgnode2437905 changeid i4faeddd596642f3b82fcfcd67066f28adaf4d945
https://review.opendev.org/731028,Add security related podman options,Add security related podman options These options can be used instead of the --privileged option with some containerised services in TripleO. Change-Id: If1d97e5f1697fdc1d6a7b845cf116d54b1897245 (cherry picked from commit fbacb3752f94d1246377fee9ad918793f89b9271),3153,Emilien Macchi,"[3153, 9592, 14250, 22348, 23181]","['Emilien Macchi', 'wes hayutin', 'Grzegorz Grasza', 'Zuul', 'RDO Third Party CI']",add security related podman options options used instead privileged option containerised services tripleo changeid if1d97e5f1697fdc1d6a7b845cf116d54b1897245 cherry picked commit fbacb3752f94d1246377fee9ad918793f89b9271
https://review.opendev.org/156516,VMware: update the support matrix for security groups,VMware: update the support matrix for security groups Update the support matrix for the VMware driver. Security groups are supported when using the VMware NSX Neutron plugins. Change-Id: Id5ff4a6655551aed5db5e55c33caa9e9a113ce8f,1653,garyk,"[3, 1653, 1849, 2271, 5170, 8871, 9578, 10118, 10385, 11103]","['Jenkins', 'garyk', 'Joe Gordon', 'Michael Still', 'Microsoft Hyper-V CI', 'Elastic Recheck', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI']",vmware update support matrix security groups update support matrix vmware driver security groups supported using vmware nsx neutron plugins changeid id5ff4a6655551aed5db5e55c33caa9e9a113ce8f
https://review.opendev.org/148459,Fix 500 when deleting a not existing ec2 security group,Fix 500 when deleteing a not existing ec2 security group There are 2 reason for seeing 500 errors on not existing ec2 security group delete attempt: * Unexpected TypeError raised: expected string or buffer * Unexpected UnboundLocalError raised: local variable 'group' referenced before assignment Fix the problems by catching the TypeError and raising NotFound exception explicitly. Change-Id: Iab9a4f99b965dbdd3419ea7585e8a4988eb738ae Closes-bug: #1410172,4428,Liyingjun,"[3, 642, 679, 1653, 1779, 4428, 5170, 8871, 9550, 9578, 10118, 10385, 11103, 11224]","['Jenkins', 'Matt Dietz', 'Kevin L. Mitchell', 'garyk', 'Daniel Berrange', 'Liyingjun', 'Microsoft Hyper-V CI', 'Elastic Recheck', 'Eugeniya Kudryashova', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Intel PCI CI', 'Swami Reddy']",fix 500 deleteing existing ec2 security group 2 reason seeing 500 errors existing ec2 security group delete attempt unexpected typeerror raised expected string buffer unexpected unboundlocalerror raised local variable group referenced assignment fix problems catching typeerror raising notfound exception explicitly changeid iab9a4f99b965dbdd3419ea7585e8a4988eb738ae closesbug 1410172
https://review.opendev.org/157231,Fix security bug with host HTTP header field,"Fix security bug with host HTTP header field Previously a user could place any value the host header of their http request to Barbican POST. The result returned would have the right body, but the response location header was built using the provided (and possibly malicious) host value from the request header. Resolved this by ensuring that the location header in the response field matches the URL returned in the body. Also added functional tests to ensure that this exposure won't reappear. Change-Id: I49a9e44be68b20f7602cf58202dd8e522a0c25c3 Closes-Bug: 1421479",9234,Steve Heyman,"[3, 6783, 7262, 7789, 7973, 8004, 9914, 10873, 11970, 13510]","['Jenkins', 'Nathan Reller', 'John Vrbanac', 'John Wood', 'Douglas Mendizábal', 'Paul Kehrer', 'Ade Lee', 'Juan Antonio Osorio Robles', 'Chelsea Winfree', 'Thomas Dinkjian']",fix security bug host http header field previously user could place value host header http request barbican post result returned would right body response location header built using provided possibly malicious host value request header resolved ensuring location header response field matches url returned body also added functional tests ensure exposure wont reappear changeid i49a9e44be68b20f7602cf58202dd8e522a0c25c3 closesbug 1421479
https://review.opendev.org/151818,Adds Configure access and security for instances,Adds Configure access and security for instances Change-Id: Ia91e90726b552e7bb36ea3319cdf6ce349581f73,964,Anne Gentle,"[3, 964, 6547, 6772, 7923, 9162, 10607, 12402]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger', 'Stephen Gordon', 'Gauvain Pocentek', 'Lana Brindley', 'Alexandra Settle', 'Robb Romans']",adds configure access security instances changeid ia91e90726b552e7bb36ea3319cdf6ce349581f73
https://review.opendev.org/155963,Reworked filters section to highlight security details.,Reworked filters section to highlight security details. Specific Changes: * Touched up second paragraph to ensure focus is on security. * Removed summary of the small subset of filters. * Broke down current list into four main categories. * Described the behavior of those four categories. * Moved weights illustration down. * Listed possible specific issues with filter sets. Change-Id: I250762d73a2b7f4a84ad7f49da6b59d6f918d330 Closes-Bug: #1344291,12325,Nathaniel Dillon,"[3, 2807, 6547, 7063, 10670, 12325, 12442]","['Jenkins', 'Bryan D. Payne', 'Andreas Jaeger', 'Robert Clark', 'Michael McCune', 'Nathaniel Dillon', 'Shellee Aragon']",reworked filters section highlight security details specific changes touched second paragraph ensure focus security removed summary small subset filters broke current list four main categories described behavior four categories moved weights illustration listed possible specific issues filter sets changeid i250762d73a2b7f4a84ad7f49da6b59d6f918d330 closesbug 1344291
https://review.opendev.org/157630,Emphasize TLS over SSL in Security Guide,Emphasize TLS over SSL in Security Guide Change-Id: I7f83cbb67a6de5be18aa9893c8859ea9ad49c429 Closes-Bug: 1423641,10497,KATO Tomoyuki,"[3, 2807, 6547, 7063, 10670]","['Jenkins', 'Bryan D. Payne', 'Andreas Jaeger', 'Robert Clark', 'Michael McCune']",emphasize tls ssl security guide changeid i7f83cbb67a6de5be18aa9893c8859ea9ad49c429 closesbug 1423641
https://review.opendev.org/157433,Fix security group setup when users_per_tenant is > 1,"Fix security group setup when users_per_tenant is > 1 If there is more than one user per tenant, utils.iterate_per_tenants() will handle only one user per tenant, leaving the others without their secgroup context being setup. So instead we have to iterate over all users. Change-Id: Iea8624b272e422575cb7d297d4ff440f64a7b679 Closes-Bug: 1423607",13252,Dr. Jens Harbott,"[3, 6172, 8507, 10475, 13252, 13609, 14817]","['Jenkins', 'Boris Pavlovic', 'Mikhail Dubov', 'Alexander Maretskiy', 'Dr. Jens Harbott', 'Pavel Boldin', 'Mirantis Rally CI']",fix security group setup userspertenant 1 one user per tenant utilsiteratepertenants handle one user per tenant leaving others without secgroup context setup instead iterate users changeid iea8624b272e422575cb7d297d4ff440f64a7b679 closesbug 1423607
https://review.opendev.org/157072,Introducing security group container,"Introducing security group container This change adds an NSXv security-group that contains all NSXv security-groups created in Neutron, the security-group container will aid with applying firewall rules to all Neutron security-groups, such as the ""Block All"" rule. Change-Id: Ib83685f7db55cfa369a9144fcca831a3552725d9 Signed-off-by: Roey Chen <roeyc@vmware.com>",9423,Roey Chen,"[3, 1653, 9423]","['Jenkins', 'garyk', 'Roey Chen']",introducing security group container change adds nsxv securitygroup contains nsxv securitygroups created neutron securitygroup container aid applying firewall rules neutron securitygroups block rule changeid ib83685f7db55cfa369a9144fcca831a3552725d9 signedoffby roey chen roeycvmwarecom
https://review.opendev.org/157374,Lock for security group vnic update,Lock for security group vnic update Change-Id: I6ab101aa002b4b41e0da12151ac28889aacd6505,13438,Kobi Samoray,"[3, 1653]","['Jenkins', 'garyk']",lock security group vnic update changeid i6ab101aa002b4b41e0da12151ac28889aacd6505
https://review.opendev.org/157071,Adding Port Security support,Adding Port Security support This change implements Neutron Port-Security extension. The implementation integrates between Neutron NSX-V plugin and the SpoofGuard component of NSX-V Change-Id: I9422a56426c7151fd688a536b7475d7b6f3835b4 Signed-off-by: Roey Chen <roeyc@vmware.com>,9423,Roey Chen,"[3, 1653, 9423]","['Jenkins', 'garyk', 'Roey Chen']",adding port security support change implements neutron portsecurity extension implementation integrates neutron nsxv plugin spoofguard component nsxv changeid i9422a56426c7151fd688a536b7475d7b6f3835b4 signedoffby roey chen roeycvmwarecom
https://review.opendev.org/140295,Test multiple security groups association for a vm,"Test multiple security groups association for a vm -check the vm connectivity fails as there is no icmp rule -create an icmp security group rule -attach it to the already existing security group ""def_sg"" -Now acces Vm will consists of two security groups that is acces_sg(with ssh rule) and def_sg(with icmp rule) -check tenant vm connectivity based on the rule associated.(both ssh and ping) Change-Id: I8e806056bc6197a3189e827c0b182b7c4bdbdf41",12714,Preethi Dsilva,"[3, 1192, 1921, 5803, 6983, 7249, 7350, 10385, 11671, 12714]","['Jenkins', 'David Kranz', 'Andrea Frittoli', 'Attila Fazekas', 'YangLei', 'Ann Taraday', 'Jordan Pittier', 'Citrix XenServer CI', 'Ashish Kumar Gupta', 'Preethi Dsilva']",test multiple security groups association vm check vm connectivity fails icmp rule create icmp security group rule attach already existing security group defsg acces vm consists two security groups accessgwith ssh rule defsgwith icmp rule check tenant vm connectivity based rule associatedboth ssh ping changeid i8e806056bc6197a3189e827c0b182b7c4bdbdf41
https://review.opendev.org/150826,Hyper-V: Fixes security groups issue,"Hyper-V: Fixes security groups issue After this patch If19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroups_rpc, prepare_devices_filter attempts to use methods unimplemented by the HyperV security groups driver. For this reason, binding ports fails with NotImplementedError if security groups are enabled. Until the HyperV security groups driver reaches parity, the _use_enhanced_rpc flag should be set to False on the HyperVSecurityAgent, falling back to the old behaviour. Change-Id: I1a7ee2b92367d2d59932b8b39372a055bf19951b Closes-Bug: #1415523",8543,Lucian Petrut,"[3, 704, 1653, 3185, 5170, 7718, 8213, 8543, 8645, 9361, 9681, 9682, 9732, 9845, 10116, 10117, 10121, 10153, 10184, 10387, 12040, 12604, 14208, 14212, 14213, 14214, 14571, 14956]","['Jenkins', 'Edgar Magana', 'garyk', 'Alessandro Pilotti', 'Microsoft Hyper-V CI', 'Ashok kumaran B', 'Claudiu Belu', 'Lucian Petrut', 'Trinath Somanchi', 'Vivekanandan Narasimhan', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Arista CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Freescale CI', 'A10 Networks CI', 'Adelina Tuvenie', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco N1kv CI', 'Cisco APIC CI', 'Intel Experimental CI', 'Intel SR-IOV CI']",hyperv fixes security groups issue patch if19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroupsrpc preparedevicesfilter attempts use methods unimplemented hyperv security groups driver reason binding ports fails notimplementederror security groups enabled hyperv security groups driver reaches parity useenhancedrpc flag set false hypervsecurityagent falling back old behaviour changeid i1a7ee2b92367d2d59932b8b39372a055bf19951b closesbug 1415523
https://review.opendev.org/155739,Apply security update of views module,Apply security update of views module Views module update from 3.8 to 3.10. SA-CONTRIB-2015-039 - Views - Multiple vulnerabilities https://www.drupal.org/node/2424403 Change-Id: Ib600e991705db18ad7f9dee8fca44282b36923b9,6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",apply security update views module views module update 38 310 sacontrib2015039 views multiple vulnerabilities httpswwwdrupalorgnode2424403 changeid ib600e991705db18ad7f9dee8fca44282b36923b9
https://review.opendev.org/155509,Updating security groups models,Updating security groups models - Updating security groups models to handle rules as a list of uuids or dicts Change-Id: I658f2e30fac6aa821bb20a0e5f3dbaafa4a72b35,8357,Leonardo Maycotte,"[3, 7207, 8969]","['Jenkins', 'Carlos Martinez', 'Christopher Hunt']",updating security groups models updating security groups models handle rules list uuids dicts changeid i658f2e30fac6aa821bb20a0e5f3dbaafa4a72b35
https://review.opendev.org/154576,Fix IPv6 RA security group rule for DVR,"Fix IPv6 RA security group rule for DVR Current IPv6 RA security group rule doesn't work for DVR because the code only allows RA from device_owner is network:router_interface. When DVR is enabled, the router interface is network:router_interface_distributed. This fix fixes the RA rule to allow RA from DVR router interface, so router advertisement from DVR RADVD can pass to VM. Co-Authored-By: Baodong (Robert) Li <baoli@cisco.com> Change-Id: Idd1324c653dcb15f5dacf2d897a7048bca22fc38 Partial-Bug: 1376325 Cherry-Picked-From: deffbbfdfef57f740006215674a7aa54a5a1f5cc",7448,Carl Baldwin,"[3, 748, 1131, 1653, 2592, 5170, 7183, 7448, 9656, 9681, 9732, 9787, 10153, 10387, 12040, 14208, 14213, 14571]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'garyk', 'Mark McClain', 'Microsoft Hyper-V CI', 'Xu Han Peng', 'Carl Baldwin', 'Ihar Hrachyshka', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'One Convergence CI', 'Freescale CI', 'A10 Networks CI', 'Cisco CI', 'Cisco N1kv CI', 'Intel Experimental CI']",fix ipv6 ra security group rule dvr current ipv6 ra security group rule doesnt work dvr code allows ra deviceowner networkrouterinterface dvr enabled router interface networkrouterinterfacedistributed fix fixes ra rule allow ra dvr router interface router advertisement dvr radvd pass vm coauthoredby baodong robert li baoliciscocom changeid idd1324c653dcb15f5dacf2d897a7048bca22fc38 partialbug 1376325 cherrypickedfrom deffbbfdfef57f740006215674a7aa54a5a1f5cc
https://review.opendev.org/153952,added filter for keypair and security and access tables,added filter for keypair and security and access tables client side filter is missing in keypair table and security and access table. this patch adding the client side filter on both of the above mentioned tables. Change-Id: I71a89fb7e1763eb1a6f242ae6d007d55afe51a68 Closes-Bug: #1419649,10442,Masco Kaliyamoorthy,"[3, 1941, 2455, 5623, 9317, 12355]","['Jenkins', 'Lin Hua Cheng', 'Tihomir Trifonov', 'David Lyle', 'Ana Krivokapic', 'Vlad Okhrimenko']",added filter keypair security access tables client side filter missing keypair table security access table patch adding client side filter mentioned tables changeid i71a89fb7e1763eb1a6f242ae6d007d55afe51a68 closesbug 1419649
https://review.opendev.org/154121,Networking services in OpenStack Security Guide - Remove comma,Networking services in OpenStack Security Guide - Remove comma Removed extra comma from the networking security guide. Change-Id: I4217ceca2b521030b1efa0b8d69883bc9933097e Closes-Bug: 1419479,107,Arvind Somya,"[3, 964, 2807, 6547, 10670, 12325]","['Jenkins', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger', 'Michael McCune', 'Nathaniel Dillon']",networking services openstack security guide remove comma removed extra comma networking security guide changeid i4217ceca2b521030b1efa0b8d69883bc9933097e closesbug 1419479
https://review.opendev.org/154126,Networking services in OpenStack Security Guide remove comma in LBaaS section,Networking services in OpenStack Security Guide remove comma in LBaaS section Removed extra comma in the LBaaS section of the networking security guide. Change-Id: Id35b029315fc1239c0dc16cc9af4a25ad7155ac5 Closes-Bug: 1419494,107,Arvind Somya,"[3, 964, 2807, 6547, 10670]","['Jenkins', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger', 'Michael McCune']",networking services openstack security guide remove comma lbaas section removed extra comma lbaas section networking security guide changeid id35b029315fc1239c0dc16cc9af4a25ad7155ac5 closesbug 1419494
https://review.opendev.org/154087,Fixed 'default' security group name translation for network interfaces.,Fixed 'default' security group name translation for network interfaces. Change-Id: I7de349df154d7bd185d672de33a27bb807c0981c,9312,Alexandre Levine,"[3, 10224, 10234]","['Jenkins', 'Feodor Tersin', 'Andrey Pavlov']",fixed default security group name translation network interfaces changeid i7de349df154d7bd185d672de33a27bb807c0981c
https://review.opendev.org/154025,Adapted default security group to work for Kilo.,"Adapted default security group to work for Kilo. Kilo forbids additional security groups to be created with the name Default. Now we use vpc ID for names of VPC default security groups in OpenStack but they are converted into EC2 compatible ""default"" when reported back to EC2 API client. Change-Id: I9b1cc8551f3e6d55fab9132934f59bb1bd16a006",9312,Alexandre Levine,"[3, 10224, 10234]","['Jenkins', 'Feodor Tersin', 'Andrey Pavlov']",adapted default security group work kilo kilo forbids additional security groups created name default use vpc id names vpc default security groups openstack converted ec2 compatible default reported back ec2 api client changeid i9b1cc8551f3e6d55fab9132934f59bb1bd16a006
https://review.opendev.org/730348,Add security related podman options,Add security related podman options These options can be used instead of the --privileged option with some containerised services in TripleO. Change-Id: If1d97e5f1697fdc1d6a7b845cf116d54b1897245,14250,Grzegorz Grasza,"[3153, 7353, 22348, 23181]","['Emilien Macchi', 'Kevin Carter', 'Zuul', 'RDO Third Party CI']",add security related podman options options used instead privileged option containerised services tripleo changeid if1d97e5f1697fdc1d6a7b845cf116d54b1897245
https://review.opendev.org/730658,Add security related podman options,Add security related podman options These options can be used instead of the --privileged option with some containerised services in TripleO. Change-Id: If1d97e5f1697fdc1d6a7b845cf116d54b1897245 (cherry picked from commit fbacb3752f94d1246377fee9ad918793f89b9271),3153,Emilien Macchi,"[14250, 14985, 22348, 23181]","['Grzegorz Grasza', 'Alex Schultz', 'Zuul', 'RDO Third Party CI']",add security related podman options options used instead privileged option containerised services tripleo changeid if1d97e5f1697fdc1d6a7b845cf116d54b1897245 cherry picked commit fbacb3752f94d1246377fee9ad918793f89b9271
https://review.opendev.org/131168,"Update lock for dashboard, OpenStack security note OSSN-0039","Update lock for dashboard, OpenStack security note OSSN-0039 Change-Id: I30d6954067a07ddc9b9e689262fe05ad61145a07 Related-Bug: #1384438",7128,Mark Vanderwiel,"[3, 7128, 9488, 11915, 12323]","['Jenkins', 'Mark Vanderwiel', 'Chen Zhiwei', 'Jan Klare', 'JJ Asghar']",update lock dashboard openstack security note ossn0039 changeid i30d6954067a07ddc9b9e689262fe05ad61145a07 relatedbug 1384438
https://review.opendev.org/151983,Fix typos in security group scenario test,Fix typos in security group scenario test Change-Id: Ie3f35108439cb0c7294415b4f9dcc4738e9a9fed,6484,Feilong Wang,"[3, 1921, 6167, 7634, 10385]","['Jenkins', 'Andrea Frittoli', ""Ken'ichi Ohmichi"", 'Takashi Natsume', 'Citrix XenServer CI']",fix typos security group scenario test changeid ie3f35108439cb0c7294415b4f9dcc4738e9a9fed
https://review.opendev.org/140485,[Sahara] Moved security options to separate tab of ng template,[Sahara] Moved security options to separate tab of ng template Create Nodegroup template page is overloaded. Moved security options to a separate tab to make it more structured. Change-Id: I92e46ff14fcb919c072c3d3b2239076e7038164c Closes-Bug: #1400869,8411,Andrew Lazarev,"[3, 1941, 2455, 5623, 7132, 8090, 8411]","['Jenkins', 'Lin Hua Cheng', 'Tihomir Trifonov', 'David Lyle', 'Nikita Konovalov', 'Chad Roberts', 'Andrew Lazarev']",sahara moved security options separate tab ng template create nodegroup template page overloaded moved security options separate tab make structured changeid i92e46ff14fcb919c072c3d3b2239076e7038164c closesbug 1400869
https://review.opendev.org/140518,[Sahara] Added links to security groups,[Sahara] Added links to security groups Change-Id: Icbea013bd4b035f2049b16d9589f84b7854210ae Closes-Bug: #1400889,8411,Andrew Lazarev,"[3, 2455, 5623, 6786, 7244, 7634, 8090, 8411, 9622, 12825, 14223]","['Jenkins', 'Tihomir Trifonov', 'David Lyle', 'Sergey Lukjanov', 'Victor Howard', 'Takashi Natsume', 'Chad Roberts', 'Andrew Lazarev', 'Cindy Lu', 'Szymon Wróblewski', 'Brian Fischer']",sahara added links security groups changeid icbea013bd4b035f2049b16d9589f84b7854210ae closesbug 1400889
https://review.opendev.org/150104,Add a note on ipset usage in security groups to Config Reference,Add a note on ipset usage in security groups to Config Reference Added a note describing the benefits of ipsets using for security groups introduced in L2 agent. Change-Id: Ia411197b9c9b686dcbee17846f759e159eab31bd Partial-Bug: #1369068,14396,Alexander Adamov,"[3, 167, 612, 964, 6772, 14396]","['Jenkins', 'Christian Berendt', 'Tom Fifield', 'Anne Gentle', 'Stephen Gordon', 'Alexander Adamov']",add note ipset usage security groups config reference added note describing benefits ipsets using security groups introduced l2 agent changeid ia411197b9c9b686dcbee17846f759e159eab31bd partialbug 1369068
https://review.opendev.org/142101,Default security group table,WIP: Default security group table Discussion in comments to https://review.openstack.org/135006 Change-Id: Ifa8fbddd22bce4c50836cf443ebe10dff37443ef,7249,Ann Taraday,"[3, 7, 261, 841, 1653, 2035, 2592, 4393, 4395, 4656, 5170, 6072, 6524, 7249, 7715, 7962, 8655, 8788, 8873, 9008, 9656, 9681, 9682, 9732, 9787, 9845, 9846, 9925, 10116, 10121, 10153, 10184, 10386, 10387, 10692, 11816, 12040, 13051, 14208, 14212, 14214]","['Jenkins', 'Jay Pipes', 'Salvatore Orlando', 'Akihiro Motoki', 'garyk', 'Maru Newby', 'Mark McClain', 'Dan Smith', 'Aaron Rosen', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Eugene Nikanorov', 'Henry Gessau', 'Ann Taraday', 'Hirofumi Ichihara', 'Ronak Shah', 'Jakub Libosvar', 'Miguel Angel Ajo', 'Assaf Muller', 'VMware NSX CI', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'Midokura CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Freescale CI', 'Brocade Vyatta CI', 'mike_mp@zzzcomputing.com', 'A10 Networks CI', 'Brocade LBaaS CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",wip default security group table discussion comments httpsreviewopenstackorg135006 changeid ifa8fbddd22bce4c50836cf443ebe10dff37443ef
https://review.opendev.org/148429,Disable security group for some neutron driver,"Disable security group for some neutron driver Some driver may not support security groups, in which case the driver may return 500 and causes a failure in Rally. This commit checks whether the driver supports secgroup when neutron networking is enabled when neutron driver reports its extensions correctly, or the user may set allow_secgroup to false in the context setting to disable secgroup. Change-Id: Id310af070d09bdf21ecb865be11a55b65f0d3837",13158,Zhongcheng Lao,"[3, 6172, 7369, 8576, 9601, 10475, 13158, 14135]","['Jenkins', 'Boris Pavlovic', 'Sergey Skripnick', 'Yair Fried', 'Oleh Anufriiev', 'Alexander Maretskiy', 'Zhongcheng Lao', 'Mirantis Rally CI']",disable security group neutron driver driver may support security groups case driver may return 500 causes failure rally commit checks whether driver supports secgroup neutron networking enabled neutron driver reports extensions correctly user may set allowsecgroup false context setting disable secgroup changeid id310af070d09bdf21ecb865be11a55b65f0d3837
https://review.opendev.org/149833,Fix a race condition adding a security group rule,"Fix a race condition adding a security group rule setup_port_filters() needs to grab self.devices_to_refilter before it calls prepare_devices_filter(), else it could skip processing a device if an RPC arrives while it's processing new devices. That device will now be handled the next time it's called. Bug introduced in commit 3046c4ae22b1 (Cherry-picked from ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17) Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 Closes-Bug: 1393925 (cherry picked from commit b29760462ed2c4465e1e46f617b0d36f5dacb66f)",6484,Feilong Wang,"[3, 704, 1131, 2592, 5170, 6484, 9656, 9682, 9732, 9787, 10153, 10387, 10692, 12040, 14208, 14212, 14214]","['Jenkins', 'Edgar Magana', 'Brian Haley', 'Mark McClain', 'Microsoft Hyper-V CI', 'Feilong Wang', 'Ihar Hrachyshka', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'One Convergence CI', 'Freescale CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",fix race condition adding security group rule setupportfilters needs grab selfdevicestorefilter calls preparedevicesfilter else could skip processing device rpc arrives processing new devices device handled next time called bug introduced commit 3046c4ae22b1 cherrypicked ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17 changeid ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 closesbug 1393925 cherry picked commit b29760462ed2c4465e1e46f617b0d36f5dacb66f
https://review.opendev.org/147733,Adds a method to get security group,Adds a method to get security group Adds a method to get security group by name or id Change-Id: Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e,1420,Adam Gandelman,"[1, 2, 3]","['James E. Blair', 'Monty Taylor', 'Jenkins']",adds method get security group adds method get security group name id changeid ifaecf75490f45e636f00b4e7b1c02fb6af09e50e
https://review.opendev.org/142194,Fix a race condition adding a security group rule,"Fix a race condition adding a security group rule setup_port_filters() needs to grab self.devices_to_refilter before it calls prepare_devices_filter(), else it could skip processing a device if an RPC arrives while it's processing new devices. That device will now be handled the next time it's called. Bug introduced in commit 3046c4ae22b1 (Cherry-picked from ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17) Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 Closes-Bug: 1393925",6876,stephen-ma,"[3, 105, 1131, 5170, 6876, 7448, 8213, 8646, 9656, 9681, 9682, 9732, 9787, 10153, 10692, 12040, 14208, 14212, 14214]","['Jenkins', 'Kyle Mestery', 'Brian Haley', 'Microsoft Hyper-V CI', 'stephen-ma', 'Carl Baldwin', 'Claudiu Belu', 'yangxurong', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'One Convergence CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",fix race condition adding security group rule setupportfilters needs grab selfdevicestorefilter calls preparedevicesfilter else could skip processing device rpc arrives processing new devices device handled next time called bug introduced commit 3046c4ae22b1 cherrypicked ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17 changeid ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 closesbug 1393925
https://review.opendev.org/148589,Added validation for security groups except for IP permissions.,Added validation for security groups except for IP permissions. Change-Id: Ie0135cc3e63c0faa7c4a9bfe84cf3469f2985e1a,9312,Alexandre Levine,"[3, 9312, 10224, 10234]","['Jenkins', 'Alexandre Levine', 'Feodor Tersin', 'Andrey Pavlov']",added validation security groups except ip permissions changeid ie0135cc3e63c0faa7c4a9bfe84cf3469f2985e1a
https://review.opendev.org/148116,Enable auto security group when Bug 1392738 is fixed,Enable auto security group when Bug 1392738 is fixed Enable auto security group in the test_hdp2_gating.py in the integration test Change-Id: Iad92e90524c5394ab0915f7b8e840c7d3879af82 Closes-bug: #1412203,9740,lu huichun,"[3, 6786, 7213, 10670, 12038]","['Jenkins', 'Sergey Lukjanov', 'Sahara Hadoop Cluster CI', 'Michael McCune', 'Vitaly Gridnev']",enable auto security group bug 1392738 fixed enable auto security group testhdp2gatingpy integration test changeid iad92e90524c5394ab0915f7b8e840c7d3879af82 closesbug 1412203
https://review.opendev.org/148222,Add redirect to Security Guide webpage,Add redirect to Security Guide webpage Change-Id: Id4a626e9fb8cdb02fe5a5fdfa962f2f2011030fb Related: https://review.openstack.org/142425/,10497,KATO Tomoyuki,"[3, 964, 6547]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger']",add redirect security guide webpage changeid id4a626e9fb8cdb02fe5a5fdfa962f2f2011030fb related httpsreviewopenstackorg142425
https://review.opendev.org/147085,Fix topic for provider security group update,"Fix topic for provider security group update Commit 8098b6bd20bb12520e438ef9125dc7b96664f712 accidentally changed the topic for the provider security group update to a regular member update. This resulted in the L2 agent not asking for the latest security group rules after a DHCP port was created. If a regular compute port was brought online and wired up by the L2 agent before the DHCP port was created, the VM would never get its allow rule to communicate with the DHCP server. Co-bug-squasher: Armando Closes-Bug: #1403291 Change-Id: I382f2e1390c9a3ff558e152eeb76f0f827266cb4",7787,Kevin Benton,"[3, 748, 1131, 5170, 5948, 6072, 6502, 7249, 7787, 8655, 9656, 9681, 9682, 9732, 9787, 9845, 9925, 10116, 10121, 10153, 10184, 10387, 10692, 10980, 12040]","['Jenkins', 'Armando Migliaccio', 'Brian Haley', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Eugene Nikanorov', 'Andrey Epifanov', 'Ann Taraday', 'Kevin Benton', 'Jakub Libosvar', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Freescale CI', 'Brocade Vyatta CI', 'Doug Wiegley', 'A10 Networks CI']",fix topic provider security group update commit 8098b6bd20bb12520e438ef9125dc7b96664f712 accidentally changed topic provider security group update regular member update resulted l2 agent asking latest security group rules dhcp port created regular compute port brought online wired l2 agent dhcp port created vm would never get allow rule communicate dhcp server cobugsquasher armando closesbug 1403291 changeid i382f2e1390c9a3ff558e152eeb76f0f827266cb4
https://review.opendev.org/142414,Test port update with new security group,Test port update with new security group Verify the traffic on VM port with default security group Verify the traffic after updating port with new security group having appropriate rules Change-Id: I9c0f64c2083258573182ee5a7eab10d60aa3c65b,12626,Rajkumar,"[3, 1192, 5803, 7350, 8556, 10385, 10969, 12626]","['Jenkins', 'David Kranz', 'Attila Fazekas', 'Jordan Pittier', 'Ghanshyam', 'Citrix XenServer CI', 'Shnaidman Sagi (Sergey)', 'Rajkumar']",test port update new security group verify traffic vm port default security group verify traffic updating port new security group appropriate rules changeid i9c0f64c2083258573182ee5a7eab10d60aa3c65b
https://review.opendev.org/145046,NSX plugin security group rules summarization,NSX plugin security group rules summarization Summarize the security group rules before creating the rules in NSX controller. This fix removes duplicate and redundant rules to yield same or smaller set of rules that enforces the same security policies on the hypervisors and reduce the NSX control cluster memory consumption. Change-Id: I2f5d41aadf7cf0aa4d3d72bdbe0b659f24c4e921 Closes-Bug: 1376981,10461,Sudheendra Murthy,"[3, 261, 748, 4395, 9008, 10461, 11762]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'Aaron Rosen', 'VMware NSX CI', 'Sudheendra Murthy', 'Han Zhou']",nsx plugin security group rules summarization summarize security group rules creating rules nsx controller fix removes duplicate redundant rules yield smaller set rules enforces security policies hypervisors reduce nsx control cluster memory consumption changeid i2f5d41aadf7cf0aa4d3d72bdbe0b659f24c4e921 closesbug 1376981
https://review.opendev.org/138110,ubuntu: use security updates APT repository,ubuntu: use security updates APT repository Mirantis mirror has a separate APT repository with security updates instead of the common ${ubuntu_release}-updates component (which is assumed by apt and friends). Use that repository when building the ISO with USE_MIRROR=none Change-Id: Ib43c015ed953c80a73a8269168cc4d3f89b08e7a,13194,Alexei Sheplyakov,"[3, 3009, 8786, 8789, 8971, 9582, 11090, 13194]","['Jenkins', 'Vladimir Kozhukalov', 'Vladimir Kuklin', 'Dmitry Pyzhov', 'Fuel CI', 'Dmitry Burmistrov', 'Sergii Golovatiuk', 'Alexei Sheplyakov']",ubuntu use security updates apt repository mirantis mirror separate apt repository security updates instead common ubuntureleaseupdates component assumed apt friends use repository building iso usemirrornone changeid ib43c015ed953c80a73a8269168cc4d3f89b08e7a
https://review.opendev.org/143018,Confusing message deleting default security group,"Confusing message deleting default security group Trying to delete default security group from a non-admin user gives an error ""Removing default security group not allowed. (HTTP 400) (Request-ID: req-208b1911-99f6-411f-8429-e05051e71cba) "". But this messgae is not clear as the user does not get to know why is he not allowed to remove the defaulty security group. So updated the error message to give a more optimal message to the user. Closes-Bug: #1403747 Change-Id: I25744b854371208d68a5cbdcf83079db7c54f96f",12140,Abhishek Talwar,"[3, 105, 261, 642, 704, 2592, 4395, 4656, 5170, 6502, 7249, 7293, 7715, 7787, 8124, 8279, 9656, 9681, 9682, 9732, 9787, 9820, 9845, 10116, 10121, 10153, 10184, 12040, 12140, 14208, 14212, 14214]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Matt Dietz', 'Edgar Magana', 'Mark McClain', 'Aaron Rosen', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Andrey Epifanov', 'Ann Taraday', 'Elena Ezhova', 'Hirofumi Ichihara', 'Kevin Benton', 'cbrandily', 'Fawad Khaliq', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Liping Mao', 'Arista CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'A10 Networks CI', 'Abhishek Talwar', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",confusing message deleting default security group trying delete default security group nonadmin user gives error removing default security group allowed http 400 requestid req208b191199f6411f8429e05051e71cba messgae clear user get know allowed remove defaulty security group updated error message give optimal message user closesbug 1403747 changeid i25744b854371208d68a5cbdcf83079db7c54f96f
https://review.opendev.org/143754,Edited diagram in the Security Guide,Edited diagram in the Security Guide Changed networking project name from quantum to neutron the overview diagram Change-Id: I43a9ec20c94ee7316d1a7f3ed1eacc8872a7ed3b backport: none Closes-Bug: #1404447,10705,Darren Chan,"[3, 964, 2807, 6772, 10497]","['Jenkins', 'Anne Gentle', 'Bryan D. Payne', 'Stephen Gordon', 'KATO Tomoyuki']",edited diagram security guide changed networking project name quantum neutron overview diagram changeid i43a9ec20c94ee7316d1a7f3ed1eacc8872a7ed3b backport none closesbug 1404447
https://review.opendev.org/144885,Edits the security group JSON sample,Edits the security group JSON sample Change-Id: Idd4e22621e0be14e76f31d4bcab2d4d932821916 Closes-bug: 1393805,964,Anne Gentle,"[3, 612, 6547]","['Jenkins', 'Tom Fifield', 'Andreas Jaeger']",edits security group json sample changeid idd4e22621e0be14e76f31d4bcab2d4d932821916 closesbug 1393805
https://review.opendev.org/144538,Ensure subnet for port security group tests,"Ensure subnet for port security group tests This change simply adds a subnet to the networks in tests verifying creation or update of a port without a security group. This is being done because there are slight differences across neutron plugins logic for managing association between ports and security groups. For instance, the VMware NSX plugin which also implements the ""port security"" extension, requires an IP address on a port in order to associate it with the default security group. Adding a subnet to the network used in the test ensures the test exercises a use case which is common to all plugins. This patch simply adds the subnet to the network without changing the remaining logic of the modified tests. Change-Id: Ic1f725f5a307ac74acfb13b831db09025025ea2c",261,Salvatore Orlando,"[3, 1192, 1921, 10385]","['Jenkins', 'David Kranz', 'Andrea Frittoli', 'Citrix XenServer CI']",ensure subnet port security group tests change simply adds subnet networks tests verifying creation update port without security group done slight differences across neutron plugins logic managing association ports security groups instance vmware nsx plugin also implements port security extension requires ip address port order associate default security group adding subnet network used test ensures test exercises use case common plugins patch simply adds subnet network without changing remaining logic modified tests changeid ic1f725f5a307ac74acfb13b831db09025025ea2c
https://review.opendev.org/143751,VMware: fix security group check on port create,VMware: fix security group check on port create The code did not consider an empty list among the cases in which security groups are not supplied on port create. Change-Id: I325cce2165d2ec683ecac3cabdbfb80a03b288c9 Closes-Bug: #1405311,261,Salvatore Orlando,"[3, 704, 748, 1653, 4395, 5170, 9681, 9682, 9732, 9787, 9845, 10116, 10121, 10153, 10184, 12040, 12683, 14208, 14212, 14214]","['Jenkins', 'Edgar Magana', 'Armando Migliaccio', 'garyk', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'A10 Networks CI', 'KaiLin', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",vmware fix security group check port create code consider empty list among cases security groups supplied port create changeid i325cce2165d2ec683ecac3cabdbfb80a03b288c9 closesbug 1405311
https://review.opendev.org/143752,VMware: fix security group check on port create,VMware: fix security group check on port create The code did not consider an empty list among the cases in which security groups are not supplied on port create. Change-Id: I6e4ac3dee0d02c6c26977f8e2fee717587b8bfc5 Closes-Bug: #1405311,261,Salvatore Orlando,"[3, 1653, 9423, 13438]","['Jenkins', 'garyk', 'Roey Chen', 'Kobi Samoray']",vmware fix security group check port create code consider empty list among cases security groups supplied port create changeid i6e4ac3dee0d02c6c26977f8e2fee717587b8bfc5 closesbug 1405311
https://review.opendev.org/135282,Enable auto security group for vanilla integration tests,Enable auto security group for vanilla integration tests Auto security group enabled for the following tests: * vanilla v1 * vanilla v2 * vanilla v2 transient Change-Id: Ia5cd120331d663511242ce07131f3568fd423131,7710,Sergey Reshetnyak,"[3, 6786, 7125, 7132, 7213, 7555, 7710, 8090, 8411, 8871, 10670, 12038, 12039]","['Jenkins', 'Sergey Lukjanov', 'Alexander Ignatov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Matthew Farrellee', 'Sergey Reshetnyak', 'Chad Roberts', 'Andrew Lazarev', 'Elastic Recheck', 'Michael McCune', 'Vitaly Gridnev', 'Andrey Pavlov']",enable auto security group vanilla integration tests auto security group enabled following tests vanilla v1 vanilla v2 vanilla v2 transient changeid ia5cd120331d663511242ce07131f3568fd423131
https://review.opendev.org/136316,Test wrong IP version of prefix in security rule,Test wrong IP version of prefix in security rule Negative tests combines wrong sombination of ethertype and IP prefix arguments in security rule creating. Shall be BadRequest response and appropriate error message. Change-Id: Iefdc45555beb2ff0807925efc7fc992e30f14899,10969,Shnaidman Sagi (Sergey),"[3, 1192, 5803, 6167, 6524, 6685, 6983, 7249, 7350, 8576, 8767, 8871, 10257, 10385, 10969, 12632, 13753]","['Jenkins', 'David Kranz', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Henry Gessau', 'Baodong (Robert) Li', 'YangLei', 'Ann Taraday', 'Jordan Pittier', 'Yair Fried', 'Nikolay Fedotov', 'Elastic Recheck', 'Sridhar Gaddam', 'Citrix XenServer CI', 'Shnaidman Sagi (Sergey)', 'Kirill Shileev', 'Andrey Alekov']",test wrong ip version prefix security rule negative tests combines wrong sombination ethertype ip prefix arguments security rule creating shall badrequest response appropriate error message changeid iefdc45555beb2ff0807925efc7fc992e30f14899
https://review.opendev.org/143276,Added absent security groups unit tests and functionality,Added absent security groups unit tests and functionality Change-Id: I4004c9c1b68bee707122f45016d3a7dbb4a7beec,9312,Alexandre Levine,"[3, 9312, 10224, 10234]","['Jenkins', 'Alexandre Levine', 'Feodor Tersin', 'Andrey Pavlov']",added absent security groups unit tests functionality changeid i4004c9c1b68bee707122f45016d3a7dbb4a7beec
https://review.opendev.org/130956,Adds the security group id besides the name in Manage Rules,"Adds the security group id besides the name in Manage Rules This patch adds the security group id between parenthesis after the group name, on the ""Manage rules"" group details page. Change-Id: Ib11a8c67b59df57bdf6fa4263d89987e46343e50 Closes-bug: #1370854",11599,Nikunj Aggarwal,"[3, 841, 1941, 9317, 11599, 11997, 12355, 13785]","['Jenkins', 'Akihiro Motoki', 'Lin Hua Cheng', 'Ana Krivokapic', 'Nikunj Aggarwal', 'Lennart Regebro', 'Vlad Okhrimenko', 'Kelly Domico']",adds security group id besides name manage rules patch adds security group id parenthesis group name manage rules group details page changeid ib11a8c67b59df57bdf6fa4263d89987e46343e50 closesbug 1370854
https://review.opendev.org/142729,Use Network Context in security groups scenario,Use Network Context in security groups scenario This patch replaces code that creates networking resources in NovaSecGroup.boot_and_delete_server_with_secgroups with usage of our new Network Context. Change-Id: I9e63256d409978763ee3bb9bf0d896313ba6dec9,10475,Alexander Maretskiy,"[3, 4428, 6172, 7369, 8367, 14135]","['Jenkins', 'Liyingjun', 'Boris Pavlovic', 'Sergey Skripnick', 'Arx Cruz', 'Mirantis Rally CI']",use network context security groups scenario patch replaces code creates networking resources novasecgroupbootanddeleteserverwithsecgroups usage new network context changeid i9e63256d409978763ee3bb9bf0d896313ba6dec9
https://review.opendev.org/115908,Add Test to Create Port with no security groups,Add Test to Create Port with no security groups -Create a Port with no security groups -Validate length of security group list is zero in response Add Test to Update Port with no security groups -Update a Port with no security groups -Validate length of security group list is zero in response Change-Id: I965090417ef0719246cfdc2db6a9d33d4e78e326,12626,Rajkumar,"[3, 5196, 5803, 6167, 7249, 7350, 8556, 8767, 10385, 10969, 11670, 11671, 12393, 12626, 14103]","['Jenkins', 'Matthew Treinish', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Ann Taraday', 'Jordan Pittier', 'Ghanshyam', 'Nikolay Fedotov', 'Citrix XenServer CI', 'Shnaidman Sagi (Sergey)', 'Alok Kumar Maurya', 'Ashish Kumar Gupta', 'chandan kumar', 'Rajkumar', 'wangtianfa']",add test create port security groups create port security groups validate length security group list zero response add test update port security groups update port security groups validate length security group list zero response changeid i965090417ef0719246cfdc2db6a9d33d4e78e326
https://review.opendev.org/140230,Added volume deletion information to the Security guide,Added volume deletion information to the Security guide Added information about glance delay delete feature and the nova soft-delete feature in the data disposal section Change-Id: I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9 backport: none Closes-Bug: #1329605,10705,Darren Chan,"[3, 2807, 6547, 8590, 10705, 10897]","['Jenkins', 'Bryan D. Payne', 'Andreas Jaeger', 'Jeffrey Walton', 'Darren Chan', 'Joseph Robinson']",added volume deletion information security guide added information glance delay delete feature nova softdelete feature data disposal section changeid i88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9 backport none closesbug 1329605
https://review.opendev.org/138833,Adding recommendations for host based security controls,"Adding recommendations for host based security controls Added three paragraphs on firewalls, SELinux, and security group recommendations Change-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5 Closes-Bug: #1344342",12325,Nathaniel Dillon,"[3, 167, 964, 2807, 6486, 6547, 12325, 14046]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Bryan D. Payne', 'Brant Knudson', 'Andreas Jaeger', 'Nathaniel Dillon', 'Chris Cannon']",adding recommendations host based security controls added three paragraphs firewalls selinux security group recommendations changeid i298e7af74bd9201cba7ae92abdd2a3950bf708b5 closesbug 1344342
https://review.opendev.org/141297,Fix IPv6 RA security group rule for DVR,"Fix IPv6 RA security group rule for DVR Current IPv6 RA security group rule doesn't work for DVR because the code only allows RA from device_owner is network:router_interface. When DVR is enabled, the router interface is network:router_interface_distributed. This fix fixes the RA rule to allow RA from DVR router interface, so router advertisement from DVR RADVD can pass to VM. Co-Authored-By: Baodong (Robert) Li <baoli@cisco.com> Change-Id: Idd1324c653dcb15f5dacf2d897a7048bca22fc38 Partial-Bug: 1376325",7183,Xu Han Peng,"[3, 105, 748, 4656, 5170, 6524, 6685, 9681, 9682, 9732, 9787, 9845, 9846, 10116, 10117, 10121, 10153, 10184, 10386, 10692, 14208, 14212, 14214]","['Jenkins', 'Kyle Mestery', 'Armando Migliaccio', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Baodong (Robert) Li', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'OpenDaylight CI', 'Brocade Vyatta CI', 'Cisco CI', 'Cisco Tail-f CI', 'Cisco APIC CI']",fix ipv6 ra security group rule dvr current ipv6 ra security group rule doesnt work dvr code allows ra deviceowner networkrouterinterface dvr enabled router interface networkrouterinterfacedistributed fix fixes ra rule allow ra dvr router interface router advertisement dvr radvd pass vm coauthoredby baodong robert li baoliciscocom changeid idd1324c653dcb15f5dacf2d897a7048bca22fc38 partialbug 1376325
https://review.opendev.org/137201,Fixed auto security group for nova network,Fixed auto security group for nova network Replaced OS::Neutron::SecurityGroup with AWS::EC2::SecurityGroup. AWS::EC2::SecurityGroup supports both neutron and nova network. We don't use neutron-specific instructions. Change-Id: Id5159c54ad83fd86887f9b718b7545603467bb9a Closes-Bug: #1392738,8411,Andrew Lazarev,"[3, 6786, 7125, 7132, 7213, 7710, 7745, 8090, 8411, 8932, 9740, 10670, 12039, 13662]","['Jenkins', 'Sergey Lukjanov', 'Alexander Ignatov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Denis Egorenko', 'Chad Roberts', 'Andrew Lazarev', 'Telles Mota Vidal Nóbrega', 'lu huichun', 'Michael McCune', 'Andrey Pavlov', 'Ken Chen']",fixed auto security group nova network replaced osneutronsecuritygroup awsec2securitygroup awsec2securitygroup supports neutron nova network dont use neutronspecific instructions changeid id5159c54ad83fd86887f9b718b7545603467bb9a closesbug 1392738
https://review.opendev.org/141095,Adding security groups models and client,Adding security groups models and client - Adding security groups request and response json models - Adding security groups api client - Adding security groups models metatests - Updating test_network and test_port metatest considering a kwargs previous update Change-Id: Icb1a249ebb7c992c0595e4274defb8e3c46cd4e7,8357,Leonardo Maycotte,"[3, 97, 1980, 8357, 8969]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'Leonardo Maycotte', 'Christopher Hunt']",adding security groups models client adding security groups request response json models adding security groups api client adding security groups models metatests updating testnetwork testport metatest considering kwargs previous update changeid icb1a249ebb7c992c0595e4274defb8e3c46cd4e7
https://review.opendev.org/141309,"Apply security updates, core 7.34","Apply security updates, core 7.34 Applied module updates: - Drupal Core to 7.34 - addressfield_tokens 1.5 - google_analytics 2.1 Change-Id: I3815a49ba4fc6aaa7bc8b812939ac7395a79dec4",6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",apply security updates core 734 applied module updates drupal core 734 addressfieldtokens 15 googleanalytics 21 changeid i3815a49ba4fc6aaa7bc8b812939ac7395a79dec4
https://review.opendev.org/128263,[Data_processing] auto security group,[Data_processing] auto security group Set auto_security_group field checked by default. This change also sets the value for copy workflow. Change-Id: I2e8f716bb4733d5bd48100396a63b79b4fc6225a,7132,Nikita Konovalov,"[3, 841, 1816, 1941, 2455, 4264, 4978, 5623, 5733, 6610, 6786, 6914, 7132, 7213, 8090, 8648, 8871, 9622, 13325]","['Jenkins', 'Akihiro Motoki', 'Gabriel Hurley', 'Lin Hua Cheng', 'Tihomir Trifonov', 'Matthias Runge', 'Julie Pichon', 'David Lyle', 'Kieran Spear', 'Zhenguo Niu', 'Sergey Lukjanov', 'Tatiana Ovchinnikova', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Chad Roberts', 'Radomir Dopieralski', 'Elastic Recheck', 'Cindy Lu', 'Paul Karikh']",dataprocessing auto security group set autosecuritygroup field checked default change also sets value copy workflow changeid i2e8f716bb4733d5bd48100396a63b79b4fc6225a
https://review.opendev.org/139170,Adding security guidelines documentation spec,Adding security guidelines documentation spec Change-Id: I28414f7ad8cffb44af3c613406580d0c0988e25e Partial-Implements: bp security-guidelines-doc,10670,Michael McCune,"[3, 2807, 6786, 8411, 10670]","['Jenkins', 'Bryan D. Payne', 'Sergey Lukjanov', 'Andrew Lazarev', 'Michael McCune']",adding security guidelines documentation spec changeid i28414f7ad8cffb44af3c613406580d0c0988e25e partialimplements bp securityguidelinesdoc
https://review.opendev.org/132265,Fixing validation exception for valid security group,Fixing validation exception for valid security group Now casting the id of the allowed security group to a six.text_type() to avoid type mismatching when using ids. Change-Id: Iff2e442501d9c85c2b73c9a36114728830b04701 Closes-Bug: #1384743 (cherry picked from commit fc1b5c8463248b8d142f46f310afae0645312b62),7132,Nikita Konovalov,"[3, 979, 1420, 1955, 6786, 7125, 7213, 7555, 7710, 8090, 8411, 9382, 10670, 12038, 12039]","['Jenkins', 'Dave Walker', 'Adam Gandelman', 'Alan Pevec', 'Sergey Lukjanov', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Matthew Farrellee', 'Sergey Reshetnyak', 'Chad Roberts', 'Andrew Lazarev', 'Shilla Saebi', 'Michael McCune', 'Vitaly Gridnev', 'Andrey Pavlov']",fixing validation exception valid security group casting id allowed security group sixtexttype avoid type mismatching using ids changeid iff2e442501d9c85c2b73c9a36114728830b04701 closesbug 1384743 cherry picked commit fc1b5c8463248b8d142f46f310afae0645312b62
https://review.opendev.org/135549,Add hash to auto security group name for uniqueness,Add hash to auto security group name for uniqueness Node group id is unique enough to avoid duplicates. Change-Id: I24b003fea3d7b610c91a4bf9c3f887a7b61cedf5 Closes-Bug: #1383348 (cherry picked from commit 230f105a0e5cdc7e758edc07f0628f2d68feb7d0),7132,Nikita Konovalov,"[3, 979, 1955, 6786, 7132, 7213, 7710, 8411, 8871, 10670, 12038, 12039]","['Jenkins', 'Dave Walker', 'Alan Pevec', 'Sergey Lukjanov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Andrew Lazarev', 'Elastic Recheck', 'Michael McCune', 'Vitaly Gridnev', 'Andrey Pavlov']",add hash auto security group name uniqueness node group id unique enough avoid duplicates changeid i24b003fea3d7b610c91a4bf9c3f887a7b61cedf5 closesbug 1383348 cherry picked commit 230f105a0e5cdc7e758edc07f0628f2d68feb7d0
https://review.opendev.org/135552,Change description of default security group,"Default naming for security group confuse users The description for default security group in neutron is default. This confuses the end users, so updated the description from default to default security group. Closes-Bug: #1291570 Change-Id: I9e024de935e8d17afd3d459cfa17e9feb0cd79fa",12140,Abhishek Talwar,"[3, 105, 490, 704, 748, 1131, 1561, 1653, 4395, 5170, 7249, 7787, 8645, 8655, 9008, 9681, 9682, 9732, 9787, 9845, 9911, 10116, 10117, 10119, 10121, 10153, 10184, 10354, 10692, 10980, 11698, 12040, 12140, 13051]","['Jenkins', 'Kyle Mestery', 'Sumit Naiksatam', 'Edgar Magana', 'Armando Migliaccio', 'Brian Haley', 'Russell Bryant', 'garyk', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Ann Taraday', 'Kevin Benton', 'Trinath Somanchi', 'Jakub Libosvar', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Wei Wang', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Andrew Grimberg', 'Brocade Vyatta CI', 'Doug Wiegley', 'Lucas Eznarriaga', 'A10 Networks CI', 'Abhishek Talwar', 'Brocade LBaaS CI']",default naming security group confuse users description default security group neutron default confuses end users updated description default default security group closesbug 1291570 changeid i9e024de935e8d17afd3d459cfa17e9feb0cd79fa
https://review.opendev.org/136286,Add scenarios for security group,WIP: add scenario for security group Change-Id: If9b25260c8d57dc52d7fb64abbaac0601a0eb4ed,9545,Andrey Kurilin,"[3, 4428, 5950, 6172, 8507, 9545, 14135]","['Jenkins', 'Liyingjun', 'Ilya Shakhat', 'Boris Pavlovic', 'Mikhail Dubov', 'Andrey Kurilin', 'Mirantis Rally CI']",wip add scenario security group changeid if9b25260c8d57dc52d7fb64abbaac0601a0eb4ed
https://review.opendev.org/135051,Adding paragraph on updates to security instances section,Adding paragraph on updates to security instances section Added paragraph noting that instances will need to be updated separately from hypervisors Change-Id: If3f5cc82e45f312187c6c5a6d277f1be508348e3 Partial-Bug: #1344342,12325,Nathaniel Dillon,"[3, 167, 964, 2807, 6547, 6772, 7063, 8623, 12325, 12402]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger', 'Stephen Gordon', 'Robert Clark', 'Kaitlin Farr', 'Nathaniel Dillon', 'Robb Romans']",adding paragraph updates security instances section added paragraph noting instances need updated separately hypervisors changeid if3f5cc82e45f312187c6c5a6d277f1be508348e3 partialbug 1344342
https://review.opendev.org/136502,Fixing security issue for deleting alarms,"Fixing security issue for deleting alarms The delete, update and patch methods of the alarm service were not using the tenantId to query for metrics. This is a security bug because someone could potentially view or affect metrics that were not under their tenant_id. Change-Id: Ia7a721b8ed82463c55259d3527ebb587dfdd652a",12108,Gary Hessler,"[3, 2419, 11809, 12108, 12512]","['Jenkins', 'Roland Hochmuth', 'Craig Bryant', 'Gary Hessler', 'Deklan Dieterly']",fixing security issue deleting alarms delete update patch methods alarm service using tenantid query metrics security bug someone could potentially view affect metrics tenantid changeid ia7a721b8ed82463c55259d3527ebb587dfdd652a
https://review.opendev.org/137256,Minor edit to security rules in the User Guide,Minor edit to security rules in the User Guide Added a note about specifying protocol used with a port when adding a firewall rule. Change-Id: I25e5ee8ad22ca89c6629375ea7acd183b8d9451d backport: none Closes-Bug: #1373674,10705,Darren Chan,"[3, 6547, 7923]","['Jenkins', 'Andreas Jaeger', 'Gauvain Pocentek']",minor edit security rules user guide added note specifying protocol used port adding firewall rule changeid i25e5ee8ad22ca89c6629375ea7acd183b8d9451d backport none closesbug 1373674
https://review.opendev.org/130659,TLS Data Security Overview,"TLS Data Security Overview Here we define the overall strategy for dealing with secure TLS data in Octavia. There are several areas that need attention, and they are detailed in this spec. Barbican will be our default secure storage and certificate signing service, but the interfaces should remain generic. Change-Id: Icbbea8e37af0ce13fd959543403f2b01b8c7d17b Implements: blueprint tls-data-security",10273,Adam Harwell,"[3, 6951, 10273, 10980, 11255, 11302, 11685]","['Jenkins', 'Brandon Logan', 'Adam Harwell', 'Doug Wiegley', 'Dustin Lundquist', 'Phillip Toohill', 'Stephen Balukoff']",tls data security overview define overall strategy dealing secure tls data octavia several areas need attention detailed spec barbican default secure storage certificate signing service interfaces remain generic changeid icbbea8e37af0ce13fd959543403f2b01b8c7d17b implements blueprint tlsdatasecurity
https://review.opendev.org/131423,Fix security groups,Fix security groups Security groups are now hanlded correctly for both Nova Network and Neutron while using direct provisioning engine. Closes-Bug: #1381035 (cherry picked from commit b4d360895eeb445430f6857a979af1573ec93fe2) Conflicts: sahara/service/direct_engine.py Change-Id: Id144d6559c4fbdfede59777382d9903bd1bab0cf,7132,Nikita Konovalov,"[3, 979, 1420, 6786, 7125, 7213, 7710, 8090, 8091, 8411, 9382, 10670, 12038, 12039, 12561]","['Jenkins', 'Dave Walker', 'Adam Gandelman', 'Sergey Lukjanov', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Chad Roberts', 'Trevor McKay', 'Andrew Lazarev', 'Shilla Saebi', 'Michael McCune', 'Vitaly Gridnev', 'Andrey Pavlov', 'Adrien Vergé']",fix security groups security groups hanlded correctly nova network neutron using direct provisioning engine closesbug 1381035 cherry picked commit b4d360895eeb445430f6857a979af1573ec93fe2 conflicts saharaservicedirectenginepy changeid id144d6559c4fbdfede59777382d9903bd1bab0cf
https://review.opendev.org/124478,Batch ports from security groups RPC handler,"Batch ports from security groups RPC handler The security groups RPC handler calls get_port_from_device individually for each device in a list it receives. Each one of these results in a separate SQL query for the security groups and port details. This becomes very inefficient as the number of devices on a single node increases. This patch adds logic to the RPC handler to see if the core plugin has a method to lookup all of the device IDs at once. If so, it uses that method, otherwise it continues as normal. The ML2 plugin is modified to include the batch function, which uses two SQL queries regardless of the number of devices. One query is used to resolve the short port identifiers into real port IDs, and the other is to get the port info and security groups for all of those IDs. Closes-Bug: #1374556 Change-Id: I15d19c22e8c44577db190309b6636a3251a9c66a",7787,Kevin Benton,"[3, 261, 748, 1131, 5170, 5948, 5950, 6659, 6854, 7787, 7823, 8645, 8788, 8792, 8873, 8976, 9008, 9681, 9682, 9695, 9732, 9787, 9845, 9846, 9911, 10116, 10117, 10119, 10121, 10153, 10184, 10192, 10294, 10386, 10387, 10503, 10692, 11825, 12040, 13051]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'Brian Haley', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Ilya Shakhat', 'Paul Michali', 'YAMAMOTO Takashi', 'Kevin Benton', 'Xiang Hui', 'Trinath Somanchi', 'Miguel Angel Ajo', 'Manish Godara', 'Assaf Muller', 'shihanzhang', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'Tail-f NCS CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'Wei Wang', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'OpenDaylight CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI', 'Sudhakar Babu Gariganti', 'A10 Networks CI', 'Brocade LBaaS CI']",batch ports security groups rpc handler security groups rpc handler calls getportfromdevice individually device list receives one results separate sql query security groups port details becomes inefficient number devices single node increases patch adds logic rpc handler see core plugin method lookup device ids uses method otherwise continues normal ml2 plugin modified include batch function uses two sql queries regardless number devices one query used resolve short port identifiers real port ids get port info security groups ids closesbug 1374556 changeid i15d19c22e8c44577db190309b6636a3251a9c66a
https://review.opendev.org/134114,Updated sVirt diagram in the Security Guide,Updated sVirt diagram in the Security Guide Renamed the virtual machines in the diagram. Change-Id: Idceb5baffd3b65899b94af02cf09e17969b97737 backport: none Closes-Bug: #1374373,10705,Darren Chan,"[3, 612, 2807, 6547, 6772, 7063, 10497, 10705, 10897]","['Jenkins', 'Tom Fifield', 'Bryan D. Payne', 'Andreas Jaeger', 'Stephen Gordon', 'Robert Clark', 'KATO Tomoyuki', 'Darren Chan', 'Joseph Robinson']",updated svirt diagram security guide renamed virtual machines diagram changeid idceb5baffd3b65899b94af02cf09e17969b97737 backport none closesbug 1374373
https://review.opendev.org/135667,Fix a race condition adding a security group rule,"Fix a race condition adding a security group rule setup_port_filters() needs to grab self.devices_to_refilter before it calls prepare_devices_filter(), else it could skip processing a device if an RPC arrives while it's processing new devices. That device will now be handled the next time it's called. Bug introduced in commit 3046c4ae22b1 Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 Closes-Bug: 1393925",1131,Brian Haley,"[3, 261, 748, 1131, 5170, 6876, 7448, 7787, 9681, 9682, 9732, 9787, 9845, 9911, 10116, 10117, 10119, 10121, 10153, 10184, 12040, 12524]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'Brian Haley', 'Microsoft Hyper-V CI', 'stephen-ma', 'Carl Baldwin', 'Kevin Benton', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Wei Wang', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'A10 Networks CI', 'Zengfa Gao']",fix race condition adding security group rule setupportfilters needs grab selfdevicestorefilter calls preparedevicesfilter else could skip processing device rpc arrives processing new devices device handled next time called bug introduced commit 3046c4ae22b1 changeid ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 closesbug 1393925
https://review.opendev.org/133892,Remove native security group api class,"Remove native security group api class There are native security group api classes define in the v2 and v2.1 security_groups extension. Those classes in two extensions are same. So remove the duplicated code, move those exception raising into the base class. Change-Id: I5e62ec8236e9d0e9601be652df7b8abf1828fbad",5754,Alex Xu,"[3, 1653, 5170, 5292, 5754, 6167, 8556, 9008, 9578, 10118, 10385, 12175]","['Jenkins', 'garyk', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'Alex Xu', ""Ken'ichi Ohmichi"", 'Ghanshyam', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI', 'Eli Qiao']",remove native security group api class native security group api classes define v2 v21 securitygroups extension classes two extensions remove duplicated code move exception raising base class changeid i5e62ec8236e9d0e9601be652df7b8abf1828fbad
https://review.opendev.org/134345,Fixed auto security group cleanup in case of creation error,Fixed auto security group cleanup in case of creation error Change-Id: I4b025442ddc4d2433d4a537508d3b1d3b8e64592 Closes-Bug: #1391536,8411,Andrew Lazarev,"[3, 6786, 7125, 7213, 7710, 8411, 8932, 9382, 10670, 12038]","['Jenkins', 'Sergey Lukjanov', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Andrew Lazarev', 'Telles Mota Vidal Nóbrega', 'Shilla Saebi', 'Michael McCune', 'Vitaly Gridnev']",fixed auto security group cleanup case creation error changeid i4b025442ddc4d2433d4a537508d3b1d3b8e64592 closesbug 1391536
https://review.opendev.org/130888,Adding monitoring section to instance security overview,Adding monitoring section to instance security overview Added section recommending monitoring and reporting be configured. Change-Id: Ie71df156f7574b511d4d0e4cfdeb297ee0bf0d60 Partial-Bug: #1344342,12325,Nathaniel Dillon,"[3, 167, 964, 2807, 6547, 6772, 7063, 7923, 9098, 12325, 12402]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger', 'Stephen Gordon', 'Robert Clark', 'Gauvain Pocentek', 'Nathan Kinder', 'Nathaniel Dillon', 'Robb Romans']",adding monitoring section instance security overview added section recommending monitoring reporting configured changeid ie71df156f7574b511d4d0e4cfdeb297ee0bf0d60 partialbug 1344342
https://review.opendev.org/111876,Refactor security group rpc call,Refactor security group rpc call Refactor rpc call of 'security_group_rules_for_devices' to enhance the security group Change-Id: If19be8579ca734a899cdd673c919eee8165aaa0e Supports-blueprint: security-group-rules-for-devices-rpc-call-refactor DocImpact,8976,shihanzhang,"[3, 105, 261, 841, 2031, 2035, 2592, 5170, 5948, 6659, 6788, 7183, 7448, 7975, 7987, 8282, 8289, 8645, 8788, 8976, 9656, 9681, 9682, 9695, 9732, 9751, 9787, 9820, 9845, 9846, 9911, 9925, 10116, 10117, 10119, 10121, 10153, 10184, 10192, 10294, 10387, 10503, 10624, 10692, 12040, 12737, 13151, 13705]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Akihiro Motoki', 'Nachi Ueno', 'Maru Newby', 'Mark McClain', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Paul Michali', 'Rossella Sblendido', 'Xu Han Peng', 'Carl Baldwin', 'Pavel Kirpichyov', 'Ivar Lazzaro', 'Dong Liu', 'huangtianhua', 'Trinath Somanchi', 'Miguel Angel Ajo', 'shihanzhang', 'Ihar Hrachyshka', 'Ryu CI', 'OpenContrail CI', 'Tail-f NCS CI', 'Mellanox CI', 'IBM DB2 CI', 'Big Switch CI', 'Liping Mao', 'Arista CI', 'IBM SDN-VE CI', 'Wei Wang', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade ADX CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Jacek Swiderski', 'Alok Ranjan', 'Felipe Alfaro Solana']",refactor security group rpc call refactor rpc call securitygrouprulesfordevices enhance security group changeid if19be8579ca734a899cdd673c919eee8165aaa0e supportsblueprint securitygrouprulesfordevicesrpccallrefactor docimpact
https://review.opendev.org/123997,Improve performance of security group DB query,"Improve performance of security group DB queries The _select_ips_for_remote_group method was joining the IP allocation, port, allowed address pair, and security group tables together in a single query. Additionally, it was loading all of the port columns and using none of them. This resulted in a very expensive query with no benefit. This patch addresses that method by changing it into two queries. The first directly joins the security groups association table to the IP allocation table to get the IP addresses. The second directly joins the address pairs table to the security groups association table to get the IP addresses of the address pairs. In local testing of the method, this sped it up by an order of magnitude. This patch also eliminates several other unnecessary loads of data from the ports table in the same module. Closes-Bug: #1373851 Change-Id: I12899413004838d2d22b691f1e2f3b18f7ec2c27",7787,Kevin Benton,"[3, 704, 748, 1653, 5170, 6854, 7448, 7787, 8645, 8873, 9008, 9681, 9682, 9732, 9787, 9845, 9846, 9911, 10116, 10117, 10119, 10121, 10153, 10184, 10192, 10294, 10370, 10386, 10387, 10503, 10692, 12040, 12737]","['Jenkins', 'Edgar Magana', 'Armando Migliaccio', 'garyk', 'Microsoft Hyper-V CI', 'YAMAMOTO Takashi', 'Carl Baldwin', 'Kevin Benton', 'Trinath Somanchi', 'Assaf Muller', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'Wei Wang', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Romil Gupta', 'OpenDaylight CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Jacek Swiderski']",improve performance security group db queries selectipsforremotegroup method joining ip allocation port allowed address pair security group tables together single query additionally loading port columns using none resulted expensive query benefit patch addresses method changing two queries first directly joins security groups association table ip allocation table get ip addresses second directly joins address pairs table security groups association table get ip addresses address pairs local testing method sped order magnitude patch also eliminates several unnecessary loads data ports table module closesbug 1373851 changeid i12899413004838d2d22b691f1e2f3b18f7ec2c27
https://review.opendev.org/133202,Add a project for OpenStack Security Advisories,Add a project for OpenStack Security Advisories This project contains the metadata and tooling used to generate OSSA content for the security.openstack.org Web site. Change-Id: I8ea59acc9b10b972c1091f68ef56aff89a28d8da,5263,Jeremy Stanley,"[3, 308, 2750, 2807, 5263, 6547, 6609, 7063, 9311, 10824, 11809]","['Jenkins', 'Thierry Carrez', 'Sean Dague', 'Bryan D. Payne', 'Jeremy Stanley', 'Andreas Jaeger', 'Elizabeth K. Joseph', 'Robert Clark', 'Tristan Cacqueray', 'Abu Shohel Ahmed', 'Craig Bryant']",add project openstack security advisories project contains metadata tooling used generate ossa content securityopenstackorg web site changeid i8ea59acc9b10b972c1091f68ef56aff89a28d8da
https://review.opendev.org/132372,Batch ports from security groups RPC handler,"Batch ports from security groups RPC handler The security groups RPC handler calls get_port_from_device individually for each device in a list it receives. Each one of these results in a separate SQL query for the security groups and port details. This becomes very inefficient as the number of devices on a single node increases. This patch adds logic to the RPC handler to see if the core plugin has a method to lookup all of the device IDs at once. If so, it uses that method, otherwise it continues as normal. The ML2 plugin is modified to include the batch function, which uses one SQL query regardless of the number of devices. Closes-Bug: #1374556 Change-Id: I15d19c22e8c44577db190309b6636a3251a9c66a (cherry picked from commit abc16ebfcf8fd1fbdb4ef68590140d4d355b0a7c)",7787,Kevin Benton,"[3, 935, 979, 1420, 4395, 5170, 6854, 7787, 8645, 8873, 9656, 9695, 9732, 9787, 10119, 10153, 10192, 10692, 11367, 11825, 12040]","['Jenkins', 'James Page', 'Dave Walker', 'Adam Gandelman', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'YAMAMOTO Takashi', 'Kevin Benton', 'Trinath Somanchi', 'Assaf Muller', 'Ihar Hrachyshka', 'Tail-f NCS CI', 'Mellanox CI', 'Big Switch CI', 'vArmour CI', 'One Convergence CI', 'Cisco CI', 'Brocade Vyatta CI', 'keshava', 'Sudhakar Babu Gariganti', 'A10 Networks CI']",batch ports security groups rpc handler security groups rpc handler calls getportfromdevice individually device list receives one results separate sql query security groups port details becomes inefficient number devices single node increases patch adds logic rpc handler see core plugin method lookup device ids uses method otherwise continues normal ml2 plugin modified include batch function uses one sql query regardless number devices closesbug 1374556 changeid i15d19c22e8c44577db190309b6636a3251a9c66a cherry picked commit abc16ebfcf8fd1fbdb4ef68590140d4d355b0a7c
https://review.opendev.org/130105,Reduce security group db calls to neutron server,"Reduce security group db calls to neutron server Within ovs agent daemon loop, prepare_devices_filter will impose heavy workloads to neutron server in order to retrieve the security groups message to apply firewall rules. If agent is configured to use Noopfirewall driver or security groups are disabled, there is no need for loading the rules from server and refreshing the firewalls. This will reduce the number of db calls and improve performance for neutron server in this case. Change-Id: Id244aab3cac37fc6ed3dc05cbee91cdf9e34d9cc Closes-Bug: #1365806 (cherry picked from commit 524981cce05a9b365036c0a1e9810036936d3d5b)",1313,Yaguang Tang,"[3, 979, 1420, 4395, 5170, 7148, 7805, 9656, 9732, 9787, 9970, 10119, 10153, 10192, 10370, 10387, 10692, 12040]","['Jenkins', 'Dave Walker', 'Adam Gandelman', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Zhu Zhu', 'Li Ma', 'Ihar Hrachyshka', 'Mellanox CI', 'Big Switch CI', 'John Kasperski', 'vArmour CI', 'One Convergence CI', 'Cisco CI', 'Romil Gupta', 'Freescale CI', 'Brocade Vyatta CI', 'A10 Networks CI']",reduce security group db calls neutron server within ovs agent daemon loop preparedevicesfilter impose heavy workloads neutron server order retrieve security groups message apply firewall rules agent configured use noopfirewall driver security groups disabled need loading rules server refreshing firewalls reduce number db calls improve performance neutron server case changeid id244aab3cac37fc6ed3dc05cbee91cdf9e34d9cc closesbug 1365806 cherry picked commit 524981cce05a9b365036c0a1e9810036936d3d5b
https://review.opendev.org/130101,Improve performance of security group DB query,"Improve performance of security group DB query The _select_ips_for_remote_group method was joining the IP allocation, port, allowed address pair, and security group tables together in a single query. Additionally, it was loading all of the port columns and using none of them. This resulted in a very expensive query with no benefit. This patch eliminates the unnecessary use of the port table by joining the IP allocation table directly to the security groups and allowed address pairs tables. In local testing of the method, this sped it up by an order of magnitude. Closes-Bug: #1373851 Change-Id: I12899413004838d2d22b691f1e2f3b18f7ec2c27 (cherry picked from commit 04df85b6e5a098f8f55bb82f04d9769763beb487)",1313,Yaguang Tang,"[3, 935, 979, 1313, 1420, 4395, 5170, 6659, 7787, 8873, 9656, 9732, 9787, 10119, 10153, 10192, 10370, 10387, 10503, 10692, 12040]","['Jenkins', 'James Page', 'Dave Walker', 'Yaguang Tang', 'Adam Gandelman', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Paul Michali', 'Kevin Benton', 'Assaf Muller', 'Ihar Hrachyshka', 'Mellanox CI', 'Big Switch CI', 'vArmour CI', 'One Convergence CI', 'Cisco CI', 'Romil Gupta', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI', 'A10 Networks CI']",improve performance security group db query selectipsforremotegroup method joining ip allocation port allowed address pair security group tables together single query additionally loading port columns using none resulted expensive query benefit patch eliminates unnecessary use port table joining ip allocation table directly security groups allowed address pairs tables local testing method sped order magnitude closesbug 1373851 changeid i12899413004838d2d22b691f1e2f3b18f7ec2c27 cherry picked commit 04df85b6e5a098f8f55bb82f04d9769763beb487
https://review.opendev.org/133080,Add security arguments for command heat-keystone-setup-domain in the recipe,Add security attributes for command heat-keystone-setup-domain Recently commit https://review.openstack.org/#/c/131698/ have added some security related attributes. Add them to the cookbook. Change-Id: I0aa806874dabe040a395e96ecb2a6f62f658a6ec,7148,Zhu Zhu,"[3, 2340, 2589, 7128, 7148, 7404, 7930]","['Jenkins', 'Ionut Artarisi', 'Salman Baset', 'Mark Vanderwiel', 'Zhu Zhu', 'Ethan Lynn', 'jun xie']",add security attributes command heatkeystonesetupdomain recently commit httpsreviewopenstackorgc131698 added security related attributes add cookbook changeid i0aa806874dabe040a395e96ecb2a6f62f658a6ec
https://review.opendev.org/729024,Remove neglected security guide,Remove neglected security guide The Airship security guide was last updated in 2018 and has not been maintained. It's coverage is limited to Airship 1 and is vague. This change removes it. Change-Id: Ibb8a74f6a13d0e66dba92e45ff4891eb25327ce9 Signed-off-by: Drew Walters <andrew.walters@att.com>,28618,Drew Walters,"[7185, 7769, 21991, 22259, 22348, 22477, 23928, 28208, 28436, 28869, 29624]","['Dmitry Ukov', 'Pentheus', 'Kostyantyn Kalynovskyi', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Roman Gorshunov', 'Jerome Brette', 'Ian Howell', 'Alexander Hughes']",remove neglected security guide airship security guide last updated 2018 maintained coverage limited airship 1 vague change removes changeid ibb8a74f6a13d0e66dba92e45ff4891eb25327ce9 signedoffby drew walters andrewwaltersattcom
https://review.opendev.org/131264,Updating 'Entropy to Instances' section of the Security Guide,Updating 'Entropy to Instances' section of the Security Guide Formatted Entropy section and integrated Virtio RNG tool with current EGD section. Change-Id: I7cdc74a19d6f0ed54763c85936a4a686bb10928a Closes-Bug: #1348798,12325,Nathaniel Dillon,"[3, 167, 964, 2807, 6547]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger']",updating entropy instances section security guide formatted entropy section integrated virtio rng tool current egd section changeid i7cdc74a19d6f0ed54763c85936a4a686bb10928a closesbug 1348798
https://review.opendev.org/131496,Fix passing of security groups to Nova's create instances.,Fix passing of security groups to Nova's create instances. Change-Id: Idb23f6b939bd23eceb69eda4c7ab6090cfd996e0,10224,Feodor Tersin,"[3, 9312, 10234]","['Jenkins', 'Alexandre Levine', 'Andrey Pavlov']",fix passing security groups novas create instances changeid idb23f6b939bd23eceb69eda4c7ab6090cfd996e0
https://review.opendev.org/126958,Blueprint for Websockify security proxy framework,Blueprint for Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers. It also proposes a reference driver for that framework for TLS security. Spec for blueprint websocket-proxy-to-host-security Change-Id: I23c5a43788afcb705b0d879cf5df4b49f0aa7a67 Previously-approved: juno,7677,Solly Ross,"[3, 1297, 1779, 1849, 4625, 7677, 9060]","['Jenkins', 'Joshua Harlow', 'Daniel Berrange', 'Joe Gordon', 'Jonathan Proulx', 'Solly Ross', 'Mike Dorman']",blueprint websockify security proxy framework blueprint proposes generic framework supporting maninthemiddle authentication encryption websockify hypervisor graphics servers also proposes reference driver framework tls security spec blueprint websocketproxytohostsecurity changeid i23c5a43788afcb705b0d879cf5df4b49f0aa7a67 previouslyapproved juno
https://review.opendev.org/130412,Initial security group implementation using NoopFirewallDriver,"Initial security group implementation using NoopFirewallDriver Starting the scaffolding for adding security groups by enabling a way to load a firewall driver and make calls to it. For now, just use a default NoopFirewallDriver which basically does not do anything Closes-Bug: #1384429 Change-Id: I35a1216301833e9031c7783140b231972a61ff9b",5638,Davanum Srinivas,"[3, 159]","['Jenkins', 'Eric Windisch']",initial security group implementation using noopfirewalldriver starting scaffolding adding security groups enabling way load firewall driver make calls use default noopfirewalldriver basically anything closesbug 1384429 changeid i35a1216301833e9031c7783140b231972a61ff9b
https://review.opendev.org/130576,Fixing validation exception for valid security group,Fixing validation exception for valid security group Now casting the id of the allowed security group to a str() to avoid type mismatching when using ids. Change-Id: Iff2e442501d9c85c2b73c9a36114728830b04701 Closes-Bug: #1384743,8090,Chad Roberts,"[3, 6786, 7125, 7132, 7213, 8090, 8091, 8411, 12038]","['Jenkins', 'Sergey Lukjanov', 'Alexander Ignatov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Chad Roberts', 'Trevor McKay', 'Andrew Lazarev', 'Vitaly Gridnev']",fixing validation exception valid security group casting id allowed security group str avoid type mismatching using ids changeid iff2e442501d9c85c2b73c9a36114728830b04701 closesbug 1384743
https://review.opendev.org/107693,NFS Security Enhancements: allows secure NFS environment setup,"NFS Security Enhancements: allows secure NFS environment setup. This patch allows an OpenStack environment to run as a secure NFS environment from the client and server perspective, including having root squash enabled. This also sets Cinder file permissions as 660: removing other/world file access, based upon a new config flag called nfs_secure_files. Change-Id: I3d25f593beab7f5462576b14ab62d13d8c53e7c6 Implements: blueprint secure-nfs",9190,Glenn M. Gobeli,"[3, 170, 428, 2243, 2417, 4418, 4523, 5538, 5997, 6491, 7198, 7350, 8871, 9008, 9067, 9190, 9366, 9751, 10503, 10628, 11811, 12017, 12018, 12033, 12369, 12641, 12780]","['Jenkins', 'Mike Perez', 'Robert Esker', 'John Griffith', 'Ben Swartzlander', 'Ronen Kat', 'Eric Harney', 'Rushi Agrawal', 'Walt', 'xing-yang', 'Jay Bryant', 'Jordan Pittier', 'Elastic Recheck', 'VMware NSX CI', 'Nilesh Bhosale', 'Glenn M. Gobeli', 'Andrew Kerr', 'IBM DB2 CI', 'Huawei ML2 CI', 'Peter Wang', 'HP Storage CI', 'DellEMC VNX CI', 'EMC ViPR CI', 'DellEMC XtremIO CI', 'Pure Storage CI', 'ProphetStor CI', 'ProphetStor CI']",nfs security enhancements allows secure nfs environment setup patch allows openstack environment run secure nfs environment client server perspective including root squash enabled also sets cinder file permissions 660 removing otherworld file access based upon new config flag called nfssecurefiles changeid i3d25f593beab7f5462576b14ab62d13d8c53e7c6 implements blueprint securenfs
https://review.opendev.org/128313,Fix security groups,Fix security groups Security groups are now hanlded correctly for both Nova Network and Neutron while using direct provisioning engine. Change-Id: Id144d6559c4fbdfede59777382d9903bd1bab0cf Closes-Bug: #1381035,7132,Nikita Konovalov,"[3, 6786, 7125, 7132, 7213, 7710, 8090, 8091, 8411, 10670, 12039]","['Jenkins', 'Sergey Lukjanov', 'Alexander Ignatov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Chad Roberts', 'Trevor McKay', 'Andrew Lazarev', 'Michael McCune', 'Andrey Pavlov']",fix security groups security groups hanlded correctly nova network neutron using direct provisioning engine changeid id144d6559c4fbdfede59777382d9903bd1bab0cf closesbug 1381035
https://review.opendev.org/130051,Add hash to auto security group name for uniqueness,Add hash to auto security group name for uniqueness Node group id is unique enough to avoid duplicates. Change-Id: I24b003fea3d7b610c91a4bf9c3f887a7b61cedf5 Closes-Bug: #1383348,8411,Andrew Lazarev,"[3, 6786, 7132, 7213, 7710, 8090, 8091, 10670, 12038]","['Jenkins', 'Sergey Lukjanov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Chad Roberts', 'Trevor McKay', 'Michael McCune', 'Vitaly Gridnev']",add hash auto security group name uniqueness node group id unique enough avoid duplicates changeid i24b003fea3d7b610c91a4bf9c3f887a7b61cedf5 closesbug 1383348
https://review.opendev.org/125015,no way to delete valid/invalid security rule,"Previously deleting correct/incorrect security group rule was throwing the error of ""AttributeError"". With this fix, now the valid and invalid security group rules can be deleted. Change-Id: I253c2742efe69ee41976c88ca2775189bc5bde0d Closes-Bug: #1163469",12869,Amandeep,"[3, 679, 1779, 7730, 8412, 8871, 12869]","['Jenkins', 'Kevin L. Mitchell', 'Daniel Berrange', 'sahid', 'Mike Durnosvistov', 'Elastic Recheck', 'Amandeep']",previously deleting correctincorrect security group rule throwing error attributeerror fix valid invalid security group rules deleted changeid i253c2742efe69ee41976c88ca2775189bc5bde0d closesbug 1163469
https://review.opendev.org/119313,Reduce security group db calls to neutron server,"Avoid impose security groups db calls to neutron-server under Noopfirewall driver Within ovs agent daemon loop, prepare_devices_filter will impose heavy workloads to neutron server in order to retrieve the security groups message to apply firewall rules. If agent configuration with Noopfirewall driver or security group disabled, there is no need for loading the rules from server and refreshing the firewalls. This will reduce the db calls and improve performance for neutron server in this case. Change-Id: Id244aab3cac37fc6ed3dc05cbee91cdf9e34d9cc Closes-Bug: #1365806",7148,Zhu Zhu,"[3, 105, 333, 1653, 1970, 2874, 5170, 5948, 6072, 6502, 6524, 6598, 6659, 7148, 7183, 7249, 7293, 7787, 8213, 8645, 9681, 9682, 9705, 9732, 9787, 9845, 9846, 9970, 10116, 10117, 10119, 10121, 10153, 10184, 10192, 10294, 10387, 10503, 10692, 11825, 12040, 12737]","['Jenkins', 'Kyle Mestery', 'Isaku Yamahata', 'garyk', 'Jacob Wen', 'yong sheng gong', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Eugene Nikanorov', 'Andrey Epifanov', 'Henry Gessau', 'Berezovsky Irena', 'Paul Michali', 'Zhu Zhu', 'Xu Han Peng', 'Ann Taraday', 'Elena Ezhova', 'Kevin Benton', 'Claudiu Belu', 'Trinath Somanchi', 'Ryu CI', 'OpenContrail CI', 'Aleksandr Shaposhnikov', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'John Kasperski', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI', 'Sudhakar Babu Gariganti', 'A10 Networks CI', 'Jacek Swiderski']",avoid impose security groups db calls neutronserver noopfirewall driver within ovs agent daemon loop preparedevicesfilter impose heavy workloads neutron server order retrieve security groups message apply firewall rules agent configuration noopfirewall driver security group disabled need loading rules server refreshing firewalls reduce db calls improve performance neutron server case changeid id244aab3cac37fc6ed3dc05cbee91cdf9e34d9cc closesbug 1365806
https://review.opendev.org/125569,Add new search options for security service,"Add new search options for security service We can filter security services only by status, name, id and type now. Add new search options: user, server, dns_ip, domain to _get_security_services in SecurityServiceController. Add unit test for filtering secutiry services. Implements bp improve-security-service-list-filtering Change-Id: I8b3845c2d705188ec1dc0db33c1e20c8e6c5e559",7331,Julia Varlamova,"[3, 2417, 6491, 6529, 7331, 8851]","['Jenkins', 'Ben Swartzlander', 'xing-yang', 'Vladimir Vechkanov', 'Julia Varlamova', 'Valeriy Ponomaryov']",add new search options security service filter security services status name id type add new search options user server dnsip domain getsecurityservices securityservicecontroller add unit test filtering secutiry services implements bp improvesecurityservicelistfiltering changeid i8b3845c2d705188ec1dc0db33c1e20c8e6c5e559
https://review.opendev.org/127419,Update SSL/TTL section in the security guide,Update SSL/TTL section in the security guide Added SSL termination proxy as the recommended work around to support transmission of the entire SSL certificate chain. Change-Id: I2ffef68c7a5fc7c65ae58128ef1a0ab61c061851 backport: none Closes-Bug: #1378567,10705,Darren Chan,"[3, 964, 2807, 6547]","['Jenkins', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger']",update sslttl section security guide added ssl termination proxy recommended work around support transmission entire ssl certificate chain changeid i2ffef68c7a5fc7c65ae58128ef1a0ab61c061851 backport none closesbug 1378567
https://review.opendev.org/122312,Fix error adding security groups to instances with nexus,Fix error adding security groups to instances with nexus Adding security group for running instance should not invoke the nexus plugin. Current implementation does not validate for the 'new_host_id' as assumes it as host migration and fails. Closes-Bug: #1365226 Change-Id: I9ab6b8438e6ee0698a8e2ae7ff7736f7c71b2370,8833,Rabi Mishra,"[3, 105, 261, 2592, 5170, 6659, 7787, 8213, 8645, 8788, 8833, 9656, 9681, 9732, 9846, 10121, 10153, 10192, 10294, 10387, 10503, 10980, 12040, 12737]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Mark McClain', 'Microsoft Hyper-V CI', 'Paul Michali', 'Kevin Benton', 'Claudiu Belu', 'Trinath Somanchi', 'Miguel Angel Ajo', 'Rabi Mishra', 'Ihar Hrachyshka', 'Ryu CI', 'Mellanox CI', 'IBM SDN-VE CI', 'Metaplugin CI', 'One Convergence CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI', 'Doug Wiegley', 'A10 Networks CI', 'Jacek Swiderski']",fix error adding security groups instances nexus adding security group running instance invoke nexus plugin current implementation validate newhostid assumes host migration fails closesbug 1365226 changeid i9ab6b8438e6ee0698a8e2ae7ff7736f7c71b2370
https://review.opendev.org/727709,Remove workaround for missing debian stretch security repo,Remove workaround for missing debian stretch security repo Debian stretch is no longer tested on OSA master branch and this workaround should no longer be needed on stable branches Change-Id: I4aa9ca3b95cbfb6afa9a0137fceeb3fc4971e284,25023,Jonathan Rosser,"[22348, 25023, 27336, 28008, 28619]","['Zuul', 'Jonathan Rosser', 'XiaojueGuan', 'Guilherme', 'Dmitriy Rabotyagov']",remove workaround missing debian stretch security repo debian stretch longer tested osa master branch workaround longer needed stable branches changeid i4aa9ca3b95cbfb6afa9a0137fceeb3fc4971e284
https://review.opendev.org/726435,Fix security issues with EC2 credentials,"Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens. 1. Disable altering credential owner attributes or metadata Without this patch, an authenticated user can create an EC2 credential for themself for a project they have a role on, then update the credential to target a user and project completely unrelated to them. In the worst case, this could be the admin user and a project the admin user has a role assignment on. A token granted for an altered credential like this would allow the user to masquerade as the victim user. This patch ensures that when updating a credential, the new form of the credential is one the acting user has access to: if the system admin user is changing the credential, the new user ID or project ID could be anything, but regular users may only change the credential to be one that they still own. Relatedly, when a user uses an application credential or a trust to create an EC2 credential, keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used. Without this patch, a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's, application credential creator's, or OAuth1 access token authorizor's privileges on the project. This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential. 2. Respect token roles when creating EC2 credentials Without this patch, a trustee, an application credential user, or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor, application credential creator, or access token authorizor had on the project, regardless of whether the creator had delegated only a limited subset of roles. This was because the trust_id attribute of the EC2 access blob was ignored, and no metadata for the application credential or access token was recorded either. This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request. Conflicts (six removal in e2d83ae9, pep8 fixes in e2d83ae9): keystone/api/credentials.py keystone/tests/unit/test_v3_application_credential.py keystone/tests/unit/test_v3_credential.py Conflicts due to flask reorg: keystone/api/_shared/EC2_S3_Resource.py keystone/api/credentials.py keystone/api/users.py keystone/tests/unit/test_v3_credential.py Conflicts due to token provider refactor between Queens and Rocky: keystone/credential/controllers.py keystone/contrib/ec2/controllers.py keystone/application_credential/controllers.py keystone/token/providers/common.py Moved the test_update_credential_non_owner unit test to CredentialSelfServiceTestCase since in this branch the default policies are not affected by #1872733. Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178) (cherry picked from commit bfba75fc3c5c8f119f74dbf31347e008824a2134) (cherry picked from commit 53d1ccb8a1bdbb5aa0efaacf9739b1a6f436e191)",5046,Lance Bragstad,"[5046, 8482, 8866, 9954, 22348]","['Lance Bragstad', 'Colleen Murphy', 'Raildo Mascena de Sousa Filho', 'Lance Bragstad', 'Zuul']",fix security issues ec2 credentials change addresses several issues creation use ec2s3 credentials keystone tokens 1 disable altering credential owner attributes metadata without patch authenticated user create ec2 credential themself project role update credential target user project completely unrelated worst case could admin user project admin user role assignment token granted altered credential like would allow user masquerade victim user patch ensures updating credential new form credential one acting user access system admin user changing credential new user id project id could anything regular users may change credential one still relatedly user uses application credential trust create ec2 credential keystone automatically adds trust id application credential id metadata ec2 access blob knows token scoped used without patch user created credential way update access blob remove alter metadata escalate privileges fully authorized trustors application credential creators oauth1 access token authorizors privileges project patch fixes issue simply disallowing updates keystonecontrolled metadata credential 2 respect token roles creating ec2 credentials without patch trustee application credential user oauth1 access token holder could create ec2 credential application credential using roles trustor application credential creator access token authorizor project regardless whether creator delegated limited subset roles trustid attribute ec2 access blob ignored metadata application credential access token recorded either change ensures access delegation resource recorded metadata ec2 credential created passed token provider used authentication token provider look correct roles request conflicts six removal e2d83ae9 pep8 fixes e2d83ae9 keystoneapicredentialspy keystonetestsunittestv3applicationcredentialpy keystonetestsunittestv3credentialpy conflicts due flask reorg keystoneapisharedec2s3resourcepy keystoneapicredentialspy keystoneapiuserspy keystonetestsunittestv3credentialpy conflicts due token provider refactor queens rocky keystonecredentialcontrollerspy keystonecontribec2controllerspy keystoneapplicationcredentialcontrollerspy keystonetokenproviderscommonpy moved testupdatecredentialnonowner unit test credentialselfservicetestcase since branch default policies affected 1872733 changeid i39d0d705839fbe31ac518ac9a82959e108cb7c1d closesbug 1872733 closesbug 1872755 closesbug 1872735 cherry picked commit 37e9907a176dad6843819b1bec4946c3aecc4548 cherry picked commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d cherry picked commit 27caafe3daa552663719954f2cd6713dd4493178 cherry picked commit bfba75fc3c5c8f119f74dbf31347e008824a2134 cherry picked commit 53d1ccb8a1bdbb5aa0efaacf9739b1a6f436e191
https://review.opendev.org/126709,Add a reference to the OpenStack security guide,Add a reference to the OpenStack security guide Change-Id: I85b9591a17572eb57f315d7b8e6741455aef5817,6968,Christian Schwede,"[3, 330, 2622, 13052]","['Jenkins', 'John Dickinson', 'Samuel Merritt', 'SwiftStack Cluster CI']",add reference openstack security guide changeid i85b9591a17572eb57f315d7b8e6741455aef5817
https://review.opendev.org/124003,Separate security group rule test for each args,"Separate security group rule test for each args If passing ""group_id"" argument to ""add security group rule"" API, the API ignores ""cidr"" argument. In test_security_group_rules_create_with_optional_arguments, both arguments are specified and that is meaningless. This patch separates it for each purpose. Change-Id: I1af1f37eb2d4b4f182d7ab69bcb0e9c37a356e35 Related-Bug: #1373832",6167,Ken'ichi Ohmichi,"[3, 1921, 5803, 6167, 7350, 8556, 8871, 10385]","['Jenkins', 'Andrea Frittoli', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Jordan Pittier', 'Ghanshyam', 'Elastic Recheck', 'Citrix XenServer CI']",separate security group rule test args passing groupid argument add security group rule api api ignores cidr argument testsecuritygrouprulescreatewithoptionalarguments arguments specified meaningless patch separates purpose changeid i1af1f37eb2d4b4f182d7ab69bcb0e9c37a356e35 relatedbug 1373832
https://review.opendev.org/94130,Improve IPV6 parity in Security Group testcases,"Improve IPV6 parity in Security Group testcases This patch implements IPV6 testcases for Security Groups and adds few additional test cases to validate icmp protocol, remote_group_id and remote_ip_prefix. Change-Id: I3dd272f15a282b2ac58beee10f36c8af66377727 Partially implements: bp ipv6-testing-parity",10257,Sridhar Gaddam,"[3, 1192, 1921, 4656, 5371, 5803, 6167, 6537, 7139, 7249, 7350, 7428, 8556, 8871, 9008, 9828, 10118, 10257, 10385, 10624, 10966, 10969]","['Jenkins', 'David Kranz', 'Andrea Frittoli', 'Sean M. Collins', 'Mathew Odden', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'gordon chung', 'Zhi Kun Liu', 'Ann Taraday', 'Jordan Pittier', 'Yaroslav Lobankov', 'Ghanshyam', 'Elastic Recheck', 'VMware NSX CI', 'Radware CI', 'IBM PowerKVM CI', 'Sridhar Gaddam', 'Citrix XenServer CI', 'Brocade ADX CI', 'Abhijeet Jain', 'Shnaidman Sagi (Sergey)']",improve ipv6 parity security group testcases patch implements ipv6 testcases security groups adds additional test cases validate icmp protocol remotegroupid remoteipprefix changeid i3dd272f15a282b2ac58beee10f36c8af66377727 partially implements bp ipv6testingparity
https://review.opendev.org/118139,Check for syntax issues in the security notes with doc8,Check for syntax issues in the security notes with doc8 Change-Id: I650a9045250e818e3c870a4bdb5137566266622e,167,Christian Berendt,"[3, 167, 964, 2807, 6547, 9098]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Bryan D. Payne', 'Andreas Jaeger', 'Nathan Kinder']",check syntax issues security notes doc8 changeid i650a9045250e818e3c870a4bdb5137566266622e
https://review.opendev.org/118493,[Sahara] Added ability to specify security groups for node group,[Sahara] Added ability to specify security groups for node group Known issues: 1. Security groups added to the same page as general parameters. Page is a little overloaded now. Will improve this later. 2. New python-saharaclient is required. Waiting for https://review.openstack.org/#/c/110501/ 3. Additional fix will be needed to address bug #1364659 Change-Id: Ieb224ea4db2adc46073b86e7181981ea598c9a8f Blueprint: cluster-secgroups,8411,Andrew Lazarev,"[3, 841, 6786, 6914, 7012, 7125, 7132, 8090, 8411, 9981, 10670]","['Jenkins', 'Akihiro Motoki', 'Sergey Lukjanov', 'Tatiana Ovchinnikova', 'Brianna Poulos', 'Alexander Ignatov', 'Nikita Konovalov', 'Chad Roberts', 'Andrew Lazarev', 'Doug Fish', 'Michael McCune']",sahara added ability specify security groups node group known issues 1 security groups added page general parameters page little overloaded improve later 2 new pythonsaharaclient required waiting httpsreviewopenstackorgc110501 3 additional fix needed address bug 1364659 changeid ieb224ea4db2adc46073b86e7181981ea598c9a8f blueprint clustersecgroups
https://review.opendev.org/107216,Enable security group extension in PLUMgrid plugin,Enable security group extension in PLUMgrid plugin Implements: blueprint plumgrid-neutron-security-groups Change-Id: I30392adff5e3250a1c4f9f1f04fc7e0587007226,8279,Fawad Khaliq,"[3, 704, 970, 1653, 1935, 2592, 2750, 4395, 6835, 6854, 7175, 8279, 8871, 9009, 9536]","['Jenkins', 'Edgar Magana', 'Dean Troyer', 'garyk', 'Tomoe Sugihara', 'Mark McClain', 'Sean Dague', 'Aaron Rosen', 'Kun Huang', 'YAMAMOTO Takashi', 'Robbie Harwood', 'Fawad Khaliq', 'Elastic Recheck', 'Red Hat CI', 'Longgeek']",enable security group extension plumgrid plugin implements blueprint plumgridneutronsecuritygroups changeid i30392adff5e3250a1c4f9f1f04fc7e0587007226
https://review.opendev.org/124094,Add query for heat security group race bug 1374021,"Add query for heat security group race bug 1374021 42 hits in 7 days, check and gate, all failures, looks like it surfaced on 9/21. Could be related to nova bug 1370782 also. Change-Id: I028f51062184de0505de3f101d31a55703b24add Related-Bug: #1374021",6873,Matt Riedemann,"[3, 5196]","['Jenkins', 'Matthew Treinish']",add query heat security group race bug 1374021 42 hits 7 days check gate failures looks like surfaced 921 could related nova bug 1370782 also changeid i028f51062184de0505de3f101d31a55703b24add relatedbug 1374021
https://review.opendev.org/120561,Adds handling to the Servers behavior when no security group config is provided,"Adds handling to the Servers behavior when no security group config is provided * Handles the case of when no security group configuration is provided to the servers behavior. The Compute compoisite will always at least provide an empty config, but people not using the composite were having errors due to assuming that the config was passed into the constructor Change-Id: I31b34f4d292534f06ee888fad2873c2387a395fb",97,Daryl Walleck,"[3, 1980, 7939, 8256, 8969, 11681]","['Jenkins', 'jose-idar', 'Luke Wollney', 'Ivo Vasev', 'Christopher Hunt', 'Levi Blackstone']",adds handling servers behavior security group config provided handles case security group configuration provided servers behavior compute compoisite always least provide empty config people using composite errors due assuming config passed constructor changeid i31b34f4d292534f06ee888fad2873c2387a395fb
https://review.opendev.org/123187,Security groups: prevent race for default security group creation,"Security groups: prevent race for default security group creation When a VM is booted via the Nova the client connection is created with an admin user. This causes problems when creating the neutron port. That is, there may be a race for the creation of the default security group for the tenant. The problem was introduced by commit acf44dba26ca8dca47bfb5fb2916807f9f4e2060 Change-Id: Ie0199c71231a322704f1f49995facde09c92da25 Closes-bug: #1372570",1653,garyk,"[3, 841, 1653, 4395, 5170, 6659, 7448, 7787, 8645, 9681, 9682, 9732, 9787, 9845, 10116, 10117, 10121, 10153, 10184, 10192, 10294, 10386, 10387, 10503, 10692, 12040, 12737]","['Jenkins', 'Akihiro Motoki', 'garyk', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Paul Michali', 'Carl Baldwin', 'Kevin Benton', 'Trinath Somanchi', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'NEC CI', 'PLUMgrid CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'OpenDaylight CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI', 'A10 Networks CI', 'Jacek Swiderski']",security groups prevent race default security group creation vm booted via nova client connection created admin user causes problems creating neutron port may race creation default security group tenant problem introduced commit acf44dba26ca8dca47bfb5fb2916807f9f4e2060 changeid ie0199c71231a322704f1f49995facde09c92da25 closesbug 1372570
https://review.opendev.org/123286,[Vanilla] Increased security of temporary files for db,[Vanilla] Increased security of temporary files for db * changed location of files from /tmp to ~ * added code to remove file after use * refactored code to have all actions with files in one place Things that can be improved * remove code duplication around db actions Change-Id: I44657ae9331d4369e667c5dbc0d0f383b9b49cd5 Closes-Bug: #1370298,8411,Andrew Lazarev,"[3, 6786, 7125, 7132, 7213, 8090, 8091, 10670, 12038]","['Jenkins', 'Sergey Lukjanov', 'Alexander Ignatov', 'Nikita Konovalov', 'Sahara Hadoop Cluster CI', 'Chad Roberts', 'Trevor McKay', 'Michael McCune', 'Vitaly Gridnev']",vanilla increased security temporary files db changed location files tmp added code remove file use refactored code actions files one place things improved remove code duplication around db actions changeid i44657ae9331d4369e667c5dbc0d0f383b9b49cd5 closesbug 1370298
https://review.opendev.org/123368,astute.yaml -- security note,astute.yaml -- security note Change-Id: I62cae5a2f1b6d531150ace445700a323ae2b7e9b,8787,Dmitry Borodaenko,"[3, 8787, 8971, 10014]","['Jenkins', 'Dmitry Borodaenko', 'Fuel CI', 'Meg McRoberts']",astuteyaml security note changeid i62cae5a2f1b6d531150ace445700a323ae2b7e9b
https://review.opendev.org/123029,Making section id names readable in security guide,"Making section id names readable in security guide In the security guide, the section id names are the chapter name with a random id number on the end. This is harder to work with and not really necessary. Replacing random id number with actual section names. Changing the ids at the section definitions for all the sections throughout. References to these ids are also updated. Change-Id: Id4aa5df8c7c025ae7a812f1b031041b14002c030 Closes-bug: #1340388",10281,Priti Desai,"[3, 2807, 6547, 10281]","['Jenkins', 'Bryan D. Payne', 'Andreas Jaeger', 'Priti Desai']",making section id names readable security guide security guide section id names chapter name random id number end harder work really necessary replacing random id number actual section names changing ids section definitions sections throughout references ids also updated changeid id4aa5df8c7c025ae7a812f1b031041b14002c030 closesbug 1340388
https://review.opendev.org/122692,astute.yaml -- security note,astute.yaml -- security note Change-Id: I62cae5a2f1b6d531150ace445700a323ae2b7e9b,10014,Meg McRoberts,"[3, 8787, 8971, 9546, 9788]","['Jenkins', 'Dmitry Borodaenko', 'Fuel CI', ""Tomasz 'Zen' Napierala"", 'Christopher Aedo']",astuteyaml security note changeid i62cae5a2f1b6d531150ace445700a323ae2b7e9b
https://review.opendev.org/122030,rephrase action_past text in Access & Security panel,"rephrase action_past text in Access & Security panel Convention in Horizon seems to be verb first, e.g ""Deleted Key Pair."" Also fix capitalization. Change-Id: I84793a5bbf0ad7922749c388ef4eaeed37593ee0 Closes-Bug: #1370286",9622,Cindy Lu,"[3, 841, 1941, 9576, 9981, 10295, 11880, 11881]","['Jenkins', 'Akihiro Motoki', 'Lin Hua Cheng', 'Thai Tran', 'Doug Fish', 'mariam john', 'Gloria Gu', 'Aaron Sahlin']",rephrase actionpast text access security panel convention horizon seems verb first eg deleted key pair also fix capitalization changeid i84793a5bbf0ad7922749c388ef4eaeed37593ee0 closesbug 1370286
https://review.opendev.org/111877,Adds ipset support for Security Groups,Add ipset to security group Add ipset to security group for improving the performance of the security group. Change-Id: I6ff0ac519d0b9034d3bb5270885ed3cc1805674d Supports-blueprint: add-ipset-to-security DocImpact,8976,shihanzhang,"[3, 105, 490, 841, 1131, 1923, 2035, 4395, 5170, 5948, 7962, 7975, 7987, 8213, 8645, 8655, 8788, 8846, 8940, 8976, 9681, 9682, 9695, 9732, 9787, 9845, 9846, 9925, 10116, 10117, 10119, 10121, 10153, 10184, 10192, 10257, 10294, 10387, 10503, 10624, 10692, 11208, 11531, 12040, 12444]","['Jenkins', 'Kyle Mestery', 'Sumit Naiksatam', 'Akihiro Motoki', 'Brian Haley', 'Mohammad Banikazemi', 'Maru Newby', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Oleg Bondarev', 'Ronak Shah', 'Pavel Kirpichyov', 'Ivar Lazzaro', 'Claudiu Belu', 'Trinath Somanchi', 'Jakub Libosvar', 'Miguel Angel Ajo', '??', 'Sourabh Patwardhan', 'shihanzhang', 'Ryu CI', 'OpenContrail CI', 'Tail-f NCS CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'IBM SDN-VE CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'Metaplugin CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Sridhar Gaddam', 'Brocade VDX CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade ADX CI', 'Brocade Vyatta CI', 'Baohua Yang', 'warewang', 'A10 Networks CI', 'John Schwarz']",add ipset security group add ipset security group improving performance security group changeid i6ff0ac519d0b9034d3bb5270885ed3cc1805674d supportsblueprint addipsettosecurity docimpact
https://review.opendev.org/120950,Don't display duplicated security groups,"Don't display duplicated security groups As reported by users, we end up displaying duplicate security groups on multi nic vms using neutron. Let's not do that. Change-Id: I0a983aac08aaeacf3c2aef5aae49f64265fe78c5 Closes-Bug: #1331307",2750,Sean Dague,"[3, 679, 1501, 1849, 2750]","['Jenkins', 'Kevin L. Mitchell', 'Phil Day', 'Joe Gordon', 'Sean Dague']",dont display duplicated security groups reported users end displaying duplicate security groups multi nic vms using neutron lets changeid i0a983aac08aaeacf3c2aef5aae49f64265fe78c5 closesbug 1331307
https://review.opendev.org/79275,Cleanup neutron default security groups on tenant deletion,Cleanup default security group on tenant deletion This fix cleanups tenant default security groups that are automatically created and must be deleted on tenant deletion Change-Id: Ifcf5ec0391799110f158d113f1b6db8a55a31da9 Closes-Bug: #1283083,7781,Ala Rezmerita,"[3, 1192, 5196, 5803, 6072, 7020, 7249, 7293, 7350, 7781, 9008, 10385]","['Jenkins', 'David Kranz', 'Matthew Treinish', 'Attila Fazekas', 'Eugene Nikanorov', 'Joe Hakim Rahme', 'Ann Taraday', 'Elena Ezhova', 'Jordan Pittier', 'Ala Rezmerita', 'VMware NSX CI', 'Citrix XenServer CI']",cleanup default security group tenant deletion fix cleanups tenant default security groups automatically created must deleted tenant deletion changeid ifcf5ec0391799110f158d113f1b6db8a55a31da9 closesbug 1283083
https://review.opendev.org/725895,Fix security issues with EC2 credentials,"Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens. 1. Disable altering credential owner attributes or metadata Without this patch, an authenticated user can create an EC2 credential for themself for a project they have a role on, then update the credential to target a user and project completely unrelated to them. In the worst case, this could be the admin user and a project the admin user has a role assignment on. A token granted for an altered credential like this would allow the user to masquerade as the victim user. This patch ensures that when updating a credential, the new form of the credential is one the acting user has access to: if the system admin user is changing the credential, the new user ID or project ID could be anything, but regular users may only change the credential to be one that they still own. Relatedly, when a user uses an application credential or a trust to create an EC2 credential, keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used. Without this patch, a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's, application credential creator's, or OAuth1 access token authorizor's privileges on the project. This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential. 2. Respect token roles when creating EC2 credentials Without this patch, a trustee, an application credential user, or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor, application credential creator, or access token authorizor had on the project, regardless of whether the creator had delegated only a limited subset of roles. This was because the trust_id attribute of the EC2 access blob was ignored, and no metadata for the application credential or access token was recorded either. This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request. Conflicts (six removal in e2d83ae9, pep8 fixes in e2d83ae9): keystone/api/credentials.py keystone/tests/unit/test_v3_application_credential.py keystone/tests/unit/test_v3_credential.py Conflicts due to flask reorg: keystone/api/_shared/EC2_S3_Resource.py keystone/api/credentials.py keystone/api/users.py keystone/tests/unit/test_v3_credential.py Moved the test_update_credential_non_owner unit test to CredentialSelfServiceTestCase since in this branch the default policies are not affected by #1872733. Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178) (cherry picked from commit bfba75fc3c5c8f119f74dbf31347e008824a2134)",8482,Colleen Murphy,"[1916, 5046, 6476, 8482, 9542, 11022, 16465, 21420, 22348, 31882]","['guang-yee', 'Lance Bragstad', 'Thomas Goirand', 'Colleen Murphy', 'Pavlo Shchelokovskyy', 'Rodrigo Duarte', 'Kristi Nikolla', 'Gage Hugo', 'Zuul', 'Wander Way']",fix security issues ec2 credentials change addresses several issues creation use ec2s3 credentials keystone tokens 1 disable altering credential owner attributes metadata without patch authenticated user create ec2 credential themself project role update credential target user project completely unrelated worst case could admin user project admin user role assignment token granted altered credential like would allow user masquerade victim user patch ensures updating credential new form credential one acting user access system admin user changing credential new user id project id could anything regular users may change credential one still relatedly user uses application credential trust create ec2 credential keystone automatically adds trust id application credential id metadata ec2 access blob knows token scoped used without patch user created credential way update access blob remove alter metadata escalate privileges fully authorized trustors application credential creators oauth1 access token authorizors privileges project patch fixes issue simply disallowing updates keystonecontrolled metadata credential 2 respect token roles creating ec2 credentials without patch trustee application credential user oauth1 access token holder could create ec2 credential application credential using roles trustor application credential creator access token authorizor project regardless whether creator delegated limited subset roles trustid attribute ec2 access blob ignored metadata application credential access token recorded either change ensures access delegation resource recorded metadata ec2 credential created passed token provider used authentication token provider look correct roles request conflicts six removal e2d83ae9 pep8 fixes e2d83ae9 keystoneapicredentialspy keystonetestsunittestv3applicationcredentialpy keystonetestsunittestv3credentialpy conflicts due flask reorg keystoneapisharedec2s3resourcepy keystoneapicredentialspy keystoneapiuserspy keystonetestsunittestv3credentialpy moved testupdatecredentialnonowner unit test credentialselfservicetestcase since branch default policies affected 1872733 changeid i39d0d705839fbe31ac518ac9a82959e108cb7c1d closesbug 1872733 closesbug 1872755 closesbug 1872735 cherry picked commit 37e9907a176dad6843819b1bec4946c3aecc4548 cherry picked commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d cherry picked commit 27caafe3daa552663719954f2cd6713dd4493178 cherry picked commit bfba75fc3c5c8f119f74dbf31347e008824a2134
https://review.opendev.org/727172,Bump keystone to apply security patches,Bump keystone to apply security patches Change-Id: I6494b0121eb6f83fdc660f09df0d4462e42d2518,28619,Dmitriy Rabotyagov,"[15993, 22348, 25023, 28619, 29865]","['Amy Marrich', 'Zuul', 'Jonathan Rosser', 'Dmitriy Rabotyagov', 'Georgina Shippey']",bump keystone apply security patches changeid i6494b0121eb6f83fdc660f09df0d4462e42d2518
https://review.opendev.org/727170,Bump keystone to apply security patches,Bump keystone to apply security patches Change-Id: I7023bfdf4baf96147f3da869f394374509a07632,28619,Dmitriy Rabotyagov,"[22348, 25023, 28008, 28619, 29865]","['Zuul', 'Jonathan Rosser', 'Guilherme', 'Dmitriy Rabotyagov', 'Georgina Shippey']",bump keystone apply security patches changeid i7023bfdf4baf96147f3da869f394374509a07632
https://review.opendev.org/120880,Add /var/run security contexts to host_info.txt,Add /var/run security contexts to host_info.txt An incorrect security context in /var/run can cause SELinux issue. A listing of the /var/run directory with security contexts is added to host_info.txt to aid debugging. Change-Id: I93b74c88d6250cbf5eec9304f057e3858d2fcf5b,7471,Richard Su,"[3, 1926, 7144]","['Jenkins', 'Derek Higgins', 'James Slagle']",add varrun security contexts hostinfotxt incorrect security context varrun cause selinux issue listing varrun directory security contexts added hostinfotxt aid debugging changeid i93b74c88d6250cbf5eec9304f057e3858d2fcf5b
https://review.opendev.org/118713,Allowed to specify IDs for security groups,Allowed to specify IDs for security groups Change-Id: Ic9c6785cf2297d05a0df798fb8fa5dae69613deb Closes-Bug: #1364659,8411,Andrew Lazarev,"[3, 6786, 7213, 7555, 8090, 8411, 10670]","['Jenkins', 'Sergey Lukjanov', 'Sahara Hadoop Cluster CI', 'Matthew Farrellee', 'Chad Roberts', 'Andrew Lazarev', 'Michael McCune']",allowed specify ids security groups changeid ic9c6785cf2297d05a0df798fb8fa5dae69613deb closesbug 1364659
https://review.opendev.org/106674,Fix security group list when not defined for an instance,"Fix security group list when not defined for an instance If an instance has an empty security group list an exception is thrown due to iteration attempt of None. To fix this, this patch modifies get_instance_security_group to return an empty list instead of None. Conflicts: nova/tests/api/openstack/compute/contrib/test_neutron_security_groups.py nova/tests/network/security_group/test_neutron_driver.py Change-Id: I7efb3c3a58d7e20501d126c6d194479ca1d14166 Closes-Bug: #1291489 (cherry picked from commit c32986966dfd034c3d706b2e9ab2820a2c3cfc3e)",5292,Christopher Yeoh,"[3, 1420, 2750, 5170, 5292, 8213, 8871, 9008, 9275, 9656]","['Jenkins', 'Adam Gandelman', 'Sean Dague', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'Claudiu Belu', 'Elastic Recheck', 'VMware NSX CI', 'Leandro Ignacio Costantino', 'Ihar Hrachyshka']",fix security group list defined instance instance empty security group list exception thrown due iteration attempt none fix patch modifies getinstancesecuritygroup return empty list instead none conflicts novatestsapiopenstackcomputecontribtestneutronsecuritygroupspy novatestsnetworksecuritygrouptestneutrondriverpy changeid i7efb3c3a58d7e20501d126c6d194479ca1d14166 closesbug 1291489 cherry picked commit c32986966dfd034c3d706b2e9ab2820a2c3cfc3e
https://review.opendev.org/110517,Updated docs with security group management feature,Updated docs with security group management feature Partially implements: blueprint cluster-secgroups Change-Id: I9bfc6dde157e5f438a030d134f8e067447d05116,8411,Andrew Lazarev,"[3, 6786, 7213, 7710, 8090, 8091, 8411, 8871, 10670, 12038]","['Jenkins', 'Sergey Lukjanov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Chad Roberts', 'Trevor McKay', 'Andrew Lazarev', 'Elastic Recheck', 'Michael McCune', 'Vitaly Gridnev']",updated docs security group management feature partially implements blueprint clustersecgroups changeid i9bfc6dde157e5f438a030d134f8e067447d05116
https://review.opendev.org/120048,Allow search security services by name too,"Allow search security services by name too Manilaclient has functionality of discovering what was provided with identifing object param, either its id or name. But manilaclient handle only id's for security-service commands. Changed APIs: - security-service-delete; - security-service-get; - security-service-update; - share-network-security-service-add; - share-network-security-service-remove; Change-Id: Iaf30c30b09a2a09b11c896f5a6c2bcb5fc28d64e Closes-Bug: #1346374",8851,Valeriy Ponomaryov,"[3, 2417, 6491, 6529, 7534]","['Jenkins', 'Ben Swartzlander', 'xing-yang', 'Vladimir Vechkanov', 'Yulia Portnova']",allow search security services name manilaclient functionality discovering provided identifing object param either id name manilaclient handle ids securityservice commands changed apis securityservicedelete securityserviceget securityserviceupdate sharenetworksecurityserviceadd sharenetworksecurityserviceremove changeid iaf30c30b09a2a09b11c896f5a6c2bcb5fc28d64e closesbug 1346374
https://review.opendev.org/118997,Don't allow security service to be updated if used,"Don't allow security service to be updated if used When we attach security service to share network and create share server associated with this share network, security service or share-network should not be updated as well as deleted. For update should be available only 'name' and 'description' fields. Add unit and tempest tests. Change-Id: Ide82edea355030b281dc709f8545abfd0fcd13fb Closes-bug: #1357355",7331,Julia Varlamova,"[3, 2417, 6491, 7331, 7534, 8851]","['Jenkins', 'Ben Swartzlander', 'xing-yang', 'Julia Varlamova', 'Yulia Portnova', 'Valeriy Ponomaryov']",dont allow security service updated used attach security service share network create share server associated share network security service sharenetwork updated well deleted update available name description fields add unit tempest tests changeid ide82edea355030b281dc709f8545abfd0fcd13fb closesbug 1357355
https://review.opendev.org/119889,Making section id names readable in security guide,"Making section id names readable in security guide In the security guide, the section id names are the chapter name with a random id number on the end. This is harder to work with and not really necessary, for example, case-studies-system-documentation-idp44480. Replacing section id names with ""case-studies-system-documentation-alice-private-cloud"". Changing the ids at the section definitions throughout. No references are made to these section ids within security guide and hence no changes needed there. Change-Id: Ibaccd164332239dc9d701a74f5b84c2fd357feb6",10281,Priti Desai,"[3, 167, 964, 6547, 10281]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Andreas Jaeger', 'Priti Desai']",making section id names readable security guide security guide section id names chapter name random id number end harder work really necessary example casestudiessystemdocumentationidp44480 replacing section id names casestudiessystemdocumentationaliceprivatecloud changing ids section definitions throughout references made section ids within security guide hence changes needed changeid ibaccd164332239dc9d701a74f5b84c2fd357feb6
https://review.opendev.org/110501,Added support of security groups management,Added support of security groups management Partially implements: blueprint cluster-secgroups Change-Id: Ic3f5e8db2fce2f594036b124bada2a567259a229,8411,Andrew Lazarev,"[3, 6786, 7213, 7604, 8091, 8411, 8871, 12039]","['Jenkins', 'Sergey Lukjanov', 'Sahara Hadoop Cluster CI', 'Sergey Kolekonov', 'Trevor McKay', 'Andrew Lazarev', 'Elastic Recheck', 'Andrey Pavlov']",added support security groups management partially implements blueprint clustersecgroups changeid ic3f5e8db2fce2f594036b124bada2a567259a229
https://review.opendev.org/117363,Fix security group list for non-admin,Fix security group list for non-admin Non-admin users couldn't list security groups due to the project lookup failure. That shouldn't stop the listing. Change-Id: I27f6ff4975b35d1de1c852c8d4e830b83c7dec75,970,Dean Troyer,"[3, 970, 6482, 8736]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Terry Howe']",fix security group list nonadmin nonadmin users couldnt list security groups due project lookup failure shouldnt stop listing changeid i27f6ff4975b35d1de1c852c8d4e830b83c7dec75
https://review.opendev.org/117364,Fix server add security group,Fix server add security group The group resource was being passed when only the name is needed. Change-Id: Ia303804be4e336f9880205d931467cb831e812de,970,Dean Troyer,"[3, 970, 6482, 8736, 8871]","['Jenkins', 'Dean Troyer', 'Steve Martinelli', 'Terry Howe', 'Elastic Recheck']",fix server add security group group resource passed name needed changeid ia303804be4e336f9880205d931467cb831e812de
https://review.opendev.org/114675,Adds ethertype to parameters for Networking API v2.0 security groups,Adds ethertype to parameters for Networking API v2.0 security groups Change-Id: I51bbe9bfcd45d06f1c9962fffc2aa8161dc32d9f Closes-bug: 1357563,964,Anne Gentle,"[3, 964, 6547]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger']",adds ethertype parameters networking api v20 security groups changeid i51bbe9bfcd45d06f1c9962fffc2aa8161dc32d9f closesbug 1357563
https://review.opendev.org/118486,Improve install guide security content,Improve install guide security content I improved security content in the installation guide as follows: 1) Renamed basic environment 'passwords' section to 'security' to generalize topic. 2) Generalized existing content. 3) Added content about administrative privilege requirements including potential interference with deployment automation tools. Recommend backporting to Icehouse. Change-Id: Ide9785728c7b52ee1dc59a533b3486b99ee11139 Closes-Bug: #1311426 backport: icehouse (cherry picked from commit 80ca377eb8c4d2a448f707cdb663d5e0f0db857e),9515,Matthew Kassawara,"[3, 167, 6547]","['Jenkins', 'Christian Berendt', 'Andreas Jaeger']",improve install guide security content improved security content installation guide follows 1 renamed basic environment passwords section security generalize topic 2 generalized existing content 3 added content administrative privilege requirements including potential interference deployment automation tools recommend backporting icehouse changeid ide9785728c7b52ee1dc59a533b3486b99ee11139 closesbug 1311426 backport icehouse cherry picked commit 80ca377eb8c4d2a448f707cdb663d5e0f0db857e
https://review.opendev.org/100761,Using ipset for security group,Spec for adding ipset to security group Change-Id: I8b9a849c6a4612f6e043c70ca1269cdd6cdc0afb,8976,shihanzhang,"[3, 7, 105, 261, 333, 490, 1935, 6854, 7448, 7576, 8157, 8336, 8788, 8976, 9656, 9820, 11367, 11825]","['Jenkins', 'Jay Pipes', 'Kyle Mestery', 'Salvatore Orlando', 'Isaku Yamahata', 'Sumit Naiksatam', 'Tomoe Sugihara', 'YAMAMOTO Takashi', 'Carl Baldwin', 'Gary Duan', 'Bertrand Lallau', 'QianLin', 'Miguel Angel Ajo', 'shihanzhang', 'Ihar Hrachyshka', 'Liping Mao', 'keshava', 'Sudhakar Babu Gariganti']",spec adding ipset security group changeid i8b9a849c6a4612f6e043c70ca1269cdd6cdc0afb
https://review.opendev.org/109394,Added ability to create security group automatically,Added ability to create security group automatically Added ability to ask Sahara to create security group for node group. Feature is only implemented in vanilla plugin 1.2.1 so far. Partially implements: blueprint cluster-secgroups Change-Id: I21d0196396bb966fe3d88f5445e98aebe90ad94b,8411,Andrew Lazarev,"[3, 6786, 7109, 7213, 7604, 7710, 7745, 8091, 8411, 8871, 10670, 12038]","['Jenkins', 'Sergey Lukjanov', 'Dmitry Mescheryakov (dmitryme)', 'Sahara Hadoop Cluster CI', 'Sergey Kolekonov', 'Sergey Reshetnyak', 'Denis Egorenko', 'Trevor McKay', 'Andrew Lazarev', 'Elastic Recheck', 'Michael McCune', 'Vitaly Gridnev']",added ability create security group automatically added ability ask sahara create security group node group feature implemented vanilla plugin 121 far partially implements blueprint clustersecgroups changeid i21d0196396bb966fe3d88f5445e98aebe90ad94b
https://review.opendev.org/116127,Address some potential security issues in lockutils,Address some potential security issues in lockutils Adds a note to the lock_path help text explaining how to secure the target directory. Also opens lock files in append mode so there is no possibility of overwriting a file due to a malicious symlink. Change-Id: I77b72b20088fe66b573c23bd1fd98376c2b0f168,6928,Ben Nemec,"[3, 708, 1297, 2472, 6928]","['Jenkins', 'Yuriy Taraday', 'Joshua Harlow', 'Doug Hellmann', 'Ben Nemec']",address potential security issues lockutils adds note lockpath help text explaining secure target directory also opens lock files append mode possibility overwriting file due malicious symlink changeid i77b72b20088fe66b573c23bd1fd98376c2b0f168
https://review.opendev.org/117888,Improve install guide security content,Improve install guide security content I improved security content in the installation guide as follows: 1) Renamed basic environment 'passwords' section to 'security' to generalize topic. 2) Generalized existing content. 3) Added content about administrative privilege requirements including potential interference with deployment automation tools. Recommend backporting to Icehouse. Change-Id: Ide9785728c7b52ee1dc59a533b3486b99ee11139 Closes-Bug: #1311426 backport: icehouse,9515,Matthew Kassawara,"[3, 612, 2807, 6547, 9515]","['Jenkins', 'Tom Fifield', 'Bryan D. Payne', 'Andreas Jaeger', 'Matthew Kassawara']",improve install guide security content improved security content installation guide follows 1 renamed basic environment passwords section security generalize topic 2 generalized existing content 3 added content administrative privilege requirements including potential interference deployment automation tools recommend backporting icehouse changeid ide9785728c7b52ee1dc59a533b3486b99ee11139 closesbug 1311426 backport icehouse
https://review.opendev.org/113453,Support ipset for security group,Support ipset for security group Install ipset if the q-agt service is enabled. Partially implements blueprint: add-ipset-to-security Change-Id: Ic0820a03e9823be39e26254e7c99fe2c4c811c8b,8976,shihanzhang,"[3, 105, 970, 1131, 7118, 7448, 8788, 8871, 8976, 9008, 9009, 9656, 9820, 10385]","['Jenkins', 'Kyle Mestery', 'Dean Troyer', 'Brian Haley', 'Ian Wienand', 'Carl Baldwin', 'Miguel Angel Ajo', 'Elastic Recheck', 'shihanzhang', 'VMware NSX CI', 'Red Hat CI', 'Ihar Hrachyshka', 'Liping Mao', 'Citrix XenServer CI']",support ipset security group install ipset qagt service enabled partially implements blueprint addipsettosecurity changeid ic0820a03e9823be39e26254e7c99fe2c4c811c8b
https://review.opendev.org/116223,Forbid to attach security services with same type to share network,"Forbid to attach security services with same type to share network Manila should not allow attach several security services with same type to a share network, for example, two LDAPs or two Active Directory services. Closes-bug: #1358652 Change-Id: Id37e986e537941fe8f9086b8b150d6073c97d1ed",7331,Julia Varlamova,"[3, 2417, 6491, 8851, 11878]","['Jenkins', 'Ben Swartzlander', 'xing-yang', 'Valeriy Ponomaryov', 'Rushil Chugh']",forbid attach security services type share network manila allow attach several security services type share network example two ldaps two active directory services closesbug 1358652 changeid id37e986e537941fe8f9086b8b150d6073c97d1ed
https://review.opendev.org/109161,Add security group rules to tripleo-ci/default,Add security group rules to tripleo-ci/default So that ssh and icmp work ;) Change-Id: I76ff74ead0040372a79a0e1632a1ea24e53f410e,4190,lifeless,"[3, 4190, 7144, 10035]","['Jenkins', 'lifeless', 'James Slagle', 'greghaynes']",add security group rules tripleocidefault ssh icmp work changeid i76ff74ead0040372a79a0e1632a1ea24e53f410e
https://review.opendev.org/95990,Fix listing security group rules,"Fix listing security group rules It was failing when there are too many security groups, since we're hitting a RequestURITooLong exception. Change-Id: If94b6a2ed6878efad1224e056ecf43e65e85e821",11422,liuweicai,"[3, 841, 2031, 2592, 4460, 5803, 5948, 5950, 6072, 6854, 8871, 11422]","['Jenkins', 'Akihiro Motoki', 'Nachi Ueno', 'Mark McClain', 'Vincent Untz', 'Attila Fazekas', 'Oleg Bondarev', 'Ilya Shakhat', 'Eugene Nikanorov', 'YAMAMOTO Takashi', 'Elastic Recheck', 'liuweicai']",fix listing security group rules failing many security groups since hitting requesturitoolong exception changeid if94b6a2ed6878efad1224e056ecf43e65e85e821
https://review.opendev.org/724207,Allow sharing security groups as read-only,Allow sharing security groups as read-only This specification describes how to allow sharing security groups as read-only. Change-Id: If2dcec379d4c874df97af12da44aec7060f0abc2 Related-Bug: #1875516,10273,Adam Harwell,"[1131, 4694, 11975, 13995, 16688, 22348]","['Brian Haley', 'Miguel Lavalle', 'Slawek Kaplonski', 'Nate Johnston', 'Rodolfo Alonso', 'Zuul']",allow sharing security groups readonly specification describes allow sharing security groups readonly changeid if2dcec379d4c874df97af12da44aec7060f0abc2 relatedbug 1875516
https://review.opendev.org/725893,Fix security issues with EC2 credentials,"Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens. 1. Disable altering credential owner attributes or metadata Without this patch, an authenticated user can create an EC2 credential for themself for a project they have a role on, then update the credential to target a user and project completely unrelated to them. In the worst case, this could be the admin user and a project the admin user has a role assignment on. A token granted for an altered credential like this would allow the user to masquerade as the victim user. This patch ensures that when updating a credential, the new form of the credential is one the acting user has access to: if the system admin user is changing the credential, the new user ID or project ID could be anything, but regular users may only change the credential to be one that they still own. Relatedly, when a user uses an application credential or a trust to create an EC2 credential, keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used. Without this patch, a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's, application credential creator's, or OAuth1 access token authorizor's privileges on the project. This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential. 2. Respect token roles when creating EC2 credentials Without this patch, a trustee, an application credential user, or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor, application credential creator, or access token authorizor had on the project, regardless of whether the creator had delegated only a limited subset of roles. This was because the trust_id attribute of the EC2 access blob was ignored, and no metadata for the application credential or access token was recorded either. This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request. Conflicts (six removal in e2d83ae9, pep8 fixes in e2d83ae9): keystone/api/credentials.py keystone/tests/unit/test_v3_application_credential.py keystone/tests/unit/test_v3_credential.py Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178)",8482,Colleen Murphy,"[1916, 5046, 6476, 8482, 8866, 9373, 11022, 16465, 21420, 22348, 28619, 31882]","['guang-yee', 'Lance Bragstad', 'Thomas Goirand', 'Colleen Murphy', 'Raildo Mascena de Sousa Filho', 'Vlad Gusev', 'Rodrigo Duarte', 'Kristi Nikolla', 'Gage Hugo', 'Zuul', 'Dmitriy Rabotyagov', 'Wander Way']",fix security issues ec2 credentials change addresses several issues creation use ec2s3 credentials keystone tokens 1 disable altering credential owner attributes metadata without patch authenticated user create ec2 credential themself project role update credential target user project completely unrelated worst case could admin user project admin user role assignment token granted altered credential like would allow user masquerade victim user patch ensures updating credential new form credential one acting user access system admin user changing credential new user id project id could anything regular users may change credential one still relatedly user uses application credential trust create ec2 credential keystone automatically adds trust id application credential id metadata ec2 access blob knows token scoped used without patch user created credential way update access blob remove alter metadata escalate privileges fully authorized trustors application credential creators oauth1 access token authorizors privileges project patch fixes issue simply disallowing updates keystonecontrolled metadata credential 2 respect token roles creating ec2 credentials without patch trustee application credential user oauth1 access token holder could create ec2 credential application credential using roles trustor application credential creator access token authorizor project regardless whether creator delegated limited subset roles trustid attribute ec2 access blob ignored metadata application credential access token recorded either change ensures access delegation resource recorded metadata ec2 credential created passed token provider used authentication token provider look correct roles request conflicts six removal e2d83ae9 pep8 fixes e2d83ae9 keystoneapicredentialspy keystonetestsunittestv3applicationcredentialpy keystonetestsunittestv3credentialpy changeid i39d0d705839fbe31ac518ac9a82959e108cb7c1d closesbug 1872733 closesbug 1872755 closesbug 1872735 cherry picked commit 37e9907a176dad6843819b1bec4946c3aecc4548 cherry picked commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d cherry picked commit 27caafe3daa552663719954f2cd6713dd4493178
https://review.opendev.org/107528,Added ability to specify security group for node group,Added ability to specify security group for node group Extended API to support list of security groups in node groups and node group templates. Changed db schema and provisioning engines (both direct and heat) accordingly. Partially implements: blueprint cluster-secgroups Change-Id: I49d3551f6987552ff6398e8c87e22388f914f287,8411,Andrew Lazarev,"[3, 6786, 7109, 7125, 7213, 7700, 7710, 7745, 8090, 8091, 8411, 12038, 12039]","['Jenkins', 'Sergey Lukjanov', 'Dmitry Mescheryakov (dmitryme)', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Nikolay Mahotkin', 'Sergey Reshetnyak', 'Denis Egorenko', 'Chad Roberts', 'Trevor McKay', 'Andrew Lazarev', 'Vitaly Gridnev', 'Andrey Pavlov']",added ability specify security group node group extended api support list security groups node groups node group templates changed db schema provisioning engines direct heat accordingly partially implements blueprint clustersecgroups changeid i49d3551f6987552ff6398e8c87e22388f914f287
https://review.opendev.org/112868,Adding network interfaces and security groups.,Adding network interfaces and security groups. Unit tests for security groups are coming up later. Change-Id: Ifaa3cb56644f85489c82a843f016db91a6ba7c2e,9312,Alexandre Levine,"[3, 2271, 10224, 10234]","['Jenkins', 'Michael Still', 'Feodor Tersin', 'Andrey Pavlov']",adding network interfaces security groups unit tests security groups coming later changeid ifaa3cb56644f85489c82a843f016db91a6ba7c2e
https://review.opendev.org/110527,Refined Security Groups terminology article,Refined Security Groups terminology article Improved the description; added more xrefs to the community docs Change-Id: I5fb8126f5bb07da58dd82973b5f2cdb71cd3238e,10014,Meg McRoberts,"[3, 7109, 8787, 8789, 8971]","['Jenkins', 'Dmitry Mescheryakov (dmitryme)', 'Dmitry Borodaenko', 'Dmitry Pyzhov', 'Fuel CI']",refined security groups terminology article improved description added xrefs community docs changeid i5fb8126f5bb07da58dd82973b5f2cdb71cd3238e
https://review.opendev.org/111400,Modifies compute tests that do not use create_active_server to use default security groups,Modifies compute tests that do not use create_active_server to use default security groups Change-Id: Ib242f58a10e3ee1be3fdaf4d45ff65cf3e582054,97,Daryl Walleck,"[3, 1980]","['Jenkins', 'jose-idar']",modifies compute tests use createactiveserver use default security groups changeid ib242f58a10e3ee1be3fdaf4d45ff65cf3e582054
https://review.opendev.org/111396,Adds security groups into create server workflow,Adds security groups into create server workflow * Adds security group parameter to create and rebuild client actions * Adds security group paramater to create_active_server behavior * Adds security group to compute models * Adds default_security_groups Change-Id: Id351eade2213435a4b52d9590da68f9b28af6927,97,Daryl Walleck,"[3, 1980]","['Jenkins', 'jose-idar']",adds security groups create server workflow adds security group parameter create rebuild client actions adds security group paramater createactiveserver behavior adds security group compute models adds defaultsecuritygroups changeid id351eade2213435a4b52d9590da68f9b28af6927
https://review.opendev.org/102180,Sort security group rules by protocol and port,"Sort security group rules by protocol and port When adding new rules to a security group, it is useful to have the rules sorted consistently across page reloads. This patch ensures that the rules are sorted by protocol first, then by port. It is still possible to manually sort the table using the client side capabilities, but by default the table is now sorted by protocol and port, server side. Change-Id: I36d29461a8437f5689425706a7faae3399c6bf23 Closes-bug: #1326132 (cherry picked from commit e8c1f60eae7e3a76fd271dd5f14c80d06dfe6ebd)",9317,Ana Krivokapic,"[3, 308, 841, 1941, 2455, 4264, 6610, 6914, 8040, 8090, 8794, 9317, 9576, 9622, 9981, 10247]","['Jenkins', 'Thierry Carrez', 'Akihiro Motoki', 'Lin Hua Cheng', 'Tihomir Trifonov', 'Matthias Runge', 'Zhenguo Niu', 'Tatiana Ovchinnikova', 'Timur Sufiev', 'Chad Roberts', 'Robert Mizielski', 'Ana Krivokapic', 'Thai Tran', 'Cindy Lu', 'Doug Fish', 'Santiago Baldassin']",sort security group rules protocol port adding new rules security group useful rules sorted consistently across page reloads patch ensures rules sorted protocol first port still possible manually sort table using client side capabilities default table sorted protocol port server side changeid i36d29461a8437f5689425706a7faae3399c6bf23 closesbug 1326132 cherry picked commit e8c1f60eae7e3a76fd271dd5f14c80d06dfe6ebd
https://review.opendev.org/110367,Fix security group modal header overflow,"Fix security group modal header overflow If you go to Edit Instance > Security Group The two headers ""All Security Groups"" and ""Instance Security Groups"" overflow when translated Change-Id: I5acd0e4670a6595e6f38ba7f17371b6329ed5836 Closes-Bug:#1288402 (cherry picked from commit 0048dfc6a84c1e6c22c99d01a448b3ed8cf2de14)",9622,Cindy Lu,"[3, 841, 4264, 6914, 9647, 9656]","['Jenkins', 'Akihiro Motoki', 'Matthias Runge', 'Tatiana Ovchinnikova', 'Justin Pomeroy', 'Ihar Hrachyshka']",fix security group modal header overflow go edit instance security group two headers security groups instance security groups overflow translated changeid i5acd0e4670a6595e6f38ba7f17371b6329ed5836 closesbug1288402 cherry picked commit 0048dfc6a84c1e6c22c99d01a448b3ed8cf2de14
https://review.opendev.org/106675,Fix security group list when not defined for an instance,"Fix security group list when not defined for an instance If an instance has an empty security group list an exception is thrown due to iteration attempt of None. To fix this, this patch modifies get_instance_security_group to return an empty list instead of None. Change-Id: I7efb3c3a58d7e20501d126c6d194479ca1d14166 Closes-Bug: #1291489 (cherry picked from commit c32986966dfd034c3d706b2e9ab2820a2c3cfc3e)",5292,Christopher Yeoh,"[3, 308, 5170, 5292, 8871, 9275, 9656]","['Jenkins', 'Thierry Carrez', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'Elastic Recheck', 'Leandro Ignacio Costantino', 'Ihar Hrachyshka']",fix security group list defined instance instance empty security group list exception thrown due iteration attempt none fix patch modifies getinstancesecuritygroup return empty list instead none changeid i7efb3c3a58d7e20501d126c6d194479ca1d14166 closesbug 1291489 cherry picked commit c32986966dfd034c3d706b2e9ab2820a2c3cfc3e
https://review.opendev.org/110744,Fixed Inline Editing for Security Step,Fixed Inline Editing for Security Step Change-Id: Ia44094d8321e61710fbbbdee2253a0073079677a,12090,Shuai Zhu,"[3, 9853, 9869]","['Jenkins', 'Weidong Shao', 'Jiahua Yan']",fixed inline editing security step changeid ia44094d8321e61710fbbbdee2253a0073079677a
https://review.opendev.org/92898,Fix security group race condition while creating rule,"Fix security group race condition while creating rule Previously, it was possible for someone to create a security group rule where the rule references another security group. To do this nova would first create the security group rule and then look up the referenced group (group_id's) name in order to return that via the api. During this time it's possible for someone to delete this security group rule and the referenced group before the call returned resulting in a 404 error being raised. This patch addresses this issue by looking up the group name first and then creating the security group rule in order to avoid this from occuring. Change-Id: If58ffa5629ba5166f260379ac47922974de31be0 Related-bug: 1262566",4395,Aaron Rosen,"[3, 7, 67, 261, 642, 748, 1653, 1849, 2750, 2835, 4393, 4395, 5170, 8871, 9008, 9578, 10118, 10385]","['Jenkins', 'Jay Pipes', 'Vish Ishaya', 'Salvatore Orlando', 'Matt Dietz', 'Armando Migliaccio', 'garyk', 'Joe Gordon', 'Sean Dague', 'Brian Elliott', 'Dan Smith', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",fix security group race condition creating rule previously possible someone create security group rule rule references another security group nova would first create security group rule look referenced group groupids name order return via api time possible someone delete security group rule referenced group call returned resulting 404 error raised patch addresses issue looking group name first creating security group rule order avoid occuring changeid if58ffa5629ba5166f260379ac47922974de31be0 relatedbug 1262566
https://review.opendev.org/110024,Check firewall on slaves to detect security holes,"Check firewall on slaves to detect security holes In different deployment scenarios Puppet generates different firewall rules and potentially can add permit rule, which will allow access to unused or secure ports/services. We should check iptables for security holes on slaves: 1. listen on admin interface on some unused port (tcp or udp); 2. try to connect to that port from master node and send data; 3. check that connection attempt was blocked and data was not received. Change-Id: I1f625a75f4febf372948c47a1c920b6aed885a4b Closes-bug: #1346265 (cherry picked from commit 0790465b4c4b5f7bde6a13a964fbaa7ced83648d)",11081,Artem Panchenko,"[3, 6719, 8882, 8971, 10136, 11081]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Fuel CI', 'Andrey Sledzinskiy', 'Artem Panchenko']",check firewall slaves detect security holes different deployment scenarios puppet generates different firewall rules potentially add permit rule allow access unused secure portsservices check iptables security holes slaves 1 listen admin interface unused port tcp udp 2 try connect port master node send data 3 check connection attempt blocked data received changeid i1f625a75f4febf372948c47a1c920b6aed885a4b closesbug 1346265 cherry picked commit 0790465b4c4b5f7bde6a13a964fbaa7ced83648d
https://review.opendev.org/108608,Check firewall on slaves to detect security holes,"Check firewall on slaves to detect security holes In different deployment scenarios Puppet generates different firewall rules and potentially can add permit rule, which will allow access to unused or secure ports/services. We should check iptables for security holes on slaves. Change-Id: I1f625a75f4febf372948c47a1c920b6aed885a4b Closes-bug: #1346265",11081,Artem Panchenko,"[3, 6719, 8882, 8971, 10136, 11081]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Fuel CI', 'Andrey Sledzinskiy', 'Artem Panchenko']",check firewall slaves detect security holes different deployment scenarios puppet generates different firewall rules potentially add permit rule allow access unused secure portsservices check iptables security holes slaves changeid i1f625a75f4febf372948c47a1c920b6aed885a4b closesbug 1346265
https://review.opendev.org/78750,Fix security group modal header overflow,"Fix security group modal header overflow If you go to Edit Instance > Security Group The two headers ""All Security Groups"" and ""Instance Security Groups"" overflow when translated Change-Id: I5acd0e4670a6595e6f38ba7f17371b6329ed5836 Closes-Bug:#1288402",9622,Cindy Lu,"[3, 841, 1941, 4264, 6610, 6914, 7386, 8794, 9347, 9576, 9622, 9659, 9981, 10295, 10442, 10697, 11592]","['Jenkins', 'Akihiro Motoki', 'Lin Hua Cheng', 'Matthias Runge', 'Zhenguo Niu', 'Tatiana Ovchinnikova', 'Tzu-Mainn Chen', 'Robert Mizielski', 'Yuanhui Liu', 'Thai Tran', 'Cindy Lu', 'Matt Wood', 'Doug Fish', 'mariam john', 'Masco Kaliyamoorthy', 'Thiago Paiva Brito', 'Julie Gravel']",fix security group modal header overflow go edit instance security group two headers security groups instance security groups overflow translated changeid i5acd0e4670a6595e6f38ba7f17371b6329ed5836 closesbug1288402
https://review.opendev.org/92170,Fixes Hyper-V agent security groups disabling,Fixes Hyper-V agent security groups disabling Adds a check if the security groups have been disabled and removes the switch port's ACLs accordingly. Change-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5 Closes-Bug: #1299156 (cherry picked from commit 6d49834976bc08d2b8f7939bc2a217f5cc81db47),8213,Claudiu Belu,"[3, 2592, 5170, 8213, 9656, 9732, 9925, 10117, 10192, 10387, 10503]","['Jenkins', 'Mark McClain', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Ihar Hrachyshka', 'Mellanox CI', 'Midokura CI', 'PLUMgrid CI', 'Cisco CI', 'Freescale CI', 'Huawei ML2 CI']",fixes hyperv agent security groups disabling adds check security groups disabled removes switch ports acls accordingly changeid i20d716a3f182b8ea62da6b436b150aa9dafdb1c5 closesbug 1299156 cherry picked commit 6d49834976bc08d2b8f7939bc2a217f5cc81db47
https://review.opendev.org/92169,Fixes Hyper-V agent security group ICMP rules,Fixes Hyper-V agent security group ICMP rules Converts ICMP protocol to the equivalent protocol number. Adds default ICMP reject rules. Adds default ANY protocol rules if the rule does not contain any protocol. Closes-Bug: #1299159 Change-Id: Iff51a58fdb532eda0fe7a63abf96004ee74bb073,8213,Claudiu Belu,"[3, 2592, 5170, 8213, 9656, 9732, 9925, 10117, 10192, 10387, 10503]","['Jenkins', 'Mark McClain', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'Ihar Hrachyshka', 'Mellanox CI', 'Midokura CI', 'PLUMgrid CI', 'Cisco CI', 'Freescale CI', 'Huawei ML2 CI']",fixes hyperv agent security group icmp rules converts icmp protocol equivalent protocol number adds default icmp reject rules adds default protocol rules rule contain protocol closesbug 1299159 changeid iff51a58fdb532eda0fe7a63abf96004ee74bb073
https://review.opendev.org/102766,Description is mandatory parameter when creating Security Group,"Description is mandatory parameter when creating Security Group As per the bug, description should not be a mandatory parameter as it creates inconsistency with other opestack items which has description as an optional parameter. So in the fix, the description argument has been made optional. The old command was: nova secgroup-create <name> <description> Now new command will be: nova secgroup-create [--description <description>] <name> Change-Id: I2ded915be4a57f3c46e6cf5d1bf00e8c917cd0b9",12028,Sanjay Kumar Singh,"[3, 679, 1849, 2750, 10068]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Sean Dague', 'Welcome, new contributor!']",description mandatory parameter creating security group per bug description mandatory parameter creates inconsistency opestack items description optional parameter fix description argument made optional old command nova secgroupcreate name description new command nova secgroupcreate description description name changeid i2ded915be4a57f3c46e6cf5d1bf00e8c917cd0b9
https://review.opendev.org/107170,Spec for security groups management in Sahara,Spec for security groups management in Sahara It is not acceptable to require default security group with all ports open. Proposed solution will make Sahara much more flexible around security groups. Change-Id: If39d1f314b0a079d510a451f4e7a51f6ed073d3f,8411,Andrew Lazarev,"[3, 6786, 7125, 7555, 8411, 10670]","['Jenkins', 'Sergey Lukjanov', 'Alexander Ignatov', 'Matthew Farrellee', 'Andrew Lazarev', 'Michael McCune']",spec security groups management sahara acceptable require default security group ports open proposed solution make sahara much flexible around security groups changeid if39d1f314b0a079d510a451f4e7a51f6ed073d3f
https://review.opendev.org/108851,Add link to management security domain to security guide,"Add link to management security domain to security guide Migration network section needs link to management security domain (just in case reference is needed), and then changing indeed to with as it's currently not a comprehensible sentence. Change-Id: Iab1468bb15f823e4695e32b1b06a7e65d402ad85 Closes-Bug: #1344361",12398,Dan Sneddon,"[3, 167, 2807, 6547, 7063]","['Jenkins', 'Christian Berendt', 'Bryan D. Payne', 'Andreas Jaeger', 'Robert Clark']",add link management security domain security guide migration network section needs link management security domain case reference needed changing indeed currently comprehensible sentence changeid iab1468bb15f823e4695e32b1b06a7e65d402ad85 closesbug 1344361
https://review.opendev.org/725891,Fix security issues with EC2 credentials,"Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens. 1. Disable altering credential owner attributes or metadata Without this patch, an authenticated user can create an EC2 credential for themself for a project they have a role on, then update the credential to target a user and project completely unrelated to them. In the worst case, this could be the admin user and a project the admin user has a role assignment on. A token granted for an altered credential like this would allow the user to masquerade as the victim user. This patch ensures that when updating a credential, the new form of the credential is one the acting user has access to: if the system admin user is changing the credential, the new user ID or project ID could be anything, but regular users may only change the credential to be one that they still own. Relatedly, when a user uses an application credential or a trust to create an EC2 credential, keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used. Without this patch, a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's, application credential creator's, or OAuth1 access token authorizor's privileges on the project. This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential. 2. Respect token roles when creating EC2 credentials Without this patch, a trustee, an application credential user, or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor, application credential creator, or access token authorizor had on the project, regardless of whether the creator had delegated only a limited subset of roles. This was because the trust_id attribute of the EC2 access blob was ignored, and no metadata for the application credential or access token was recorded either. This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request. Conflicts (six removal in e2d83ae9, pep8 fixes in e2d83ae9, test helper in 52da4d0e12): keystone/api/credentials.py keystone/tests/unit/test_v3_application_credential.py keystone/tests/unit/test_v3_credential.py Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d)",8482,Colleen Murphy,"[1916, 5046, 6476, 8482, 8866, 11022, 16465, 21420, 22348, 28619, 31882]","['guang-yee', 'Lance Bragstad', 'Thomas Goirand', 'Colleen Murphy', 'Raildo Mascena de Sousa Filho', 'Rodrigo Duarte', 'Kristi Nikolla', 'Gage Hugo', 'Zuul', 'Dmitriy Rabotyagov', 'Wander Way']",fix security issues ec2 credentials change addresses several issues creation use ec2s3 credentials keystone tokens 1 disable altering credential owner attributes metadata without patch authenticated user create ec2 credential themself project role update credential target user project completely unrelated worst case could admin user project admin user role assignment token granted altered credential like would allow user masquerade victim user patch ensures updating credential new form credential one acting user access system admin user changing credential new user id project id could anything regular users may change credential one still relatedly user uses application credential trust create ec2 credential keystone automatically adds trust id application credential id metadata ec2 access blob knows token scoped used without patch user created credential way update access blob remove alter metadata escalate privileges fully authorized trustors application credential creators oauth1 access token authorizors privileges project patch fixes issue simply disallowing updates keystonecontrolled metadata credential 2 respect token roles creating ec2 credentials without patch trustee application credential user oauth1 access token holder could create ec2 credential application credential using roles trustor application credential creator access token authorizor project regardless whether creator delegated limited subset roles trustid attribute ec2 access blob ignored metadata application credential access token recorded either change ensures access delegation resource recorded metadata ec2 credential created passed token provider used authentication token provider look correct roles request conflicts six removal e2d83ae9 pep8 fixes e2d83ae9 test helper 52da4d0e12 keystoneapicredentialspy keystonetestsunittestv3applicationcredentialpy keystonetestsunittestv3credentialpy changeid i39d0d705839fbe31ac518ac9a82959e108cb7c1d closesbug 1872733 closesbug 1872755 closesbug 1872735 cherry picked commit 37e9907a176dad6843819b1bec4946c3aecc4548 cherry picked commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d
https://review.opendev.org/725886,Fix security issues with EC2 credentials,"Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens. 1. Disable altering credential owner attributes or metadata Without this patch, an authenticated user can create an EC2 credential for themself for a project they have a role on, then update the credential to target a user and project completely unrelated to them. In the worst case, this could be the admin user and a project the admin user has a role assignment on. A token granted for an altered credential like this would allow the user to masquerade as the victim user. This patch ensures that when updating a credential, the new form of the credential is one the acting user has access to: if the system admin user is changing the credential, the new user ID or project ID could be anything, but regular users may only change the credential to be one that they still own. Relatedly, when a user uses an application credential or a trust to create an EC2 credential, keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used. Without this patch, a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's, application credential creator's, or OAuth1 access token authorizor's privileges on the project. This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential. 2. Respect token roles when creating EC2 credentials Without this patch, a trustee, an application credential user, or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor, application credential creator, or access token authorizor had on the project, regardless of whether the creator had delegated only a limited subset of roles. This was because the trust_id attribute of the EC2 access blob was ignored, and no metadata for the application credential or access token was recorded either. This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request. Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735",8482,Colleen Murphy,"[1004, 1916, 5046, 6476, 8482, 11022, 16465, 21420, 22348, 31882]","['Mohammed Naser', 'guang-yee', 'Lance Bragstad', 'Thomas Goirand', 'Colleen Murphy', 'Rodrigo Duarte', 'Kristi Nikolla', 'Gage Hugo', 'Zuul', 'Wander Way']",fix security issues ec2 credentials change addresses several issues creation use ec2s3 credentials keystone tokens 1 disable altering credential owner attributes metadata without patch authenticated user create ec2 credential themself project role update credential target user project completely unrelated worst case could admin user project admin user role assignment token granted altered credential like would allow user masquerade victim user patch ensures updating credential new form credential one acting user access system admin user changing credential new user id project id could anything regular users may change credential one still relatedly user uses application credential trust create ec2 credential keystone automatically adds trust id application credential id metadata ec2 access blob knows token scoped used without patch user created credential way update access blob remove alter metadata escalate privileges fully authorized trustors application credential creators oauth1 access token authorizors privileges project patch fixes issue simply disallowing updates keystonecontrolled metadata credential 2 respect token roles creating ec2 credentials without patch trustee application credential user oauth1 access token holder could create ec2 credential application credential using roles trustor application credential creator access token authorizor project regardless whether creator delegated limited subset roles trustid attribute ec2 access blob ignored metadata application credential access token recorded either change ensures access delegation resource recorded metadata ec2 credential created passed token provider used authentication token provider look correct roles request changeid i39d0d705839fbe31ac518ac9a82959e108cb7c1d closesbug 1872733 closesbug 1872755 closesbug 1872735
https://review.opendev.org/726169,Raise quotas for security group rules.,"Raise quotas for security group rules. Currently we do have quotas for SG rules set to 100. While that's enough for IPv4 networking, it insufficient for the IPv6. There are tests, where a lot of security group rules are created, which number on the IPv6 networks increases even more. We propose to raise that number to 300. b00 Brave SG rules. Change-Id: I3efd668d8a58706443426f14d77c119533b5dffb",13692,Roman Dobosz,"[11600, 13692, 22348, 23567]","['Micha? Dulko', 'Roman Dobosz', 'Zuul', 'Luis Tomas Bolivar']",raise quotas security group rules currently quotas sg rules set 100 thats enough ipv4 networking insufficient ipv6 tests lot security group rules created number ipv6 networks increases even propose raise number 300 b00 brave sg rules changeid i3efd668d8a58706443426f14d77c119533b5dffb
https://review.opendev.org/725888,Fix security issues with EC2 credentials,"Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens. 1. Disable altering credential owner attributes or metadata Without this patch, an authenticated user can create an EC2 credential for themself for a project they have a role on, then update the credential to target a user and project completely unrelated to them. In the worst case, this could be the admin user and a project the admin user has a role assignment on. A token granted for an altered credential like this would allow the user to masquerade as the victim user. This patch ensures that when updating a credential, the new form of the credential is one the acting user has access to: if the system admin user is changing the credential, the new user ID or project ID could be anything, but regular users may only change the credential to be one that they still own. Relatedly, when a user uses an application credential or a trust to create an EC2 credential, keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used. Without this patch, a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's, application credential creator's, or OAuth1 access token authorizor's privileges on the project. This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential. 2. Respect token roles when creating EC2 credentials Without this patch, a trustee, an application credential user, or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor, application credential creator, or access token authorizor had on the project, regardless of whether the creator had delegated only a limited subset of roles. This was because the trust_id attribute of the EC2 access blob was ignored, and no metadata for the application credential or access token was recorded either. This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request. Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548)",8482,Colleen Murphy,"[1916, 5046, 6476, 8482, 11022, 11904, 16465, 21420, 22348, 31882]","['guang-yee', 'Lance Bragstad', 'Thomas Goirand', 'Colleen Murphy', 'Rodrigo Duarte', 'Sean McGinnis', 'Kristi Nikolla', 'Gage Hugo', 'Zuul', 'Wander Way']",fix security issues ec2 credentials change addresses several issues creation use ec2s3 credentials keystone tokens 1 disable altering credential owner attributes metadata without patch authenticated user create ec2 credential themself project role update credential target user project completely unrelated worst case could admin user project admin user role assignment token granted altered credential like would allow user masquerade victim user patch ensures updating credential new form credential one acting user access system admin user changing credential new user id project id could anything regular users may change credential one still relatedly user uses application credential trust create ec2 credential keystone automatically adds trust id application credential id metadata ec2 access blob knows token scoped used without patch user created credential way update access blob remove alter metadata escalate privileges fully authorized trustors application credential creators oauth1 access token authorizors privileges project patch fixes issue simply disallowing updates keystonecontrolled metadata credential 2 respect token roles creating ec2 credentials without patch trustee application credential user oauth1 access token holder could create ec2 credential application credential using roles trustor application credential creator access token authorizor project regardless whether creator delegated limited subset roles trustid attribute ec2 access blob ignored metadata application credential access token recorded either change ensures access delegation resource recorded metadata ec2 credential created passed token provider used authentication token provider look correct roles request changeid i39d0d705839fbe31ac518ac9a82959e108cb7c1d closesbug 1872733 closesbug 1872755 closesbug 1872735 cherry picked commit 37e9907a176dad6843819b1bec4946c3aecc4548
https://review.opendev.org/107881,Correct a awkward phrase of Security Guide,"Correct a awkward phrase of Security Guide Section: Invalid Login Attempts, last paragraph of Chapter 18 of ""Identity in OpenStack Security Guide"" Change-Id: I1436aa751a669acd5eed50f323e170847aa1d7aa Closes-bug: #1342335",8290,liusheng,"[3, 167, 2807]","['Jenkins', 'Christian Berendt', 'Bryan D. Payne']",correct awkward phrase security guide section invalid login attempts last paragraph chapter 18 identity openstack security guide changeid i1436aa751a669acd5eed50f323e170847aa1d7aa closesbug 1342335
https://review.opendev.org/107191,Fix grammatical error in security guide,Fix grammatical error in security guide Change-Id: Ifb174d348386f1f6ef6d0746cdba68dcd9d9d3e8 Closes-Bug: #1342267,7128,Mark Vanderwiel,"[3, 2807, 6547, 7063]","['Jenkins', 'Bryan D. Payne', 'Andreas Jaeger', 'Robert Clark']",fix grammatical error security guide changeid ifb174d348386f1f6ef6d0746cdba68dcd9d9d3e8 closesbug 1342267
https://review.opendev.org/106866,Grammar/Style changes to OpenStack Security Guide,modified: ch_case-studies-identity-management.xml Fix for Bug: 1317215 Nonsencial sentence in Chapter 22. Case studies: Identity management in OpenStack Security Guide Change-Id: I23eb82a0ba2a075d887eceda6f19e4f9997b1c2a,8560,Sriram Subramanian,"[3, 159, 2807, 6547, 7063, 10068]","['Jenkins', 'Eric Windisch', 'Bryan D. Payne', 'Andreas Jaeger', 'Robert Clark', 'Welcome, new contributor!']",modified chcasestudiesidentitymanagementxml fix bug 1317215 nonsencial sentence chapter 22 case studies identity management openstack security guide changeid i23eb82a0ba2a075d887eceda6f19e4f9997b1c2a
https://review.opendev.org/104231,Make security rules with All translatable,"Make security rules with All translatable Use the python translation function on security rules which are not just acryonyms. Also there is no reason for the security rules to use the word ""All"" in all caps. Change-Id: Iaac4b01dfc096d589ac4a1e8c9ac772917b4942c Closes-Bug: #1334031",9981,Doug Fish,"[3, 1032, 6526, 7128, 8794, 9884]","['Jenkins', 'Justin Shepherd', 'David Geng', 'Mark Vanderwiel', 'Robert Mizielski', 'Wherenow.org CI']",make security rules translatable use python translation function security rules acryonyms also reason security rules use word caps changeid iaac4b01dfc096d589ac4a1e8c9ac772917b4942c closesbug 1334031
https://review.opendev.org/95435,Convert security group tests to httpretty,Convert security group tests to httpretty Change-Id: Icdc2c2c6f66a014c29241e262d21d50e39128105 blueprint: httpretty-testing,7191,Jamie Lennox,"[3, 679, 2271, 2750, 7191, 8871]","['Jenkins', 'Kevin L. Mitchell', 'Michael Still', 'Sean Dague', 'Jamie Lennox', 'Elastic Recheck']",convert security group tests httpretty changeid icdc2c2c6f66a014c29241e262d21d50e39128105 blueprint httprettytesting
https://review.opendev.org/104687,Update docs to reflect the changes in security group section in horizon,Update docs to reflect the changes in security group section in horizon Horizon has gone through multiple tab changes. This patch changes the docs to reflect the recent changes in horizon related to security group section. Change-Id: I1ba56aacb03506c480a1ab24992a50c210f07899 Closes-Bug: #1225172,5892,pritesh,"[3, 5892, 6786, 7109, 7125, 7213, 7710, 8411, 10670]","['Jenkins', 'pritesh', 'Sergey Lukjanov', 'Dmitry Mescheryakov (dmitryme)', 'Alexander Ignatov', 'Sahara Hadoop Cluster CI', 'Sergey Reshetnyak', 'Andrew Lazarev', 'Michael McCune']",update docs reflect changes security group section horizon horizon gone multiple tab changes patch changes docs reflect recent changes horizon related security group section changeid i1ba56aacb03506c480a1ab24992a50c210f07899 closesbug 1225172
https://review.opendev.org/95434,Convert security group rules tests to httpretty,Convert security group rules tests to httpretty Change-Id: I7b68712b05764661d3e7c3dcac7fce041e88e293 blueprint: httpretty-testing,7191,Jamie Lennox,"[3, 679, 2750, 8871]","['Jenkins', 'Kevin L. Mitchell', 'Sean Dague', 'Elastic Recheck']",convert security group rules tests httpretty changeid i7b68712b05764661d3e7c3dcac7fce041e88e293 blueprint httprettytesting
https://review.opendev.org/86062,Improve handling of security group updates,"Improve handling of security group updates Currently updates to security group rules or membership are handled by immediately triggering a call to refresh_firewall. This call is quite expensive, and it is often executed with a very high frequency. With this patch, the notification handler simply adds devices for which the firewall should be refreshed to a set, which will then be processed in another routine. The latter is supposed to be called in the main agent loop. This patch for 'provider updates' simply sets a flag for refreshing the firewall for all devices. In order to avoid breaking other agents leveraging the security group RPC mixin, the reactive behaviour is still available, and is still the default way of handling security group updates. Patching into Havana as this fixes the issue of the agents flapping Partial-Bug: #1253993 Partially implements blueprint: neutron-tempest-parallel Cherry-picked from I219c6bdf63b0b5e945b655677f9e28fa591f03cd I1574544734865506ff5383404516cc9349c16ec4 Id9ae8aef0555109bd88600965adb2744ab924430 Change-Id: Idc682f19ebfef4c00b6bb510ebd7d77775f4bbca",6698,Robert Pothier,"[3, 105, 261, 704, 2592, 4656, 5170, 6698, 7448, 9787, 9925, 10117, 10192, 10387, 10503]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Edgar Magana', 'Mark McClain', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Robert Pothier', 'Carl Baldwin', 'Big Switch CI', 'Midokura CI', 'PLUMgrid CI', 'Cisco CI', 'Freescale CI', 'Huawei ML2 CI']",improve handling security group updates currently updates security group rules membership handled immediately triggering call refreshfirewall call quite expensive often executed high frequency patch notification handler simply adds devices firewall refreshed set processed another routine latter supposed called main agent loop patch provider updates simply sets flag refreshing firewall devices order avoid breaking agents leveraging security group rpc mixin reactive behaviour still available still default way handling security group updates patching havana fixes issue agents flapping partialbug 1253993 partially implements blueprint neutrontempestparallel cherrypicked i219c6bdf63b0b5e945b655677f9e28fa591f03cd i1574544734865506ff5383404516cc9349c16ec4 id9ae8aef0555109bd88600965adb2744ab924430 changeid idc682f19ebfef4c00b6bb510ebd7d77775f4bbca
https://review.opendev.org/80932,Trigger provider security group update for RA,"Trigger provider security group update for RA For IPv6 subnets, router RA rule is added to compute node to allow VM to accept RA from router interface on network node. However, currently this is only done when router port which sends RA is created *before* VM port is created. This fix triggers provider security group rule update for IPv6 subnet when router interface port is created or updated. Change-Id: I7d950f12909a0c2a82b129279e6249b9fac80112 Closes-Bug: 1290252",7183,Xu Han Peng,"[3, 261, 841, 2592, 4656, 5170, 6685, 6788, 7183, 7448, 7787, 8788, 9681, 9732, 9787, 9845, 9885, 9925, 10116, 10117, 10153, 10184, 10192, 10294, 10386, 10387, 10503, 10692]","['Jenkins', 'Salvatore Orlando', 'Akihiro Motoki', 'Mark McClain', 'Sean M. Collins', 'Microsoft Hyper-V CI', 'Baodong (Robert) Li', 'Rossella Sblendido', 'Xu Han Peng', 'Carl Baldwin', 'Kevin Benton', 'Miguel Angel Ajo', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Embrane CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'OpenDaylight CI', 'Freescale CI', 'Huawei ML2 CI', 'Brocade Vyatta CI']",trigger provider security group update ra ipv6 subnets router ra rule added compute node allow vm accept ra router interface network node however currently done router port sends ra created vm port created fix triggers provider security group rule update ipv6 subnet router interface port created updated changeid i7d950f12909a0c2a82b129279e6249b9fac80112 closesbug 1290252
https://review.opendev.org/99912,Raise sane error when failing to modify security group,"log and reraise error when failing to modify security group Horizon catches and propagates meaningful exceptions back to the user. This code previously caught all exceptions and then raised Exception (with an unhelpful message), which Horizon propagated as an even less helpful message. By reraising the original error, we give Horizon a fighting chance of passing a useful error message to the user. Change-Id: I38d9977d6d20dfeddbb77b1a7e63e74597bf7331",11748,Chris St. Pierre,"[3, 2455, 4264, 6914, 9317, 9622, 11748]","['Jenkins', 'Tihomir Trifonov', 'Matthias Runge', 'Tatiana Ovchinnikova', 'Ana Krivokapic', 'Cindy Lu', 'Chris St. Pierre']",log reraise error failing modify security group horizon catches propagates meaningful exceptions back user code previously caught exceptions raised exception unhelpful message horizon propagated even less helpful message reraising original error give horizon fighting chance passing useful error message user changeid i38d9977d6d20dfeddbb77b1a7e63e74597bf7331
https://review.opendev.org/104184,Fix creation of ICMP security group rule when using Neutron,Fix creation of ICMP security group rule when using Neutron. Update ICMP allow rule to use the value -1 for to_port and from_port parameters as ICMP protocol does not have port. Change-Id: Idc76e156f07b99574b6b77dba803d5a4f823380b Closes-bug: #1336704,7309,Bruno Semperlotti,"[3, 4428, 6172, 7369]","['Jenkins', 'Liyingjun', 'Boris Pavlovic', 'Sergey Skripnick']",fix creation icmp security group rule using neutron update icmp allow rule use value 1 toport fromport parameters icmp protocol port changeid idc76e156f07b99574b6b77dba803d5a4f823380b closesbug 1336704
https://review.opendev.org/102072,OFAgent: Improve handling of security group updates,OFAgent: Improve handling of security group updates Port the following patch to OFAgent. commit: 3046c4ae22b10f9e4fa83a47bfe089554d4a4681 https://review.openstack.org/#/c/63100/ Partial-Bug: 1293265 Change-Id: Iecdfee894ff2fd5f05f63f040dd70821af124737 (cherry picked from commit 6e46769594c856647b0f9ab0dddbe6dd9c9163a1),8344,fumihiko kakuma,"[3, 2592, 4726, 5170, 6854, 9732, 10153]","['Jenkins', 'Mark McClain', 'Yoshihiro Kaneko', 'Microsoft Hyper-V CI', 'YAMAMOTO Takashi', 'Mellanox CI', 'One Convergence CI']",ofagent improve handling security group updates port following patch ofagent commit 3046c4ae22b10f9e4fa83a47bfe089554d4a4681 httpsreviewopenstackorgc63100 partialbug 1293265 changeid iecdfee894ff2fd5f05f63f040dd70821af124737 cherry picked commit 6e46769594c856647b0f9ab0dddbe6dd9c9163a1
https://review.opendev.org/103400,Removes security guide from this repo,"Wait to merge: Removes security guide from this repo When Security Guide is in openstack/security-guide, this can merge. Realize that https://review.openstack.org/#/c/102449/ will need to be applied if it hasn't already. Change-Id: I2213a40da494a0d62c65e4a3d35074fab3e909f4",964,Anne Gentle,"[3, 2448, 2807, 6547]","['Jenkins', 'Diane Fleming', 'Bryan D. Payne', 'Andreas Jaeger']",wait merge removes security guide repo security guide openstacksecurityguide merge realize httpsreviewopenstackorgc102449 need applied hasnt already changeid i2213a40da494a0d62c65e4a3d35074fab3e909f4
https://review.opendev.org/103295,Copy of security guide from openstack-manuals,"Copy of security guide from openstack-manuals This is a direct copy of the security guide as it stands today in the openstack-manuals repositry. This commit will serve to move the guide into this repository. Once this is complete, we can remove the security guide from openstack-manuals. Change-Id: I2be2db618b3bb9fc4b03ee97ca8d48f75cb2f507",2807,Bryan D. Payne,"[3, 2807]","['Jenkins', 'Bryan D. Payne']",copy security guide openstackmanuals direct copy security guide stands today openstackmanuals repositry commit serve move guide repository complete remove security guide openstackmanuals changeid i2be2db618b3bb9fc4b03ee97ca8d48f75cb2f507
https://review.opendev.org/102378,Make security rules with All translatable,"Make security rules with All translatable The security rule names that include the word ""All"" should be translatable. I've included a SECURITY_GROUP_RULES value with the 3 translatable rules from local_settings.py.example so that we will actually have translations for those values. Change-Id: Id21ac0e6ea328ab18f35f7711de356015db5f50a Closes-bug: #1334031",9981,Doug Fish,"[3, 1941, 2455, 6610, 6914, 9317, 9622, 9981]","['Jenkins', 'Lin Hua Cheng', 'Tihomir Trifonov', 'Zhenguo Niu', 'Tatiana Ovchinnikova', 'Ana Krivokapic', 'Cindy Lu', 'Doug Fish']",make security rules translatable security rule names include word translatable ive included securitygrouprules value 3 translatable rules localsettingspyexample actually translations values changeid id21ac0e6ea328ab18f35f7711de356015db5f50a closesbug 1334031
https://review.opendev.org/101813,Exclude security group related quotas when the extension disabled,"Exclude security group related quotas when the extension disabled When using neutron as network service and security group extension disabled, the quotas update workflow will hit some error, because 'security_group' and 'security_group_rule' are passed to the quotas update method for neutron. This patch fixes the problem by excluding these two quotas when neutron security group extension is disabled. Change-Id: I0011e1c0956d3248b748f109d5ab5e93ec55f7d3 Closes-bug: 1330632",4428,Liyingjun,"[3, 2455, 4428, 4978, 8040, 8648, 8871, 9981]","['Jenkins', 'Tihomir Trifonov', 'Liyingjun', 'Julie Pichon', 'Timur Sufiev', 'Radomir Dopieralski', 'Elastic Recheck', 'Doug Fish']",exclude security group related quotas extension disabled using neutron network service security group extension disabled quotas update workflow hit error securitygroup securitygrouprule passed quotas update method neutron patch fixes problem excluding two quotas neutron security group extension disabled changeid i0011e1c0956d3248b748f109d5ab5e93ec55f7d3 closesbug 1330632
https://review.opendev.org/96466,Implement security groups and firewall filtering methods,"Implement security groups and firewall filtering methods Implement security groups and firewall filtering related methods in the Nova Ironic Driver, the methods implemented are: * refresh_security_group_rules() invoked when security group rules are updated * refresh_security_group_members() invoked when instances are added/removed to a security group. * refresh_provider_fw_rules() invoked when a firewall rule is added or removed from the list of rules. * refresh_instance_security_rules() invoked when an instance gets added to or removed from the security group the instance is a member of or if the group gains or looses a rule. * ensure_filtering_rules_for_instance() used to ensure that an instance's filtering rules are enabled. * unfilter_instance() to stop filtering the instance. Change-Id: Ib464dc6df4b03c952d564fdd4185ffbab59a8bc8",6773,Lucas Alvares Gomes,"[3, 2889, 6773, 8106, 10239]","['Jenkins', 'Aeva Black', 'Lucas Alvares Gomes', 'Haomeng,Wang', 'Dmitry Tantsur']",implement security groups firewall filtering methods implement security groups firewall filtering related methods nova ironic driver methods implemented refreshsecuritygrouprules invoked security group rules updated refreshsecuritygroupmembers invoked instances addedremoved security group refreshproviderfwrules invoked firewall rule added removed list rules refreshinstancesecurityrules invoked instance gets added removed security group instance member group gains looses rule ensurefilteringrulesforinstance used ensure instances filtering rules enabled unfilterinstance stop filtering instance changeid ib464dc6df4b03c952d564fdd4185ffbab59a8bc8
https://review.opendev.org/101910,Fixing wrong access to Mistral security context in engine,Fixing wrong access to Mistral security context in engine Change-Id: I8b92c0a225f2db49d6deca3d06f70271156b7073,8731,Renat Akhmerov,"[3, 7227, 8592, 8731, 8824, 9432]","['Jenkins', 'Timur Nurlygayanov', 'Anastasia Kuznetsova', 'Renat Akhmerov', 'Sergey Murashov', 'Dmitri Zimine']",fixing wrong access mistral security context engine changeid i8b92c0a225f2db49d6deca3d06f70271156b7073
https://review.opendev.org/62011,Add some security group tests for the V1_1 API,Add security group tests for the V3 API This patch adds security groups tests for the V3 API Also adds a test for NoUniqueMatch exception Change-Id: Ic9947eaed34be100c529f021432f0c388a7c3ddb Closes-Bug: #1250501,7770,Abhishek Chanda,"[3, 679, 1849, 4690, 6873, 7770]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'melanie witt', 'Matt Riedemann', 'Abhishek Chanda']",add security group tests v3 api patch adds security groups tests v3 api also adds test nouniquematch exception changeid ic9947eaed34be100c529f021432f0c388a7c3ddb closesbug 1250501
https://review.opendev.org/724264,ensure default security group exists when filter by project_id,"ensure default security group exists when filter by project_id now filtter security groups by tenant_id, will auto ensure default security group, but project_id not. tenant_id is deprecated, we are used to filtering by project_id. Change-Id: I3f1a2698768e2d66811bb290a892a1b089dff4ed",30380,ZhouHeng,"[5948, 8313, 9732, 9845, 11975, 12860, 16688, 22348, 26622, 30380]","['Oleg Bondarev', 'Lajos Katona', 'Mellanox CI', 'Arista CI', 'Slawek Kaplonski', 'Dongcan Ye', 'Rodolfo Alonso', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'ZhouHeng']",ensure default security group exists filter projectid filtter security groups tenantid auto ensure default security group projectid tenantid deprecated used filtering projectid changeid i3f1a2698768e2d66811bb290a892a1b089dff4ed
https://review.opendev.org/722652,"Check ""security_group_rule"" quota during security group creation","Check ""security_group_rule"" quota during security group creation The tracked resources quota check is done at the beginning of an API call to the Neutron server. The API call contains a resource and an action over the resource. In case of creation, the server checks if the number of items requested fits in the existing quota. In case of security group creation, the tracked resource checked is ""security_group"". But ""SecurityGroupDbMixin.create_security_group"" method also creates several default rules for the new group and the quota for ""security_group_rule"" is not enforced. This patch checks the number of security group rules being created (""delta"") and checks in the plugin method (not in the API method) if there is enough room for those new rules (tracked resource ""security_group_rule""). Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 Closes-Bug: #1858680 (cherry picked from commit 936bd67aa42b2e06241d309315b895c9c9c49dcc)",21798,Bernard Cafarelli,"[1131, 11975, 16688, 21798, 22348, 26622]","['Brian Haley', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",check securitygrouprule quota security group creation tracked resources quota check done beginning api call neutron server api call contains resource action resource case creation server checks number items requested fits existing quota case security group creation tracked resource checked securitygroup securitygroupdbmixincreatesecuritygroup method also creates several default rules new group quota securitygrouprule enforced patch checks number security group rules created delta checks plugin method api method enough room new rules tracked resource securitygrouprule changeid i0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 closesbug 1858680 cherry picked commit 936bd67aa42b2e06241d309315b895c9c9c49dcc
https://review.opendev.org/721078,Test security group creation with insufficient rules quota,Test security group creation with insufficient rules quota As for each new security group there are 2 default rules created we need to make sure that security group will not be created if security group rules quota is insufficient for 2 additional rules Change-Id: Ie4dab7d27a6bc58899967220aa8e8f004dd91433,31450,Alex Katz,"[11975, 13995, 16688, 19118, 21798, 22348, 31450]","['Slawek Kaplonski', 'Nate Johnston', 'Rodolfo Alonso', 'Eran Kuris', 'Bernard Cafarelli', 'Zuul', 'Alex Katz']",test security group creation insufficient rules quota new security group 2 default rules created need make sure security group created security group rules quota insufficient 2 additional rules changeid ie4dab7d27a6bc58899967220aa8e8f004dd91433
https://review.opendev.org/99029,Sort security group rules by protocol and port,"Sort security group rules table by port When adding new rules to a security group, it is useful to have the rules sorted consistently across page reloads. This patch ensures that the rules are sorted by port. It is still be possible to manually sort the table using the client side capabilities, but by default the table is now sorted by port server side. Change-Id: I36d29461a8437f5689425706a7faae3399c6bf23 Closes-bug: #1326132",9317,Ana Krivokapic,"[3, 2455, 4264, 8090, 8648, 8871, 9317, 9659, 10112]","['Jenkins', 'Tihomir Trifonov', 'Matthias Runge', 'Chad Roberts', 'Radomir Dopieralski', 'Elastic Recheck', 'Ana Krivokapic', 'Matt Wood', 'Jason E. Rist']",sort security group rules table port adding new rules security group useful rules sorted consistently across page reloads patch ensures rules sorted port still possible manually sort table using client side capabilities default table sorted port server side changeid i36d29461a8437f5689425706a7faae3399c6bf23 closesbug 1326132
https://review.opendev.org/100213,Fix security group rules addition for a tenant,Fix security group rules addition for a tenant Change-Id: I8096c7ed0115eec84a8d5a0ea07ed2367f2372cd,7732,Ivan Berezovskiy,"[3, 7604, 7745]","['Jenkins', 'Sergey Kolekonov', 'Denis Egorenko']",fix security group rules addition tenant changeid i8096c7ed0115eec84a8d5a0ea07ed2367f2372cd
https://review.opendev.org/93505,Extension for Network Security Group,"Extension for Network Security Group Neutron offers virtual network management functionaries. Because we can define any number of network very flexible, so virtual network topologies tend to map security policy. On the other hand, we can specify security group per port basis. In this blueprint, we are allowing to specify security groups in network for better API usability. Change-Id: I760f5d99d17edbdc4ebf9752869f9e1f3a8d3a21",2031,Nachi Ueno,"[3, 105, 333, 841, 1935, 2031, 5948, 6788, 6854, 7962, 8449]","['Jenkins', 'Kyle Mestery', 'Isaku Yamahata', 'Akihiro Motoki', 'Tomoe Sugihara', 'Nachi Ueno', 'Oleg Bondarev', 'Rossella Sblendido', 'YAMAMOTO Takashi', 'Ronak Shah', 'Marios Andreou']",extension network security group neutron offers virtual network management functionaries define number network flexible virtual network topologies tend map security policy hand specify security group per port basis blueprint allowing specify security groups network better api usability changeid i760f5d99d17edbdc4ebf9752869f9e1f3a8d3a21
https://review.opendev.org/98795,Bugfix of bug causing security groups from allow_ssh to remain,"Bugfix of bug causing security groups from allow_ssh to remain. When running boot-runcommand-delete scenerio and something happend during this (for example ssh-timeout) vm was not deleted immidetly, and thus security group could not be deleted. Adding secgroup cleaning to nova cleanup after servers cleanup to ensure everything is properly deleted. Change-Id: I84f7cc27f03c8c54fa40b2b115d49038dad21268",10787,Michal Jastrzebski (inc0),"[3, 6172, 8507]","['Jenkins', 'Boris Pavlovic', 'Mikhail Dubov']",bugfix bug causing security groups allowssh remain running bootruncommanddelete scenerio something happend example sshtimeout vm deleted immidetly thus security group could deleted adding secgroup cleaning nova cleanup servers cleanup ensure everything properly deleted changeid i84f7cc27f03c8c54fa40b2b115d49038dad21268
https://review.opendev.org/97481,Added security group rules for server,"Added security group rules for server Added a new resource ""server_security_group"" for adding the security rules to server. Added the property ""security_groups"" for each servers. Now able to ping the created server with its floating IP. Change-Id: Ic801d9fc6c933f022cc0997a69a96fcc68057ba9 Implements: security group rule Closes-Bug: #1309082",10735,Petersingh Anburaj,"[3, 4571, 7193, 10068, 10735]","['Jenkins', 'Steve Baker', 'Thomas Spatzier', 'Welcome, new contributor!', 'Petersingh Anburaj']",added security group rules server added new resource serversecuritygroup adding security rules server added property securitygroups servers able ping created server floating ip changeid ic801d9fc6c933f022cc0997a69a96fcc68057ba9 implements security group rule closesbug 1309082
https://review.opendev.org/98739,Fix wrong URLs of default security group rules management,Fix wrong URLs of default security group rules management 1. 'os-security-group-rules' in the URLs should be 'os-security-group-default-rules'; 2. add guide for deleting default security group rule Change-Id: I11bf1d88182a5117da1d89696f03552c4131def6 Closes-bug: #1326950,6732,Lingxian Kong,"[3, 2448]","['Jenkins', 'Diane Fleming']",fix wrong urls default security group rules management 1 ossecuritygrouprules urls ossecuritygroupdefaultrules 2 add guide deleting default security group rule changeid i11bf1d88182a5117da1d89696f03552c4131def6 closesbug 1326950
https://review.opendev.org/98796,"Corrected 'were' to 'are' in description of OSSN, Security Guide: Chapter 09","Corrected 'were' to 'are' in description of OSSN, Security Guide: Chapter 09 Closes-Bug: #1328101 Change-Id: I033cbf7032a588a9fb6c4cd3089b957083edf93d",11397,Doug Chivers,"[3, 2448]","['Jenkins', 'Diane Fleming']",corrected description ossn security guide chapter 09 closesbug 1328101 changeid i033cbf7032a588a9fb6c4cd3089b957083edf93d
https://review.opendev.org/98581,Fix wrong title of security group rules management subsection,Fix wrong title of security group rules management subsection 'Delete a security group' should be 'Delete a security group rule' Closes-Bug: #1327541 Change-Id: Ieefcbafc47c338c92ff117b4d6be8196d2c18028,6732,Lingxian Kong,"[3, 6772, 7923]","['Jenkins', 'Stephen Gordon', 'Gauvain Pocentek']",fix wrong title security group rules management subsection delete security group delete security group rule closesbug 1327541 changeid ieefcbafc47c338c92ff117b4d6be8196d2c18028
https://review.opendev.org/92893,Fix security group race condition while listing and deleting rules,"Fix security group race condition while listing and deleting rules Previously, there was a race condition that could occur if one was listing a security group which contained a rule which referenced another security group as an additional api call is used to look up the security group's name which is returned (rather than id) via the API. The problem occurs if this security group is deleted in which case a 404 was raised. This patch fixes this issue by catching the 404 and ignoring the rule as its already deleted as there is a constrain enforced that you cannot delete a security group if another security group has a rule that references that security group. Change-Id: I3855b8d3a1bd2f7c88901da071f9bd5581bd56e4 Closes-bug: 1262566",4395,Aaron Rosen,"[3, 7, 261, 748, 1653, 1812, 1849, 2750, 4393, 4395, 4912, 5170, 6873, 7044, 8871, 9008, 9578, 10118, 10385]","['Jenkins', 'Jay Pipes', 'Salvatore Orlando', 'Armando Migliaccio', 'garyk', 'p-draigbrady', 'Joe Gordon', 'Sean Dague', 'Dan Smith', 'Aaron Rosen', 'Michael H Wilson', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'Allan Metts', 'Elastic Recheck', 'VMware NSX CI', 'DB Datasets CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",fix security group race condition listing deleting rules previously race condition could occur one listing security group contained rule referenced another security group additional api call used look security groups name returned rather id via api problem occurs security group deleted case 404 raised patch fixes issue catching 404 ignoring rule already deleted constrain enforced delete security group another security group rule references security group changeid i3855b8d3a1bd2f7c88901da071f9bd5581bd56e4 closesbug 1262566
https://review.opendev.org/98052,Fix default port of MS SQL in security group template,Fix default port of MS SQL in security group template Change-Id: I6ee7fb7d0491b64478d17d7bb9f7fb135a08072d Closes-Bug: #1250029,6610,Zhenguo Niu,"[3, 1918, 3153]","['Jenkins', 'François Charlier', 'Emilien Macchi']",fix default port ms sql security group template changeid i6ee7fb7d0491b64478d17d7bb9f7fb135a08072d closesbug 1250029
https://review.opendev.org/97845,Fix security group race condition while listing and deleting rules,"Fix security group race condition while listing and deleting rules Previously, there was a race condition that could occur if one was listing a security group which contained a rule which referenced another security group as an additional api call is used to look up the security group's name which is returned (rather than id) via the API. The problem occurs if this security group is deleted in which case a 404 was raised. This patch fixes this issue by catching the 404 and ignoring the rule as its already deleted as there is a constraint enforced that you cannot delete a security group if another security group has a rule that references that security group. Change-Id: I3855b8d3a1bd2f7c88901da071f9bd5581bd56e4 Closes-bug: 1262566",2750,Sean Dague,"[3, 1561, 1653, 1849, 2750, 4393, 4395, 5170, 6786, 6873, 8871, 10118]","['Jenkins', 'Russell Bryant', 'garyk', 'Joe Gordon', 'Sean Dague', 'Dan Smith', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Sergey Lukjanov', 'Matt Riedemann', 'Elastic Recheck', 'IBM PowerKVM CI']",fix security group race condition listing deleting rules previously race condition could occur one listing security group contained rule referenced another security group additional api call used look security groups name returned rather id via api problem occurs security group deleted case 404 raised patch fixes issue catching 404 ignoring rule already deleted constraint enforced delete security group another security group rule references security group changeid i3855b8d3a1bd2f7c88901da071f9bd5581bd56e4 closesbug 1262566
https://review.opendev.org/88317,Relax security group rules cleanup,"Relax security group rules cleanup Security groups rules are automatically deleted when we delete the security group so this is not really necessary, besides that, nova-network doesn't provide a way to get current status of a rule (a proof of concept here https://review.openstack.org/#/c/85725/) which means that we never know if it is really deleted. Currently it works cause we don't really check the timeouts, but a the next patch of this series - https://review.openstack.org/#/c/82709/ will and depends on this to work. Change-Id: If82d1727b2c5f752e48a2da2c8a029e346f3593e",5174,Mauro Rodrigues,"[3, 2750, 5174, 5196, 8871, 9008, 10118, 10385]","['Jenkins', 'Sean Dague', 'Mauro Rodrigues', 'Matthew Treinish', 'Elastic Recheck', 'VMware NSX CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",relax security group rules cleanup security groups rules automatically deleted delete security group really necessary besides novanetwork doesnt provide way get current status rule proof concept httpsreviewopenstackorgc85725 means never know really deleted currently works cause dont really check timeouts next patch series httpsreviewopenstackorgc82709 depends work changeid if82d1727b2c5f752e48a2da2c8a029e346f3593e
https://review.opendev.org/85258,Verify delete security group response of V2 API,Verify delete security group response of V2 API This patch adds the JSON schema for response status of Nova security group delete API to block the backward incompatibility change in the future. delete security group does not return the response body. Response status of this API is 202. Partially implements blueprint nova-api-attribute-test Change-Id: I8ce635dfdb41cacaf433b7e14f0fe3b798ef839a,7882,Yuiko Takada Mori,"[3, 1192, 5174, 5196, 5292, 6167, 7293, 7882, 8556, 8824, 8871, 10118, 10385]","['Jenkins', 'David Kranz', 'Mauro Rodrigues', 'Matthew Treinish', 'Christopher Yeoh', ""Ken'ichi Ohmichi"", 'Elena Ezhova', 'Yuiko Takada Mori', 'Ghanshyam', 'Sergey Murashov', 'Elastic Recheck', 'IBM PowerKVM CI', 'Citrix XenServer CI']",verify delete security group response v2 api patch adds json schema response status nova security group delete api block backward incompatibility change future delete security group return response body response status api 202 partially implements blueprint novaapiattributetest changeid i8ce635dfdb41cacaf433b7e14f0fe3b798ef839a
https://review.opendev.org/94181,Support neutron service without security groups enabled,Support neutron service without security groups enabled Change-Id: I3237898aeb87db07cb65fe76319237f3f5a75643,8124,cbrandily,"[3, 7350, 8124, 8996]","['Jenkins', 'Jordan Pittier', 'cbrandily', 'Florent Flament']",support neutron service without security groups enabled changeid i3237898aeb87db07cb65fe76319237f3f5a75643
https://review.opendev.org/94455,Remove Security Guide EPUB,Remove Security Guide EPUB The EPUB is not getting updated and thus outdated. It's also not easy to install on mobile devices. Thus remove it. Change-Id: Ia60754c6e03434d84d27c6e33752cecf28872c76,6547,Andreas Jaeger,"[3, 6547, 6772, 9382]","['Jenkins', 'Andreas Jaeger', 'Stephen Gordon', 'Shilla Saebi']",remove security guide epub epub getting updated thus outdated also easy install mobile devices thus remove changeid ia60754c6e03434d84d27c6e33752cecf28872c76
https://review.opendev.org/93747,Add a git repo for security documentation,"Add a git repo for security documentation This adds a new git repository for documentation created by the OpenStack Security Group (OSSG). This will be a common place for holding the OSSNs, the Security Guide, and potentially future documentation output from OSSG. This work lives under the Documentation program. See the launchpad bug for other details and discussion. Change-Id: Ie72134e716ec800d8bc601167a8161a605a9cd5f Closes-bug: 1319895",2807,Bryan D. Payne,"[1, 3, 964, 2807, 4146, 6316, 6547, 7063, 7069, 9098]","['James E. Blair', 'Jenkins', 'Anne Gentle', 'Bryan D. Payne', 'Clark Boylan', 'Anita Kuno', 'Andreas Jaeger', 'Robert Clark', 'Joshua Hesketh', 'Nathan Kinder']",add git repo security documentation adds new git repository documentation created openstack security group ossg common place holding ossns security guide potentially future documentation output ossg work lives documentation program see launchpad bug details discussion changeid ie72134e716ec800d8bc601167a8161a605a9cd5f closesbug 1319895
https://review.opendev.org/94384,Adds Security Guide roadmap,Adds Security Guide roadmap - to be moved over when the security-guide directory moves Change-Id: I9e71959dfcb3c6dde773f6565ff7e24e7507a299,964,Anne Gentle,"[3, 6547, 9515]","['Jenkins', 'Andreas Jaeger', 'Matthew Kassawara']",adds security guide roadmap moved securityguide directory moves changeid i9e71959dfcb3c6dde773f6565ff7e24e7507a299
https://review.opendev.org/94190,Add security group creation in service tests,Add security group creation in service tests add creation of separate security group for service tests. Also Increase timeout for migration vm functionality and add more logging to improve debug of this tests Change-Id: Ia310f57a98c4d4aa11138f76cd9e0913accfbebc Closes-Bug: #1320181 Related-Bug: #1317548,6719,tatyana-leontovich,"[3, 6719, 8882, 8971, 10136]","['Jenkins', 'tatyana-leontovich', 'Nastya Urlapova', 'Fuel CI', 'Andrey Sledzinskiy']",add security group creation service tests add creation separate security group service tests also increase timeout migration vm functionality add logging improve debug tests changeid ia310f57a98c4d4aa11138f76cd9e0913accfbebc closesbug 1320181 relatedbug 1317548
https://review.opendev.org/93294,Fix test case in security groups,"Fix test case in security groups In test_server_security_groups test case, the return value of delete_security_group is not properly validated Change-Id: Ib967dda50898bdcadb2d02398429d2f7edd10121 Closes-Bug: #1318636",10257,Sridhar Gaddam,"[3, 5689, 5803, 6167, 7249, 7293, 7350, 7428, 10385]","['Jenkins', 'Masayuki Igawa', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Ann Taraday', 'Elena Ezhova', 'Jordan Pittier', 'Yaroslav Lobankov', 'Citrix XenServer CI']",fix test case security groups testserversecuritygroups test case return value deletesecuritygroup properly validated changeid ib967dda50898bdcadb2d02398429d2f7edd10121 closesbug 1318636
https://review.opendev.org/93236,Edits on Security Guide,"Edits on Security Guide Better follow conventions, especially: * remove Latinism like via and i.e. * use variable lists * Add missing <filename> * wrap long lines Change-Id: I2a537df78ddf4fbeb127b058bf05caaf42441d5f",6547,Andreas Jaeger,"[3, 2448, 2807]","['Jenkins', 'Diane Fleming', 'Bryan D. Payne']",edits security guide better follow conventions especially remove latinism like via ie use variable lists add missing filename wrap long lines changeid i2a537df78ddf4fbeb127b058bf05caaf42441d5f
https://review.opendev.org/80097,Fix security group list when not defined for an instance,"Fix security group list when not defined for an instance If an instance have an empty security group list and exception is thrown due to iteration attempt of None. Add an empty list in this case, show the client can receive the expected information. Change-Id: I7efb3c3a58d7e20501d126c6d194479ca1d14166 Closes-Bug: #1291489",9275,Leandro Ignacio Costantino,"[3, 1004, 1653, 5170, 5292, 6062, 6167, 6873, 7730, 8871, 9008, 9275, 9578, 9732, 10118, 10385]","['Jenkins', 'Mohammed Naser', 'garyk', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'jichencom', ""Ken'ichi Ohmichi"", 'Matt Riedemann', 'sahid', 'Elastic Recheck', 'VMware NSX CI', 'Leandro Ignacio Costantino', 'DB Datasets CI', 'Mellanox CI', 'IBM PowerKVM CI', 'Citrix XenServer CI']",fix security group list defined instance instance empty security group list exception thrown due iteration attempt none add empty list case show client receive expected information changeid i7efb3c3a58d7e20501d126c6d194479ca1d14166 closesbug 1291489
https://review.opendev.org/92378,Discuss security impact of Memory Optimization Technologies,Discuss security impact of Memory Optimization Technologies for KVM and Xen Removed KSM from the list of 'security features' for hypervisor technology and added a discussion of KSM and TPS. Change-Id: Iaedb90f84f74836ccce24a4a63402f429845635d Closes-Bug: #1311204,7063,Robert Clark,"[3, 964, 1528, 6486, 6547, 7063, 9515]","['Jenkins', 'Anne Gentle', 'Stanislaw Pitucha', 'Brant Knudson', 'Andreas Jaeger', 'Robert Clark', 'Matthew Kassawara']",discuss security impact memory optimization technologies kvm xen removed ksm list security features hypervisor technology added discussion ksm tps changeid iaedb90f84f74836ccce24a4a63402f429845635d closesbug 1311204
https://review.opendev.org/91228,Fix KeyError if neutron security group is not TCP/UDP/ICMP and no ports,"Fix KeyError if neutron security group is not TCP/UDP/ICMP and no ports Previously, if a neutron security group rule was created that was not TCP/UDP/ICMP and did not contain a port_range_min/max retrieving it from nova-api would result in a KeyError in nova-api. This patch resolves this issue. Change-Id: I6284a7a8690aec9509b63f7cbd18812e09ef3fdd Closes-bug: #1294346 (cherry picked from commit 3ad414597043979b8d73c17c05e666cff33a9b88)",1313,Yaguang Tang,"[3, 1849, 4395, 5170, 8871]","['Jenkins', 'Joe Gordon', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Elastic Recheck']",fix keyerror neutron security group tcpudpicmp ports previously neutron security group rule created tcpudpicmp contain portrangeminmax retrieving novaapi would result keyerror novaapi patch resolves issue changeid i6284a7a8690aec9509b63f7cbd18812e09ef3fdd closesbug 1294346 cherry picked commit 3ad414597043979b8d73c17c05e666cff33a9b88
https://review.opendev.org/92197,Edits on security guide,"Edits on security guide Change all titles to sentence style capitalization (some were already, majority not) Adjust project and service name spelling. Minor edits Change-Id: Ic8cc709b068d2273762f074daa5ac30ebe9aaf20 Partial-Bug: #1217503",6547,Andreas Jaeger,"[3, 964, 6547, 9515, 10705]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger', 'Matthew Kassawara', 'Darren Chan']",edits security guide change titles sentence style capitalization already majority adjust project service name spelling minor edits changeid ic8cc709b068d2273762f074daa5ac30ebe9aaf20 partialbug 1217503
https://review.opendev.org/92045,Optimize querying for security groups,"Optimize querying for security groups In the check for all security groups on port belong to tenant, add a filter to get security groups for the tenant which are in common with the security groups of the port. Change-Id: I66f31755525fca37f9dbce6fb43e475791f82495 Closes-Bug: #1315097 (cherry picked from commit 89b01ca24ba95e36568352b4e5c7abf0cd04e4af)",4395,Aaron Rosen,"[3, 4395, 5170, 7448, 9732, 9787, 9925, 10117, 10192, 10461, 10503]","['Jenkins', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Carl Baldwin', 'Mellanox CI', 'Big Switch CI', 'Midokura CI', 'PLUMgrid CI', 'Cisco CI', 'Sudheendra Murthy', 'Huawei ML2 CI']",optimize querying security groups check security groups port belong tenant add filter get security groups tenant common security groups port changeid i66f31755525fca37f9dbce6fb43e475791f82495 closesbug 1315097 cherry picked commit 89b01ca24ba95e36568352b4e5c7abf0cd04e4af
https://review.opendev.org/92044,Optimize querying for security groups,"Optimize querying for security groups In the check for all security groups on port belong to tenant, add a filter to get security groups for the tenant which are in common with the security groups of the port. Change-Id: I66f31755525fca37f9dbce6fb43e475791f82495 Closes-Bug: #1315097 (cherry picked from commit 89b01ca24ba95e36568352b4e5c7abf0cd04e4af)",4395,Aaron Rosen,"[3, 2592, 4395, 5170, 7448, 9732, 9787, 9925, 10117, 10192, 10461, 10503]","['Jenkins', 'Mark McClain', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Carl Baldwin', 'Mellanox CI', 'Big Switch CI', 'Midokura CI', 'PLUMgrid CI', 'Cisco CI', 'Sudheendra Murthy', 'Huawei ML2 CI']",optimize querying security groups check security groups port belong tenant add filter get security groups tenant common security groups port changeid i66f31755525fca37f9dbce6fb43e475791f82495 closesbug 1315097 cherry picked commit 89b01ca24ba95e36568352b4e5c7abf0cd04e4af
https://review.opendev.org/92156,Basic Security Groups implementation,Basic Security Groups implementation Change-Id: I6a7f9953206f28b2b1fa6223bcceab60ddaadb13 Closes-bug: #1308623,7600,Ruslan Kamaldinov,"[3, 7600, 7821, 8127]","['Jenkins', 'Ruslan Kamaldinov', 'Murano CI', 'Alexander Tivelkov']",basic security groups implementation changeid i6a7f9953206f28b2b1fa6223bcceab60ddaadb13 closesbug 1308623
https://review.opendev.org/88013,Basic Security Groups implementation,Basic Security Groups implementation Change-Id: I6a7f9953206f28b2b1fa6223bcceab60ddaadb13 Closes-bug: #1308623,7226,Stan Lagun,"[3, 7225, 7227, 7549, 7600, 7821, 8040, 8127, 10063]","['Jenkins', 'Serg Melikyan', 'Timur Nurlygayanov', 'Ekaterina Chernova', 'Ruslan Kamaldinov', 'Murano CI', 'Timur Sufiev', 'Alexander Tivelkov', 'Steve McLellan']",basic security groups implementation changeid i6a7f9953206f28b2b1fa6223bcceab60ddaadb13 closesbug 1308623
https://review.opendev.org/91654,Optimize querying for security groups,"In the check for all security groups on port belong to tenant, add a filter to get security groups for the tenant which are in common with the security groups of the port. Change-Id: I66f31755525fca37f9dbce6fb43e475791f82495 Closes-Bug: #1315097",10461,Sudheendra Murthy,"[3, 490, 4395, 4656, 7448, 8279, 8873, 9732, 9787, 9845, 9925, 10068, 10117, 10192, 10294, 10461]","['Jenkins', 'Sumit Naiksatam', 'Aaron Rosen', 'Sean M. Collins', 'Carl Baldwin', 'Fawad Khaliq', 'Assaf Muller', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'Welcome, new contributor!', 'PLUMgrid CI', 'Cisco CI', 'Brocade VDX CI', 'Sudheendra Murthy']",check security groups port belong tenant add filter get security groups tenant common security groups port changeid i66f31755525fca37f9dbce6fb43e475791f82495 closesbug 1315097
https://review.opendev.org/91779,Fix screen usage in Security Guide,"Fix screen usage in Security Guide Cleanup usage of screens: * Replace with programlistings where appropriate * Add prompts Also, fix some filename markup. Partial-Bug: #1217503 Change-Id: I0b9b8a73d3449bd33cf7348b49cdc1d02f203c4f",6547,Andreas Jaeger,"[3, 2448, 6547]","['Jenkins', 'Diane Fleming', 'Andreas Jaeger']",fix screen usage security guide cleanup usage screens replace programlistings appropriate add prompts also fix filename markup partialbug 1217503 changeid i0b9b8a73d3449bd33cf7348b49cdc1d02f203c4f
https://review.opendev.org/69396,Improved logs for add/remove security group rules.,Improved logs for add/remove security group rules. Added more details - protocol and port information to AUDIT log messages on add/remove rule actions for security groups. Change-Id: Ib446a63976dade90c51c13f30367a3ee17a739ea Closes-Bug: #1154303,9743,Alex Hmelevsky,"[3, 100, 1501, 1653, 1779, 2271, 2750, 5170, 5441, 5652, 7730, 8125, 8163, 8430, 9008, 9275, 9560, 9578, 9743]","['Jenkins', 'Johannes Erdfelt', 'Phil Day', 'garyk', 'Daniel Berrange', 'Michael Still', 'Sean Dague', 'Microsoft Hyper-V CI', 'Andrew Laski', 'David Ripton', 'sahid', 'Michael Davies', 'Sreeram Yerrapragada', 'Christopher Lefelhocz', 'VMware NSX CI', 'Leandro Ignacio Costantino', 'Lee Li', 'DB Datasets CI', 'Alex Hmelevsky']",improved logs addremove security group rules added details protocol port information audit log messages addremove rule actions security groups changeid ib446a63976dade90c51c13f30367a3ee17a739ea closesbug 1154303
https://review.opendev.org/90568,"Fix format of table ""Additional Security Features""","Fix format of table ""Additional Security Features"" In chapter ""40. Hypervisor Selection"" of the security-guide, the table under the heading ""Additional Security Features"" used an inconsistent formatting: mix of upper-/lowercase ""X"", additional whitespace, and in one case an extra ""<address>"" tag. Fixed. Link to the current online version: http://docs.openstack.org/security-guide/content/ch051_vss-intro.html#ch051_vss-intro-idp401408 Change-Id: I9333ff78b9429a1429cca279c4aa71940f3ec3f5",11109,Roger Luethi,"[3, 612, 6547, 11109]","['Jenkins', 'Tom Fifield', 'Andreas Jaeger', 'Roger Luethi']",fix format table additional security features chapter 40 hypervisor selection securityguide table heading additional security features used inconsistent formatting mix upperlowercase x additional whitespace one case extra address tag fixed link current online version httpdocsopenstackorgsecurityguidecontentch051vssintrohtmlch051vssintroidp401408 changeid i9333ff78b9429a1429cca279c4aa71940f3ec3f5
https://review.opendev.org/90600,added query for security group race,added query for security group race Change-Id: I4abc818771ed3668d5df82a3b5c29ebfa54aad4a Related-Bug: #1262566,2750,Sean Dague,"[3, 2750]","['Jenkins', 'Sean Dague']",added query security group race changeid i4abc818771ed3668d5df82a3b5c29ebfa54aad4a relatedbug 1262566
https://review.opendev.org/89278,"Fix ""create security group rule"" sample","Fix ""create security group rule"" sample Closes-Bug: #1252853 Change-Id: I39a22eb057afa72de5cdc3f98ff57262015bfbd8 author: diane fleming",2448,Diane Fleming,"[3, 964, 3153]","['Jenkins', 'Anne Gentle', 'Emilien Macchi']",fix create security group rule sample closesbug 1252853 changeid i39a22eb057afa72de5cdc3f98ff57262015bfbd8 author diane fleming
https://review.opendev.org/87148,OFAgent: Improve handling of security group updates,OFAgent: Improve handling of security group updates Port the following patch to OFAgent. commit: 3046c4ae22b10f9e4fa83a47bfe089554d4a4681 https://review.openstack.org/#/c/63100/ Partial-Bug: 1293265 Change-Id: Iecdfee894ff2fd5f05f63f040dd70821af124737,8344,fumihiko kakuma,"[3, 105, 2592, 5170, 6854, 8344, 9681, 9732, 9787, 9845, 9925, 10116, 10117, 10184, 10192]","['Jenkins', 'Kyle Mestery', 'Mark McClain', 'Microsoft Hyper-V CI', 'YAMAMOTO Takashi', 'fumihiko kakuma', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'Nuage CI', 'Cisco CI']",ofagent improve handling security group updates port following patch ofagent commit 3046c4ae22b10f9e4fa83a47bfe089554d4a4681 httpsreviewopenstackorgc63100 partialbug 1293265 changeid iecdfee894ff2fd5f05f63f040dd70821af124737
https://review.opendev.org/89518,Drupal core 7.27 security update,Drupal core 7.27 security update Resolve SA-CORE-2014-002 - Drupal core - Information Disclosure Change-Id: I6d86a4c1a1733e4c3ded8b368345b3eab1a0b57e,6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",drupal core 727 security update resolve sacore2014002 drupal core information disclosure changeid i6d86a4c1a1733e4c3ded8b368345b3eab1a0b57e
https://review.opendev.org/86103,Checking security service is not used while deleting,Checking security service is not used while deleting Added db method share_network_get_all_by_security_service that returns all share networks to which security service is assigned. Added check to delete method in security service api that gets list of share networks that security service is assigned at and raises error if this list is not empty. Closes-bug: 1304473 Change-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b,7534,Yulia Portnova,"[3, 2417, 7534, 8851]","['Jenkins', 'Ben Swartzlander', 'Yulia Portnova', 'Valeriy Ponomaryov']",checking security service used deleting added db method sharenetworkgetallbysecurityservice returns share networks security service assigned added check delete method security service api gets list share networks security service assigned raises error list empty closesbug 1304473 changeid ibb73f77095b035f33376aa1791448de3a1ed939b
https://review.opendev.org/85231,Add security group configuration for Hyperv agent,Add security group configuration for Hyperv agent Hyperv agent of Neutron has supported security group. Please refer to: https://review.openstack.org/#/c/74199/ Adding security group configuration for Hyperv agent to avoid Neutron Hyperv agent startup errors if no security group set in configuration file. Change-Id: Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2,8622,Feng Ju,"[3, 1032, 6981, 7128, 8622, 9884]","['Jenkins', 'Justin Shepherd', 'Yang Yu', 'Mark Vanderwiel', 'Feng Ju', 'Wherenow.org CI']",add security group configuration hyperv agent hyperv agent neutron supported security group please refer httpsreviewopenstackorgc74199 adding security group configuration hyperv agent avoid neutron hyperv agent startup errors security group set configuration file changeid ifccfc744729f4cde897e79ce5afd2e3bd5b292a2
https://review.opendev.org/84227,Fixes Hyper-V agent security groups disabling,Fixes Hyper-V agent security groups disabling Change-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5,8213,Claudiu Belu,"[3, 105, 261, 2592, 3185, 4395, 5170, 6788, 8213, 9732, 9845, 9925, 10116, 10117, 10153, 10184, 10192, 10294, 10635]","['Jenkins', 'Kyle Mestery', 'Salvatore Orlando', 'Mark McClain', 'Alessandro Pilotti', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Rossella Sblendido', 'Claudiu Belu', 'Mellanox CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Octavian Ciuhandu']",fixes hyperv agent security groups disabling changeid i20d716a3f182b8ea62da6b436b150aa9dafdb1c5
https://review.opendev.org/87362,Fix link in Security Guide,"Fix link in Security Guide The link was to a non-existant page, now it points to the right section. Change-Id: Ia256adf2a884cbbddb4760dc1ee123474ef59a4b Closes-Bug: #1307620",6547,Andreas Jaeger,"[3, 964, 7923]","['Jenkins', 'Anne Gentle', 'Gauvain Pocentek']",fix link security guide link nonexistant page points right section changeid ia256adf2a884cbbddb4760dc1ee123474ef59a4b closesbug 1307620
https://review.opendev.org/82351,ml2-plugin: update security group option,"ml2-plugin: update security group option In Icehouse, security group configuration is enabled from the plugin and should be enabled by a boolean value instead of a firewall_driver like before. Patch in Icehouse: http://git.io/CxudOg Change-Id: I0d0ca2fb80d21a439c5e096dcd978e956e6662fd Signed-off-by: Emilien Macchi <emilien.macchi@enovance.com>",3153,Emilien Macchi,"[3, 167, 3153, 6754, 7155, 7156, 7616, 7822, 8083]","['Jenkins', 'Christian Berendt', 'Emilien Macchi', 'Mark T. Voelker', 'Sebastien Badia', 'Mathieu Gagné', 'Michael Chapman', 'Chris Hoge (not involved in upstream development)', 'Francesco Vollero']",ml2plugin update security group option icehouse security group configuration enabled plugin enabled boolean value instead firewalldriver like patch icehouse httpgitiocxudog changeid i0d0ca2fb80d21a439c5e096dcd978e956e6662fd signedoffby emilien macchi emilienmacchienovancecom
https://review.opendev.org/84464,Fixes Hyper-V agent security group ICMP rules,Fixes Hyper-V agent security group ICMP rules Converts ICMP protocol to the equivalent protocol number. Adds default ICMP reject rules. Adds default ANY protocol rules if the rule does not contain any protocol. Closes-Bug: #1299159 Change-Id: Iff51a58fdb532eda0fe7a63abf96004ee74bb073,8213,Claudiu Belu,"[3, 105, 2592, 3185, 5170, 6524, 6659, 8213, 9732, 9845, 9925, 10116, 10117, 10184, 10192, 10294]","['Jenkins', 'Kyle Mestery', 'Mark McClain', 'Alessandro Pilotti', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Paul Michali', 'Claudiu Belu', 'Mellanox CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI']",fixes hyperv agent security group icmp rules converts icmp protocol equivalent protocol number adds default icmp reject rules adds default protocol rules rule contain protocol closesbug 1299159 changeid iff51a58fdb532eda0fe7a63abf96004ee74bb073
https://review.opendev.org/86360,Add RBAC policy for ec2 API security groups calls,"Add RBAC policy for ec2 API security groups calls The revoke_security_group_ingress, revoke_security_group_ingress, and delete_security_group calls in the ec2 API were not restricted by policy checks. This prevented a deployer from restricting their usage via roles or other checks. Checks have been added for these calls. Closes-Bug: #1290537 Change-Id: I4bf681bedd68ed2216b429d34db735823e0a6189",5441,Andrew Laski,"[3, 1561, 5170, 5441, 6873, 9311]","['Jenkins', 'Russell Bryant', 'Microsoft Hyper-V CI', 'Andrew Laski', 'Matt Riedemann', 'Tristan Cacqueray']",add rbac policy ec2 api security groups calls revokesecuritygroupingress revokesecuritygroupingress deletesecuritygroup calls ec2 api restricted policy checks prevented deployer restricting usage via roles checks checks added calls closesbug 1290537 changeid i4bf681bedd68ed2216b429d34db735823e0a6189
https://review.opendev.org/86358,Add RBAC policy for ec2 API security groups calls,"Add RBAC policy for ec2 API security groups calls The revoke_security_group_ingress, revoke_security_group_ingress, and delete_security_group calls in the ec2 API were not restricted by policy checks. This prevented a deployer from restricting their usage via roles or other checks. Checks have been added for these calls. Closes-Bug: #1290537 Change-Id: I4bf681bedd68ed2216b429d34db735823e0a6189",5441,Andrew Laski,"[3, 1561, 5170, 6873, 9578, 10385]","['Jenkins', 'Russell Bryant', 'Microsoft Hyper-V CI', 'Matt Riedemann', 'DB Datasets CI', 'Citrix XenServer CI']",add rbac policy ec2 api security groups calls revokesecuritygroupingress revokesecuritygroupingress deletesecuritygroup calls ec2 api restricted policy checks prevented deployer restricting usage via roles checks checks added calls closesbug 1290537 changeid i4bf681bedd68ed2216b429d34db735823e0a6189
https://review.opendev.org/86361,Add RBAC policy for ec2 API security groups calls,"Add RBAC policy for ec2 API security groups calls The revoke_security_group_ingress, revoke_security_group_ingress, and delete_security_group calls in the ec2 API were not restricted by policy checks. This prevented a deployer from restricting their usage via roles or other checks. Checks have been added for these calls. Closes-Bug: #1290537 Change-Id: I4bf681bedd68ed2216b429d34db735823e0a6189",5441,Andrew Laski,"[3, 308, 5170, 5441, 6873, 9311]","['Jenkins', 'Thierry Carrez', 'Microsoft Hyper-V CI', 'Andrew Laski', 'Matt Riedemann', 'Tristan Cacqueray']",add rbac policy ec2 api security groups calls revokesecuritygroupingress revokesecuritygroupingress deletesecuritygroup calls ec2 api restricted policy checks prevented deployer restricting usage via roles checks checks added calls closesbug 1290537 changeid i4bf681bedd68ed2216b429d34db735823e0a6189
https://review.opendev.org/85425,Remove security group egress rules,"Remove security group egress rules The egress security group rules were too restrictive, blocking necessary traffic, including cloud-init metadata. Fixes https://bugzilla.redhat.com/show_bug.cgi?id=1080638 Change-Id: Ia11f4a81d56d76418530dab6b09478648a1cfbfd",10000,Aaron Weitekamp,"[3, 2834, 4328]","['Jenkins', 'Steven Dake', 'Steven Hardy']",remove security group egress rules egress security group rules restrictive blocking necessary traffic including cloudinit metadata fixes httpsbugzillaredhatcomshowbugcgiid1080638 changeid ia11f4a81d56d76418530dab6b09478648a1cfbfd
https://review.opendev.org/85582,Moved security hardening HowTos from Config Ref to Cloud Admin,Moved security hardening HowTos from Config Ref to Cloud Admin Moved procedures and theory over to the admin guide. Also moved node recovery into its own file. Edited trusted-flavor procedure with minor edits on rest. Change-Id: I060d79271130d49b9c6b37638943e2f85ffae5cd Partial-Bug: #290687,7264,Summer Long,"[3, 612, 6547, 7264]","['Jenkins', 'Tom Fifield', 'Andreas Jaeger', 'Summer Long']",moved security hardening howtos config ref cloud admin moved procedures theory admin guide also moved node recovery file edited trustedflavor procedure minor edits rest changeid i060d79271130d49b9c6b37638943e2f85ffae5cd partialbug 290687
https://review.opendev.org/85334,Added type key into security service list view,Added type key into security service list view Change-Id: I9f2805749d088659a8801a653f2902557922e482,8851,Valeriy Ponomaryov,"[3, 7534, 8851]","['Jenkins', 'Yulia Portnova', 'Valeriy Ponomaryov']",added type key security service list view changeid i9f2805749d088659a8801a653f2902557922e482
https://review.opendev.org/85321,Added type field to security services index list,"Added type field to security services index list Current index has only 'name', 'id' and 'status', and it will be very useful to have additional key - 'type'. Change-Id: I647a923ed59aa971e15669d7c9239967c815ea09",8851,Valeriy Ponomaryov,"[3, 7534, 8851]","['Jenkins', 'Yulia Portnova', 'Valeriy Ponomaryov']",added type field security services index list current index name id status useful additional key type changeid i647a923ed59aa971e15669d7c9239967c815ea09
https://review.opendev.org/83768,Fix create call for security group rules,"Fix create call for security group rules Reasons: - create call expect missing conf attributes. Changes: - Pulling protocol, ports from the request body. Change-Id: Ic1440f735b6cf2b8b4f29c5ab9f48bcb427ca9e6 Closes-Bug: #1298760",8415,Denis M.,"[3, 739, 5293, 7092, 8214, 8415, 9683]","['Jenkins', 'Michael Basnight', 'Nikhil', 'Deprecated Trove CI', 'Auston McReynolds', 'Denis M.', 'Mat Lowery']",fix create call security group rules reasons create call expect missing conf attributes changes pulling protocol ports request body changeid ic1440f735b6cf2b8b4f29c5ab9f48bcb427ca9e6 closesbug 1298760
https://review.opendev.org/84115,Fix create call for security group rules,Fix create call for security group rules Reasons: - create call expect extra unused attributes. Changes: - updating security group rule create shell command. Change-Id: Ic1440f735b6cf2b8b4f29c5ab9f48bcb427ca9e6 Closes-Bug: #1298749,8415,Denis M.,"[3, 739, 5293, 7092, 8214, 8415]","['Jenkins', 'Michael Basnight', 'Nikhil', 'Deprecated Trove CI', 'Auston McReynolds', 'Denis M.']",fix create call security group rules reasons create call expect extra unused attributes changes updating security group rule create shell command changeid ic1440f735b6cf2b8b4f29c5ab9f48bcb427ca9e6 closesbug 1298749
https://review.opendev.org/83467,Adding section for security impact,Adding section for security impact The best way to improve security throughout OpenStack is to be more aware of the security impact that design decisions have. I think that adding a section that focuses on security will help encourage people to think of this during the design process. This idea originated in an email thread on the openstack-security mailing list: http://lists.openstack.org/pipermail/openstack-security/2014-March/001351.html Change-Id: I7945f7c99387aedabbce057130f3589831f77f1c,2807,Bryan D. Payne,"[3, 1561, 1849, 2807, 5292, 6534, 10218]","['Jenkins', 'Russell Bryant', 'Joe Gordon', 'Bryan D. Payne', 'Christopher Yeoh', 'David Chadwick', 'Cristian Fiorentino']",adding section security impact best way improve security throughout openstack aware security impact design decisions think adding section focuses security help encourage people think design process idea originated email thread openstacksecurity mailing list httplistsopenstackorgpipermailopenstacksecurity2014march001351html changeid i7945f7c99387aedabbce057130f3589831f77f1c
https://review.opendev.org/81558,Fail if non-existent security group referenced,"Fail if non-existent security group referenced When using AWS::EC2::SecurityGroup resources with nova-network (not Neutron), if a SourceSecurityGroupName was specified in a rule but the name did not correspond to an extant security group it would be silently ignored. This change ensures that any such error in the template will cause creation of the security group to fail. Fixes-bug: #1291091 Change-Id: I9344451c83f4184ef46d4e9906b94abda08836df",4257,Zane Bitter,"[3, 4257, 4328, 4571, 6577, 6794, 6917, 7135, 8289, 9542]","['Jenkins', 'Zane Bitter', 'Steven Hardy', 'Steve Baker', 'Sergey Kraynev', 'Simon Pasquier', 'Bartosz Górski', 'Liang Chen', 'huangtianhua', 'Pavlo Shchelokovskyy']",fail nonexistent security group referenced using awsec2securitygroup resources novanetwork neutron sourcesecuritygroupname specified rule name correspond extant security group would silently ignored change ensures error template cause creation security group fail fixesbug 1291091 changeid i9344451c83f4184ef46d4e9906b94abda08836df
https://review.opendev.org/61915,Fix inconsistent quota usage for security group,Fix inconsistent quota usage for security group The quota usage for security group do not decrease when the security group is deleted by admin. Change-Id: If82ee4edeca934c7be360e4129baa12b1c9a4da1 Closes-bug: #1260575,4428,Liyingjun,"[3, 360, 642, 1030, 1653, 1849, 3191, 4428, 5170, 5292, 5441, 6873, 7040, 7975, 8831, 9008, 9578]","['Jenkins', 'Dan Prince', 'Matt Dietz', 'Chris Behrens', 'garyk', 'Joe Gordon', 'Kylin CG', 'Liyingjun', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'Andrew Laski', 'Matt Riedemann', 'GuoHui LIu', 'Pavel Kirpichyov', 'Tushar Kalra', 'VMware NSX CI', 'DB Datasets CI']",fix inconsistent quota usage security group quota usage security group decrease security group deleted admin changeid if82ee4edeca934c7be360e4129baa12b1c9a4da1 closesbug 1260575
https://review.opendev.org/79551,Modified test case for nova security group,Added test case for nova security group Create a security group with space char between name along with leading and trailing white spaces Change-Id: I2a2664458e8505b3eef027435850de0b3df29019 Blueprint: testcases-expansion-icehouse,10300,Pranali Deore,"[3, 2750, 5174, 5689, 5803, 7139, 8085, 8556, 8625, 10300]","['Jenkins', 'Sean Dague', 'Mauro Rodrigues', 'Masayuki Igawa', 'Attila Fazekas', 'Zhi Kun Liu', 'anju Tiwari', 'Ghanshyam', 'Anju Tiwari', 'Pranali Deore']",added test case nova security group create security group space char name along leading trailing white spaces changeid i2a2664458e8505b3eef027435850de0b3df29019 blueprint testcasesexpansionicehouse
https://review.opendev.org/81452,"Verify attributes through Nova ""list security groups"" API","Verify security_groups attributes through Nova ""list security groups"" API This patch adds checks whether a response of Nova ""list security groups"" API includes the attributes to block the backward incompatibility change in the future. The response body of v2 API is the below: { ""security_groups"": [ { ""id"": 17, ""name"": ""default"", ""tenant_id"": ""f5e60a2a87ed4a02ae1ab388bdb10cb5"", ""rules"": [], ""description"": ""default"" } ] } Partially implements blueprint nova-api-attribute-test Change-Id: Ibb2cc07e6d723e836b554f08168757aa93f61890",7882,Yuiko Takada Mori,"[3, 1192, 6167, 7882, 8556]","['Jenkins', 'David Kranz', ""Ken'ichi Ohmichi"", 'Yuiko Takada Mori', 'Ghanshyam']",verify securitygroups attributes nova list security groups api patch adds checks whether response nova list security groups api includes attributes block backward incompatibility change future response body v2 api securitygroups id 17 name default tenantid f5e60a2a87ed4a02ae1ab388bdb10cb5 rules description default partially implements blueprint novaapiattributetest changeid ibb2cc07e6d723e836b554f08168757aa93f61890
https://review.opendev.org/81382,Fixes Hyper-V agent security groups enable issue,Fixes Hyper-V agent security groups enable issue Fixes the weight of the applied allow rules by ignoring the weight of the reject rules. Fixes the override allow rules issue by fixing the ACL filtering condition. Change-Id: I38ddd7142d0fa45f308460153d29580f276ce07e Closes-Bug: #1294368,8213,Claudiu Belu,"[3, 105, 2592, 3185, 5170, 6524, 8213, 9732, 9845, 10116, 10117, 10184, 10192, 10294]","['Jenkins', 'Kyle Mestery', 'Mark McClain', 'Alessandro Pilotti', 'Microsoft Hyper-V CI', 'Henry Gessau', 'Claudiu Belu', 'Mellanox CI', 'Arista CI', 'NEC CI', 'PLUMgrid CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI']",fixes hyperv agent security groups enable issue fixes weight applied allow rules ignoring weight reject rules fixes override allow rules issue fixing acl filtering condition changeid i38ddd7142d0fa45f308460153d29580f276ce07e closesbug 1294368
https://review.opendev.org/73484,Use neutron security groups in BigSwitch plugin,Use neutron security groups in BigSwitch plugin Configures the Big Switch third-party plugin to use neutron security groups instead of nova security groups. Change-Id: I6bc3046ff0e70b8288a7c3f3d6f975376adc081a Implements: blueprint bigswitch-neutron-security,7787,Kevin Benton,"[3, 105, 490, 970, 1653, 7591, 7787]","['Jenkins', 'Kyle Mestery', 'Sumit Naiksatam', 'Dean Troyer', 'garyk', 'Kanzhe Jiang', 'Kevin Benton']",use neutron security groups bigswitch plugin configures big switch thirdparty plugin use neutron security groups instead nova security groups changeid i6bc3046ff0e70b8288a7c3f3d6f975376adc081a implements blueprint bigswitchneutronsecurity
https://review.opendev.org/81432,Fix KeyError if neutron security group is not TCP/UDP/ICMP and no ports,"Fix KeyError is neutron security group is not TCP/UDP/ICMP and no ports Previously, if a neutron security group rule was created that was not TCP/UDP/ICMP and did not contain a port_range_min/max retriving it from nova-api would result in a KeyError. This patch resolves this issue. Change-Id: I6284a7a8690aec9509b63f7cbd18812e09ef3fdd Closes-bug: #1294346",4395,Aaron Rosen,"[3, 7, 1653, 4393, 4395, 5170, 5292, 5441, 6659, 6873, 9008, 9578]","['Jenkins', 'Jay Pipes', 'garyk', 'Dan Smith', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'Christopher Yeoh', 'Andrew Laski', 'Paul Michali', 'Matt Riedemann', 'VMware NSX CI', 'DB Datasets CI']",fix keyerror neutron security group tcpudpicmp ports previously neutron security group rule created tcpudpicmp contain portrangeminmax retriving novaapi would result keyerror patch resolves issue changeid i6284a7a8690aec9509b63f7cbd18812e09ef3fdd closesbug 1294346
https://review.opendev.org/78712,Fixes Neutron Security Rules for Mcollective Communication,"Fixes Neutron Security Rules for Mcollective Communication Previously, neutron security rules were incorrectly specified to allow ActiveMQ TCP ports. This was not previously observed since a single OpenStack Compute Host was used to run Broker and Node instances. Additionally, duplicate entries for ActiveMQ TCP port 8161 were specified. This patch removes the duplicate entries and changes the TCP port number from ActiveMQ to Mcollective (61613). Change-Id: Ia35267a4485bba4aab36b9a629993ab94f42ad11",6836,Daneyon Hansen,"[3, 3098, 3153, 4571, 6698]","['Jenkins', 'Jeff Peeler', 'Emilien Macchi', 'Steve Baker', 'Robert Pothier']",fixes neutron security rules mcollective communication previously neutron security rules incorrectly specified allow activemq tcp ports previously observed since single openstack compute host used run broker node instances additionally duplicate entries activemq tcp port 8161 specified patch removes duplicate entries changes tcp port number activemq mcollective 61613 changeid ia35267a4485bba4aab36b9a629993ab94f42ad11
https://review.opendev.org/78705,Changes Neutron Security Group Ports to Integers,"Changes Neutron Security Group Ports to Integers Previously, neutron security group tcp/udp port numbers were defined as strings. This was not an issue when testing with trunk but is an issue when testing with 2014.1.b2. 2014.1.b2 expects the parameters to be defined as integers not strings. When the tcp/udp ports are defined as integers, the security group rules work with trunk as well as 2014.1.b2. Change-Id: If7e5af163993b4cad3f31583ea73e9e856ab0ccb",6836,Daneyon Hansen,"[3, 3098, 4571, 6698]","['Jenkins', 'Jeff Peeler', 'Steve Baker', 'Robert Pothier']",changes neutron security group ports integers previously neutron security group tcpudp port numbers defined strings issue testing trunk issue testing 20141b2 20141b2 expects parameters defined integers strings tcpudp ports defined integers security group rules work trunk well 20141b2 changeid if7e5af163993b4cad3f31583ea73e9e856ab0ccb
https://review.opendev.org/81170,"Incorrect terminology: ""layered security protection profile"" shoud be ""labeled security protection profile""","Incorrect terminology: ""layered security protection profile"" shoud be ""labeled security protection profile"" Change-Id: I2e8eae57bd72da25a9aca1839f74ceac7162563f",9774,Yuko Fukuda,"[3, 6547, 9382]","['Jenkins', 'Andreas Jaeger', 'Shilla Saebi']",incorrect terminology layered security protection profile shoud labeled security protection profile changeid i2e8eae57bd72da25a9aca1839f74ceac7162563f
https://review.opendev.org/78744,NSX: Propagate name updates for security profiles,NSX: Propagate name updates for security profiles ...All the way to the controller. Change-Id: I4740f632eeafdd165dbd0208e37acc85ff883925 Closes-bug: #1285845,748,Armando Migliaccio,"[3, 748, 2592, 4395, 5170, 9008, 9732, 9787, 9845, 9925, 10116, 10117, 10153, 10184, 10192, 10294, 10387]","['Jenkins', 'Armando Migliaccio', 'Mark McClain', 'Aaron Rosen', 'Microsoft Hyper-V CI', 'VMware NSX CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI', 'Freescale CI']",nsx propagate name updates security profiles way controller changeid i4740f632eeafdd165dbd0208e37acc85ff883925 closesbug 1285845
https://review.opendev.org/75920,Add security group deletion to the cleanup util,Add security group deletion to the cleanup util Add security group deletion code to the stress cleanup utility. Change-Id: I39b70da4000da1a72fff7b3384831673eb7e06f7,5803,Attila Fazekas,"[3, 1192, 2750, 7139]","['Jenkins', 'David Kranz', 'Sean Dague', 'Zhi Kun Liu']",add security group deletion cleanup util add security group deletion code stress cleanup utility changeid i39b70da4000da1a72fff7b3384831673eb7e06f7
https://review.opendev.org/79949,Make nova-network use conductor for security groups refresh,Make nova-network use conductor for security groups refresh This makes nova-network use the existing conductor interface for triggering security groups member refreshes. Related to blueprint nova-network-objects Change-Id: Ieca163d67cd005534acb225df83457d755295af9 Related-bug: 1290568,4393,Dan Smith,"[3, 1030, 4393, 5170, 5441, 6873, 7730, 9008, 9578]","['Jenkins', 'Chris Behrens', 'Dan Smith', 'Microsoft Hyper-V CI', 'Andrew Laski', 'Matt Riedemann', 'sahid', 'VMware NSX CI', 'DB Datasets CI']",make novanetwork use conductor security groups refresh makes novanetwork use existing conductor interface triggering security groups member refreshes related blueprint novanetworkobjects changeid ieca163d67cd005534acb225df83457d755295af9 relatedbug 1290568
https://review.opendev.org/79895,Missing security decorators added,Missing security decorators added Change-Id: I651b486ea642b7d903e2c6119b455be9f285606e,7132,Nikita Konovalov,"[3, 7132, 9717]","['Jenkins', 'Nikita Konovalov', 'Michael Krotscheck']",missing security decorators added changeid i651b486ea642b7d903e2c6119b455be9f285606e
https://review.opendev.org/79416,Remove sudo usage from Security Guide,Remove sudo usage from Security Guide Remove sudo usage and adjust prompts as needed. Also fix some programlisting markup. Change-Id: Ic2ba237a8e04f878ef62b91be864fbaf6e6b6916,6547,Andreas Jaeger,"[3, 6547, 6772, 6843, 7923, 9162]","['Jenkins', 'Andreas Jaeger', 'Stephen Gordon', 'Phil Hopkins', 'Gauvain Pocentek', 'Lana Brindley']",remove sudo usage security guide remove sudo usage adjust prompts needed also fix programlisting markup changeid ic2ba237a8e04f878ef62b91be864fbaf6e6b6916
https://review.opendev.org/77778,Tighten up security group port settings for broker and node.,Tighten up security group port settings for broker and node. Separate security groups were created for broker and node hosts. Firewall rules follow documentation: https://access.redhat.com/site/documentation/en-US/OpenShift_Enterprise\ /2/html/Deployment_Guide/Network_Access.html Change-Id: If54f9b636e13679372bd566c8cc8dc6a08e4c7d2,10000,Aaron Weitekamp,"[3, 2834, 3098, 4328, 10000]","['Jenkins', 'Steven Dake', 'Jeff Peeler', 'Steven Hardy', 'Aaron Weitekamp']",tighten security group port settings broker node separate security groups created broker node hosts firewall rules follow documentation httpsaccessredhatcomsitedocumentationenusopenshiftenterprise 2htmldeploymentguidenetworkaccesshtml changeid if54f9b636e13679372bd566c8cc8dc6a08e4c7d2
https://review.opendev.org/69561,Test to update neutron security group,"Test to update neutron security group Adding update_security_group functionality to existingmethod ""test_create_show_delete_security_group"" in test_security_groups.py. Verifying if name and description of security group are updated. Also using updater method from network_client_base.py for 'update_security_group' function call. Change-Id: I4a8b4e9d7cecf2c760b4c26d61a97cfafac25461",1687,nayna-patel,"[3, 1192, 1687, 1795, 2238, 4694, 5689, 5803, 6455, 7249, 7293, 8085, 8205, 9008]","['Jenkins', 'David Kranz', 'nayna-patel', 'Ravikumar Venkatesan', 'rajalakshmi-ganesan', 'Miguel Lavalle', 'Masayuki Igawa', 'Attila Fazekas', 'Harika Vakadi', 'Ann Taraday', 'Elena Ezhova', 'anju Tiwari', 'Mh Raies', 'VMware NSX CI']",test update neutron security group adding updatesecuritygroup functionality existingmethod testcreateshowdeletesecuritygroup testsecuritygroupspy verifying name description security group updated also using updater method networkclientbasepy updatesecuritygroup function call changeid i4a8b4e9d7cecf2c760b4c26d61a97cfafac25461
https://review.opendev.org/78078,fix typo in OpenStack Security Guide.,fix typo in OpenStack Security Guide. Change-Id: If896899f1a028f271d12ae08a772a0f7bf2a6292 Closes-Bug: #1288030,10497,KATO Tomoyuki,"[3, 964, 6547]","['Jenkins', 'Anne Gentle', 'Andreas Jaeger']",fix typo openstack security guide changeid if896899f1a028f271d12ae08a772a0f7bf2a6292 closesbug 1288030
https://review.opendev.org/74199,Adds Hyper-V Security Groups implementation,Adds Hyper-V Security Groups implementation Implements the security groups API in the Hyper-V agent. Change-Id: I7556001557cd013c10b7f883dbf371afa8d09626 Implements: blueprint hyperv-security-groups,8213,Claudiu Belu,"[3, 261, 2592, 3185, 4362, 5170, 8213, 9008, 9681, 9732, 9787, 9845, 9925, 10116, 10117, 10119, 10153, 10184, 10192, 10294]","['Jenkins', 'Salvatore Orlando', 'Mark McClain', 'Alessandro Pilotti', 'Salvatore Orlando', 'Microsoft Hyper-V CI', 'Claudiu Belu', 'VMware NSX CI', 'Ryu CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI']",adds hyperv security groups implementation implements security groups api hyperv agent changeid i7556001557cd013c10b7f883dbf371afa8d09626 implements blueprint hypervsecuritygroups
https://review.opendev.org/64458,Add security context for each incoming request.,"Add security context for each incommint request. This patch adds a new class for security context. This class is used to store important authorization information for incomming request. Pecan allows to have hooks for processing requests. This patch adds a new hook which extracts information from keystone auth_token, creates a new class for security context and adds this security contects as a part of request accesible via request.security_context. Change-Id: I42539c06b6dc325172e90c32dabc3bd5476a628f Implements: blueprint rbac-filtering",8443,Georgy Okrokvertskhov,"[3, 668, 2472, 2506, 4715, 8005, 8334, 8443, 9094, 9124, 9537, 9808]","['Jenkins', 'Adrian Otto', 'Doug Hellmann', 'devdatta-kulkarni', 'Angus Salkeld', 'Ryan Petrello', 'Noorul Islam K M', 'Georgy Okrokvertskhov', 'Paul Montgomery', 'Clayton Coleman', 'Julien Vey', 'Nikita Marchenko']",add security context incommint request patch adds new class security context class used store important authorization information incomming request pecan allows hooks processing requests patch adds new hook extracts information keystone authtoken creates new class security context adds security contects part request accesible via requestsecuritycontext changeid i42539c06b6dc325172e90c32dabc3bd5476a628f implements blueprint rbacfiltering
https://review.opendev.org/69416,Move db migration of ml2 security groups to havana,Move db migration of ml2 security groups to havana ml2 plugin is a havana feature. Currently securitygroups table are created in chain of migration after havana release. It causes db migration failure when migratino from havana to current head because securitygroups table is attempted to be created although it was already created by create_all(). Closes-bug: #1271231 Change-Id: If450bd95de7a5fdfdb2219cfbf7eb0c1323044bb,8655,Jakub Libosvar,"[3, 841, 1689, 2035, 2592, 3153, 6072, 6316, 6788, 8655, 9008, 9681, 9732, 9845, 9881, 9925, 10116, 10117, 10119, 10153, 10184, 10192, 10294]","['Jenkins', 'Akihiro Motoki', 'Robert Kukura', 'Maru Newby', 'Mark McClain', 'Emilien Macchi', 'Eugene Nikanorov', 'Anita Kuno', 'Rossella Sblendido', 'Jakub Libosvar', 'VMware NSX CI', 'Ryu CI', 'Mellanox CI', 'Arista CI', 'Deepak Gupta', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI']",move db migration ml2 security groups havana ml2 plugin havana feature currently securitygroups table created chain migration havana release causes db migration failure migratino havana current head securitygroups table attempted created although already created createall closesbug 1271231 changeid if450bd95de7a5fdfdb2219cfbf7eb0c1323044bb
https://review.opendev.org/77518,Add security group rules for Couchbase,Add security group rules for Couchbase Closes-Bug: #1287037 Change-Id: I6529930e91cfa709bd87aa0ae97b286ec65d239c,9431,Khyati Sheth,"[3, 5293, 7092, 8214, 9431]","['Jenkins', 'Nikhil', 'Deprecated Trove CI', 'Auston McReynolds', 'Khyati Sheth']",add security group rules couchbase closesbug 1287037 changeid i6529930e91cfa709bd87aa0ae97b286ec65d239c
https://review.opendev.org/77249,Fix security groups wadl,Fix security groups wadl Change-Id: Ib0867af2e0824b2d74c3ba4e1ec3ac59e27be274,2448,Diane Fleming,"[3, 2448]","['Jenkins', 'Diane Fleming']",fix security groups wadl changeid ib0867af2e0824b2d74c3ba4e1ec3ac59e27be274
https://review.opendev.org/77258,Fix security group wadl,Fix security group wadl Change-Id: I5e93cad83a8a2777054ed029c059cd835f750993 author: Diane fleming,2448,Diane Fleming,"[3, 2448]","['Jenkins', 'Diane Fleming']",fix security group wadl changeid i5e93cad83a8a2777054ed029c059cd835f750993 author diane fleming
https://review.opendev.org/73093,Restrict the length of the Security Group name input,"Restrict the length of the Security Group name input There is an allowed maximum length for security group name field, but in current code, it doesn't check or restrict that from UI side, i.e. user will be able to type in more than what is allowed. After form submission, it will fail but there is no clear message telling user what caused failure. After adding the code to restrict the max length of the security group name field, user will not be able to input more than what is allowed, thus this error will be prevented from UI. Change-Id: I0f560e78e67a0259343f1a2c820270506653b254 Closes-Bug: #1279472",9347,Yuanhui Liu,"[3, 1941, 2455, 5623, 6348, 6610, 6914, 9498, 9576]","['Jenkins', 'Lin Hua Cheng', 'Tihomir Trifonov', 'David Lyle', 'xu-haiwei', 'Zhenguo Niu', 'Tatiana Ovchinnikova', 'Vahid Hashemian', 'Thai Tran']",restrict length security group name input allowed maximum length security group name field current code doesnt check restrict ui side ie user able type allowed form submission fail clear message telling user caused failure adding code restrict max length security group name field user able input allowed thus error prevented ui changeid i0f560e78e67a0259343f1a2c820270506653b254 closesbug 1279472
https://review.opendev.org/75091,Fix format errors in nova security group rule list,Fix format errors in nova security group rule list * port range was throwing exception for None to/from ports * ip_range didn't always have cidr causing error * ip_protocol None at times and looked bad Closes-Bug #1256935 Change-Id: I451a0f038a3e9646bca3f278c5d6f6d7e3097a83,8736,Terry Howe,"[3, 970, 8736]","['Jenkins', 'Dean Troyer', 'Terry Howe']",fix format errors nova security group rule list port range throwing exception none tofrom ports iprange didnt always cidr causing error ipprotocol none times looked bad closesbug 1256935 changeid i451a0f038a3e9646bca3f278c5d6f6d7e3097a83
https://review.opendev.org/71692,DB Mappings for NSX security groups,"DB Mappings for NSX security groups This patch introduces DB mappings between neutron security groups and NSX security profiles, thus not requiring anymore the Neutron router ID to be equal to the NSX one. This change is needed for enabling asynchronous operations in the NSX plugin. Related to blueprint nvp-async-backend-communication Change-Id: I3b28d535c93cd2bfc776aabe0d99be18fce4454d",261,Salvatore Orlando,"[3, 261, 748, 1653, 2592, 4395, 6788, 9008, 9681, 9682, 9732, 9787, 9845, 9925, 10116, 10117, 10119, 10153, 10184, 10192, 10294]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'garyk', 'Mark McClain', 'Aaron Rosen', 'Rossella Sblendido', 'VMware NSX CI', 'Ryu CI', 'OpenContrail CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI']",db mappings nsx security groups patch introduces db mappings neutron security groups nsx security profiles thus requiring anymore neutron router id equal nsx one change needed enabling asynchronous operations nsx plugin related blueprint nvpasyncbackendcommunication changeid i3b28d535c93cd2bfc776aabe0d99be18fce4454d
https://review.opendev.org/67390,Rename Security Groups related methods for VMware NSX plugin,Rename Security Groups related methods for VMware NSX plugin Second to last step for the renaming/refactoring of nvplib and related modules. This is about security groups. Partial-implements blueprint nicira-plugin-renaming Change-Id: I0099bf25be77fdec90d515c890b728a477409ef9,748,Armando Migliaccio,"[3, 261, 748, 841, 1653, 4395, 9008, 9732, 9787, 9845, 9925, 10116, 10117, 10119, 10153, 10184, 10192, 10294]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'Akihiro Motoki', 'garyk', 'Aaron Rosen', 'VMware NSX CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'vArmour CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI', 'Brocade VDX CI']",rename security groups related methods vmware nsx plugin second last step renamingrefactoring nvplib related modules security groups partialimplements blueprint nicirapluginrenaming changeid i0099bf25be77fdec90d515c890b728a477409ef9
https://review.opendev.org/75145,add constant for security service,add constant fo security service add constant variable for resource 'service/security' Change-Id: I29a47920a6718a6695a9ca2187fcbe92bcf46ac9,6537,gordon chung,"[3, 6482, 6537]","['Jenkins', 'Steve Martinelli', 'gordon chung']",add constant fo security service add constant variable resource servicesecurity changeid i29a47920a6718a6695a9ca2187fcbe92bcf46ac9
https://review.opendev.org/72636,Calculate default security group into quota usage,Calculate default security group into quota usage Create the related quota usage when creating the default security group for user. Change-Id: Ide1de160814a5937f71e07f3ab10ce2bba8886f1 Closes-bug: 1271381,4428,Liyingjun,"[3, 67, 360, 642, 679, 2271, 3191, 4428, 5292, 5441, 9008, 9578]","['Jenkins', 'Vish Ishaya', 'Dan Prince', 'Matt Dietz', 'Kevin L. Mitchell', 'Michael Still', 'Kylin CG', 'Liyingjun', 'Christopher Yeoh', 'Andrew Laski', 'VMware NSX CI', 'DB Datasets CI']",calculate default security group quota usage create related quota usage creating default security group user changeid ide1de160814a5937f71e07f3ab10ce2bba8886f1 closesbug 1271381
https://review.opendev.org/71068,Drupal 7.26 security update,Drupal 7.26 security update Update Drupal core to 7.26 and following modules: Entity API 7.x-1.2 -> 7.x-1.3 Leaflet 7.x-1.0-beta3 -> 7.x-1.1 Organic groups 7.x-2.3 -> 7.x-2.4 Change-Id: I8f79f81ceaec5d892414866d11956bc58a4f954e,6633,Marton Kiss,"[3, 6633]","['Jenkins', 'Marton Kiss']",drupal 726 security update update drupal core 726 following modules entity api 7x12 7x13 leaflet 7x10beta3 7x11 organic groups 7x23 7x24 changeid i8f79f81ceaec5d892414866d11956bc58a4f954e
https://review.opendev.org/74394,Removes duplicated security for instances entry,Removes duplicated security for instances entry This patch removes a duplicated section within the training guides for setting up security and access for instances. This was reported in LP#1278310. Change-Id: Ibdf92ff8e1d46f8539d335a70e3700f16ef73284 Closes-Bug: #1278310,9191,Rhys Oxenham,"[3, 3153, 6547, 8944]","['Jenkins', 'Emilien Macchi', 'Andreas Jaeger', 'Chandan Kumar']",removes duplicated security instances entry patch removes duplicated section within training guides setting security access instances reported lp1278310 changeid ibdf92ff8e1d46f8539d335a70e3700f16ef73284 closesbug 1278310
https://review.opendev.org/73364,Use lowercase section name in Neutron ML2 security group config,Use lowercase section name in Neutron ML2 security group config All other security group configs in Neutron are lower-case and it should be consistent. Change-Id: I683333c1e186446a69172446cca6d9b952673ed4 Closes-Bug: #1279862,841,Akihiro Motoki,"[3, 841, 866, 970, 1653, 2750]","['Jenkins', 'Akihiro Motoki', 'Chmouel Boudjnah', 'Dean Troyer', 'garyk', 'Sean Dague']",use lowercase section name neutron ml2 security group config security group configs neutron lowercase consistent changeid i683333c1e186446a69172446cca6d9b952673ed4 closesbug 1279862
https://review.opendev.org/723322,Pick up security group RPC API changes,"Pick up security group RPC API changes The MAC address is now included with along with security group member IPs, as per this change [1]. We have to update the networking-hyperv sg driver, which currently an IP string instead of a tuple. [1] I2e3aa7c400d7bb17cc117b65faaa160b41013dde Change-Id: I35a6318ed31e02c1986d65860cc0ddb9d744de8d (cherry picked from commit 11be493f4458e695f5a5e4c8db833c3206cf4b44)",8543,Lucian Petrut,"[8543, 22348]","['Lucian Petrut', 'Zuul']",pick security group rpc api changes mac address included along security group member ips per change 1 update networkinghyperv sg driver currently ip string instead tuple 1 i2e3aa7c400d7bb17cc117b65faaa160b41013dde changeid i35a6318ed31e02c1986d65860cc0ddb9d744de8d cherry picked commit 11be493f4458e695f5a5e4c8db833c3206cf4b44
https://review.opendev.org/722672,Pick up security group RPC API changes,"Pick up security group RPC API changes The MAC address is now included with along with security group member IPs, as per this change [1]. We have to update the networking-hyperv sg driver, which now currently an IP string instead of a tuple. [1] I2e3aa7c400d7bb17cc117b65faaa160b41013dde Change-Id: I35a6318ed31e02c1986d65860cc0ddb9d744de8d",8543,Lucian Petrut,"[8543, 22348]","['Lucian Petrut', 'Zuul']",pick security group rpc api changes mac address included along security group member ips per change 1 update networkinghyperv sg driver currently ip string instead tuple 1 i2e3aa7c400d7bb17cc117b65faaa160b41013dde changeid i35a6318ed31e02c1986d65860cc0ddb9d744de8d
https://review.opendev.org/63100,Improve handling of security group updates,"Improve handling of security group updates Currently updates to security group rules or memebership are handled by immediately triggering a call to refresh_firewall. This call is quite expensive, and it is often executed with a very high frequency. With this patch, the notification handler simply adds devices for which the firewall should be refreshed to a set, which will then be processed in another routine which is supposed to be called in the main agent loop. This patch for 'provider updates' simply sets a flag for refreshing the firewall for all devices. In order to avoid breaking other agents leveraging the security group RPC mixin, the reactive behaviour is still available, and is still the default way of handling security group updates. Partial-Bug: #1253993 Partially implements blueprint: neutron-tempest-parallel Change-Id: I1574544734865506ff5383404516cc9349c16ec4",261,Salvatore Orlando,"[3, 261, 333, 841, 2031, 2035, 2592, 2711, 2733, 4395, 5572, 6316, 6524, 6659, 6670, 7141, 7448, 9681, 9695, 9732, 9787, 9845, 9925, 10116, 10117, 10153, 10184, 10192]","['Jenkins', 'Salvatore Orlando', 'Isaku Yamahata', 'Akihiro Motoki', 'Nachi Ueno', 'Maru Newby', 'Mark McClain', 'Zhang Hua', ""Darragh O'Reilly"", 'Aaron Rosen', 'dekehn', 'Anita Kuno', 'Henry Gessau', 'Paul Michali', 'Amir Sadoughi', 'Sylvain Afchain', 'Carl Baldwin', 'Ryu CI', 'Tail-f NCS CI', 'Mellanox CI', 'Big Switch CI', 'Arista CI', 'Midokura CI', 'NEC CI', 'PLUMgrid CI', 'One Convergence CI', 'Nuage CI', 'Cisco CI']",improve handling security group updates currently updates security group rules memebership handled immediately triggering call refreshfirewall call quite expensive often executed high frequency patch notification handler simply adds devices firewall refreshed set processed another routine supposed called main agent loop patch provider updates simply sets flag refreshing firewall devices order avoid breaking agents leveraging security group rpc mixin reactive behaviour still available still default way handling security group updates partialbug 1253993 partially implements blueprint neutrontempestparallel changeid i1574544734865506ff5383404516cc9349c16ec4
https://review.opendev.org/72014,Fix Security Group Rule creation examples,Fix Security Group Rule creation examples Resolves Bug #1277719 Change-Id: I2ed4193d4401da9014161e7b58d833a630a51fd8,4656,Sean M. Collins,"[3, 2448, 4656]","['Jenkins', 'Diane Fleming', 'Sean M. Collins']",fix security group rule creation examples resolves bug 1277719 changeid i2ed4193d4401da9014161e7b58d833a630a51fd8
https://review.opendev.org/63228,Configure security group when using ML2 plugin,"Configure security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations, Neutron developpers recommend setting firewall_driver flag in ml2 configuration. Change-Id: I62d0d1b2aac88a11e5f3e80e98953c71cfc98629 Closes-bug: #1262678 Signed-off-by: Emilien Macchi <emilien.macchi@enovance.com>",3153,Emilien Macchi,"[3, 1689, 1918, 3153, 6994, 7141, 7156, 7822, 8976]","['Jenkins', 'Robert Kukura', 'François Charlier', 'Emilien Macchi', 'Michael Chapman', 'Sylvain Afchain', 'Mathieu Gagné', 'Chris Hoge (not involved in upstream development)', 'shihanzhang']",configure security group using ml2 plugin since ml2 plugin concurrently support different l2 agents mechanisms different configurations neutron developpers recommend setting firewalldriver flag ml2 configuration changeid i62d0d1b2aac88a11e5f3e80e98953c71cfc98629 closesbug 1262678 signedoffby emilien macchi emilienmacchienovancecom
https://review.opendev.org/68073,Don't pass empty security groups in port creation,"Don't pass empty security groups in port creation Skip the security_groups argument when the list is empty, as it can break some neutron extensions not supporting security groups. Change-Id: I970af48953d91182401f67f2483add51485a6f48 Closes-Bug: #1271112",7385,Thomas Herve,"[3, 3098, 4328, 4571, 6577, 7385, 9542]","['Jenkins', 'Jeff Peeler', 'Steven Hardy', 'Steve Baker', 'Sergey Kraynev', 'Thomas Herve', 'Pavlo Shchelokovskyy']",dont pass empty security groups port creation skip securitygroups argument list empty break neutron extensions supporting security groups changeid i970af48953d91182401f67f2483add51485a6f48 closesbug 1271112
https://review.opendev.org/68627,Fix xml response for create/update security service,Fix xml response for create/update security service Changed xml template for create/update security service from SecurityServiceTemplates to SecurityServiceTemplate Closes bug 1269829 Change-Id: I07f2847b8897cfbc2ee3e1952709925c3c056774,7534,Yulia Portnova,"[3, 7534, 8851]","['Jenkins', 'Yulia Portnova', 'Valeriy Ponomaryov']",fix xml response createupdate security service changed xml template createupdate security service securityservicetemplates securityservicetemplate closes bug 1269829 changeid i07f2847b8897cfbc2ee3e1952709925c3c056774
https://review.opendev.org/68613,Add 'password' field to the security service,Add 'password' field to the security service Change-Id: I8a6d146645b33d7baff52902b7187b09cdbdf63a,9069,Aleks Chirko,"[3, 7534, 8851]","['Jenkins', 'Yulia Portnova', 'Valeriy Ponomaryov']",add password field security service changeid i8a6d146645b33d7baff52902b7187b09cdbdf63a
https://review.opendev.org/67695,Add more terms to Security Guide Glossary,"Add more terms to Security Guide Glossary Add the missing ""Acccess control item"" and also add new entry for DAC. Change-Id: Ib2103c1410d6f2c38e89cf5bf5c2130f0786934e Closes-Bug: #1269452",6547,Andreas Jaeger,"[3, 2448]","['Jenkins', 'Diane Fleming']",add terms security guide glossary add missing acccess control item also add new entry dac changeid ib2103c1410d6f2c38e89cf5bf5c2130f0786934e closesbug 1269452
https://review.opendev.org/66293,Create security group rule with additional args,Create security group rule with additional args This patch adds a case to verify creating security group rule with additional args works. Change-Id: Ie50ac9f9260514dd093b8a5e81b5a2fe9c03437c,7930,jun xie,"[3, 1192, 5174, 5803, 6167, 7139, 7189, 7872, 7930, 8625, 9008]","['Jenkins', 'David Kranz', 'Mauro Rodrigues', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Zhi Kun Liu', 'coho', 'Marc Koderer', 'jun xie', 'Anju Tiwari', 'VMware NSX CI']",create security group rule additional args patch adds case verify creating security group rule additional args works changeid ie50ac9f9260514dd093b8a5e81b5a2fe9c03437c
https://review.opendev.org/66395,Fix icmp security group rule creation,Fix icmp security group rule creation. Previously invalid icmp rules were created which lead to incorrect duplicate detection. When valid rules are created duplicates are correctly detected so rally does not attempt to crate the same rule twice. Change-Id: Ia1262f3595b679e267ff1a9cb7cfe9f31e02c2b8 Closes-Bug: #1268687,7217,Hugh Saunders,"[3, 6172, 7217]","['Jenkins', 'Boris Pavlovic', 'Hugh Saunders']",fix icmp security group rule creation previously invalid icmp rules created lead incorrect duplicate detection valid rules created duplicates correctly detected rally attempt crate rule twice changeid ia1262f3595b679e267ff1a9cb7cfe9f31e02c2b8 closesbug 1268687
https://review.opendev.org/66200,Configure security group when using ML2 plugin,"Configure security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations, Neutron developpers recommend setting firewall_driver flag in ml2 configuration. Change-Id: I62d0d1b2aac88a11e5f3e80e98953c71cfc98629 Closes-bug: #1262678 Signed-off-by: Emilien Macchi <emilien.macchi@enovance.com> (cherry picked from commit 59cf3eb0a22c220509ec80c345bbf064f85374ad)",3153,Emilien Macchi,"[3, 1918, 7156, 7822]","['Jenkins', 'François Charlier', 'Mathieu Gagné', 'Chris Hoge (not involved in upstream development)']",configure security group using ml2 plugin since ml2 plugin concurrently support different l2 agents mechanisms different configurations neutron developpers recommend setting firewalldriver flag ml2 configuration changeid i62d0d1b2aac88a11e5f3e80e98953c71cfc98629 closesbug 1262678 signedoffby emilien macchi emilienmacchienovancecom cherry picked commit 59cf3eb0a22c220509ec80c345bbf064f85374ad
https://review.opendev.org/65851,Filter wadl on security before normalizing.,Filter wadl on security before profiling. Some security attrs can be lost when going to path format. Change-Id: Ic92602a20239ff72c06e8e563445c7062161a6d8,1441,David Cramer,"[3, 1441]","['Jenkins', 'David Cramer']",filter wadl security profiling security attrs lost going path format changeid ic92602a20239ff72c06e8e563445c7062161a6d8
https://review.opendev.org/63585,Add security groups tables for ML2 plugin via migration,Add security groups tables for ML2 plugin via migration Copy the migration from revision 3cb5d900c5de Change-Id: Ie0f6f14d69e896727715ecce573b81275c7869dc Fixes-Bug: #1263304,6072,Eugene Nikanorov,"[3, 105, 841, 2711, 5572, 6072, 6670, 9008, 9681, 9695, 9732, 9845]","['Jenkins', 'Kyle Mestery', 'Akihiro Motoki', 'Zhang Hua', 'dekehn', 'Eugene Nikanorov', 'Amir Sadoughi', 'VMware NSX CI', 'Ryu CI', 'Tail-f NCS CI', 'Mellanox CI', 'Arista CI']",add security groups tables ml2 plugin via migration copy migration revision 3cb5d900c5de changeid ie0f6f14d69e896727715ecce573b81275c7869dc fixesbug 1263304
https://review.opendev.org/64763,Python SDK: keypairs & security groups,Python SDK: keypairs & security groups How to use the Python SDK to work with keypairs and security groups. Change-Id: I1a129cc37e841f5b123c446b66d0f4c6817f2485,321,Lorin Hochstein,"[3, 321, 6547, 6772, 8944]","['Jenkins', 'Lorin Hochstein', 'Andreas Jaeger', 'Stephen Gordon', 'Chandan Kumar']",python sdk keypairs security groups use python sdk work keypairs security groups changeid i1a129cc37e841f5b123c446b66d0f4c6817f2485
https://review.opendev.org/64325,Fix invalid port range in security group rule create,"Fix invalid port range in security group rule create An earlier commit introduced a change that creates security groups. In the rules for tcp and udp, ports 1-65536 are allowed. This is incorrect, it should be 1-65535. This patch corrects this error. Bug: 1264635 Change-Id: I83a7471ebf6d3d3bfeff6b16a051880d876370b1",7217,Hugh Saunders,"[3, 6172, 7217]","['Jenkins', 'Boris Pavlovic', 'Hugh Saunders']",fix invalid port range security group rule create earlier commit introduced change creates security groups rules tcp udp ports 165536 allowed incorrect 165535 patch corrects error bug 1264635 changeid i83a7471ebf6d3d3bfeff6b16a051880d876370b1
https://review.opendev.org/63572,Document security group when using ML2 plugin,"Document security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations, Neutron developpers recommend setting firewall_driver flag in ml2 configuration. Change-Id: I7f97128a955ded99400e25a5ef9a990260df3bf7 Closes-bug: #1262678 backport: havana Signed-off-by: Emilien Macchi <emilien.macchi@enovance.com> (cherry picked from commit 4c5d9ba37bb2cebedb05aabab3452a5e0005f985)",6547,Andreas Jaeger,"[3, 3153, 6547, 8944]","['Jenkins', 'Emilien Macchi', 'Andreas Jaeger', 'Chandan Kumar']",document security group using ml2 plugin since ml2 plugin concurrently support different l2 agents mechanisms different configurations neutron developpers recommend setting firewalldriver flag ml2 configuration changeid i7f97128a955ded99400e25a5ef9a990260df3bf7 closesbug 1262678 backport havana signedoffby emilien macchi emilienmacchienovancecom cherry picked commit 4c5d9ba37bb2cebedb05aabab3452a5e0005f985
https://review.opendev.org/63233,Document security group when using ML2 plugin,"Document security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations, Neutron developpers recommend setting firewall_driver flag in ml2 configuration. Change-Id: I7f97128a955ded99400e25a5ef9a990260df3bf7 Closes-bug: #1262678 backport: havana Signed-off-by: Emilien Macchi <emilien.macchi@enovance.com>",3153,Emilien Macchi,"[3, 612, 964, 1689, 3153, 6547, 7141, 8944]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Robert Kukura', 'Emilien Macchi', 'Andreas Jaeger', 'Sylvain Afchain', 'Chandan Kumar']",document security group using ml2 plugin since ml2 plugin concurrently support different l2 agents mechanisms different configurations neutron developpers recommend setting firewalldriver flag ml2 configuration changeid i7f97128a955ded99400e25a5ef9a990260df3bf7 closesbug 1262678 backport havana signedoffby emilien macchi emilienmacchienovancecom
https://review.opendev.org/63309,Added command for security group,Added command for security group Change-Id: I351eadc237946d48b3f2c4a13a8aa5ad43babffb Closes-Bug: #1261575,8944,Chandan Kumar,"[3, 612, 964, 6547, 8944]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Andreas Jaeger', 'Chandan Kumar']",added command security group changeid i351eadc237946d48b3f2c4a13a8aa5ad43babffb closesbug 1261575
https://review.opendev.org/60589,Fix unable to add allow all IPv4/6 security group rule,"Fix unable to add allow all IPv4/6 security group rule Previously, if one tried to add a rule to allow all ingress ipv4 neutron would respond that the rule was already part of the security group. This happened as the filter for querying existing rules uses a wildcard for remote_group_id thus returning a false match. This patch addresses this issue. Change-Id: I0320013a3869d25fb424995354721929465d2848 Closes-bug: #1252806 (cherry picked from commit 9335ffd7c3eaad0d66d7d19e7760ae12476a5ea2)",4395,Aaron Rosen,"[3, 2592, 2711, 4395, 8449]","['Jenkins', 'Mark McClain', 'Zhang Hua', 'Aaron Rosen', 'Marios Andreou']",fix unable add allow ipv46 security group rule previously one tried add rule allow ingress ipv4 neutron would respond rule already part security group happened filter querying existing rules uses wildcard remotegroupid thus returning false match patch addresses issue changeid i0320013a3869d25fb424995354721929465d2848 closesbug 1252806 cherry picked commit 9335ffd7c3eaad0d66d7d19e7760ae12476a5ea2
https://review.opendev.org/60747,Add testcases for security groups,Add testcases for security groups Adds tests for those GET API functions that accept params List_security_groups Nova API Skip security groups list by 'all_tenants' search filter test if neutron is enabled because neutron do not support 'all_tenants' search filter. Change-Id: I5867acd03c3d184911281c673ce804455f269f57 Partial-Bug: #1086590,8300,Abhijeet Malawade,"[3, 1192, 2750, 5292, 8300, 8625]","['Jenkins', 'David Kranz', 'Sean Dague', 'Christopher Yeoh', 'Abhijeet Malawade', 'Anju Tiwari']",add testcases security groups adds tests get api functions accept params listsecuritygroups nova api skip security groups list alltenants search filter test neutron enabled neutron support alltenants search filter changeid i5867acd03c3d184911281c673ce804455f269f57 partialbug 1086590
https://review.opendev.org/62666,Typo in Security Guide Neutron Flow image,"Typo in Security Guide Neutron Flow image There was a typo in the Neutron flow image in the security guide document. Lists one of the flows as a ""Tentant API"" rather than ""Tenant API"". I modified the png image and pushed as part of this commit. http://docs.openstack.org/security-guide/content/ch033_securing-neutron-services.html Change-Id: I1ec822972f25fd62cc9a5077975f7b556db10664 backport: havana Closes-Bug: 1253832 (cherry picked from commit a712006543421fe866eb9e6a9d3475ca336a003f)",9191,Rhys Oxenham,"[3, 2448]","['Jenkins', 'Diane Fleming']",typo security guide neutron flow image typo neutron flow image security guide document lists one flows tentant api rather tenant api modified png image pushed part commit httpdocsopenstackorgsecurityguidecontentch033securingneutronserviceshtml changeid i1ec822972f25fd62cc9a5077975f7b556db10664 backport havana closesbug 1253832 cherry picked commit a712006543421fe866eb9e6a9d3475ca336a003f
https://review.opendev.org/62168,Typo in Security Guide Neutron Flow image,"Typo in Security Guide Neutron Flow image There was a typo in the Neutron flow image in the security guide document. Lists one of the flows as a ""Tentant API"" rather than ""Tenant API"". I modified the png image and pushed as part of this commit. http://docs.openstack.org/security-guide/content/ch033_securing-neutron-services.html Change-Id: I1ec822972f25fd62cc9a5077975f7b556db10664 backport: havana Closes-Bug: 1253832",9191,Rhys Oxenham,"[3, 612, 6547, 8944, 9191]","['Jenkins', 'Tom Fifield', 'Andreas Jaeger', 'Chandan Kumar', 'Rhys Oxenham']",typo security guide neutron flow image typo neutron flow image security guide document lists one flows tentant api rather tenant api modified png image pushed part commit httpdocsopenstackorgsecurityguidecontentch033securingneutronserviceshtml changeid i1ec822972f25fd62cc9a5077975f7b556db10664 backport havana closesbug 1253832
https://review.opendev.org/60587,Fix unable to add allow all IPv4/6 security group rule,"Fix unable to add allow all IPv4/6 security group rule Previously, if one tried to add a rule to allow all ingress ipv4 neutron would respond that the rule was already part of the security group. This happened as the filter for querying existing rules uses a wildcard for remote_group_id thus returning a false match. This patch addresses this issue. Change-Id: I0320013a3869d25fb424995354721929465d2848 Closes-bug: #1252806 (cherry picked from commit 9335ffd7c3eaad0d66d7d19e7760ae12476a5ea2)",4395,Aaron Rosen,"[3, 841, 1653, 1955, 2592, 4395, 8449]","['Jenkins', 'Akihiro Motoki', 'garyk', 'Alan Pevec', 'Mark McClain', 'Aaron Rosen', 'Marios Andreou']",fix unable add allow ipv46 security group rule previously one tried add rule allow ingress ipv4 neutron would respond rule already part security group happened filter querying existing rules uses wildcard remotegroupid thus returning false match patch addresses issue changeid i0320013a3869d25fb424995354721929465d2848 closesbug 1252806 cherry picked commit 9335ffd7c3eaad0d66d7d19e7760ae12476a5ea2
https://review.opendev.org/61152,Fixed domain security rules.,Fixed domain security rules. * Added UDP:53 Change-Id: Ia8fa50d669ab2c312dd16ede8b03adebdacdf619,7562,Dmitry Teselkin,"[3, 7562, 7821, 8040]","['Jenkins', 'Dmitry Teselkin', 'Murano CI', 'Timur Sufiev']",fixed domain security rules added udp53 changeid ia8fa50d669ab2c312dd16ede8b03adebdacdf619
https://review.opendev.org/34825,Raise better exception if duplicate security groups,Raise better exception if duplicate security groups Fixes bug 1161472 Change-Id: I285bedbb2e0b3f4cd24cfa3a9b17131ad0200afa,4395,Aaron Rosen,"[3, 67, 748, 1501, 1561, 1653, 2166, 4395, 5292, 5754, 6873, 7040, 7133, 7494]","['Jenkins', 'Vish Ishaya', 'Armando Migliaccio', 'Phil Day', 'Russell Bryant', 'garyk', 'SmokeStack CI', 'Aaron Rosen', 'Christopher Yeoh', 'Alex Xu', 'Matt Riedemann', 'GuoHui LIu', 'Ryan Moore', 'Guangya Liu']",raise better exception duplicate security groups fixes bug 1161472 changeid i285bedbb2e0b3f4cd24cfa3a9b17131ad0200afa
https://review.opendev.org/61058,Added Active Directory security rules,Added Active Directory security rules TCP port 53 is now open for internal traffic within the environment (restricted by env's subnet CIDR) Change-Id: I22198b1f84c4ec35c658482b73b14b4ad3aa1f61 Closes-bug: #1259472,8127,Alexander Tivelkov,"[3, 7227, 7821]","['Jenkins', 'Timur Nurlygayanov', 'Murano CI']",added active directory security rules tcp port 53 open internal traffic within environment restricted envs subnet cidr changeid i22198b1f84c4ec35c658482b73b14b4ad3aa1f61 closesbug 1259472
https://review.opendev.org/60936,Fix reference in Security Guide,"Fix reference in Security Guide This is the first paragraph of the chapter, the reference is to the previous one. Change-Id: I31f4841ddbb1277b9e4161ee76b06ea4581ff2e2 Closes-Bug: #1253794",6547,Andreas Jaeger,"[3, 612, 964, 6547]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Andreas Jaeger']",fix reference security guide first paragraph chapter reference previous one changeid i31f4841ddbb1277b9e4161ee76b06ea4581ff2e2 closesbug 1253794
https://review.opendev.org/57670,Fix unable to add allow all IPv4/6 security group rule,"Fix unable to add allow all IPv4/6 security group rule Previously, if one tried to add a rule to allow all ingress ipv4 neutron would respond that the rule was already part of the security group. This was occuring as the query filter to the db would wildcard remote_group_id thus the default rule which allowed all IPv4 traffic to members of the same group was being matched (which wasn't a match). This patch addresses this issue. Change-Id: I0320013a3869d25fb424995354721929465d2848 Closes-bug: #1252806",4395,Aaron Rosen,"[3, 261, 748, 2031, 2592, 4395, 5756, 5948, 8655, 8788]","['Jenkins', 'Salvatore Orlando', 'Armando Migliaccio', 'Nachi Ueno', 'Mark McClain', 'Aaron Rosen', 'Terry Wilson', 'Oleg Bondarev', 'Jakub Libosvar', 'Miguel Angel Ajo']",fix unable add allow ipv46 security group rule previously one tried add rule allow ingress ipv4 neutron would respond rule already part security group occuring query filter db would wildcard remotegroupid thus default rule allowed ipv4 traffic members group matched wasnt match patch addresses issue changeid i0320013a3869d25fb424995354721929465d2848 closesbug 1252806
https://review.opendev.org/59620,Added complete Doc Convention to Security Guide.,Added Doc Convention to Security Guide (In progress) Change-Id: I8310331f48399310d1a5d7af88bd91fba20ea89c Partial-Bug: #1121866,8944,Chandan Kumar,"[3, 612, 964, 3153, 6547, 8944, 9162]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Emilien Macchi', 'Andreas Jaeger', 'Chandan Kumar', 'Lana Brindley']",added doc convention security guide progress changeid i8310331f48399310d1a5d7af88bd91fba20ea89c partialbug 1121866
https://review.opendev.org/50249,add some negative tests for security group:,add some negative tests for security group: - test_create_default_security_group - test_create_sg_rules_with_non_existent_sg Change-Id: Ica468bc0c41845050505a636a2add47b586fcac3,8282,Dong Liu,"[3, 261, 1192, 5196, 5586, 5803, 6167, 6732, 6796, 6983, 7139, 7882, 8282, 8336, 8625, 8641, 8846]","['Jenkins', 'Salvatore Orlando', 'David Kranz', 'Matthew Treinish', 'Ivan-Zhu', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Lingxian Kong', 'Giulio Fidente', 'YangLei', 'Zhi Kun Liu', 'Yuiko Takada Mori', 'Dong Liu', 'QianLin', 'Anju Tiwari', 'DennyZhang', '??']",add negative tests security group testcreatedefaultsecuritygroup testcreatesgruleswithnonexistentsg changeid ica468bc0c41845050505a636a2add47b586fcac3
https://review.opendev.org/55440,Add security groups and security group rules extensions,Add security groups and security group rules extensions Closes-Bug: #1128531 Change-Id: I81bac979e38e04074c92ba477ee69db44b6cfa9d Author: Diane Fleming,2448,Diane Fleming,"[3, 2448, 6547, 9162]","['Jenkins', 'Diane Fleming', 'Andreas Jaeger', 'Lana Brindley']",add security groups security group rules extensions closesbug 1128531 changeid i81bac979e38e04074c92ba477ee69db44b6cfa9d author diane fleming
https://review.opendev.org/58987,Rename metering to Telemetry in Security guide.,Rename metering to Telemetry in Security guide. Change-Id: I585cb3d2eec31c8fa501e883cd9f3a25e6c4ba34,8944,Chandan Kumar,"[3, 6547, 6772, 9263]","['Jenkins', 'Andreas Jaeger', 'Stephen Gordon', 'jishaomei']",rename metering telemetry security guide changeid i585cb3d2eec31c8fa501e883cd9f3a25e6c4ba34
https://review.opendev.org/56050,Fix default port of MS SQL in security group template,Fix default port of MS SQL in security group template Change-Id: Id20538faa81b730be90b115c6c8c119aeb5a08ee Closes-Bug: #1250029 (cherry picked from commit 038b5b80208a8b1837e5a2e0efd16676a842c59a),841,Akihiro Motoki,"[3, 1420, 1941, 4264, 4978, 5623, 6914, 9275]","['Jenkins', 'Adam Gandelman', 'Lin Hua Cheng', 'Matthias Runge', 'Julie Pichon', 'David Lyle', 'Tatiana Ovchinnikova', 'Leandro Ignacio Costantino']",fix default port ms sql security group template changeid id20538faa81b730be90b115c6c8c119aeb5a08ee closesbug 1250029 cherry picked commit 038b5b80208a8b1837e5a2e0efd16676a842c59a
https://review.opendev.org/58597,Rebind security groups only when they're updated,Rebind security groups only when they're updated Update the security port bindings for a port only when they actually differ from the stored value. This will also avoid sending port_update notifications to the agent even if nothing actually changes in the port configuration. Closes-Bug: #1255183 Partial blueprint: neutron-tempest-parallel Change-Id: I00c29dc97c46478433fdf08069a884bb78e5cd0a,261,Salvatore Orlando,"[3, 261, 841, 2592]","['Jenkins', 'Salvatore Orlando', 'Akihiro Motoki', 'Mark McClain']",rebind security groups theyre updated update security port bindings port actually differ stored value also avoid sending portupdate notifications agent even nothing actually changes port configuration closesbug 1255183 partial blueprint neutrontempestparallel changeid i00c29dc97c46478433fdf08069a884bb78e5cd0a
https://review.opendev.org/58032,Fix capitalization in Security Guide,Fix capitalization in Security Guide Change-Id: I861da5aa8cf4eba2c785f6bdc9979e4994624dd6 Closes-Bug: #1253834,6547,Andreas Jaeger,"[3, 612, 6772]","['Jenkins', 'Tom Fifield', 'Stephen Gordon']",fix capitalization security guide changeid i861da5aa8cf4eba2c785f6bdc9979e4994624dd6 closesbug 1253834
https://review.opendev.org/57788,Update security group to match dashboard,Update security group to match dashboard Fixes bug #1253796 Change-Id: I6f264b4c0b0b3dbad222dc6a9d4888ab2e53f747,6230,Rob Raymond,"[3, 612, 3153]","['Jenkins', 'Tom Fifield', 'Emilien Macchi']",update security group match dashboard fixes bug 1253796 changeid i6f264b4c0b0b3dbad222dc6a9d4888ab2e53f747
https://review.opendev.org/56952,Added security groups,Added security groups Change-Id: Id13a0348747368d7bea9178b0414b9780a728653,7225,Serg Melikyan,"[3, 7225, 7226, 7227]","['Jenkins', 'Serg Melikyan', 'Stan Lagun', 'Timur Nurlygayanov']",added security groups changeid id13a0348747368d7bea9178b0414b9780a728653
https://review.opendev.org/56942,Fixed AD/SMB security group assignment,Fixed AD/SMB security group assignment Change-Id: I6f85a2f0dcb54f3ab15e578f650ab2a52ce47dac,7613,Igor Yozhikov,"[3, 7225, 7613, 7821]","['Jenkins', 'Serg Melikyan', 'Igor Yozhikov', 'Murano CI']",fixed adsmb security group assignment changeid i6f85a2f0dcb54f3ab15e578f650ab2a52ce47dac
https://review.opendev.org/56761,Fixed default security group for Windows services,Fixed default security group for Windows services Change-Id: Ia0ab5a388b1da8fb8285cc2a31037cd361206afb,7227,Timur Nurlygayanov,"[3, 7225, 7227]","['Jenkins', 'Serg Melikyan', 'Timur Nurlygayanov']",fixed default security group windows services changeid ia0ab5a388b1da8fb8285cc2a31037cd361206afb
https://review.opendev.org/56283,Fix headings in Security Guide,Fix headings in Security Guide Partial-Bug: #1250515 author: diane fleming Change-Id: I38aad628ec24475a25cba151a2d056a0f60a8a95 backport: none,2448,Diane Fleming,"[3, 964, 6772, 9162]","['Jenkins', 'Anne Gentle', 'Stephen Gordon', 'Lana Brindley']",fix headings security guide partialbug 1250515 author diane fleming changeid i38aad628ec24475a25cba151a2d056a0f60a8a95 backport none
https://review.opendev.org/53267,Print security groups as a human readable list,Print security groups as a human readable list Convert the security group list into a list that is more suitable for printing. Change-Id: I411d9256145986fad7659a9377494e29a6d70ced,1991,Russell Sim,"[3, 679, 1849, 1991, 2271, 7069]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Russell Sim', 'Michael Still', 'Joshua Hesketh']",print security groups human readable list convert security group list list suitable printing changeid i411d9256145986fad7659a9377494e29a6d70ced
https://review.opendev.org/55850,Fix default port of MS SQL in security group template,Fix default port of MS SQL in security group template Change-Id: Id20538faa81b730be90b115c6c8c119aeb5a08ee Closes-Bug: #1250029,841,Akihiro Motoki,"[3, 2455, 4978, 6610, 6914, 6966, 9332]","['Jenkins', 'Tihomir Trifonov', 'Julie Pichon', 'Zhenguo Niu', 'Tatiana Ovchinnikova', 'Jeffrey J. Walls', 'Erik-Martijn Kasimier']",fix default port ms sql security group template changeid id20538faa81b730be90b115c6c8c119aeb5a08ee closesbug 1250029
https://review.opendev.org/51893,Make metadata server use objects for Instance and Security Groups,"Make metadata server use objects for Instance and Security Groups This makes the metadata service fetch an Instance object to do its work, and use the SecurityGroupList object to avoid calling directly to conductor's API for those two things. Related to blueprint compute-manager-objects Change-Id: Ia12f48227eb2380f5da93313cd4045577d8857c9",4393,Dan Smith,"[3, 782, 1030, 4393, 7040]","['Jenkins', 'John Garbutt', 'Chris Behrens', 'Dan Smith', 'GuoHui LIu']",make metadata server use objects instance security groups makes metadata service fetch instance object work use securitygrouplist object avoid calling directly conductors api two things related blueprint computemanagerobjects changeid ia12f48227eb2380f5da93313cd4045577d8857c9
https://review.opendev.org/51752,Make virt/firewall use objects for Security Groups and Rules,Make virt/firewall use objects for Security Groups and Rules This makes the virt/firewall module use SecurityGroup and SecurityGroupRule objects instead of relying on virtapi and conductor for these operations. Related to blueprint compute-manager-objects Related to blueprint virt-objects Change-Id: I39cb9422cb15e6222f5009f64706f1528035f42d,4393,Dan Smith,"[3, 782, 1030, 1653, 2166, 4393]","['Jenkins', 'John Garbutt', 'Chris Behrens', 'garyk', 'SmokeStack CI', 'Dan Smith']",make virtfirewall use objects security groups rules makes virtfirewall module use securitygroup securitygrouprule objects instead relying virtapi conductor operations related blueprint computemanagerobjects related blueprint virtobjects changeid i39cb9422cb15e6222f5009f64706f1528035f42d
https://review.opendev.org/54235,Fix bug in Security Group association to Instance,Fix bug in Security Group association to Instance * Refactor of security groups to TaskManager left out an assignment that is required for the security_group to be attached to an intance. fixes bug 1245767 Change-Id: I161d50b2ddb50dbf25eb67e10414425f098b9979,1925,Vipul Sabhaya,"[3, 694, 1925, 6156, 6160, 6268, 7092, 7593]","['Jenkins', 'Tim Simpson', 'Vipul Sabhaya', 'Justin Hopper', 'Saurabh Surana', 'Robert Myers', 'Deprecated Trove CI', 'Haomai Wang']",fix bug security group association instance refactor security groups taskmanager left assignment required securitygroup attached intance fixes bug 1245767 changeid i161d50b2ddb50dbf25eb67e10414425f098b9979
https://review.opendev.org/52127,Respect security for generic controllers.,Respect security for generic controllers. Change-Id: I80cdc4609cb1e977018721db3e37d1d0e217bde2,8005,Ryan Petrello,"[3, 2109, 2472, 2592, 8470]","['Jenkins', 'Jonathan LaCour', 'Doug Hellmann', 'Mark McClain', 'Alfredo Deza']",respect security generic controllers changeid i80cdc4609cb1e977018721db3e37d1d0e217bde2
https://review.opendev.org/53001,Document security group properties,Document security group properties AWS::EC2::SecurityGroup Change-Id: I92e602159efc3e877d084827ab5cbf9cdd4cabdf Closes-bug: #1224149,3098,Jeff Peeler,"[3, 2166, 3098, 4328, 4715, 7761]","['Jenkins', 'SmokeStack CI', 'Jeff Peeler', 'Steven Hardy', 'Angus Salkeld', 'Jun Jie Nan']",document security group properties awsec2securitygroup changeid i92e602159efc3e877d084827ab5cbf9cdd4cabdf closesbug 1224149
https://review.opendev.org/53282,Resolve issue with security groups,Resolve issue with security groups Change-Id: If5964c98b5a0f4cc6e408ab040597968f722096c,7225,Serg Melikyan,"[3, 8127]","['Jenkins', 'Alexander Tivelkov']",resolve issue security groups changeid if5964c98b5a0f4cc6e408ab040597968f722096c
https://review.opendev.org/52649,Fixed cleanup for security groups,Fixed cleanup for security groups Change-Id: I79d57bba4b7f3d3abc422fc3b8800b4412327321,8839,Anastasiia Naboikina,"[3, 6719, 8907, 8931]","['Jenkins', 'tatyana-leontovich', 'Dmitry Shulyak', 'Artem Roma']",fixed cleanup security groups changeid i79d57bba4b7f3d3abc422fc3b8800b4412327321
https://review.opendev.org/50514,Add security group to large_ops test,Add security group to large_ops test There have been some issues with performance around security groups in the past. Lets make sure they don't exist. We gate on test_large_ops as part of gate-tempest-devstack-vm-large-ops Change-Id: Ib655deab9fc12df969b47552d7d8edc999c0d06a,1849,Joe Gordon,"[3, 261, 1192, 1849, 5196]","['Jenkins', 'Salvatore Orlando', 'David Kranz', 'Joe Gordon', 'Matthew Treinish']",add security group largeops test issues performance around security groups past lets make sure dont exist gate testlargeops part gatetempestdevstackvmlargeops changeid ib655deab9fc12df969b47552d7d8edc999c0d06a
https://review.opendev.org/48593,Added project security groups/rules information.,Bug#1231243- Added project security groups/rules information Added dashboard and CLI pages for managing project security groups and rules. New pages added into existing 'manage projects' pages as xi:includes. Change-Id: Ic7ae98fc3d2e09e81de61e100f76de1065f775ff Partial-Bug: #1231243,7264,Summer Long,"[3, 612, 2733, 6547]","['Jenkins', 'Tom Fifield', ""Darragh O'Reilly"", 'Andreas Jaeger']",bug1231243 added project security groupsrules information added dashboard cli pages managing project security groups rules new pages added existing manage projects pages xiincludes changeid ic7ae98fc3d2e09e81de61e100f76de1065f775ff partialbug 1231243
https://review.opendev.org/48827,Retrieve security group quotas from Neutron if enabled,"Retrieve security group quotas from Neutron if enabled Secuirty group quota information in Project overview charts, Admin defaults panel, and Admin create/update project is retrieved from Neutron secuirty group is enabled. Neutron security group is enbled when Neutron is used Neutron security group extension is supported by a backend plugin. Also removes the logic to remove quotas of floating IP and fixed IP when neutron is enabled in dashboards/admin/defaults/tabs.py. quotas.get_default_quota_data() already handles it properly and this logic is no longer required. Closes-Bug: #1212600 Change-Id: I59f069931fad519ca4ec135b92df0040ec8fc230",841,Akihiro Motoki,"[3, 841, 2455, 5623]","['Jenkins', 'Akihiro Motoki', 'Tihomir Trifonov', 'David Lyle']",retrieve security group quotas neutron enabled secuirty group quota information project overview charts admin defaults panel admin createupdate project retrieved neutron secuirty group enabled neutron security group enbled neutron used neutron security group extension supported backend plugin also removes logic remove quotas floating ip fixed ip neutron enabled dashboardsadmindefaultstabspy quotasgetdefaultquotadata already handles properly logic longer required closesbug 1212600 changeid i59f069931fad519ca4ec135b92df0040ec8fc230
https://review.opendev.org/48849,Ensure that security group agent is bound prior to accessing,Ensure that security group agent is bound prior to accessing When the Neutron agents start and the security group agent callbacks are not registered there may be exceptions. Fixes bug: #1232758 Change-Id: I4c1ff96b8acfcee4c84a73c9400040c96f8418a9,1653,garyk,"[3, 841, 1653, 2166, 4395, 6676]","['Jenkins', 'Akihiro Motoki', 'garyk', 'SmokeStack CI', 'Aaron Rosen', 'zqfan']",ensure security group agent bound prior accessing neutron agents start security group agent callbacks registered may exceptions fixes bug 1232758 changeid i4c1ff96b8acfcee4c84a73c9400040c96f8418a9
https://review.opendev.org/48685,Fixes Bug 1157993. Add add/remove security group actions for server.,Fixes Bug 1157993. Add add/remove security group actions for server. Change-Id: I54c6c06fbddd5836a00252442fb7766922658496,8740,Rupak Ganguly,"[3, 964, 2448, 8740]","['Jenkins', 'Anne Gentle', 'Diane Fleming', 'Rupak Ganguly']",fixes bug 1157993 add addremove security group actions server changeid i54c6c06fbddd5836a00252442fb7766922658496
https://review.opendev.org/48705,Fixes Bug 1157993. Add add/remove security group actions for server. Change-Id: I8f90dc8d76a6d57ef99d22d4ad4b03a044eb1d3c,Fixes Bug 1157993. Add add/remove security group actions for server. Change-Id: I8f90dc8d76a6d57ef99d22d4ad4b03a044eb1d3c,8740,Rupak Ganguly,"[3, 964, 2448, 8740]","['Jenkins', 'Anne Gentle', 'Diane Fleming', 'Rupak Ganguly']",fixes bug 1157993 add addremove security group actions server changeid i8f90dc8d76a6d57ef99d22d4ad4b03a044eb1d3c
https://review.opendev.org/48708,Fixes Bug 1157993. Update for add/remove security groups to server.,Fixes Bug 1157993. Update for add/remove security groups to server. Change-Id: I3792a5857675cebc16aa505c4acb108e80fa5109,8740,Rupak Ganguly,"[3, 964, 2448, 8740]","['Jenkins', 'Anne Gentle', 'Diane Fleming', 'Rupak Ganguly']",fixes bug 1157993 update addremove security groups server changeid i3792a5857675cebc16aa505c4acb108e80fa5109
https://review.opendev.org/45125,Change hard coded numbers to constants in security group tests,Change hard coded numbers to constants in security group tests Security groups tests in Neutron contain a lot of hard coded HTTP return codes and protocol numbers. These should be changed to use constants. Change-Id: Ibecff3821c54f12848a05648f35381a0c73a0896 Fixes: Bug 1218928,107,Arvind Somya,"[3, 105, 107, 841, 2031, 2166, 2592, 5127, 6524, 6659, 7924]","['Jenkins', 'Kyle Mestery', 'Arvind Somya', 'Akihiro Motoki', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'Justin Hammond', 'Henry Gessau', 'Paul Michali', 'Jason Meridth']",change hard coded numbers constants security group tests security groups tests neutron contain lot hard coded http return codes protocol numbers changed use constants changeid ibecff3821c54f12848a05648f35381a0c73a0896 fixes bug 1218928
https://review.opendev.org/47781,Determine security group API dynamically,"Determine security group API dynamically This commit removes enable_security_group from local_settings.py and determines which security group API should be used (nova or neutron). Closes-Bug: #1227804 As described in bug 1203413, there is a case where Nova security group with Neutron driver causes a problem. The type of 'name' attribute in add_security_group_to_instance and remove_security_group_from_instance depends on the backend, integer for nova security group driver and UUID for quantum security group driver to make it work as expected. enable_security_group config parameter produces a situation where Nova security group with Neutron driver. We can avoid this situation by removing this parameter when using Horizon. Change-Id: I713c6ad166e142929f0a708e93a8fedb0de48640",841,Akihiro Motoki,"[3, 1816, 5623]","['Jenkins', 'Gabriel Hurley', 'David Lyle']",determine security group api dynamically commit removes enablesecuritygroup localsettingspy determines security group api used nova neutron closesbug 1227804 described bug 1203413 case nova security group neutron driver causes problem type name attribute addsecuritygrouptoinstance removesecuritygroupfrominstance depends backend integer nova security group driver uuid quantum security group driver make work expected enablesecuritygroup config parameter produces situation nova security group neutron driver avoid situation removing parameter using horizon changeid i713c6ad166e142929f0a708e93a8fedb0de48640
https://review.opendev.org/47964,Fix SecurityGroupsOutputTest v3 security group tests,"Fix SecurityGroupsOutputTest v3 security group tests SecurityGroupsOutputTest was testing with security_group_api set to neturon instead of nova. In addition, this patch fixes the tests to match the v2 tests which tested more then the name matching 'fake'. Fixes bug: 1229515 Change-Id: I5b1de35add3b8a131b9077c1c9396ae70d2faefa",4395,Aaron Rosen,"[3, 67, 642, 1501, 1561, 2166, 2750]","['Jenkins', 'Vish Ishaya', 'Matt Dietz', 'Phil Day', 'Russell Bryant', 'SmokeStack CI', 'Sean Dague']",fix securitygroupsoutputtest v3 security group tests securitygroupsoutputtest testing securitygroupapi set neturon instead nova addition patch fixes tests match v2 tests tested name matching fake fixes bug 1229515 changeid i5b1de35add3b8a131b9077c1c9396ae70d2faefa
https://review.opendev.org/47593,Fix security group entrypoints,Fix security group entrypoints Change-Id: I0590dde67b1121523d03742ce57093f2c5bacc72,970,Dean Troyer,"[3, 970]","['Jenkins', 'Dean Troyer']",fix security group entrypoints changeid i0590dde67b1121523d03742ce57093f2c5bacc72
https://review.opendev.org/45282,Do not apply security groups to logical ports,Do not apply security groups to logical ports Security groups rules were applied to logical ports and this caused Floating IP not to work correctly. Correct some typo. Change-Id: I174e60f8eb8a4d00b71fffc127e2d2d36836835d Closes-Bug: #1221336,6788,Rossella Sblendido,"[3, 748, 2166, 2592, 6788]","['Jenkins', 'Armando Migliaccio', 'SmokeStack CI', 'Mark McClain', 'Rossella Sblendido']",apply security groups logical ports security groups rules applied logical ports caused floating ip work correctly correct typo changeid i174e60f8eb8a4d00b71fffc127e2d2d36836835d closesbug 1221336
https://review.opendev.org/46217,Added Default Murano Security group (workaround for MRN-630),"Added Default Murano Security group (workaround for MRN-630) A new security group (called MuranoDefaultSecurityGroup) added. This group has tcp ports 22 an 3389 open, as well as icmp enabled. All murano-deployed instances are added to this group. SQLServer instances additionally are added to MsSqlSecurityGroup Change-Id: I7cec5a44d95ae9e24a631a13504859125c01bbb5",8127,Alexander Tivelkov,"[3, 7225, 7226, 7227, 8127]","['Jenkins', 'Serg Melikyan', 'Stan Lagun', 'Timur Nurlygayanov', 'Alexander Tivelkov']",added default murano security group workaround mrn630 new security group called muranodefaultsecuritygroup added group tcp ports 22 3389 open well icmp enabled muranodeployed instances added group sqlserver instances additionally added mssqlsecuritygroup changeid i7cec5a44d95ae9e24a631a13504859125c01bbb5
https://review.opendev.org/46424,Fix links for cloud-admin-guide and security guide,Fix links for cloud-admin-guide and security guide Change-Id: I54b0d768fe17c6cb32e5552087743837f6a94692,6547,Andreas Jaeger,"[3, 612]","['Jenkins', 'Tom Fifield']",fix links cloudadminguide security guide changeid i54b0d768fe17c6cb32e5552087743837f6a94692
https://review.opendev.org/46332,Update URL of Security Guide,"Update URL of Security Guide The guide is not publishing to trunk anymore, fix URLs. Change-Id: I25a26279057530ec14bddab1598e87c31b530adc",6547,Andreas Jaeger,"[3, 612]","['Jenkins', 'Tom Fifield']",update url security guide guide publishing trunk anymore fix urls changeid i25a26279057530ec14bddab1598e87c31b530adc
https://review.opendev.org/45948,Remove /trunk/ from URL for High Availibility and Security Guides,Remove /trunk/ from URL for High Availibility and Security Guides Change-Id: Id6297abbf967bb6671d44c7864cf712b200e94c9,6547,Andreas Jaeger,"[3, 3153, 6547, 6772]","['Jenkins', 'Emilien Macchi', 'Andreas Jaeger', 'Stephen Gordon']",remove trunk url high availibility security guides changeid id6297abbf967bb6671d44c7864cf712b200e94c9
https://review.opendev.org/46186,modifies error message in adding security rule,"modifies error message in adding security rule Because the information on the type of input data is outputted in ""validate_ip_protocol"" method, I removed the information on the type and modified error message. Closes-Bug: #1224210 Change-Id: I697d38ce7da8ff403a391747264eb59db30dd545",7884,Noboru Arai,"[3, 841, 1941, 7884]","['Jenkins', 'Akihiro Motoki', 'Lin Hua Cheng', 'Noboru Arai']",modifies error message adding security rule information type input data outputted validateipprotocol method removed information type modified error message closesbug 1224210 changeid i697d38ce7da8ff403a391747264eb59db30dd545
https://review.opendev.org/45657,Update Security Guide paths,Update Security Guide paths Update path for security guide to follow rename Change-Id: I494c5c0bf5ef932995a0304967eb533878257559,6547,Andreas Jaeger,"[3, 167, 964, 6547]","['Jenkins', 'Christian Berendt', 'Anne Gentle', 'Andreas Jaeger']",update security guide paths update path security guide follow rename changeid i494c5c0bf5ef932995a0304967eb533878257559
https://review.opendev.org/43808,OpenStack Security Guide glossary,OpenStack Security Guide glossary Change-Id: I3c60cb33dc0d27b7cd4ce794c592fb2e182028ad,4992,malini-k-bhandaru,"[3, 612, 964, 1441, 2448, 2807, 4992, 6802]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'David Cramer', 'Diane Fleming', 'Bryan D. Payne', 'malini-k-bhandaru', 'Joel Coffman']",openstack security guide glossary changeid i3c60cb33dc0d27b7cd4ce794c592fb2e182028ad
https://review.opendev.org/45491,Add HSTS and cookie security to dashboard example config,Add HSTS and cookie security to dashboard example config Adds reccomended settings from https://bugs.launchpad.net/ossn/+bug/1191050 https://bugs.launchpad.net/ossn/+bug/1191051 http://docs.openstack.org/developer/horizon/topics/deployment.html#secure-site-recommendations to the configuration instructions for HTTPS Change-Id: I1b41b3bee0d884ca3d29a1f2667e5b55070131cb Closes-Bug: #1210409,4625,Jonathan Proulx,"[3, 964, 2448, 4625, 6547]","['Jenkins', 'Anne Gentle', 'Diane Fleming', 'Jonathan Proulx', 'Andreas Jaeger']",add hsts cookie security dashboard example config adds reccomended settings httpsbugslaunchpadnetossnbug1191050 httpsbugslaunchpadnetossnbug1191051 httpdocsopenstackorgdeveloperhorizontopicsdeploymenthtmlsecuresiterecommendations configuration instructions https changeid i1b41b3bee0d884ca3d29a1f2667e5b55070131cb closesbug 1210409
https://review.opendev.org/44351,Support Security Group Name Prefix Customization,"Support Security Group Name Prefix Customization As of now, if CONF.trove_security_groups_support == True, then a Security Group is created for every new Instance, following the naming scheme of: ""SecGroup_<Instance's UUID>"". Nicira NVP for Quantum enforces a Security Group naming limitation of 40 chars maximum. Given the UUID's length, this only leaves 2 characters for the prefix, e.g. 'SG' vs. 'SecGroup'. Even in lieu of restrictions, it's not inconceivable that a vendor/user might want to customize the naming scheme of their Security Groups to align with other cloud providers, etc. Change-Id: I1043e15c71607cabe2fd6f72f64705e80cd2cde1 Closes-Bug: #1218589",8214,Auston McReynolds,"[3, 694, 1925, 5293, 7092, 8214]","['Jenkins', 'Tim Simpson', 'Vipul Sabhaya', 'Nikhil', 'Deprecated Trove CI', 'Auston McReynolds']",support security group name prefix customization conftrovesecuritygroupssupport true security group created every new instance following naming scheme secgroupinstances uuid nicira nvp quantum enforces security group naming limitation 40 chars maximum given uuids length leaves 2 characters prefix eg sg vs secgroup even lieu restrictions inconceivable vendoruser might want customize naming scheme security groups align cloud providers etc changeid i1043e15c71607cabe2fd6f72f64705e80cd2cde1 closesbug 1218589
https://review.opendev.org/44056,Add and associate security group rule with group.,Associate security group with default rule based on Trove config with instance: * Config-based parameters for turn on/off rule addition * Adding specific config values responsible for security group rule. Change-Id: I254aca213ae40326ed6e9c00bc35d63ff0805c9f Fixes: bug #1176095,8415,Denis M.,"[3, 739, 1925, 7092, 8214, 8415]","['Jenkins', 'Michael Basnight', 'Vipul Sabhaya', 'Deprecated Trove CI', 'Auston McReynolds', 'Denis M.']",associate security group default rule based trove config instance configbased parameters turn onoff rule addition adding specific config values responsible security group rule changeid i254aca213ae40326ed6e9c00bc35d63ff0805c9f fixes bug 1176095
https://review.opendev.org/43535,Make security groups associated with Neutron port work,Make security groups associated with Neutron port work The security group names are now translated to UUIDs which is required when using the python API. The lookup has been improved to find existing security groups not part of the stack as well. Fixes bug #1179481 Change-Id: I4f86bade87f89b867d12822c5f80aa5b075b7fbb,3098,Jeff Peeler,"[3, 3098, 4257, 4571, 4715, 6800]","['Jenkins', 'Jeff Peeler', 'Zane Bitter', 'Steve Baker', 'Angus Salkeld', 'Christopher Armstrong']",make security groups associated neutron port work security group names translated uuids required using python api lookup improved find existing security groups part stack well fixes bug 1179481 changeid i4f86bade87f89b867d12822c5f80aa5b075b7fbb
https://review.opendev.org/40181,Add interface for listing security groups of an instance,"Add interface for listing security groups of an instance. This is already available in nova but not exposed via client. * novaclient/v1_1/servers.py: New interface to list security groups of an instance. * novaclient/v1_1/shell.py: New sub command list-secgroup. * novaclient/tests/v1_1/fakes.py, novaclient/tests/v1_1/test_servers.py, novaclient/tests/v1_1/test_shell.py: Add corresponding tests. Change-Id: I505bcffdbb15b84bfd73cae5ef5a8fb9c69bd7b9",8334,Noorul Islam K M,"[3, 679, 1816, 5292, 8334]","['Jenkins', 'Kevin L. Mitchell', 'Gabriel Hurley', 'Christopher Yeoh', 'Noorul Islam K M']",add interface listing security groups instance already available nova exposed via client novaclientv11serverspy new interface list security groups instance novaclientv11shellpy new sub command listsecgroup novaclienttestsv11fakespy novaclienttestsv11testserverspy novaclienttestsv11testshellpy add corresponding tests changeid i505bcffdbb15b84bfd73cae5ef5a8fb9c69bd7b9
https://review.opendev.org/43885,Add schema for security group rule,Add schema for security group rule This applies to the SecurityGroupEgress and SecurityGroupIngress properties of the AWS::EC2::SecurityGroup resources. Change-Id: I339227190db42707560f00cc825bc791d2bde5ce Fixes: bug #1214333,6794,Simon Pasquier,"[3, 3098, 6794, 6800, 7135]","['Jenkins', 'Jeff Peeler', 'Simon Pasquier', 'Christopher Armstrong', 'Liang Chen']",add schema security group rule applies securitygroupegress securitygroupingress properties awsec2securitygroup resources changeid i339227190db42707560f00cc825bc791d2bde5ce fixes bug 1214333
https://review.opendev.org/30404,Add update method of security group name and description,"Add update method of security group name and description make it possible to edit the name and description of common security groups, we can not rename the default. Change-Id: I62ec1edc310fd5b3ffc2ad232e64c7090c1d38e4 Fixes: bug #918393",6610,Zhenguo Niu,"[3, 1816, 1941, 4264, 5623, 5733, 6610]","['Jenkins', 'Gabriel Hurley', 'Lin Hua Cheng', 'Matthias Runge', 'David Lyle', 'Kieran Spear', 'Zhenguo Niu']",add update method security group name description make possible edit name description common security groups rename default changeid i62ec1edc310fd5b3ffc2ad232e64c7090c1d38e4 fixes bug 918393
https://review.opendev.org/43627,Add preface for security guide,"Add preface for security guide So far, the history was not shown for this manual and there was no formal preface. Add a preface that just display the revision history Change-Id: I6ad31990db80be68c66fb65fbdff3948bba63e17",6547,Andreas Jaeger,"[3, 964, 2448]","['Jenkins', 'Anne Gentle', 'Diane Fleming']",add preface security guide far history shown manual formal preface add preface display revision history changeid i6ad31990db80be68c66fb65fbdff3948bba63e17
https://review.opendev.org/41917,Add support for source security groups,Support for SourceSecurityGroupId and SourceSecurityGroupName properties This patch covers both for the Nova and Neutron security groups. Change-Id: Ic12512dfb4375ccccbe1282bb48b80cde16ceb9d Fixes: bug #1193415,6794,Simon Pasquier,"[3, 2834, 4571, 6794, 7135, 7385]","['Jenkins', 'Steven Dake', 'Steve Baker', 'Simon Pasquier', 'Liang Chen', 'Thomas Herve']",support sourcesecuritygroupid sourcesecuritygroupname properties patch covers nova neutron security groups changeid ic12512dfb4375ccccbe1282bb48b80cde16ceb9d fixes bug 1193415
https://review.opendev.org/42303,"Cleanup: Add common ""create security rule"" method","Cleanup: Add common ""create security rule"" methods There are many ""create security rule"" methods in each scenario test, their behavior are almost same. They creates security rule which is loginable/reachable to a server with ssh/ping. For code-cleanup, this patch adds two common methods. The first is for adding the rule to the specified security group. The second is for adding the rule to ""default"" group. Change-Id: I4e2ebd099b7373948c82abf86615a85db055c7c5",6167,Ken'ichi Ohmichi,"[3, 5196, 5292, 5689, 5803, 6167, 6796]","['Jenkins', 'Matthew Treinish', 'Christopher Yeoh', 'Masayuki Igawa', 'Attila Fazekas', ""Ken'ichi Ohmichi"", 'Giulio Fidente']",cleanup add common create security rule methods many create security rule methods scenario test behavior almost creates security rule loginablereachable server sshping codecleanup patch adds two common methods first adding rule specified security group second adding rule default group changeid i4e2ebd099b7373948c82abf86615a85db055c7c5
https://review.opendev.org/40669,Skip more security group tests until bug 1182384 is fixed,Skip more security group tests until bug 1182384 is fixed This patch builds on change I3f0d21c23661f556354c321476ba559d4925dccd which skipped a couple of tests that are failing in nova if neutron is configured. The previous patch missed a couple of other tests that fail for the same bug. This patch skips those other failing tests for the same bug. Related-Bug: #1182384 Change-Id: I4f191f21232f9e58ad09456261fb6247d64f22b5,6873,Matt Riedemann,"[3, 7, 5803]","['Jenkins', 'Jay Pipes', 'Attila Fazekas']",skip security group tests bug 1182384 fixed patch builds change i3f0d21c23661f556354c321476ba559d4925dccd skipped couple tests failing nova neutron configured previous patch missed couple tests fail bug patch skips failing tests bug relatedbug 1182384 changeid i4f191f21232f9e58ad09456261fb6247d64f22b5
https://review.opendev.org/39996,Fix Instance objects with empty security groups,"Fix Instance objects with empty security groups This makes sure that a DB instance with an empty list of security groups does not result in an object with an unset attribute, thus triggering a lazy load on access (and ultimately an exception). Related to blueprint compute-api-objects Change-Id: Ib33b05853e9d067cbac5d3e87824a68e9935b822",4393,Dan Smith,"[3, 1030, 2166, 2271, 4393, 4395, 4690, 5441, 6873]","['Jenkins', 'Chris Behrens', 'SmokeStack CI', 'Michael Still', 'Dan Smith', 'Aaron Rosen', 'melanie witt', 'Andrew Laski', 'Matt Riedemann']",fix instance objects empty security groups makes sure db instance empty list security groups result object unset attribute thus triggering lazy load access ultimately exception related blueprint computeapiobjects changeid ib33b05853e9d067cbac5d3e87824a68e9935b822
https://review.opendev.org/38209,Make fake_instance handle security groups,Make fake_instance handle security groups This makes the fake_db_instance() helper create model-like security group objects in the returned instance if a list of names is specified. This is required to test anything that uses security groups on the instance. Related to blueprint compute-api-objects Change-Id: I4a7d91c939af8c0dc4e0b3e29c477a859d85fd3e,4393,Dan Smith,"[3, 642, 1030, 1653, 2166, 2271, 4393, 4395]","['Jenkins', 'Matt Dietz', 'Chris Behrens', 'garyk', 'SmokeStack CI', 'Michael Still', 'Dan Smith', 'Aaron Rosen']",make fakeinstance handle security groups makes fakedbinstance helper create modellike security group objects returned instance list names specified required test anything uses security groups instance related blueprint computeapiobjects changeid i4a7d91c939af8c0dc4e0b3e29c477a859d85fd3e
https://review.opendev.org/788137,[MP2P] Amend default security group post migration,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports. Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",mp2p amend default security group post migration ensure expression captures migrated ports newly created ports changeid i0664d7aee37430f4d1c31aac408b2528430e6ab7
https://review.opendev.org/788139,[MP2P] Amend default security group post migration,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports. Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",mp2p amend default security group post migration ensure expression captures migrated ports newly created ports changeid i0664d7aee37430f4d1c31aac408b2528430e6ab7
https://review.opendev.org/788138,[MP2P] Amend default security group post migration,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports. Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",mp2p amend default security group post migration ensure expression captures migrated ports newly created ports changeid i0664d7aee37430f4d1c31aac408b2528430e6ab7
https://review.opendev.org/788038,[MP2P] Amend default security group post migration,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports. Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",mp2p amend default security group post migration ensure expression captures migrated ports newly created ports changeid i0664d7aee37430f4d1c31aac408b2528430e6ab7
https://review.opendev.org/40259,Fix incorrect PDF link in security book web page.,Fix incorrect PDF link in security book web page. Change-Id: Idc526ae91914631a74f40c5bfdfcd3d30fab9db9,2807,Bryan D. Payne,"[3, 964]","['Jenkins', 'Anne Gentle']",fix incorrect pdf link security book web page changeid idc526ae91914631a74f40c5bfdfcd3d30fab9db9
https://review.opendev.org/39444,Check whether the security group id is integer,Check whether the security group id is integer Fixed Bug 1206847. Change-Id: I2194d6538a5c5475b876ee026b5d625be2df076f,2861,Vincent Hou,"[3, 679, 2271, 2861]","['Jenkins', 'Kevin L. Mitchell', 'Michael Still', 'Vincent Hou']",check whether security group id integer fixed bug 1206847 changeid i2194d6538a5c5475b876ee026b5d625be2df076f
https://review.opendev.org/38557,Add security groups to the server POST request examples.,Add security groups to the server POST request examples. Update the server POST request examples (both JSON and XML) so that it creates a server that belongs to the sg1 security group. Change-Id: I4879aa817b3675fc3e5e3fb04ee696f1f0ff15b4,8122,Cyril Roelandt,"[3, 964, 2448, 3153]","['Jenkins', 'Anne Gentle', 'Diane Fleming', 'Emilien Macchi']",add security groups server post request examples update server post request examples json xml creates server belongs sg1 security group changeid i4879aa817b3675fc3e5e3fb04ee696f1f0ff15b4
https://review.opendev.org/39093,Avoid performing extra query for fetching port security binding,"Avoid performing extra query for fetching port security binding Bug 1201957 Add a relationship performing eager load in Port and Network models, thus preventing the 'extend' function from performing an extra database query. Also fixes a comment in securitygroups_db.py Change-Id: If0f0277191884aab4dcb1ee36826df7f7d66a8fa",261,Salvatore Orlando,"[3, 261, 704, 748, 2592, 4395, 6072, 7141]","['Jenkins', 'Salvatore Orlando', 'Edgar Magana', 'Armando Migliaccio', 'Mark McClain', 'Aaron Rosen', 'Eugene Nikanorov', 'Sylvain Afchain']",avoid performing extra query fetching port security binding bug 1201957 add relationship performing eager load port network models thus preventing extend function performing extra database query also fixes comment securitygroupsdbpy changeid if0f0277191884aab4dcb1ee36826df7f7d66a8fa
https://review.opendev.org/38369,Add security group commands,"Add security group commands * Add security group: create, delete, list, set, show * Add server: add secgroup, remove secgroup * Add security group rule: create, delete, list * Adds RangeAction() to handle option arguments of either a single number or a range of numbers: '--port 25' or '--port 1024:65535' Blueprint: nova-client Change-Id: Iad2de1b273ba29197709fc4c6a1036b4ae99725f",970,Dean Troyer,"[3, 970, 6482]","['Jenkins', 'Dean Troyer', 'Steve Martinelli']",add security group commands add security group create delete list set show add server add secgroup remove secgroup add security group rule create delete list adds rangeaction handle option arguments either single number range numbers port 25 port 102465535 blueprint novaclient changeid iad2de1b273ba29197709fc4c6a1036b4ae99725f
https://review.opendev.org/39181,Set horizon configuration for security groups,Set horizon configuration for security groups Fix bug #1206271 Change-Id: I33a530265be1e5ab9181e605eb4b7c3bf1fdf9c4,704,Edgar Magana,"[3, 704, 841, 970, 2750, 4395]","['Jenkins', 'Edgar Magana', 'Akihiro Motoki', 'Dean Troyer', 'Sean Dague', 'Aaron Rosen']",set horizon configuration security groups fix bug 1206271 changeid i33a530265be1e5ab9181e605eb4b7c3bf1fdf9c4
https://review.opendev.org/39332,Moved security groups tests into security_groups package,Moved security groups tests into security_groups package * Moved test_security_group_of_servers into security_groups package so that it is only run with other security groups tests Change-Id: I449b5bdce3dc7bd25815e89159b630413f97bb19,97,Daryl Walleck,"[3, 7262]","['Jenkins', 'John Vrbanac']",moved security groups tests securitygroups package moved testsecuritygroupofservers securitygroups package run security groups tests changeid i449b5bdce3dc7bd25815e89159b630413f97bb19
https://review.opendev.org/39145,Allow ::/0 for IPv6 security group rules,Allow ::/0 for IPv6 security group rules Nova fails to create a security group rule if ::/0 is used as value for the cidr field Fixes: LP bug #1199943 Cherry picked from https://review.openstack.org/36556 Change-Id: Ifce53dbc9f0740337921491aa752900892f47052 Signed-off-by: Rosario Di Somma <rosario.disomma@dreamhost.com>,986,Rosario Di Somma,"[3, 1653, 2472, 2592]","['Jenkins', 'garyk', 'Doug Hellmann', 'Mark McClain']",allow 0 ipv6 security group rules nova fails create security group rule 0 used value cidr field fixes lp bug 1199943 cherry picked httpsreviewopenstackorg36556 changeid ifce53dbc9f0740337921491aa752900892f47052 signedoffby rosario di somma rosariodisommadreamhostcom
https://review.opendev.org/37431,Use default cidr to avoid exception when editing quantum security rules.,"Use default cidr to avoid exception when editing quantum security rules. $ quantum security-group-rule-create --direction ingress --protocol TCP --port-range-min 80 --port-range-max 80 web After creating security group rule with command above, An exception is thrown when editing the rules for groups web. Fixes: bug #1165095 Change-Id: If32992622ebc20559dde911455b241937eb59ae6 (cherry picked from commit 706560f6d230334d645ce97301631baaa5c56095)",4978,Julie Pichon,"[3, 1420, 4264, 4978, 6610, 7718]","['Jenkins', 'Adam Gandelman', 'Matthias Runge', 'Julie Pichon', 'Zhenguo Niu', 'Ashok kumaran B']",use default cidr avoid exception editing quantum security rules quantum securitygrouprulecreate direction ingress protocol tcp portrangemin 80 portrangemax 80 web creating security group rule command exception thrown editing rules groups web fixes bug 1165095 changeid if32992622ebc20559dde911455b241937eb59ae6 cherry picked commit 706560f6d230334d645ce97301631baaa5c56095
https://review.opendev.org/33245,Added tests for security group rules,Added tests for security group rules 1. Test to create and delete security group rule. 2. Test to add security group to server/ Change-Id: I611cb93eb9b47b657949b5966468103712a7cea2,7441,Sumanth Nagadavalli,"[3, 97, 7262, 7441]","['Jenkins', 'Daryl Walleck', 'John Vrbanac', 'Sumanth Nagadavalli']",added tests security group rules 1 test create delete security group rule 2 test add security group server changeid i611cb93eb9b47b657949b5966468103712a7cea2
https://review.opendev.org/37556,Modifies Security Guide for final Lulu print capability:,Modifies Security Guide for final Lulu print capability: edit pom.xml to make the PDF crown quarto page size without a front cover edit index.html landing page for security guide so people can buy it Change-Id: Ied9be78fcfce4ccfae2a5d4e4d284d0d34b2947b,964,Anne Gentle,"[3, 2807]","['Jenkins', 'Bryan D. Payne']",modifies security guide final lulu print capability edit pomxml make pdf crown quarto page size without front cover edit indexhtml landing page security guide people buy changeid ied9be78fcfce4ccfae2a5d4e4d284d0d34b2947b
https://review.opendev.org/36556,Allow ::/0 for IPv6 security group rules,Nova fails to create a security group rule if ::/0 is used as value for the cidr field Fixes: bug #1199943 Change-Id: Ifce53dbc9f0740337921491aa752900892f47052 Signed-off-by: Rosario Di Somma <rosario.disomma@dreamhost.com>,986,Rosario Di Somma,"[3, 679, 986, 2271, 2472, 2592]","['Jenkins', 'Kevin L. Mitchell', 'Rosario Di Somma', 'Michael Still', 'Doug Hellmann', 'Mark McClain']",nova fails create security group rule 0 used value cidr field fixes bug 1199943 changeid ifce53dbc9f0740337921491aa752900892f47052 signedoffby rosario di somma rosariodisommadreamhostcom
https://review.opendev.org/37332,Makes pom.xml file for Security Guide on par with Ops Guide.,Makes pom.xml file for Security Guide on par with Ops Guide. Means chapter numbering changes from previous. Change-Id: I12fedcf8e899bca4e160bdc8e7385804dce79d8b,964,Anne Gentle,"[3, 964, 2448]","['Jenkins', 'Anne Gentle', 'Diane Fleming']",makes pomxml file security guide par ops guide means chapter numbering changes previous changeid i12fedcf8e899bca4e160bdc8e7385804dce79d8b
https://review.opendev.org/37325,Removes pagebreak processing instructions that broke the Security Guide build.,Removes pagebreak processing instructions that broke the Security Guide build. Change-Id: Ia7662220e375054471da3912393ae3d77f94547e,964,Anne Gentle,"[3, 964]","['Jenkins', 'Anne Gentle']",removes pagebreak processing instructions broke security guide build changeid ia7662220e375054471da3912393ae3d77f94547e
https://review.opendev.org/37165,"Retrigger Security Guide build, rename book.xml to make like others.","Retrigger Security Guide build, rename book.xml to make like others. fix bug 1201625 Change-Id: I89d8bdae8ffe478a4741eeb9c21b2e50f425d480",964,Anne Gentle,"[3, 964]","['Jenkins', 'Anne Gentle']",retrigger security guide build rename bookxml make like others fix bug 1201625 changeid i89d8bdae8ffe478a4741eeb9c21b2e50f425d480
https://review.opendev.org/35591,add link to the pdf version of the book add link to the html version of the book add link from doc front page to security guide,add link to the pdf version of the book add link to the html version of the book add link from doc front page to security guide Change-Id: If38a5048693150351dd296d54952febc98105fd3,2807,Bryan D. Payne,"[3, 321, 612, 964, 2807]","['Jenkins', 'Lorin Hochstein', 'Tom Fifield', 'Anne Gentle', 'Bryan D. Payne']",add link pdf version book add link html version book add link doc front page security guide changeid if38a5048693150351dd296d54952febc98105fd3
https://review.opendev.org/36818,Neutron Security Group native support,"Neutron Security Group native support blueprint quantum-security-group Rule table view * Add direction and ethertype columns (which are specific to Neutron) It may be better to hide ""Direction"" and ""Ether Type"" columns unless Quantum security group is enabled. * Merge ip_protocol/from_port/to_port into one column for better view * Use ""::/0"" for IPv6 ANY instead of ""0.0.0.0/0"" * Rename ""Source"" column to ""Remote"". (The naming ""source"" does not fit egress rules) * Display security group name in the title of rule detail view Rule creation form * New arguments 'direction' and 'ethertype' in security_group_rule_create() * Set the default value of 'direction' to 'ingress' in forms.handle() * Rename 'ip_protocol' to 'rule_menu' and 'source' to 'remote' Note that rule_menu is retrieved from rule.ip_protocol in the unit tests since they are tests for custom TCP/UDP/ICMP rules. Network abstraction layer for security group management * Move security group methods to api.network * Add Neutron security group API implementation * Move base classes for network abstraction to a separate module (api/network_base.py) to avoid circulated import between api.network and api.nova/api.neutron Add a configuration parameter to control Neutron security group support * Neutron security group support is enabled when Neutron is enabled and enable_security_group in OPENSTACK_NEUTRON_NETWORK in settings is True. * Not all neutron plugins support security group, so we need a way to control neutron security group is enabled or not. * It can be determined by supported extension list from Neutron and it is a possible future work. Move get_int_or_uuid to openstack_dashboard/utils/filters. * get_int_or_uuid is now used in security_group implementation as well as floating IP logics. * In addition the depth of the directory tree becomes longer and it is hard to fit the import line in 80 chars. It is a good chance to move it to a common directory. Add __repr__ to API**Wrapper to make it easier to debug. Limitations: Neutron supports per-port security group. security groups can be associated with a port instead of an instace and each port can have a different set of security groups. It is not a scope of this BP and is a future work. Change-Id: I5410e88043a364596037b9ebcc566cd50b317614",841,Akihiro Motoki,"[3, 1816, 5623, 6650]","['Jenkins', 'Gabriel Hurley', 'David Lyle', 'Eric Peterson']",neutron security group native support blueprint quantumsecuritygroup rule table view add direction ethertype columns specific neutron may better hide direction ether type columns unless quantum security group enabled merge ipprotocolfromporttoport one column better view use 0 ipv6 instead 00000 rename source column remote naming source fit egress rules display security group name title rule detail view rule creation form new arguments direction ethertype securitygrouprulecreate set default value direction ingress formshandle rename ipprotocol rulemenu source remote note rulemenu retrieved ruleipprotocol unit tests since tests custom tcpudpicmp rules network abstraction layer security group management move security group methods apinetwork add neutron security group api implementation move base classes network abstraction separate module apinetworkbasepy avoid circulated import apinetwork apinovaapineutron add configuration parameter control neutron security group support neutron security group support enabled neutron enabled enablesecuritygroup openstackneutronnetwork settings true neutron plugins support security group need way control neutron security group enabled determined supported extension list neutron possible future work move getintoruuid openstackdashboardutilsfilters getintoruuid used securitygroup implementation well floating ip logics addition depth directory tree becomes longer hard fit import line 80 chars good chance move common directory add repr apiwrapper make easier debug limitations neutron supports perport security group security groups associated port instead instace port different set security groups scope bp future work changeid i5410e88043a364596037b9ebcc566cd50b317614
https://review.opendev.org/37091,Add bios for security guide authors.,Add bios for security guide authors. Remove the light hearted nicknames for each author and replace with bios. Leaves the book with a more polished and professional feel. Change-Id: Ica885881460da8eea1b507617d0201085ca8b931,2807,Bryan D. Payne,"[3, 321, 964, 2807, 7063]","['Jenkins', 'Lorin Hochstein', 'Anne Gentle', 'Bryan D. Payne', 'Robert Clark']",add bios security guide authors remove light hearted nicknames author replace bios leaves book polished professional feel changeid ica885881460da8eea1b507617d0201085ca8b931
https://review.opendev.org/36549,Fix Jenkins job that's failing for Security Guide.,Fix Jenkins job that's failing for Security Guide. Looks like it's 1. trying to pick up on the grizzly branch and 2. trying to get the pom.xml from the wrong place. Not sure how to fix 1 but this fixes 2. There's no copy of the Security Guide in the stable/grizzly branch of openstack-manuals. Fix bug 1197632 Change-Id: I694d23ed96b43aaa9b12406f217f74975b1b06ac,964,Anne Gentle,"[1, 3, 612, 964, 4146, 5263, 6987]","['James E. Blair', 'Jenkins', 'Tom Fifield', 'Anne Gentle', 'Clark Boylan', 'Jeremy Stanley', 'Khai Do']",fix jenkins job thats failing security guide looks like 1 trying pick grizzly branch 2 trying get pomxml wrong place sure fix 1 fixes 2 theres copy security guide stablegrizzly branch openstackmanuals fix bug 1197632 changeid i694d23ed96b43aaa9b12406f217f74975b1b06ac
https://review.opendev.org/36749,Configure a heat security group for testing ssh.,"Configure a heat security group for testing ssh. This test was relying on the default security group allowing port 22 access, which is not a default configuration. This change adds a dedicated security group to allow the ssh connection. Change-Id: Ie3b0439b80ab29451f17f63f36cf8aab29f80740",4571,Steve Baker,"[3, 1192, 5196, 5803]","['Jenkins', 'David Kranz', 'Matthew Treinish', 'Attila Fazekas']",configure heat security group testing ssh test relying default security group allowing port 22 access default configuration change adds dedicated security group allow ssh connection changeid ie3b0439b80ab29451f17f63f36cf8aab29f80740
https://review.opendev.org/34164,Port security groups extension to v3 API Part 2,"Port security groups extension to v3 API Part 2 This patch contains the changes required to adapt the security groups extension and the corresponding unittests to the v3 framework. In v3, the management of security groups will be handled by the networking service API. However, the dis/association of security groups with instances still needs to be handled by Nova. This change removes the security group management code and ports the dis/association code to v3. Partially implements blueprint nova-v3-api Change-Id: I617eee5660447bc61518b89eed73ce394f7435a2",4690,melanie witt,"[3, 642, 1561, 2166, 2271, 4393, 4690, 6864, 7763]","['Jenkins', 'Matt Dietz', 'Russell Bryant', 'SmokeStack CI', 'Michael Still', 'Dan Smith', 'melanie witt', 'cyeoh', 'Alexei Kornienko']",port security groups extension v3 api part 2 patch contains changes required adapt security groups extension corresponding unittests v3 framework v3 management security groups handled networking service api however disassociation security groups instances still needs handled nova change removes security group management code ports disassociation code v3 partially implements blueprint novav3api changeid i617eee5660447bc61518b89eed73ce394f7435a2
https://review.opendev.org/34040,Port security groups extension to v3 API Part 1,Port security groups extension to v3 API Part 1 This changeset only copies the v2 implementation file into the appropriate v3 directory unchanged. The copy as-is will not be loaded by either the v2 or v3 extension loaders. The second changeset will then make the changes required for it to work as a v3 extension. This is being done in order to make reviewing of extension porting easier as gerrit will display only what is actually changed for v3 rather than entirely new files. Partially implements blueprint nova-v3-api Change-Id: I9cf1fb168283f9c76bac622d20719ac1bf7eb648,4690,melanie witt,"[3, 642, 1561, 2166, 2271, 4690, 7763]","['Jenkins', 'Matt Dietz', 'Russell Bryant', 'SmokeStack CI', 'Michael Still', 'melanie witt', 'Alexei Kornienko']",port security groups extension v3 api part 1 changeset copies v2 implementation file appropriate v3 directory unchanged copy asis loaded either v2 v3 extension loaders second changeset make changes required work v3 extension done order make reviewing extension porting easier gerrit display actually changed v3 rather entirely new files partially implements blueprint novav3api changeid i9cf1fb168283f9c76bac622d20719ac1bf7eb648
https://review.opendev.org/36102,Adds new openstack Security Guide build job.,Adds new openstack Security Guide build job. Change-Id: I7cda80339dd3d36337e27b807a52d45a7a29e51a,964,Anne Gentle,"[1, 3, 964, 5263]","['James E. Blair', 'Jenkins', 'Anne Gentle', 'Jeremy Stanley']",adds new openstack security guide build job changeid i7cda80339dd3d36337e27b807a52d45a7a29e51a
https://review.opendev.org/36390,Basic cleanup for security guide pdf.,Basic cleanup for security guide pdf. This is the result of a pass over the guide to fix some of the conversion errors and other minor page layout issues in the pdf generation from the new docbook source. I also added company affiliation for the authors list. Fixes: bug #1199516 Change-Id: I5035d790e29ee17d83f3b4966aa08917278a6870,2807,Bryan D. Payne,"[3, 321, 612]","['Jenkins', 'Lorin Hochstein', 'Tom Fifield']",basic cleanup security guide pdf result pass guide fix conversion errors minor page layout issues pdf generation new docbook source also added company affiliation authors list fixes bug 1199516 changeid i5035d790e29ee17d83f3b4966aa08917278a6870
https://review.opendev.org/35579,Initial drop of the OpenStack Security Guide in docbook form.,Initial drop of the OpenStack Security Guide in docbook form. Change-Id: Ic536a07e242fcc583c938a68f0beee0601189c5c Fixes: bug #1197579,2807,Bryan D. Payne,"[3, 612]","['Jenkins', 'Tom Fifield']",initial drop openstack security guide docbook form changeid ic536a07e242fcc583c938a68f0beee0601189c5c fixes bug 1197579
https://review.opendev.org/35240,Web landing page for new OpenStack Security Guide. - Currently only includes link to epub file. - Will update / uncomment when pdf / lulu is setup.,Web landing page for new OpenStack Security Guide. - Currently only includes link to epub file. - Will update / uncomment when pdf / lulu is setup. Fixes: bug #1196797 Change-Id: Ib9f82e043a462020193d66b3c77f93baeda3e14f,2807,Bryan D. Payne,"[3, 198, 321, 612, 6414]","['Jenkins', 'Brian Schott', 'Lorin Hochstein', 'Tom Fifield', 'Laura Alves']",web landing page new openstack security guide currently includes link epub file update uncomment pdf lulu setup fixes bug 1196797 changeid ib9f82e043a462020193d66b3c77f93baeda3e14f
https://review.opendev.org/35519,Updating API docs: Adding instance id to the security group extension API,Updating API docs: Adding instance id to the security group extension API Fixes bug 1190410 Change-Id: I7f4fb6145e62733e9e674a710dd7b67c7708938b,5390,Steve Leon,"[3, 739]","['Jenkins', 'Michael Basnight']",updating api docs adding instance id security group extension api fixes bug 1190410 changeid i7f4fb6145e62733e9e674a710dd7b67c7708938b
https://review.opendev.org/35405,Adding instance id to the security group extension API,Adding instance id to the security group extension API - Secgroup list now show their corresponding instances - Secgroup get also show its corresponding instance Fixes bug 1190410 Change-Id: Ifb7b1c9be741fca221267243b86ce0d91b994015,5390,Steve Leon,"[3, 739, 5293, 7092]","['Jenkins', 'Michael Basnight', 'Nikhil', 'Deprecated Trove CI']",adding instance id security group extension api secgroup list show corresponding instances secgroup get also show corresponding instance fixes bug 1190410 changeid ifb7b1c9be741fca221267243b86ce0d91b994015
https://review.opendev.org/32886,Add unique constraint for security groups,"Add unique contraints for security groups - Add uniqie contraint (project_id, name, deleted) for security_groups - Define new SecurityGroupExists exception - Drop security_group_exists() in favor of catching SecurityGroupExists exception for security_group_create() Change-Id: Id9a1427587cc9250942d0abd9eafc69861352d9b",6509,Roman Bogorodskiy,"[3, 1030, 1561, 1653, 2166, 2271, 5652, 6172, 6509, 6681, 6873, 7350, 7491]","['Jenkins', 'Chris Behrens', 'Russell Bryant', 'garyk', 'SmokeStack CI', 'Michael Still', 'David Ripton', 'Boris Pavlovic', 'Roman Bogorodskiy', 'Brent Eagles', 'Matt Riedemann', 'Jordan Pittier', 'Viktor Serhieiev']",add unique contraints security groups add uniqie contraint projectid name deleted securitygroups define new securitygroupexists exception drop securitygroupexists favor catching securitygroupexists exception securitygroupcreate changeid id9a1427587cc9250942d0abd9eafc69861352d9b
https://review.opendev.org/35207,Skip security group code when there is no network.,Skip security group code when there is no network. This patch adds a simple check to the nova/quantum API that immediately returns an empty list if there are no configured networks available. Fixes bug 1191044 Change-Id: I34ac4dd56c71f99c7ed9ff632d6dc7036d91008d (cherry picked from commit 8f3b3db9b04bb5ff7b9486dc6fc211745b983855),4395,Aaron Rosen,"[3, 67, 1420, 1561, 6681]","['Jenkins', 'Vish Ishaya', 'Adam Gandelman', 'Russell Bryant', 'Brent Eagles']",skip security group code network patch adds simple check novaquantum api immediately returns empty list configured networks available fixes bug 1191044 changeid i34ac4dd56c71f99c7ed9ff632d6dc7036d91008d cherry picked commit 8f3b3db9b04bb5ff7b9486dc6fc211745b983855
https://review.opendev.org/33244,Changes around security groups api,1. Added list-security-group and add-security-group methods to server client 2. Refactored security group request classes. 3. Added delete-security-group-rule method to security group rule client Change-Id: Ie0c4e6525b6f4066a8e31b4f1028e5baa94118b4,7441,Sumanth Nagadavalli,"[3, 97, 1980, 7262, 7441]","['Jenkins', 'Daryl Walleck', 'jose-idar', 'John Vrbanac', 'Sumanth Nagadavalli']",1 added listsecuritygroup addsecuritygroup methods server client 2 refactored security group request classes 3 added deletesecuritygrouprule method security group rule client changeid ie0c4e6525b6f4066a8e31b4f1028e5baa94118b4
https://review.opendev.org/30815,refactor security group api not to raise http exceptions,"handle 'not found' exceptions from security group api drivers The SecurityGroupAPI has semantics to raise 'not found' exceptions when a security group isn't found. During a server create request, a driver (e.g. quantum driver) may raise HTTPNotFound and left unhandled, the create request returns 'not found'. Because server create is a compound request, in order to return 'bad request' but keep SecurityGroupAPI semantics intact, we can handle the 'not found' exceptions from drivers and raise the matching nova exception in those cases. Fixes bug 1183347 Change-Id: I7177183154b4c41037623f443cf9958ac457a020",4690,melanie witt,"[3, 1030, 1561, 1653, 2166, 2750, 4393, 4395, 4690, 5292, 5652, 6928]","['Jenkins', 'Chris Behrens', 'Russell Bryant', 'garyk', 'SmokeStack CI', 'Sean Dague', 'Dan Smith', 'Aaron Rosen', 'melanie witt', 'Christopher Yeoh', 'David Ripton', 'Ben Nemec']",handle found exceptions security group api drivers securitygroupapi semantics raise found exceptions security group isnt found server create request driver eg quantum driver may raise httpnotfound left unhandled create request returns found server create compound request order return bad request keep securitygroupapi semantics intact handle found exceptions drivers raise matching nova exception cases fixes bug 1183347 changeid i7177183154b4c41037623f443cf9958ac457a020
https://review.opendev.org/33677,Fix XML security group rule client.,"Fix XML security group rule client. The client ignored cidr and group_id. It also did not handle None values for several of the parameters. Fixed both, refactored the rule creation method. Fixes: bug #1191856 Change-Id: I0aa28bc50e9991d0381f0b0d7e3edb05f8e90591",1921,Andrea Frittoli,"[3, 1921, 5196, 5803]","['Jenkins', 'Andrea Frittoli', 'Matthew Treinish', 'Attila Fazekas']",fix xml security group rule client client ignored cidr groupid also handle none values several parameters fixed refactored rule creation method fixes bug 1191856 changeid i0aa28bc50e9991d0381f0b0d7e3edb05f8e90591
https://review.opendev.org/32547,Added support for security group rules api,Added support for security group rules api 1. Create model and client 2. Added unit tests 3. Added integration tests Change-Id: I26af15fac975a3b3266e404fab08defd49795e23,7441,Sumanth Nagadavalli,"[3, 97]","['Jenkins', 'Daryl Walleck']",added support security group rules api 1 create model client 2 added unit tests 3 added integration tests changeid i26af15fac975a3b3266e404fab08defd49795e23
https://review.opendev.org/30068,Add update method of security group name and description,"Add update method of security group name and description make it possible to edit the name and description of common security groups, we can not rename the default. Change-Id: I559f2fa09c1f205d3bbe7352fc169152e6b38586 Fixes: bug #918393",6610,Zhenguo Niu,"[3, 679, 1030, 1420, 1561, 1849, 1955, 2271, 2750, 4395, 5652, 6172, 6610]","['Jenkins', 'Kevin L. Mitchell', 'Chris Behrens', 'Adam Gandelman', 'Russell Bryant', 'Joe Gordon', 'Alan Pevec', 'Michael Still', 'Sean Dague', 'Aaron Rosen', 'David Ripton', 'Boris Pavlovic', 'Zhenguo Niu']",add update method security group name description make possible edit name description common security groups rename default changeid i559f2fa09c1f205d3bbe7352fc169152e6b38586 fixes bug 918393
https://review.opendev.org/30095,Handle security group quota exceeded gracefully,Handle security group quota exceeded gracefully Handle the security group quota exceeded more gracefully so a traceback is not generated in the log files when this error occurs. This does not change the API as the HTTP status code returned remains the same. Fixes bug 1182859 Change-Id: Id3ac513048751759f01b328482b4f02e26ff66ee,5292,Christopher Yeoh,"[3, 679, 1849, 2166, 2271, 2750, 5292, 5511, 5586, 5652, 5754, 6167]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'SmokeStack CI', 'Michael Still', 'Sean Dague', 'Christopher Yeoh', 'Nikola Dipanov', 'Ivan-Zhu', 'David Ripton', 'Alex Xu', ""Ken'ichi Ohmichi""]",handle security group quota exceeded gracefully handle security group quota exceeded gracefully traceback generated log files error occurs change api http status code returned remains fixes bug 1182859 changeid id3ac513048751759f01b328482b4f02e26ff66ee
https://review.opendev.org/31589,Renaming security group URL API,Renaming security group URL API - Renaming API to match openstack Fix bug # 1187181 Change-Id: I0462a2805a7329689bacf594ecd00cb911651004,5390,Steve Leon,"[3, 739, 5293, 5390, 7092]","['Jenkins', 'Michael Basnight', 'Nikhil', 'Steve Leon', 'Deprecated Trove CI']",renaming security group url api renaming api match openstack fix bug 1187181 changeid i0462a2805a7329689bacf594ecd00cb911651004
https://review.opendev.org/31588,Renaming security group URL API,Renaming security group URL API - Renaming API to match openstack Fix bug # 1187181 Change-Id: I00d63c6fb40391de78d4a517fe9ff11e486f75a8,5390,Steve Leon,"[3, 739, 1925, 5293, 5390, 7092]","['Jenkins', 'Michael Basnight', 'Vipul Sabhaya', 'Nikhil', 'Steve Leon', 'Deprecated Trove CI']",renaming security group url api renaming api match openstack fix bug 1187181 changeid i00d63c6fb40391de78d4a517fe9ff11e486f75a8
https://review.opendev.org/28026,Add security group rule templates,Add security group rule templates Add a variety of common port mappings in a dropdown to help users add security rules. Change-Id: If7422c21eae56580f0fc2403cb08ba25655a73a4 Implements: blueprint security-group-rule-templates,6610,Zhenguo Niu,"[3, 1816, 1941, 2455, 4264, 5623, 6610]","['Jenkins', 'Gabriel Hurley', 'Lin Hua Cheng', 'Tihomir Trifonov', 'Matthias Runge', 'David Lyle', 'Zhenguo Niu']",add security group rule templates add variety common port mappings dropdown help users add security rules changeid if7422c21eae56580f0fc2403cb08ba25655a73a4 implements blueprint securitygroupruletemplates
https://review.opendev.org/29186,add firewall driver if we use quantum security group,add firewall driver if we use quantum security group fixes bug/1179820 we must set firewall driver if we want to use quantum security group because quantum will disable security group if we do not change the default firewall driver. Currently devstack will not change the default firewall driver if we just running quantum server on a node which will cause nova unable to security group information. Change-Id: Ie274325decbf252630a237ed3d6ee3136eb259fe,2967,ljjjustin,"[3, 970, 1607, 1970, 2750, 2967]","['Jenkins', 'Dean Troyer', 'Yu xingchao', 'Jacob Wen', 'Sean Dague', 'ljjjustin']",add firewall driver use quantum security group fixes bug1179820 must set firewall driver want use quantum security group quantum disable security group change default firewall driver currently devstack change default firewall driver running quantum server node cause nova unable security group information changeid ie274325decbf252630a237ed3d6ee3136eb259fe
https://review.opendev.org/30576,get_instance_security_groups() fails if no name on security group,get_instance_security_groups() fails if no name on security group The following patch fixes a bug in get_instance_security_groups() where it tries to access security_groups['id'] but security_groups is a string. This patch also removes some stubs that were not needed in a few unit test. Fixes bug 1182738 Change-Id: Ia64db2e40d4a0e163344b4234112dbde71b1e132 (cherry picked from commit 5d40fb635b1abac3828245124e392a4c9af52f60),4395,Aaron Rosen,"[3, 67, 1420, 1561, 1955]","['Jenkins', 'Vish Ishaya', 'Adam Gandelman', 'Russell Bryant', 'Alan Pevec']",getinstancesecuritygroups fails name security group following patch fixes bug getinstancesecuritygroups tries access securitygroupsid securitygroups string patch also removes stubs needed unit test fixes bug 1182738 changeid ia64db2e40d4a0e163344b4234112dbde71b1e132 cherry picked commit 5d40fb635b1abac3828245124e392a4c9af52f60
https://review.opendev.org/30467,100% test coverage for security groups and rules,100% test coverage for security groups and rules This patch achieves full test coverage for security_group and security_group_rules by: - Fixing the arguments used in test_invalid_parameters_create - Testing the __str__ and delete methods of SecurityGroupRule - Adding a test for the ___str__ method of SecurityGroup Change-Id: I9cfbc68761f158754aa4b339238d29cc587c91e1,7655,Emanuele Rocca,"[3, 679, 2750, 7655]","['Jenkins', 'Kevin L. Mitchell', 'Sean Dague', 'Emanuele Rocca']",100 test coverage security groups rules patch achieves full test coverage securitygroup securitygrouprules fixing arguments used testinvalidparameterscreate testing str delete methods securitygrouprule adding test str method securitygroup changeid i9cfbc68761f158754aa4b339238d29cc587c91e1
https://review.opendev.org/29490,Add update method of security group name and description,"Add update method of security group name and description make it possible to edit the name and description of common security groups, we can not rename the default. Fixes: bug #918393 Change-Id: Id6e02cd1054452889282b3ff4fb04b2071980cc8",6610,Zhenguo Niu,"[3, 191, 679, 1711, 1849, 2166, 2271, 2750, 4395, 6172, 6610]","['Jenkins', 'Trey Morris', 'Kevin L. Mitchell', 'Yun Mao', 'Joe Gordon', 'SmokeStack CI', 'Michael Still', 'Sean Dague', 'Aaron Rosen', 'Boris Pavlovic', 'Zhenguo Niu']",add update method security group name description make possible edit name description common security groups rename default fixes bug 918393 changeid id6e02cd1054452889282b3ff4fb04b2071980cc8
https://review.opendev.org/30668,Use default cidr to avoid exception when editing quantum security rules.,"Use default cidr to avoid exception when editing quantum security rules. $ quantum security-group-rule-create --direction ingress --protocol TCP --port-range-min 80 --port-range-max 80 web After creating security group rule with command above, An exception is thrown when editing the rules for groups web. Fixes: bug #1165095 Change-Id: If32992622ebc20559dde911455b241937eb59ae6",6610,Zhenguo Niu,"[3, 1816, 2455, 4264, 4330, 5623, 5733]","['Jenkins', 'Gabriel Hurley', 'Tihomir Trifonov', 'Matthias Runge', 'Tomas Sedovic', 'David Lyle', 'Kieran Spear']",use default cidr avoid exception editing quantum security rules quantum securitygrouprulecreate direction ingress protocol tcp portrangemin 80 portrangemax 80 web creating security group rule command exception thrown editing rules groups web fixes bug 1165095 changeid if32992622ebc20559dde911455b241937eb59ae6
https://review.opendev.org/30625,Fail validation when security groups and interfaces conflict,Fail validation when security groups and interfaces conflict The 'SecurityGroups' property of the instance is not taken into account by Nova when the 'NetworkInterfaces' property is also defined. Instead the security groups should be applied to the network interface resource(s). This issue has already raised a couple of invalid bugs on Launchpad. Change-Id: I5ae2ba356518d391893c2a479c5952b13b6e8d55,6794,Simon Pasquier,"[3, 4257, 4715]","['Jenkins', 'Zane Bitter', 'Angus Salkeld']",fail validation security groups interfaces conflict securitygroups property instance taken account nova networkinterfaces property also defined instead security groups applied network interface resources issue already raised couple invalid bugs launchpad changeid i5ae2ba356518d391893c2a479c5952b13b6e8d55
https://review.opendev.org/30047,get_instance_security_groups() fails if no name on security group,get_instance_security_groups() fails if no name on security group The following patch fixes a bug in get_instance_security_groups() where it tries to access security_groups['id'] but security_groups is a string. This patch also removes some stubs that were not needed in a few unit test. Fixes bug 1182738 Change-Id: Ia64db2e40d4a0e163344b4234112dbde71b1e132,4395,Aaron Rosen,"[3, 67, 1247, 1561, 2166]","['Jenkins', 'Vish Ishaya', 'Mark McLoughlin', 'Russell Bryant', 'SmokeStack CI']",getinstancesecuritygroups fails name security group following patch fixes bug getinstancesecuritygroups tries access securitygroupsid securitygroups string patch also removes stubs needed unit test fixes bug 1182738 changeid ia64db2e40d4a0e163344b4234112dbde71b1e132
https://review.opendev.org/30474,Use UUIDs for Quantum security groups,"Use UUIDs for Quantum security groups Quantum security groups are referenced by ID and supports duplicate names, so having the ID available helps to avoid searching for it when needed. Change-Id: Idff9245b9848083029dd47fb2253a64b0c5de523",3098,Jeff Peeler,"[3, 2834, 3098, 4257]","['Jenkins', 'Steven Dake', 'Jeff Peeler', 'Zane Bitter']",use uuids quantum security groups quantum security groups referenced id supports duplicate names id available helps avoid searching needed changeid idff9245b9848083029dd47fb2253a64b0c5de523
https://review.opendev.org/30403,Fix networking and nova security group config.,"Fix networking and nova security group config. Per bug 1183721 the defaults have nova do the configuration, and should be changed for OpenStack Networking. Change-Id: Ie9093f6372df013016235ee8569946c0688125c2",4190,lifeless,"[3, 1726, 4190]","['Jenkins', 'Ghe Rivero', 'lifeless']",fix networking nova security group config per bug 1183721 defaults nova configuration changed openstack networking changeid ie9093f6372df013016235ee8569946c0688125c2
https://review.opendev.org/29057,Add update method of security group name and description,Add update method of security group name and description make it possible to edit the name and description of security groups. Fixes: bug #918393 Change-Id: I7b9dd3f9ad2f59aee1b37e06350ce8f5e3a40f64,6610,Zhenguo Niu,"[3, 261, 841, 2031, 2874, 4395, 6610]","['Jenkins', 'Salvatore Orlando', 'Akihiro Motoki', 'Nachi Ueno', 'yong sheng gong', 'Aaron Rosen', 'Zhenguo Niu']",add update method security group name description make possible edit name description security groups fixes bug 918393 changeid i7b9dd3f9ad2f59aee1b37e06350ce8f5e3a40f64
https://review.opendev.org/29034,Add update method of security group name and description,"Add update method of security group name and description make it possible to edit the name and description of common security groups, we can not rename the default security group. Fixes: bug #918393 Change-Id: I7003c47e054f032572adbb901be4dbc61839b695",6610,Zhenguo Niu,"[3, 261, 841, 1653, 2031, 2592, 2874, 4395, 5754, 6610]","['Jenkins', 'Salvatore Orlando', 'Akihiro Motoki', 'garyk', 'Nachi Ueno', 'Mark McClain', 'yong sheng gong', 'Aaron Rosen', 'Alex Xu', 'Zhenguo Niu']",add update method security group name description make possible edit name description common security groups rename default security group fixes bug 918393 changeid i7003c47e054f032572adbb901be4dbc61839b695
https://review.opendev.org/29375,Cleanup nova subcommands for security groups and rules,"Cleanup nova subcommands for security groups and rules The Changes include: - Sanity check for from_port, to_port, and IP protocol when adding a security rule - Print one more column 'Id' for security groups - If there are multiple security groups with the same name, the group can't be deleted unless an ID is specified. However, there is no code to search and delete security group by ID. So, _get_secgroup() will get group by ID if the input is like a UUID. If not found, then get group by name. - Some corresponding changes for help messages. - Test case changes after adding sanity check. Change-Id: Ibd82d8404bdd64e4bca2f8b25756bfaff7b28194 Signed-off-by: Shane Wang <shane.wang@intel.com>",4458,Shane Wang,"[3, 679, 1849, 2271, 4458]","['Jenkins', 'Kevin L. Mitchell', 'Joe Gordon', 'Michael Still', 'Shane Wang']",cleanup nova subcommands security groups rules changes include sanity check fromport toport ip protocol adding security rule print one column id security groups multiple security groups name group cant deleted unless id specified however code search delete security group id getsecgroup get group id input like uuid found get group name corresponding changes help messages test case changes adding sanity check changeid ibd82d8404bdd64e4bca2f8b25756bfaff7b28194 signedoffby shane wang shanewangintelcom
https://review.opendev.org/29146,get_security_groups now creates default security group,get_security_groups now creates default security group If one called get_security_groups() previously the default security group would not be created until the tenant created a network. This exposed a bug when an admin creates a shared network and a tenant tried to boot a vm on it without having any networks. Fixes bug 1171997 Change-Id: I899203424c03353a1ee6567c9ddbaecd7dc25001,4395,Aaron Rosen,"[3, 841, 1653, 2592, 7141]","['Jenkins', 'Akihiro Motoki', 'garyk', 'Mark McClain', 'Sylvain Afchain']",getsecuritygroups creates default security group one called getsecuritygroups previously default security group would created tenant created network exposed bug admin creates shared network tenant tried boot vm without networks fixes bug 1171997 changeid i899203424c03353a1ee6567c9ddbaecd7dc25001
https://review.opendev.org/29150,Allow admin to delete default security groups,Allow admin to delete default security groups Previously there was no way to delete a default security groups which isn't ideal if you want to clean up after deleting a tenant. This patch allows default security groups to be deleted by the admin. Fixes bug 1175393 Change-Id: I2214c7dabf0f2ec960ce10ebbbcdc513bc73664c,4395,Aaron Rosen,"[3, 1653, 2592]","['Jenkins', 'garyk', 'Mark McClain']",allow admin delete default security groups previously way delete default security groups isnt ideal want clean deleting tenant patch allows default security groups deleted admin fixes bug 1175393 changeid i2214c7dabf0f2ec960ce10ebbbcdc513bc73664c
https://review.opendev.org/29266,Fix quantum security group driver to accept none for from/to_port,Fix quantum security group driver to accept none for from/to_port The quantum security group driver did not accept none values for from_port/to_port which the nova security group api supports. This patch allows None values to be passed in for those params and adds a unit test. In addition the from/to_port responses would be different if using quantum instead of nova. This patch fixes that and adds unit tests. Fixes bug 1176027 Change-Id: Id57e253c9dd1787ee25fc5cbb562743692d7abe4 (cherry picked from commit 78e2e2128992527407f99743340692ef3be75210),67,Vish Ishaya,"[3, 1561, 4395]","['Jenkins', 'Russell Bryant', 'Aaron Rosen']",fix quantum security group driver accept none fromtoport quantum security group driver accept none values fromporttoport nova security group api supports patch allows none values passed params adds unit test addition fromtoport responses would different using quantum instead nova patch fixes adds unit tests fixes bug 1176027 changeid id57e253c9dd1787ee25fc5cbb562743692d7abe4 cherry picked commit 78e2e2128992527407f99743340692ef3be75210
https://review.opendev.org/27074,Adding negative test to check limits of Security Groups and rules,Adding test_security_groups_exceed_limit and test_security_groups_rules_exceed_limit A negative test which verifies that creating security groups and rules cannot exeed limits. Change-Id: I5c49eb16750bce5dcaad4481e48ee3400cab4ce4,6724,Vasyl Khomenko,"[3, 7, 1192, 5586, 5803, 6172, 6724]","['Jenkins', 'Jay Pipes', 'David Kranz', 'Ivan-Zhu', 'Attila Fazekas', 'Boris Pavlovic', 'Vasyl Khomenko']",adding testsecuritygroupsexceedlimit testsecuritygroupsrulesexceedlimit negative test verifies creating security groups rules exeed limits changeid i5c49eb16750bce5dcaad4481e48ee3400cab4ce4
https://review.opendev.org/29038,Fix quantum security group driver to accept none for from/to_port,Fix quantum security group driver to accept none for from/to_port The quantum security group driver did not accept none values for from_port/to_port which the nova security group api supports. This patch allows None values to be passed in for those params and adds a unit test. Fixes bug 1176027 Change-Id: Id57e253c9dd1787ee25fc5cbb562743692d7abe4,4395,Aaron Rosen,"[3, 67, 679, 1247, 1561, 2166, 4395]","['Jenkins', 'Vish Ishaya', 'Kevin L. Mitchell', 'Mark McLoughlin', 'Russell Bryant', 'SmokeStack CI', 'Aaron Rosen']",fix quantum security group driver accept none fromtoport quantum security group driver accept none values fromporttoport nova security group api supports patch allows none values passed params adds unit test fixes bug 1176027 changeid id57e253c9dd1787ee25fc5cbb562743692d7abe4
https://review.opendev.org/27792,get_security_groups now creates default security group,get_security_groups now creates default security group If one called get_security_groups() previously the default security group would not be created until the tenant created a network. This exposed a bug when an admin creates a shared network and a tenant tried to boot a vm on it without having any networks. Fixes bug 1171997 Change-Id: I899203424c03353a1ee6567c9ddbaecd7dc25001,4395,Aaron Rosen,"[3, 261, 447, 642, 748, 841, 1653, 2031, 2035, 2592, 4395, 6610, 6659, 6670]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Matt Dietz', 'Armando Migliaccio', 'Akihiro Motoki', 'garyk', 'Nachi Ueno', 'Maru Newby', 'Mark McClain', 'Aaron Rosen', 'Zhenguo Niu', 'Paul Michali', 'Amir Sadoughi']",getsecuritygroups creates default security group one called getsecuritygroups previously default security group would created tenant created network exposed bug admin creates shared network tenant tried boot vm without networks fixes bug 1171997 changeid i899203424c03353a1ee6567c9ddbaecd7dc25001
https://review.opendev.org/27660,Perform a joined query for ports and security group associations,"Perform a joined query for ports and security group associations bug 1174111 Instead of loading security group associations with a separate query each time a port is loaded from the database, perform the load operation with a join using a joined sqlalchemy relationship. Also, this patch removes the need for invoking the mixin method 'extend_port_dict_security_group' from the plugin code. Change-Id: I40b22281d45ff4f4bf8149211883799a9051c1a0",261,Salvatore Orlando,"[3, 261, 1653, 2035, 2592, 2874, 5754, 6072, 6849]","['Jenkins', 'Salvatore Orlando', 'garyk', 'Maru Newby', 'Mark McClain', 'yong sheng gong', 'Alex Xu', 'Eugene Nikanorov', 'Roman Podoliaka']",perform joined query ports security group associations bug 1174111 instead loading security group associations separate query time port loaded database perform load operation join using joined sqlalchemy relationship also patch removes need invoking mixin method extendportdictsecuritygroup plugin code changeid i40b22281d45ff4f4bf8149211883799a9051c1a0
https://review.opendev.org/27997,Allow admin to delete default security groups,Allow admin to delete default security groups Previously there was no way to delete a default security groups which isn't ideal if you want to clean up after deleting a tenant. This patch allows default security groups to be deleted by the admin. Fixes bug 1175393 Change-Id: I2214c7dabf0f2ec960ce10ebbbcdc513bc73664c,4395,Aaron Rosen,"[3, 261, 447, 748, 1653]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Armando Migliaccio', 'garyk']",allow admin delete default security groups previously way delete default security groups isnt ideal want clean deleting tenant patch allows default security groups deleted admin fixes bug 1175393 changeid i2214c7dabf0f2ec960ce10ebbbcdc513bc73664c
https://review.opendev.org/719039,NSX|P: Fix port security update for network,NSX|P: Fix port security update for network Change-Id: Id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp fix port security update network changeid id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44
https://review.opendev.org/719041,NSX|P: Fix port security update for network,NSX|P: Fix port security update for network Change-Id: Id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp fix port security update network changeid id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44
https://review.opendev.org/719040,NSX|P: Fix port security update for network,NSX|P: Fix port security update for network Change-Id: Id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp fix port security update network changeid id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44
https://review.opendev.org/27393,Query quantum once for instance's security groups,Query quantum once for instance's security groups This patch adds the method get_instance_security_group_bindings() which returns all the instance_id's and security groups for a given tenant. This method is then used to avoid querying quantum for it's security groups when using GET /v2/<project_id>/servers/detail. Fixes bug 1161518 Conflicts: nova/tests/api/openstack/compute/contrib/test_security_groups.py Change-Id: Ia28d5573c264f0316ab9fb257ca8e7ae35679883,4395,Aaron Rosen,"[3, 24, 67, 1561, 1653, 4395]","['Jenkins', 'Chuck Short', 'Vish Ishaya', 'Russell Bryant', 'garyk', 'Aaron Rosen']",query quantum instances security groups patch adds method getinstancesecuritygroupbindings returns instanceids security groups given tenant method used avoid querying quantum security groups using get v2projectidserversdetail fixes bug 1161518 conflicts novatestsapiopenstackcomputecontribtestsecuritygroupspy changeid ia28d5573c264f0316ab9fb257ca8e7ae35679883
https://review.opendev.org/27280,Add missing security group quota settings to quantum.conf,Add missing security group quota settings to quantum.conf Fixes bug 1164154 Change-Id: I32d1952fcc11559cc01c0dbde11de558b2a0b1fb,1653,garyk,"[3, 704, 1653, 2592, 4395, 6659]","['Jenkins', 'Edgar Magana', 'garyk', 'Mark McClain', 'Aaron Rosen', 'Paul Michali']",add missing security group quota settings quantumconf fixes bug 1164154 changeid i32d1952fcc11559cc01c0dbde11de558b2a0b1fb
https://review.opendev.org/26936,Initial add of security tests,Initial add of security tests * Added basic create/delete security group test * Corrected name of keypairs test class Change-Id: I7f5e09a4ff50b1fcb463e4bba3df4971f8c2253a,97,Daryl Walleck,"[3, 97]","['Jenkins', 'Daryl Walleck']",initial add security tests added basic createdelete security group test corrected name keypairs test class changeid i7f5e09a4ff50b1fcb463e4bba3df4971f8c2253a
https://review.opendev.org/26935,Add basic client support for security groups,Add basic client support for security groups Change-Id: I3b0a41f124c021892bed83d4d70c7637b467870f,97,Daryl Walleck,"[3, 97]","['Jenkins', 'Daryl Walleck']",add basic client support security groups changeid i3b0a41f124c021892bed83d4d70c7637b467870f
https://review.opendev.org/26408,Update api-doc with Security Groups related API information,Update api-doc with Security Groups related API information Added Security Groups and Security Group Rules as entities and related API calls to the Reddwarf API Docs. Change-Id: I87c03e221086ce320626b827b28dfc3f52401ffe,5293,Nikhil,"[3, 694, 739, 1925, 4240, 5293]","['Jenkins', 'Tim Simpson', 'Michael Basnight', 'Vipul Sabhaya', 'Craig Vyvial', 'Nikhil']",update apidoc security groups related api information added security groups security group rules entities related api calls reddwarf api docs changeid i87c03e221086ce320626b827b28dfc3f52401ffe
https://review.opendev.org/26040,Add missing security group quota settings to quantum.conf,Add missing security group quota settings to quantum.conf Fixes bug 1164154 Change-Id: I32d1952fcc11559cc01c0dbde11de558b2a0b1fb,4395,Aaron Rosen,"[3, 261, 447, 2592, 2874]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Mark McClain', 'yong sheng gong']",add missing security group quota settings quantumconf fixes bug 1164154 changeid i32d1952fcc11559cc01c0dbde11de558b2a0b1fb
https://review.opendev.org/25802,Skip security groups w/ no protocol.,Skip security groups w/ no protocol. When using Nova w/ the new Quantum security groups driver security groups can exist which have no protocol. Theses entries cause ERROR: 'NoneType' object has no attribute 'upper' when you try to delete other (editable) security groups. This patch updates novaclient so that it skips over entries with no protocol when determining which security group to delete. This fixes novaclient so that deleting *any* security group works when the new quantum security group driver is enabled. Fixes LP Bug #1162622. Change-Id: Ida07b6429eae988a9a64535381082a500f31a521,360,Dan Prince,"[3, 209, 360, 679, 4395, 5638]","['Jenkins', 'Josh Kearney', 'Dan Prince', 'Kevin L. Mitchell', 'Aaron Rosen', 'Davanum Srinivas']",skip security groups w protocol using nova w new quantum security groups driver security groups exist protocol theses entries cause error nonetype object attribute upper try delete editable security groups patch updates novaclient skips entries protocol determining security group delete fixes novaclient deleting security group works new quantum security group driver enabled fixes lp bug 1162622 changeid ida07b6429eae988a9a64535381082a500f31a521
https://review.opendev.org/25670,Query quantum once for instance's security groups,Query quantum once for instances security groups This patch adds the method get_instance_security_group_bindings() which returns all the instance_id's and security groups for a given tenant. This method is then used to avoid querying quantum for it's security groups when using GET /v2/<project_id>/servers/detail. Fixes bug 1161518 This patch also fixes another bug when using the quantum driver where instance_sgs would be assigned to all the instances when nova list was called which resulted in all the instances appearing that they were part of the same security group. A unit test was added using different security groups and multiple instances to prevent such regrestion. Change-Id: Ia28d5573c264f0316ab9fb257ca8e7ae35679883,4395,Aaron Rosen,"[3, 67, 261, 447, 1247, 1561, 2166, 4393, 4395, 5638]","['Jenkins', 'Vish Ishaya', 'Salvatore Orlando', 'dan wendlandt', 'Mark McLoughlin', 'Russell Bryant', 'SmokeStack CI', 'Dan Smith', 'Aaron Rosen', 'Davanum Srinivas']",query quantum instances security groups patch adds method getinstancesecuritygroupbindings returns instanceids security groups given tenant method used avoid querying quantum security groups using get v2projectidserversdetail fixes bug 1161518 patch also fixes another bug using quantum driver instancesgs would assigned instances nova list called resulted instances appearing part security group unit test added using different security groups multiple instances prevent regrestion changeid ia28d5573c264f0316ab9fb257ca8e7ae35679883
https://review.opendev.org/25773,quantum security group driver nova list shows same group,quantum security group driver nova list shows same group When using the quantum security group driver nova list shows the same security group for all instances. This patch fixes this and corrects the unit test that was hinding this bug. Fixes bug 1162077 Change-Id: I7a10f81af1bb6c93f634dc0de27841afe0f1f0ea,4395,Aaron Rosen,"[3, 67, 261, 447, 1561, 4393, 4395]","['Jenkins', 'Vish Ishaya', 'Salvatore Orlando', 'dan wendlandt', 'Russell Bryant', 'Dan Smith', 'Aaron Rosen']",quantum security group driver nova list shows group using quantum security group driver nova list shows security group instances patch fixes corrects unit test hinding bug fixes bug 1162077 changeid i7a10f81af1bb6c93f634dc0de27841afe0f1f0ea
https://review.opendev.org/25775,quantum security group driver nova list shows same group,quantum security group driver nova list shows same group When using the quantum security group driver nova list shows the same security group for all instances. This patch fixes this and corrects the unit test that was hiding this bug. This also adds a unit test to check that the default security group is added to the response when not specified. Fixes bug 1162077 Change-Id: I7a10f81af1bb6c93f634dc0de27841afe0f1f0ea,4395,Aaron Rosen,"[3, 67, 261, 447, 1561, 2166, 4393]","['Jenkins', 'Vish Ishaya', 'Salvatore Orlando', 'dan wendlandt', 'Russell Bryant', 'SmokeStack CI', 'Dan Smith']",quantum security group driver nova list shows group using quantum security group driver nova list shows security group instances patch fixes corrects unit test hiding bug also adds unit test check default security group added response specified fixes bug 1162077 changeid i7a10f81af1bb6c93f634dc0de27841afe0f1f0ea
https://review.opendev.org/23161,Added support for Security Groups via a new extension.,"Added support for Security Groups via a new extension. - Added migrate changes for new database artifacts. - Added models for Security Groups and Security Group Rules. - Definition and addition of Controllers for API. - Views for Security Groups and Security Group rules. - Extended taskmanager to use newly created Security Group on instance creation, and to clean it up on deletion if extension is enabled - Added new flag to conf to enable ""reddwarf_security_groups_support"" - Integration tests. Implements blueprint: security-groups Change-Id: I44053359c12e53a9e549bd334e628ecd249d8ba0",5293,Nikhil,"[3, 694, 1375, 1870, 1925, 5293]","['Jenkins', 'Tim Simpson', 'Ed Cranford', 'Anna Shen', 'Vipul Sabhaya', 'Nikhil']",added support security groups via new extension added migrate changes new database artifacts added models security groups security group rules definition addition controllers api views security groups security group rules extended taskmanager use newly created security group instance creation clean deletion extension enabled added new flag conf enable reddwarfsecuritygroupssupport integration tests implements blueprint securitygroups changeid i44053359c12e53a9e549bd334e628ecd249d8ba0
https://review.opendev.org/25620,Fix adding security groups to an existing instance,"Fix adding security groups to an existing instance Commit 4c34f5f1e8c66e4a865cf7996b283509feb91b71 introduced a regression making it impossible to add a security group to an existing instance. In the javascript membership module, make sure new members are still assigned the default role even if the role dropdown is not displayed (as is the case for the instance security group add/remove view). Fixes bug 1158037. Change-Id: I986f7296e97a08d5e9141fe0739d4e028e066fc1 (cherry picked from commit 64c0ddfa7a5189d4523a31d78cd97dc1ea2151a1)",4978,Julie Pichon,"[3, 308, 5733]","['Jenkins', 'Thierry Carrez', 'Kieran Spear']",fix adding security groups existing instance commit 4c34f5f1e8c66e4a865cf7996b283509feb91b71 introduced regression making impossible add security group existing instance javascript membership module make sure new members still assigned default role even role dropdown displayed case instance security group addremove view fixes bug 1158037 changeid i986f7296e97a08d5e9141fe0739d4e028e066fc1 cherry picked commit 64c0ddfa7a5189d4523a31d78cd97dc1ea2151a1
https://review.opendev.org/24966,Fix adding security groups to an existing instance,"Fix adding security groups to an existing instance Commit 4c34f5f1e8c66e4a865cf7996b283509feb91b71 introduced a regression making it impossible to add a security group to an existing instance. In the javascript membership module, make sure new members are still assigned the default role even if the role dropdown is not displayed (as is the case for the instance security group add/remove view). Fixes bug 1158037. Change-Id: I986f7296e97a08d5e9141fe0739d4e028e066fc1",5733,Kieran Spear,"[3, 841, 1816, 2455, 4395, 4978, 6413, 7088]","['Jenkins', 'Akihiro Motoki', 'Gabriel Hurley', 'Tihomir Trifonov', 'Aaron Rosen', 'Julie Pichon', 'Victoria Martinez de la Cruz', 'Jacob Cherkas']",fix adding security groups existing instance commit 4c34f5f1e8c66e4a865cf7996b283509feb91b71 introduced regression making impossible add security group existing instance javascript membership module make sure new members still assigned default role even role dropdown displayed case instance security group addremove view fixes bug 1158037 changeid i986f7296e97a08d5e9141fe0739d4e028e066fc1
https://review.opendev.org/25370,Updated TYPE_MAP for security group rules,Updated TYPE_MAP for security group rules Updated TYPE_MAP for security group rules so that from_port and to_port are correctly identified as ints for XML. Fixed bug:1160238 Change-Id: I432c7f01fc16c476d6452a4ac4e219dbfa6d0388,5293,Nikhil,"[3, 739, 1375, 1925, 6162]","['Jenkins', 'Michael Basnight', 'Ed Cranford', 'Vipul Sabhaya', 'Dan Nguyen']",updated typemap security group rules updated typemap security group rules fromport toport correctly identified ints xml fixed bug1160238 changeid i432c7f01fc16c476d6452a4ac4e219dbfa6d0388
https://review.opendev.org/25058,update enable_ping_and_ssh example to include quantum security groups,update enable_ping_and_ssh example to include quantum security groups Fixes bug 1158527 Change-Id: Ic7d74ea90ab85a9531821e9e20a990e9a50da375,4395,Aaron Rosen,"[3, 447, 612, 841, 964, 4395]","['Jenkins', 'dan wendlandt', 'Tom Fifield', 'Akihiro Motoki', 'Anne Gentle', 'Aaron Rosen']",update enablepingandssh example include quantum security groups fixes bug 1158527 changeid ic7d74ea90ab85a9531821e9e20a990e9a50da375
https://review.opendev.org/16921,Support Quantum security group,Support Quantum security group Added Q_USE_SECGROUP flag for quantum security group Change-Id: Ifd155798912247d85a9765ef73a2186b929237b4,2031,Nachi Ueno,"[3, 447, 841, 970, 1653, 2031, 2750, 4184, 4395, 4726, 5652]","['Jenkins', 'dan wendlandt', 'Akihiro Motoki', 'Dean Troyer', 'garyk', 'Nachi Ueno', 'Sean Dague', 'Jason Zhang', 'Aaron Rosen', 'Yoshihiro Kaneko', 'David Ripton']",support quantum security group added qusesecgroup flag quantum security group changeid ifd155798912247d85a9765ef73a2186b929237b4
https://review.opendev.org/24511,Client Side Changes for Security Groups Support.,Client Side Changes for Security Groups Support. - Added new secgroups command with the following options - list - get - add_rule - delete_rule - Added corresponding calls into the REST API Implements blueprint: security-groups Change-Id: Ie6d4bc2ce31dc18f172e92efa46ccdeea3e0a22a,5293,Nikhil,"[3, 694, 5293]","['Jenkins', 'Tim Simpson', 'Nikhil']",client side changes security groups support added new secgroups command following options list get addrule deleterule added corresponding calls rest api implements blueprint securitygroups changeid ie6d4bc2ce31dc18f172e92efa46ccdeea3e0a22a
https://review.opendev.org/24736,Handle None protocol in security group rule table,Handle None protocol in security group rule table Default Quantum security groups come in with a protocol of None via nova. Horizon chokes when it tries to uppercase what it expects to be a unicode string. Replace None with 'Any' when displaying the value. Fixes bug 1156922. Change-Id: I94a534e829ecdbe75f785eb8fc750260aacd6dfc,5733,Kieran Spear,"[3, 1816, 1941, 5733]","['Jenkins', 'Gabriel Hurley', 'Lin Hua Cheng', 'Kieran Spear']",handle none protocol security group rule table default quantum security groups come protocol none via nova horizon chokes tries uppercase expects unicode string replace none displaying value fixes bug 1156922 changeid i94a534e829ecdbe75f785eb8fc750260aacd6dfc
https://review.opendev.org/23793,Add a test to list the security group rules,"Add a test to list the security group rules * Create two rules for the security group. * List the rules, there are created in the security group. Fixes bug 1145626 Change-Id: I04924651cf904a9346f6ed31308a60d4c8a17f74",6761,leo-toyoda,"[3, 1192, 1921, 2750, 5292, 5586, 5803, 6761]","['Jenkins', 'David Kranz', 'Andrea Frittoli', 'Sean Dague', 'Christopher Yeoh', 'Ivan-Zhu', 'Attila Fazekas', 'leo-toyoda']",add test list security group rules create two rules security group list rules created security group fixes bug 1145626 changeid i04924651cf904a9346f6ed31308a60d4c8a17f74
https://review.opendev.org/24344,Update port-create with how to add security group(s) to port,Update port-create with how to add security group(s) to port Fixes bug 1098363 Change-Id: I04efb9c0f1493944eab3365a737ba09e88c5a365,4395,Aaron Rosen,"[3, 612, 964, 4395]","['Jenkins', 'Tom Fifield', 'Anne Gentle', 'Aaron Rosen']",update portcreate add security groups port fixes bug 1098363 changeid i04efb9c0f1493944eab3365a737ba09e88c5a365
https://review.opendev.org/24288,Fix security groups (need to be accessed as attributes),Fix security groups (need to be accessed as attributes) bug 1134193 Thanks Lukas Barton for the patch in the bug. Signed-off-by: Angus Salkeld <asalkeld@redhat.com> Change-Id: I448ba76fcf47d4e02775ff8eca38897eb399a3cc,4715,Angus Salkeld,"[3, 4257, 4328]","['Jenkins', 'Zane Bitter', 'Steven Hardy']",fix security groups need accessed attributes bug 1134193 thanks lukas barton patch bug signedoffby angus salkeld asalkeldredhatcom changeid i448ba76fcf47d4e02775ff8eca38897eb399a3cc
https://review.opendev.org/23736,Add explicit egress rules to nvp security profile,Add explicit egress rules to nvp security profile The following commit 7e26074b changed the previous behavior of quantum security groups by explicitly adding egress rules to the security profile. When these rules are removed the vm is no longer able to send traffic out. This patch adds these rules for NVP. One thing to note in the patch is that now a bunk rule of IPv4 127.0.0.1/32 is added to each security profile. The reason for this is by default NVP security profiles allow all egress traffic until a rule is added and then it just lets traffic matching those rules out. Adding this bunk rule achieves this behavior that quantum now uses. Fixes bug 1150378 Change-Id: I005880fcf39d539ae99be428d75c43cc0b39a7b6,4395,Aaron Rosen,"[3, 261, 447, 841, 1653, 2592, 4395]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Akihiro Motoki', 'garyk', 'Mark McClain', 'Aaron Rosen']",add explicit egress rules nvp security profile following commit 7e26074b changed previous behavior quantum security groups explicitly adding egress rules security profile rules removed vm longer able send traffic patch adds rules nvp one thing note patch bunk rule ipv4 12700132 added security profile reason default nvp security profiles allow egress traffic rule added lets traffic matching rules adding bunk rule achieves behavior quantum uses fixes bug 1150378 changeid i005880fcf39d539ae99be428d75c43cc0b39a7b6
https://review.opendev.org/23240,Notify creation or deletion of dhcp port for security group,Notify creation or deletion of dhcp port for security group fixes bug 1103840 Change-Id: I8031bc607a874871a8081575bce1526b3453aff6,2031,Nachi Ueno,"[3, 841, 1653, 1994, 2031]","['Jenkins', 'Akihiro Motoki', 'garyk', 'Zhongyue Luo', 'Nachi Ueno']",notify creation deletion dhcp port security group fixes bug 1103840 changeid i8031bc607a874871a8081575bce1526b3453aff6
https://review.opendev.org/20636,Update quantum security group information,Remove security group handler info from doc Since we are not upstreaming the nova security group handler that proxies security group calls from nova to quantum this part of the doc should be removed. The nova security group proxy which proxies security group commands directly to quantum without having to go through the nova database will replace the functionality. Fixes bug 1088304 Change-Id: If95bc2c6a656ed4bd1bf64f2f799c379f6ee4bca,4395,Aaron Rosen,"[3, 447, 612, 964, 2874, 4395]","['Jenkins', 'dan wendlandt', 'Tom Fifield', 'Anne Gentle', 'yong sheng gong', 'Aaron Rosen']",remove security group handler info doc since upstreaming nova security group handler proxies security group calls nova quantum part doc removed nova security group proxy proxies security group commands directly quantum without go nova database replace functionality fixes bug 1088304 changeid if95bc2c6a656ed4bd1bf64f2f799c379f6ee4bca
https://review.opendev.org/23684,Add support for security group quotas,Add support for security group quotas Fixes bug 1149286 Change-Id: I7db9416c00296dfefdbf8fef880154c05fa2445a,1653,garyk,"[3, 841, 1653, 2592, 2874]","['Jenkins', 'Akihiro Motoki', 'garyk', 'Mark McClain', 'yong sheng gong']",add support security group quotas fixes bug 1149286 changeid i7db9416c00296dfefdbf8fef880154c05fa2445a
https://review.opendev.org/23221,Implement rules_exist method for quantum security group driver,"Implement rules_exist method for quantum security group driver Originally I thought the quantum security group driver should not enforce rules exist on the nova-api side and instead it should just forward the request to quantum which would return the error. That said there is no extra cost to doing this on the nova-api side as nova-api already queries for the group before adding the rule. In addition, rules_exists() is used in revoke_security_group_ingress() for the ec2 compat APIs so this needs to be implemented. This patch moves create_security_group_rule() and rule_exists() from nova/compute/api.py to nova/network/security_group/security_group_base.py as the same code can be leveraged in both places. Fixes bug 1136345 Change-Id: I444ffc2b53b30ed496b6e3250433d14f316e594d",4395,Aaron Rosen,"[3, 67, 1247, 1561, 2166, 2750, 4395]","['Jenkins', 'Vish Ishaya', 'Mark McLoughlin', 'Russell Bryant', 'SmokeStack CI', 'Sean Dague', 'Aaron Rosen']",implement rulesexist method quantum security group driver originally thought quantum security group driver enforce rules exist novaapi side instead forward request quantum would return error said extra cost novaapi side novaapi already queries group adding rule addition rulesexists used revokesecuritygroupingress ec2 compat apis needs implemented patch moves createsecuritygrouprule ruleexists novacomputeapipy novanetworksecuritygroupsecuritygroupbasepy code leveraged places fixes bug 1136345 changeid i444ffc2b53b30ed496b6e3250433d14f316e594d
https://review.opendev.org/22718,Make ip_protocol parameter in security groups rules case insensitive,Make ip_protocol parameter in security groups rules case insensitive Added convert ip_protocol to uppercase. Added tests Fixes: #1052725 Change-Id: I966ddad0800556b1cc848003d07d4a897ce1b9c1,6724,Vasyl Khomenko,"[3, 679, 1267, 1849, 6724]","['Jenkins', 'Kevin L. Mitchell', 'Alexei Ababilov', 'Joe Gordon', 'Vasyl Khomenko']",make ipprotocol parameter security groups rules case insensitive added convert ipprotocol uppercase added tests fixes 1052725 changeid i966ddad0800556b1cc848003d07d4a897ce1b9c1
https://review.opendev.org/22295,Allow admin to edit project quotas for security groups and rules,Allow admin to edit project quotas for security groups and rules Fixes bug 1078092 Change-Id: I1018f07f740b7e27e14fb00bac4c3cce177469e2,4978,Julie Pichon,"[3, 1816, 1941, 2455, 4978, 5733]","['Jenkins', 'Gabriel Hurley', 'Lin Hua Cheng', 'Tihomir Trifonov', 'Julie Pichon', 'Kieran Spear']",allow admin edit project quotas security groups rules fixes bug 1078092 changeid i1018f07f740b7e27e14fb00bac4c3cce177469e2
https://review.opendev.org/21924,Remove external_id and security group proxy code,Remove external_id and security group proxy code This can be merged after the blueprint nova-quantum-security-group-proxy merges since that removes the need for this code. Implements blueprint remove-external-id-and-security-group-proxy Change-Id: I62f8d7d4161f8a1308ae80029effaa46b6d661a3,4395,Aaron Rosen,"[3, 261, 447, 841, 2031, 2166, 2592, 4395]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Akihiro Motoki', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'Aaron Rosen']",remove externalid security group proxy code merged blueprint novaquantumsecuritygroupproxy merges since removes need code implements blueprint removeexternalidandsecuritygroupproxy changeid i62f8d7d4161f8a1308ae80029effaa46b6d661a3
https://review.opendev.org/22713,Prevent default security group deletion.,Prevent default security group deletion. This patch adds a check to confirm that a security group name is not among a list of 'special' group names before proceeding with security group deletion. Change-Id: I5656e01b4ed3fd9c22abe6a731edaef7203d97c4 Fixes: 1131830,6681,Brent Eagles,"[3, 67, 1030, 1561, 1812, 2166, 2750, 6681]","['Jenkins', 'Vish Ishaya', 'Chris Behrens', 'Russell Bryant', 'p-draigbrady', 'SmokeStack CI', 'Sean Dague', 'Brent Eagles']",prevent default security group deletion patch adds check confirm security group name among list special group names proceeding security group deletion changeid i5656e01b4ed3fd9c22abe6a731edaef7203d97c4 fixes 1131830
https://review.opendev.org/22623,Add missing ec2 security group quantum mixin,Add missing ec2 security group quantum mixin Fixes bug 1131441 Change-Id: Ifc25e1a9eb113cd28a5a5ed9d277480c262cd7f3,4395,Aaron Rosen,"[3, 24, 67, 679, 1247, 2166]","['Jenkins', 'Chuck Short', 'Vish Ishaya', 'Kevin L. Mitchell', 'Mark McLoughlin', 'SmokeStack CI']",add missing ec2 security group quantum mixin fixes bug 1131441 changeid ifc25e1a9eb113cd28a5a5ed9d277480c262cd7f3
https://review.opendev.org/22062,Add Nova quantum security group proxy,Add Nova quantum security group proxy Implements blueprint nova-quantum-security-group-proxy Change-Id: I21d70f1dc8e61d6412d14e30ab2aa1a83a711de2,4395,Aaron Rosen,"[3, 67, 105, 261, 447, 679, 841, 1247, 1501, 1561, 1653, 1711, 1779, 2031, 2166, 2592, 2750, 4395]","['Jenkins', 'Vish Ishaya', 'Kyle Mestery', 'Salvatore Orlando', 'dan wendlandt', 'Kevin L. Mitchell', 'Akihiro Motoki', 'Mark McLoughlin', 'Phil Day', 'Russell Bryant', 'garyk', 'Yun Mao', 'Daniel Berrange', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'Sean Dague', 'Aaron Rosen']",add nova quantum security group proxy implements blueprint novaquantumsecuritygroupproxy changeid i21d70f1dc8e61d6412d14e30ab2aa1a83a711de2
https://review.opendev.org/22061,Make nova security groups more pluggable,Refactor nova security groups to allow to them to be more plugable Change-Id: Ib183515a0418203c8bcc88176e3a1498d7333300,4395,Aaron Rosen,"[3, 67, 105, 261, 447, 679, 841, 1247, 1501, 1561, 1653, 1779, 2031, 2166, 2592, 2750, 4395]","['Jenkins', 'Vish Ishaya', 'Kyle Mestery', 'Salvatore Orlando', 'dan wendlandt', 'Kevin L. Mitchell', 'Akihiro Motoki', 'Mark McLoughlin', 'Phil Day', 'Russell Bryant', 'garyk', 'Daniel Berrange', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'Sean Dague', 'Aaron Rosen']",refactor nova security groups allow plugable changeid ib183515a0418203c8bcc88176e3a1498d7333300
https://review.opendev.org/21963,Add support Quantum Security Groups for Ryu plugin,Add support Quantum Security Groups for Ryu plugin fix bug #1124965 This patch add support security-groups extension to Ryu plugin. Change-Id: I569ab1e48517f28a5103175fd04e848f82eb2a3c,4726,Yoshihiro Kaneko,"[3, 105, 841, 1653, 2031, 2166, 2592, 4146, 4395, 4726]","['Jenkins', 'Kyle Mestery', 'Akihiro Motoki', 'garyk', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'Clark Boylan', 'Aaron Rosen', 'Yoshihiro Kaneko']",add support quantum security groups ryu plugin fix bug 1124965 patch add support securitygroups extension ryu plugin changeid i569ab1e48517f28a5103175fd04e848f82eb2a3c
https://review.opendev.org/21396,"Default SG rules for the Security Group ""Default""","Default sg rules for the Security Group ""Default"" Added in the API os-security-group-default-rules This allows create, delete, list, and get (of individual rules) for rules that will be pre-populated into the Security Group ""default"" that is populated in all projects on creation. These rules will not be applied retroactively, as it is designed to allow the creation of a ""reasonable"" base-line set of sg rules. The new rules live in a separate table that mirrors the relevant structures of the security_group_rules table. Related to bp default-rules-for-default-security-group DocImpact Change-Id: I7ab51e68aff562bb869538197a0eca158fc3220c",2903,Morgan Fainberg,"[3, 67, 1525, 2166, 2750, 2903, 4598, 5174, 5280]","['Jenkins', 'Vish Ishaya', 'Rafi Khardalian', 'SmokeStack CI', 'Sean Dague', 'Morgan Fainberg', 'Giampaolo Lauria', 'Mauro Rodrigues', 'Nicolas Simonds']",default sg rules security group default added api ossecuritygroupdefaultrules allows create delete list get individual rules rules prepopulated security group default populated projects creation rules applied retroactively designed allow creation reasonable baseline set sg rules new rules live separate table mirrors relevant structures securitygrouprules table related bp defaultrulesfordefaultsecuritygroup docimpact changeid i7ab51e68aff562bb869538197a0eca158fc3220c
https://review.opendev.org/21529,Fixes a race condition on updating security group rules,"Fixes a race condition on updating security group rules during instance creation During creating the instance, compute manager makes an rpc call to ""allocate_for_instance"" from the network manager, which will in turn end up making a rpc cast to each compute_manager with an instance in the group(s) than need to be refreshed calling refresh_instance_security_rules. When an instance is being created is in a group that has a rule referring to itself, that chain will end up trying to refresh the rules for the instance which is still being created. That call will find its way down to do_refresh_instance_rules() in libvirt/firewall - which will in turn try to get network_info from the global ""network_infos"" in firewall. But the entry in network_infos for this instance might not of been added yet, as that only happens when the create of the instance calls ""prepare_instance_filter which comes later in the sequence as part of driver.spawn The fix here adds a synchronisation lock to the incomming refresh call so that it is blocked until any in-progress thread on the instance is finished. Change-Id: I550e286aa4777b011633550109e18e03d63a4bbb",1501,Phil Day,"[1, 3, 2166, 2271, 2750, 5292]","['James E. Blair', 'Jenkins', 'SmokeStack CI', 'Michael Still', 'Sean Dague', 'Christopher Yeoh']",fixes race condition updating security group rules instance creation creating instance compute manager makes rpc call allocateforinstance network manager turn end making rpc cast computemanager instance groups need refreshed calling refreshinstancesecurityrules instance created group rule referring chain end trying refresh rules instance still created call find way dorefreshinstancerules libvirtfirewall turn try get networkinfo global networkinfos firewall entry networkinfos instance might added yet happens create instance calls prepareinstancefilter comes later sequence part driverspawn fix adds synchronisation lock incomming refresh call blocked inprogress thread instance finished changeid i550e286aa4777b011633550109e18e03d63a4bbb
https://review.opendev.org/21276,Support adding/removing instance security groups,"Support add/remove security groups to instance Changes the edit instance dialog into a workflow, and adds a step ""Edit security groups"" that reuses the admin:project add/remove user dialog. Changes: - Allow ""roles"" dropdown to be hidden. - Moved project members template into horizon/common. - Moved workflows.py to workflows/create_instance.py so I could add a workflows/update_instance.py. - Moved hardcoded UI text from js to template/workflow definition. - Made filter-fields use placeholder attributes. - Fixed the #add_remove being added to the URL bar when adding/removing members. - Fixes the project members modal getting stuck displaying the lists from the first invocation of the modal and never updating (try clicking ""modify users"" for different projects). Implements blueprint add-security-group-to-instance Change-Id: If2939e05c92ac50bfc3c6f0112bdfc1785d9fb4e",5733,Kieran Spear,"[3, 1816, 4264, 4395, 5733, 6413]","['Jenkins', 'Gabriel Hurley', 'Matthias Runge', 'Aaron Rosen', 'Kieran Spear', 'Victoria Martinez de la Cruz']",support addremove security groups instance changes edit instance dialog workflow adds step edit security groups reuses adminproject addremove user dialog changes allow roles dropdown hidden moved project members template horizoncommon moved workflowspy workflowscreateinstancepy could add workflowsupdateinstancepy moved hardcoded ui text js templateworkflow definition made filterfields use placeholder attributes fixed addremove added url bar addingremoving members fixes project members modal getting stuck displaying lists first invocation modal never updating try clicking modify users different projects implements blueprint addsecuritygrouptoinstance changeid if2939e05c92ac50bfc3c6f0112bdfc1785d9fb4e
https://review.opendev.org/21610,Improved security group rule editing.,"Improved security group rule editing. Splits rule editing and rule creation out so that rather than being on one modal form (which is dismissed after taking any action on the rules) they are instead contained in their own security group detail view, with create/delete as their own discrete forms/actions which return to that same view. This also reworks the form to be more explicit and user-friendly in terms of the various options provided, making it more responsive, and making it better documented. Incidentally fixes some problems in the documentation. Implements blueprint security-group-rules. Change-Id: I866dd4fe0c74148140422aab9172be4f496689a9",1816,Gabriel Hurley,"[3, 1816, 4978]","['Jenkins', 'Gabriel Hurley', 'Julie Pichon']",improved security group rule editing splits rule editing rule creation rather one modal form dismissed taking action rules instead contained security group detail view createdelete discrete formsactions return view also reworks form explicit userfriendly terms various options provided making responsive making better documented incidentally fixes problems documentation implements blueprint securitygrouprules changeid i866dd4fe0c74148140422aab9172be4f496689a9
https://review.opendev.org/21602,Support iptables-based security group in NEC plugin,Support iptables-based security group in NEC plugin blueprint nec-security-group This commit also refactors RPC API and callbacks in the plugin and agent to support security group RPC. Change-Id: I09d69ca3aff43e0468bbd5df6367de767af27acc,841,Akihiro Motoki,"[3, 841, 1653, 2031, 2166, 4395]","['Jenkins', 'Akihiro Motoki', 'garyk', 'Nachi Ueno', 'SmokeStack CI', 'Aaron Rosen']",support iptablesbased security group nec plugin blueprint necsecuritygroup commit also refactors rpc api callbacks plugin agent support security group rpc changeid i09d69ca3aff43e0468bbd5df6367de767af27acc
https://review.opendev.org/21586,Adds API Access information to Access & Security panel.,"Adds API Access information to Access & Security panel. What this does: * Makes the Access & Security panel use tabs for each of the tables instead of trying to shove them all inline. * Adds an ""API Access"" tab to the above set of tabs. * Combines the features of the API Endpoints table, the EC2 Credentials download and the OpenRC file download into the API Access tab mentioned above. * Uses the service ""type"" instead of ""name"" in the Endpoints table to be nicer about service API abstraction. Fixes bug 1065671 and fixes bug 1120627. Change-Id: Iccc65b32d37dc97a96538443cf8c5c08fcea7250",1816,Gabriel Hurley,"[3, 1816, 1941, 4264, 4978, 5733]","['Jenkins', 'Gabriel Hurley', 'Lin Hua Cheng', 'Matthias Runge', 'Julie Pichon', 'Kieran Spear']",adds api access information access security panel makes access security panel use tabs tables instead trying shove inline adds api access tab set tabs combines features api endpoints table ec2 credentials download openrc file download api access tab mentioned uses service type instead name endpoints table nicer service api abstraction fixes bug 1065671 fixes bug 1120627 changeid iccc65b32d37dc97a96538443cf8c5c08fcea7250
https://review.opendev.org/715505,Add default pod security policies,Add default pod security policies This commit adds default pod security policies. We need this pod security plugin. Starting pod security plugin without any policies will result in all pods being denied. These default policies prevent the user from putting the system into an unusable state if they accidentally enable pod security policies without adding policies first. Story: 2007351 Task: 38897 Change-Id: Iac49f81ef44e6cb82ff884717888dfc1a7cd2a45 Signed-off-by: Jerry Sun <jerry.sun@windriver.com>,21776,Jerry Sun,"[14174, 21776, 22348, 26026, 28431, 28439, 28486]","['Bart Wensley', 'Jerry Sun', 'Zuul', 'Greg Waines', 'Don Penney', 'Matt Peters', 'Tee Ngo']",add default pod security policies commit adds default pod security policies need pod security plugin starting pod security plugin without policies result pods denied default policies prevent user putting system unusable state accidentally enable pod security policies without adding policies first story 2007351 task 38897 changeid iac49f81ef44e6cb82ff884717888dfc1a7cd2a45 signedoffby jerry sun jerrysunwindrivercom
https://review.opendev.org/716793,Add new default roles in security group policies,Add new default roles in security group policies This adds new defaults roles in security group API policies. - GET rules are made granular and default to System or project reader - add/remove sec grps policies are default to system admin or project member. Also add tests to simulates the future where we drop the deprecation fall back in the policy by overriding the rules with a version where there are no deprecated rule options. Operators can do the same by adding overrides in their policy files that match the default but stop the rule deprecation fallback from happening. Partial implement blueprint policy-defaults-refresh Change-Id: I83783aa3384d3b667729bbdd4a13fb014176ec75,8556,Ghanshyam,"[782, 8556, 9008, 9708, 10118, 14384, 14595, 15941, 22348, 23498, 26515, 29963]","['John Garbutt', 'Ghanshyam', 'VMware NSX CI', 'Balazs Gibizer', 'IBM PowerKVM CI', 'Quobyte CI', 'IBM zKVM CI', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",add new default roles security group policies adds new defaults roles security group api policies get rules made granular default system project reader addremove sec grps policies default system admin project member also add tests simulates future drop deprecation fall back policy overriding rules version deprecated rule options operators adding overrides policy files match default stop rule deprecation fallback happening partial implement blueprint policydefaultsrefresh changeid i83783aa3384d3b667729bbdd4a13fb014176ec75
https://review.opendev.org/20968,Update how to remove security group from port in quantum,Update how to remove security group from port in quantum This patch corrects the documentation for how security groups are now removed from ports in quantum. Change-Id: I850ffe00d893165a4ddc7adcbefc59a41153a4e7,4395,Aaron Rosen,"[3, 261, 447, 612, 841, 964, 1627, 2874]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Tom Fifield', 'Akihiro Motoki', 'Anne Gentle', 'Razique Mahroua', 'yong sheng gong']",update remove security group port quantum patch corrects documentation security groups removed ports quantum changeid i850ffe00d893165a4ddc7adcbefc59a41153a4e7
https://review.opendev.org/19436,Implements quantum security groups support on OVS plugin,Implements quantum security groups support on OVS plugin implements bp quantum-security-groups-iptables-ovs - Adding [SECURITYGROUP] firewall_driver to the conf - Adding NoopFirewallDriver - Adding OVSHybridIptablesFirewallDriver - Refactoring security group code to support OVS plugin Change-Id: I7aabc296265afc47d938121543ace57cce6cc521,2031,Nachi Ueno,"[3, 333, 447, 490, 841, 1653, 1689, 1779, 1994, 2031, 2166, 2592, 2874, 4395, 5754]","['Jenkins', 'Isaku Yamahata', 'dan wendlandt', 'Sumit Naiksatam', 'Akihiro Motoki', 'garyk', 'Robert Kukura', 'Daniel Berrange', 'Zhongyue Luo', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'yong sheng gong', 'Aaron Rosen', 'Alex Xu']",implements quantum security groups support ovs plugin implements bp quantumsecuritygroupsiptablesovs adding securitygroup firewalldriver conf adding noopfirewalldriver adding ovshybridiptablesfirewalldriver refactoring security group code support ovs plugin changeid i7aabc296265afc47d938121543ace57cce6cc521
https://review.opendev.org/20967,Allow ability to remove security groups from ports,Allow ability to remove security groups from ports This commit adds the option --no-security-groups to port-update in order to remove security groups from a port. Fixes bug 1112089 Change-Id: I43a5cc2c8b443f2d34fffe66b442925a5ae312ac,4395,Aaron Rosen,"[3, 261, 447, 841, 1653, 2874, 4395]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Akihiro Motoki', 'garyk', 'yong sheng gong', 'Aaron Rosen']",allow ability remove security groups ports commit adds option nosecuritygroups portupdate order remove security groups port fixes bug 1112089 changeid i43a5cc2c8b443f2d34fffe66b442925a5ae312ac
https://review.opendev.org/19887,Add NVP Security group support,Add NVP Security group support Implement blueprint security-groups-nvp Change-Id: Idfa7a756c7a2845e9aa9e7de4c7bceeec94b036f,4395,Aaron Rosen,"[3, 261, 447, 841, 2166, 2592, 4395]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Akihiro Motoki', 'SmokeStack CI', 'Mark McClain', 'Aaron Rosen']",add nvp security group support implement blueprint securitygroupsnvp changeid idfa7a756c7a2845e9aa9e7de4c7bceeec94b036f
https://review.opendev.org/20447,Make protocol and ethertype case insensitive for security groups,Make protocol and ethertype case insensitive for security groups Fixes bug 1104495 Change-Id: I0d93f5e849ebe0be72fff8c1d82f5825540df338,4395,Aaron Rosen,"[3, 261, 490, 1653, 2166, 2592, 2874, 4395, 5754]","['Jenkins', 'Salvatore Orlando', 'Sumit Naiksatam', 'garyk', 'SmokeStack CI', 'Mark McClain', 'yong sheng gong', 'Aaron Rosen', 'Alex Xu']",make protocol ethertype case insensitive security groups fixes bug 1104495 changeid i0d93f5e849ebe0be72fff8c1d82f5825540df338
https://review.opendev.org/19689,Add NVP port security implementation,Add NVP port security implementation Implements blueprint nvp-port-security-extension Change-Id: I9f09424b963acb4f4847d11e9a98432094f8c164,4395,Aaron Rosen,"[3, 704, 841, 1653, 2166, 2592, 4395]","['Jenkins', 'Edgar Magana', 'Akihiro Motoki', 'garyk', 'SmokeStack CI', 'Mark McClain', 'Aaron Rosen']",add nvp port security implementation implements blueprint nvpportsecurityextension changeid i9f09424b963acb4f4847d11e9a98432094f8c164
https://review.opendev.org/20519,Make get_security_groups() return security group rules,"Make get_security_groups() return security group rules In nova, get_security_groups() returns the security groups and their security group rules. In order to implement the security group proxy it needs to return this data to nova. This can be done using multiple requests from nova-api to quantum i.e: get_security_groups(), then get_security_group() for each group to obtain the rules. If one has a lot of security groups this will generate a lot of requests. Adding this change allows all the security groups and their rules to be returned in one shot. Fix bug 1105399 Change-Id: Ib685960311221ac4e5fe0913c7e00e15ab74accb",4395,Aaron Rosen,"[3, 1653, 2166, 2592, 4395]","['Jenkins', 'garyk', 'SmokeStack CI', 'Mark McClain', 'Aaron Rosen']",make getsecuritygroups return security group rules nova getsecuritygroups returns security groups security group rules order implement security group proxy needs return data nova done using multiple requests novaapi quantum ie getsecuritygroups getsecuritygroup group obtain rules one lot security groups generate lot requests adding change allows security groups rules returned one shot fix bug 1105399 changeid ib685960311221ac4e5fe0913c7e00e15ab74accb
https://review.opendev.org/19279,Adds port security api extension and base class,Adds port security api extension and base class Implements blueprint port-security-api-base-class This patch also updates the _create_network/port in the unit tests so that it does not remove false values from arg_list. Fixes bug 1097527 Change-Id: I22b55b0ed56c830995ffb491176c801c697abe6f,4395,Aaron Rosen,"[3, 261, 447, 841, 1653, 2031, 2166, 2592, 4395]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Akihiro Motoki', 'garyk', 'Nachi Ueno', 'SmokeStack CI', 'Mark McClain', 'Aaron Rosen']",adds port security api extension base class implements blueprint portsecurityapibaseclass patch also updates createnetworkport unit tests remove false values arglist fixes bug 1097527 changeid i22b55b0ed56c830995ffb491176c801c697abe6f
https://review.opendev.org/18794,Object write/read ACL and few security testcases,"Object write/read ACL and few security testcases Adds six tests cases to ""test_object_services.py"" and one test case to ""test_account_services.py"" and these are few security test cases and which also contains three tests cases to check the object read/write ACL. This submission also contains required class modifications in account_client.py and object_client.py. Base.py of ../tests/object_storage has also been modified accordingly to use the same in respective test scripts. Change-Id: I88abc7979e8b1ab76e4de41827cc8069fd844dbb Implements: blueprint add-swift-security-tests",6455,Harika Vakadi,"[3, 7, 1192, 1795, 5196, 5803, 6455]","['Jenkins', 'Jay Pipes', 'David Kranz', 'Ravikumar Venkatesan', 'Matthew Treinish', 'Attila Fazekas', 'Harika Vakadi']",object writeread acl security testcases adds six tests cases testobjectservicespy one test case testaccountservicespy security test cases also contains three tests cases check object readwrite acl submission also contains required class modifications accountclientpy objectclientpy basepy testsobjectstorage also modified accordingly use respective test scripts changeid i88abc7979e8b1ab76e4de41827cc8069fd844dbb implements blueprint addswiftsecuritytests
https://review.opendev.org/18122,Display security group name in security-group-rule-list,Display security group name in security-group-rule-list It is useful to display security group name rather than its id for security_group_id and source_group_id. Also add '--no-nameconv' option to disable conversion from security group id to its name. When security-group-rule-list is executed by admin user it is likely more than one groups have same name. This option is useful for such cases. Change-Id: I7fd0f1fb26fce8ed24e0f710666866607e681bc8,841,Akihiro Motoki,"[3, 841, 2874, 4395]","['Jenkins', 'Akihiro Motoki', 'yong sheng gong', 'Aaron Rosen']",display security group name securitygrouprulelist useful display security group name rather id securitygroupid sourcegroupid also add nonameconv option disable conversion security group id name securitygrouprulelist executed admin user likely one groups name option useful cases changeid i7fd0f1fb26fce8ed24e0f710666866607e681bc8
https://review.opendev.org/19491,Handle existing security group rules in volume exercise,Handle existing security group rules in volume exercise Change-Id: I0aa3bc0c6179f92a12c1e9bbace61597778ffa1f,970,Dean Troyer,"[3, 2750]","['Jenkins', 'Sean Dague']",handle existing security group rules volume exercise changeid i0aa3bc0c6179f92a12c1e9bbace61597778ffa1f
https://review.opendev.org/19155,add migration support for lb security groups,add migration support for lb security groups This is a companion change for the security group models. Change-Id: If8a75004ddb4e20fb8491529ac7098828edb5c7d,2592,Mark McClain,"[3, 261, 447, 2166, 2592, 4395]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'SmokeStack CI', 'Mark McClain', 'Aaron Rosen']",add migration support lb security groups companion change security group models changeid if8a75004ddb4e20fb8491529ac7098828edb5c7d
https://review.opendev.org/16210,Iptables security group implementation for LinuxBridge,Iptables secuirty group implementation for LinuxBridge Implements bp quantum-security-groups-iptables - Added firewall driver - Added iptables based firewall driver - Implemented security groups for rpc support mixin classes Change-Id: I974d2f1cae75ce4a55c2b5d820a0b42ff5661309,2031,Nachi Ueno,"[1, 3, 447, 490, 704, 841, 1653, 1994, 2031, 2166, 2531, 2592, 2874, 4395, 5754]","['James E. Blair', 'Jenkins', 'dan wendlandt', 'Sumit Naiksatam', 'Edgar Magana', 'Akihiro Motoki', 'garyk', 'Zhongyue Luo', 'Nachi Ueno', 'SmokeStack CI', 'Xu Chen', 'Mark McClain', 'yong sheng gong', 'Aaron Rosen', 'Alex Xu']",iptables secuirty group implementation linuxbridge implements bp quantumsecuritygroupsiptables added firewall driver added iptables based firewall driver implemented security groups rpc support mixin classes changeid i974d2f1cae75ce4a55c2b5d820a0b42ff5661309
https://review.opendev.org/18470,Add security groups configuration to allow accesses to VMs.,Add security groups configuration to allow accesses to VMs. Fixes bug 1082990 This commit contains minor clean up of command line options and tunes column width of some tables to make it easier to read. Change-Id: I9269a1ceaa04ff8a58c3e40d7442ad00b4286c44,841,Akihiro Motoki,"[3, 841, 964]","['Jenkins', 'Akihiro Motoki', 'Anne Gentle']",add security groups configuration allow accesses vms fixes bug 1082990 commit contains minor clean command line options tunes column width tables make easier read changeid i9269a1ceaa04ff8a58c3e40d7442ad00b4286c44
https://review.opendev.org/18251,Added conf support for security groups,"Added conf support for security groups Modified the way nova.compute.api.API loads the security group API. Previously it would accept a named-parameter and if that was None, default to SecurityGroupAPI. It still accepts a named-parameter but if that is None, then it will attempt to load the API from CONF, and then default to SecurityGroupAPI. The basic use-case should not be altered by these changes. Implements: blueprint nova-securitygroups-expansion Change-Id: Ib252a0755f320289c3c7cb6518d55e63d3392789",5127,Justin Hammond,"[3, 642, 679, 1970, 2166, 5127]","['Jenkins', 'Matt Dietz', 'Kevin L. Mitchell', 'Jacob Wen', 'SmokeStack CI', 'Justin Hammond']",added conf support security groups modified way novacomputeapiapi loads security group api previously would accept namedparameter none default securitygroupapi still accepts namedparameter none attempt load api conf default securitygroupapi basic usecase altered changes implements blueprint novasecuritygroupsexpansion changeid ib252a0755f320289c3c7cb6518d55e63d3392789
https://review.opendev.org/18148,Fixed the security group port binding should be automatically deleted when delete_port,Fixed the security group port binding should be automatically deleted when delete_port Added the CASCADE setting for the security group port binding database model. Also removed unused variables and imports Fixes: bug #1080887 Change-Id: Id1af121b6ee57b794cb515a0b0c26b9a6310fbc4,4184,Jason Zhang,"[3, 447, 1994, 2166, 2874, 4184, 4395]","['Jenkins', 'dan wendlandt', 'Zhongyue Luo', 'SmokeStack CI', 'yong sheng gong', 'Jason Zhang', 'Aaron Rosen']",fixed security group port binding automatically deleted deleteport added cascade setting security group port binding database model also removed unused variables imports fixes bug 1080887 changeid id1af121b6ee57b794cb515a0b0c26b9a6310fbc4
https://review.opendev.org/17147,Adds support for security group/rules quotas.,Adds support for security group/rules quotas. Updates novaclient's quota and quota_class handlers to support the security_groups and security_group_rules quotas that are now in Nova. Fixes LP Bug #1084682. Change-Id: I04d90681d535124d7d497e06e8c1ea4f2cb8f4f4,360,Dan Prince,"[3, 209, 360, 679]","['Jenkins', 'Josh Kearney', 'Dan Prince', 'Kevin L. Mitchell']",adds support security grouprules quotas updates novaclients quota quotaclass handlers support securitygroups securitygrouprules quotas nova fixes lp bug 1084682 changeid i04d90681d535124d7d497e06e8c1ea4f2cb8f4f4
https://review.opendev.org/14723,Documentation for Quantum Security Groups,Documenation for Security Groups Change-Id: I2c766fabf3f0e1b08dfce101b34a69bebeace5bc,4395,Aaron Rosen,"[3, 452, 612, 841, 964, 1177, 4395]","['Jenkins', 'Somik Behera', 'Tom Fifield', 'Akihiro Motoki', 'Anne Gentle', 'koolhead17', 'Aaron Rosen']",documenation security groups changeid i2c766fabf3f0e1b08dfce101b34a69bebeace5bc
https://review.opendev.org/16844,Fix exception when security group rule already exists,Fix exception when security group rule already exists Fixes bug 1082842 Change-Id: I5f51c3637903ff817fb47af82419c453094eb5be,1653,garyk,"[3, 261, 841, 1653, 2166]","['Jenkins', 'Salvatore Orlando', 'Akihiro Motoki', 'garyk', 'SmokeStack CI']",fix exception security group rule already exists fixes bug 1082842 changeid i5f51c3637903ff817fb47af82419c453094eb5be
https://review.opendev.org/14856,Add security impact email notifications.,Add security impact email notifications. Fixes bug #1070577 Make the notify_impact script generic so that it can handle different types of notifications. Then add a SecurityImpact notification. Change-Id: Id4bbf7db29e36dde783328e31685079e79d0b1e9 Reviewed-on: https://review.openstack.org/14856 Reviewed-by: James E. Blair <corvus@inaugust.com> Reviewed-by: Jeremy Stanley <fungi@yuggoth.org> Approved: Jeremy Stanley <fungi@yuggoth.org> Tested-by: Jenkins,4146,Clark Boylan,"[1, 3, 4146, 5263]","['James E. Blair', 'Jenkins', 'Clark Boylan', 'Jeremy Stanley']",add security impact email notifications fixes bug 1070577 make notifyimpact script generic handle different types notifications add securityimpact notification changeid id4bbf7db29e36dde783328e31685079e79d0b1e9 reviewedon httpsreviewopenstackorg14856 reviewedby james e blair corvusinaugustcom reviewedby jeremy stanley fungiyuggothorg approved jeremy stanley fungiyuggothorg testedby jenkins
https://review.opendev.org/15510,Move security groups and firewall ops to VirtAPI,"Move security groups and firewall ops to VirtAPI This patch moves the following network security-related methods to VirtAPI: security_group_get_by_instance() security_group_rule_get_by_security_group() provider_fw_rule_get_all() In order to make this change, the _provider_rules() method of the FirewallDriver was changed from being a staticmethod to a regular instance method. All uses of it were in the context of an actual instance, so I saw no reason to keep it static, which would have complicated the use of the VirtAPI methods. Change-Id: I260c96b6aa4bbab694b74087f704b6405360b0bf",4393,Dan Smith,"[3, 1030, 1561, 2166, 2271, 4393]","['Jenkins', 'Chris Behrens', 'Russell Bryant', 'SmokeStack CI', 'Michael Still', 'Dan Smith']",move security groups firewall ops virtapi patch moves following network securityrelated methods virtapi securitygroupgetbyinstance securitygrouprulegetbysecuritygroup providerfwrulegetall order make change providerrules method firewalldriver changed staticmethod regular instance method uses context actual instance saw reason keep static would complicated use virtapi methods changeid i260c96b6aa4bbab694b74087f704b6405360b0bf
https://review.opendev.org/710252,Add fullstack tests for stateless security groups,Add fullstack tests for stateless security groups Change-Id: I0ecb52ef78a2fc264d1d5d29366c56ecf4503bb7,31669,lina He,"[8313, 9845, 10068, 11975, 13995, 16688, 21798, 22348, 26106, 26622, 31669]","['Lajos Katona', 'Arista CI', 'Welcome, new contributor!', 'Slawek Kaplonski', 'Nate Johnston', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Tom Stappaerts', 'Cloudbase Neutron Hyper-V CI', 'lina He']",add fullstack tests stateless security groups changeid i0ecb52ef78a2fc264d1d5d29366c56ecf4503bb7
https://review.opendev.org/14983,improve text around vif-plugging and security filters.,improve text around vif-plugging and security filters. Change-Id: I2488c7af5cb5748b1de84a86edf148faecbc2104,447,dan wendlandt,"[3, 612, 964]","['Jenkins', 'Tom Fifield', 'Anne Gentle']",improve text around vifplugging security filters changeid i2488c7af5cb5748b1de84a86edf148faecbc2104
https://review.opendev.org/14262,Quantum Security Groups API,"Quantum Security Groups API Implements blueprint quantum-security-groups API In addition the the convention that if a URI has a '-' in it, it's replaced with a '_'. For example: POST security-groups will convert the body to {'security_group': ..} Change-Id: I2c5219ed1d44a43ce1bf03d49df9f5c1af23352b",4395,Aaron Rosen,"[3, 447, 490, 841, 1580, 1653, 1935, 1994, 2035, 2592, 2874, 4395]","['Jenkins', 'dan wendlandt', 'Sumit Naiksatam', 'Akihiro Motoki', 'Nachi Ueno', 'garyk', 'Tomoe Sugihara', 'Zhongyue Luo', 'Maru Newby', 'Mark McClain', 'yong sheng gong', 'Aaron Rosen']",quantum security groups api implements blueprint quantumsecuritygroups api addition convention uri replaced example post securitygroups convert body securitygroup changeid i2c5219ed1d44a43ce1bf03d49df9f5c1af23352b
https://review.opendev.org/14090,Deleting security group does not mark rules as deleted,Deleting security group does not mark rules as deleted Adds query to also delete rules for parent_group_id Fixes bug 1056380 Change-Id: I3d041b49703bf298a80d2ebe19c1298eecf2d98d,24,Chuck Short,"[3, 67, 1247, 1749, 4395]","['Jenkins', 'Vish Ishaya', 'Mark McLoughlin', 'Sirisha Devineni', 'Aaron Rosen']",deleting security group mark rules deleted adds query also delete rules parentgroupid fixes bug 1056380 changeid i3d041b49703bf298a80d2ebe19c1298eecf2d98d
https://review.opendev.org/14093,ip_protocol for ec2 security groups,"ip_protocol for ec2 security groups fix for bug 1057196. -Enforce restrictions on IP protocol in AuthorizeSecurityGroupIngress call. This value may only be: 'tcp', 'udp', 'icmp', '6', '17' or '1' -Ensure that ip protocol returned from DescribeSecurityGroups is in lower case, in case security group was set improperly in previous versions -Update EC2APIError in nova/exception.py to remove the HTTP error code from the message. The HTTP error code is inserted in nova.api.ec2.faults.Fault. Inserting the code in the EC2APIError causes the HTTP code to appear twice in the message -Update unit tests to expect new error message when invalid protocol is entered. -Fixing pep8 issues Change-Id: Iffe0f38abde327288e6a3960a72ad6a273f78aca",24,Chuck Short,"[3, 1247, 2750, 5678]","['Jenkins', 'Mark McLoughlin', 'Sean Dague', 'John Herndon']",ipprotocol ec2 security groups fix bug 1057196 enforce restrictions ip protocol authorizesecuritygroupingress call value may tcp udp icmp 6 17 1 ensure ip protocol returned describesecuritygroups lower case case security group set improperly previous versions update ec2apierror novaexceptionpy remove http error code message http error code inserted novaapiec2faultsfault inserting code ec2apierror causes http code appear twice message update unit tests expect new error message invalid protocol entered fixing pep8 issues changeid iffe0f38abde327288e6a3960a72ad6a273f78aca
https://review.opendev.org/13908,ip_protocol for ec2 security groups,ip_protocol to lower case fix for bug 1057196. Make the ip_protocol for security group lower case. This is needed for ec2 compatibility. Change-Id: Iffe0f38abde327288e6a3960a72ad6a273f78aca,5678,John Herndon,"[3, 67, 1711, 2166, 2419]","['Jenkins', 'Vish Ishaya', 'Yun Mao', 'SmokeStack CI', 'Roland Hochmuth']",ipprotocol lower case fix bug 1057196 make ipprotocol security group lower case needed ec2 compatibility changeid iffe0f38abde327288e6a3960a72ad6a273f78aca
https://review.opendev.org/13658,Deleting security group does not mark rules as deleted,Deleting security group does not mark rules as deleted Changes filter to use parent_group_id instead of group_id. Fixes bug 1056380 Change-Id: I3d041b49703bf298a80d2ebe19c1298eecf2d98d,4395,Aaron Rosen,"[3, 67, 2166, 2271, 4395]","['Jenkins', 'Vish Ishaya', 'SmokeStack CI', 'Michael Still', 'Aaron Rosen']",deleting security group mark rules deleted changes filter use parentgroupid instead groupid fixes bug 1056380 changeid i3d041b49703bf298a80d2ebe19c1298eecf2d98d
https://review.opendev.org/13022,All security groups not returned to admins by default.,"All security groups not returned to admins by default. Fixes bug 1046054. Previously security groups relating to all tenants were returned when requested by an admin user. Now only those groups related to the current tenant are returned by default. To recover the old behaviour, the all_tenants search option may be specified via the native API with: /v2/<project_id>/os-security-groups?all_tenants=1 or via the EC2 API with: Action=DescribeSecurityGroups&Filter.1.Name=all-tenants&Filter.1.Value.1=1 Note that the latter is slightly ultra vires with respect to the EC2 API spec, in the sense that this filter is in addition to the standard set. Since we don't pay attention to many of these standard filters as yet, this stepping slightly off-piste is deemed worth it. Change-Id: I6157e408394d04096d21747d665e3b3aa6aa55de",2284,Eoghan Glynn,"[3, 360, 1561, 1812, 2166, 2284]","['Jenkins', 'Dan Prince', 'Russell Bryant', 'p-draigbrady', 'SmokeStack CI', 'Eoghan Glynn']",security groups returned admins default fixes bug 1046054 previously security groups relating tenants returned requested admin user groups related current tenant returned default recover old behaviour alltenants search option may specified via native api v2projectidossecuritygroupsalltenants1 via ec2 api actiondescribesecuritygroupsfilter1namealltenantsfilter1value11 note latter slightly ultra vires respect ec2 api spec sense filter addition standard set since dont pay attention many standard filters yet stepping slightly offpiste deemed worth changeid i6157e408394d04096d21747d665e3b3aa6aa55de
https://review.opendev.org/12906,Add security groups extension to API samples test.,Add security groups extension to API samples test. Change-Id: Ie7635cacf96e0bafbd412ff40d7912aa0da4677d Signed-off-by: Matthew Treinish <treinish@linux.vnet.ibm.com>,5196,Matthew Treinish,"[3, 67, 1561, 2166, 2271, 2750, 4393, 4601, 5174, 5196]","['Jenkins', 'Vish Ishaya', 'Russell Bryant', 'SmokeStack CI', 'Michael Still', 'Sean Dague', 'Dan Smith', 'Tiago Mello', 'Mauro Rodrigues', 'Matthew Treinish']",add security groups extension api samples test changeid ie7635cacf96e0bafbd412ff40d7912aa0da4677d signedoffby matthew treinish treinishlinuxvnetibmcom
https://review.opendev.org/12664,add command for Add icmp tcp/22 to default security group,add command for Add icmp tcp/22 to default security group Change-Id: Ic4aa7a310638dc42d77a78a521344a6c1c804191,5408,wanglong,"[3, 970]","['Jenkins', 'Dean Troyer']",add command add icmp tcp22 default security group changeid ic4aa7a310638dc42d77a78a521344a6c1c804191
https://review.opendev.org/12173,fix issues with Nova security groups and Quantum,"fix issues with Nova security groups and Quantum bug #1039400 - make quantumv2/api.py fetch actual DHCP server address, which is needed by firewall layer (otherwise, the gateway IP is incorrectly used and all DHCP traffic is dropped). - add missing call from quantumv2/api.py to the security groups API when a VM is allocated/deallocated. - Add a vif-driver that is a hybrid of the existing Open vswitch + linux bridge drivers, which allows OVS quantum plugins to be compatible with iptables based filtering, in particular, nova security groups. Change-Id: I7cf5cf09583202a12785b616d18db3ee4bbffee0",447,dan wendlandt,"[3, 67, 191, 261, 447, 642, 841, 2035, 2166, 2874]","['Jenkins', 'Vish Ishaya', 'Trey Morris', 'Salvatore Orlando', 'dan wendlandt', 'Matt Dietz', 'Akihiro Motoki', 'Maru Newby', 'SmokeStack CI', 'yong sheng gong']",fix issues nova security groups quantum bug 1039400 make quantumv2apipy fetch actual dhcp server address needed firewall layer otherwise gateway ip incorrectly used dhcp traffic dropped add missing call quantumv2apipy security groups api vm allocateddeallocated add vifdriver hybrid existing open vswitch linux bridge drivers allows ovs quantum plugins compatible iptables based filtering particular nova security groups changeid i7cf5cf09583202a12785b616d18db3ee4bbffee0
https://review.opendev.org/12381,Clean up security groups in exercises,Clean up security groups in exercises * fix problem with deleting security groups too early in floating_ips.sh and euca.sh * create and clean up security groups * cosmetic cleanups Change-Id: Ie45e03f889c540ec83f27a02b10e787060c5d4d7,970,Dean Troyer,"[3, 67, 970]","['Jenkins', 'Vish Ishaya', 'Dean Troyer']",clean security groups exercises fix problem deleting security groups early floatingipssh eucash create clean security groups cosmetic cleanups changeid ie45e03f889c540ec83f27a02b10e787060c5d4d7
https://review.opendev.org/12264,Avoid leaking security group quota reservations,"Avoid leaking security group quota reservations Fixes bug #1043765 If you attempt to create a security group where one already exists using that name, a security groups quota reservation is leaked. Fix by ensuring the reservation is rolled back in all failure cases. Add a check to the tests to ensure that a reservation isn't leaked in any of our sad path tests for security group creation. Change-Id: I22d6e4a0452d3ac7a23056b0a4aee6f7dd135e30",1247,Mark McLoughlin,"[3, 67, 1247, 1561, 2166]","['Jenkins', 'Vish Ishaya', 'Mark McLoughlin', 'Russell Bryant', 'SmokeStack CI']",avoid leaking security group quota reservations fixes bug 1043765 attempt create security group one already exists using name security groups quota reservation leaked fix ensuring reservation rolled back failure cases add check tests ensure reservation isnt leaked sad path tests security group creation changeid i22d6e4a0452d3ac7a23056b0a4aee6f7dd135e30
https://review.opendev.org/9099,Fixes LP Bug# 930482 - Test for security -tenanid by pass,Fixes LP Bug# 930482 - Test for security -tenanid by pass Change-Id: Idd6b6d0b7086ddf7682cfa6ac94daf5020a9eb82,2174,Sapan Kona,"[3, 7, 97, 1192, 2174, 2238]","['Jenkins', 'Jay Pipes', 'Daryl Walleck', 'David Kranz', 'Sapan Kona', 'rajalakshmi-ganesan']",fixes lp bug 930482 test security tenanid pass changeid idd6b6d0b7086ddf7682cfa6ac94daf5020a9eb82
https://review.opendev.org/9065,Correct checking existence of security group rule,Correct checking existence of security group rule Fixes bug #900031 Change-Id: I4194610ce53d1c74bd99b6878339da6e0b6a3a73,1071,MISSING_NAME,"[3, 67, 2140]","['Jenkins', 'Vish Ishaya', 'MotoKen']",correct checking existence security group rule fixes bug 900031 changeid i4194610ce53d1c74bd99b6878339da6e0b6a3a73
https://review.opendev.org/10658,Making security group refresh more specific,"Making security group refresh more specific Fixes bug 1029495 The trigger_members_refresh method in compute.api.py specifies a group id in the call to refresh_security_group_members. This is just the last group id seen and ignores the fact that a refresh may impact members of multiple groups. This is masked by the fact that on the host the group id is ignored and all instances have their security rules refreshed regardless of if they are part of the changed group or not. This change modifies the logic surrounding refreshes so we send a refresh request for each instance which is affected by a security group change, this ensures we aren't spending time refreshing unaffected instances and also removes the possibility of refreshing an instance multiple times if it is a member of more than one group. Change-Id: Iec98e9aed818fdc4ecc88c8dcdd4ee5fa9386e00",1882,dave-mcnally,"[3, 67, 1501, 1561, 1711, 1865, 1882, 2166]","['Jenkins', 'Vish Ishaya', 'Phil Day', 'Russell Bryant', 'Yun Mao', 'Andrea Rosa', 'dave-mcnally', 'SmokeStack CI']",making security group refresh specific fixes bug 1029495 triggermembersrefresh method computeapipy specifies group id call refreshsecuritygroupmembers last group id seen ignores fact refresh may impact members multiple groups masked fact host group id ignored instances security rules refreshed regardless part changed group change modifies logic surrounding refreshes send refresh request instance affected security group change ensures arent spending time refreshing unaffected instances also removes possibility refreshing instance multiple times member one group changeid iec98e9aed818fdc4ecc88c8dcdd4ee5fa9386e00
https://review.opendev.org/10815,Moves security group functionality into extension,"Moves security group functionality into extension partially implements blueprint disable-server-extensions This patch adds an output extension for security group output and modifies Duplicated security group funcrtionality was removed from the createserverext extension, it is now a duplicate of the servers endpoint. The boot_from_volume extension was also changed to inherit the servers functionality so that security_groups will continue to work. The block_device_mapping code will be modified in a subsequent patch. Tests were added for new functionality, and existing tests were modified slightly. The disk_config extension was modified to be a bit more lenient so the data for it doesn't need to be mocked out in other tests. Change-Id: I59bd985d68b85ce6926cde85fbc38cfad4e75f4c",67,Vish Ishaya,"[3, 67, 1030, 1132, 1247, 1501, 1849, 2166, 2750]","['Jenkins', 'Vish Ishaya', 'Chris Behrens', 'Brian Waldon', 'Mark McLoughlin', 'Phil Day', 'Joe Gordon', 'SmokeStack CI', 'Sean Dague']",moves security group functionality extension partially implements blueprint disableserverextensions patch adds output extension security group output modifies duplicated security group funcrtionality removed createserverext extension duplicate servers endpoint bootfromvolume extension also changed inherit servers functionality securitygroups continue work blockdevicemapping code modified subsequent patch tests added new functionality existing tests modified slightly diskconfig extension modified bit lenient data doesnt need mocked tests changeid i59bd985d68b85ce6926cde85fbc38cfad4e75f4c
https://review.opendev.org/8239,Fix up protocol case handling for security groups.,"Fix up protocol case handling for security groups. Fix bug 985184. When creating security group rules, any case for the protocol was accepted as input, such as TCP, Tcp, tcp, etc., and was stored in the database as specified. However, unless specified as all lowercase, the code to apply the rules would break and result in some rules not being applied. (cherry picked from commit ff06c7c885dc94ed7c828e8cdbb8b5d850a7e654) Change-Id: I36af1db29c2bd97627d614df21b5da07db29a8ab",1561,Russell Bryant,"[2, 3, 67, 308, 693, 979, 1561]","['Monty Taylor', 'Jenkins', 'Vish Ishaya', 'Thierry Carrez', 'Christopher MacGown', 'Dave Walker', 'Russell Bryant']",fix protocol case handling security groups fix bug 985184 creating security group rules case protocol accepted input tcp tcp tcp etc stored database specified however unless specified lowercase code apply rules would break result rules applied cherry picked commit ff06c7c885dc94ed7c828e8cdbb8b5d850a7e654 changeid i36af1db29c2bd97627d614df21b5da07db29a8ab
https://review.opendev.org/9979,Allow security group rules to have their own group as a source,Allow security group rules to have their own group as a source Fixes bug 1012457. Change-Id: I8f9dc6904ba4b19302551fae7455fdf41b50442e,4978,Julie Pichon,"[3, 1816, 2455, 4978]","['Jenkins', 'Gabriel Hurley', 'Tihomir Trifonov', 'Julie Pichon']",allow security group rules group source fixes bug 1012457 changeid i8f9dc6904ba4b19302551fae7455fdf41b50442e
https://review.opendev.org/10023,Ensure 413 response for security group over-quota,"Ensure 413 response for security group over-quota Fixes LP 1021748 Instead of raising the relevant webob.exc exception directly, we now follow the usual pattern of mapping in the FaultWrapper middleware from an internal exception type to the corresponding HTTP error. Change-Id: Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5",2284,Eoghan Glynn,"[3, 7, 679, 1030, 1711, 2031, 2284]","['Jenkins', 'Jay Pipes', 'Kevin L. Mitchell', 'Chris Behrens', 'Yun Mao', 'Nachi Ueno', 'Eoghan Glynn']",ensure 413 response security group overquota fixes lp 1021748 instead raising relevant webobexc exception directly follow usual pattern mapping faultwrapper middleware internal exception type corresponding http error changeid ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5
https://review.opendev.org/9573,Add support for modification of instance Security Group,Add support for modification of instance Security Group Change-Id: Ie4196281a34a83316425eada871865e4a33fab5d,1678,Tiantian Gao,"[3, 209, 679]","['Jenkins', 'Josh Kearney', 'Kevin L. Mitchell']",add support modification instance security group changeid ie4196281a34a83316425eada871865e4a33fab5d
https://review.opendev.org/716786,Introduce scope_types in security groups policy,"Introduce scope_types in security groups policy oslo.policy introduced the scope_type feature which can control the access level at system-level and project-level. - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html Appropriate scope_type for nova case: - https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope This commit introduce scope_type for security groups API policies as: - ['system', 'project'] for security groups policy. Also adds the test case with scope_type enabled and verify we pass and fail the policy check with expected context. Partial implement blueprint policy-defaults-refresh Change-Id: Idf504dee1280017f3a39ad7d9c71110476fe9b45",8556,Ghanshyam,"[782, 9008, 9708, 9732, 10118, 14384, 14595, 15941, 22348, 23498, 26515, 29963]","['John Garbutt', 'VMware NSX CI', 'Balazs Gibizer', 'Mellanox CI', 'IBM PowerKVM CI', 'Quobyte CI', 'IBM zKVM CI', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",introduce scopetypes security groups policy oslopolicy introduced scopetype feature control access level systemlevel projectlevel httpsdocsopenstackorgoslopolicylatestuserusagehtmlsettingscope httpspecsopenstackorgopenstackkeystonespecsspecskeystonequeenssystemscopehtml appropriate scopetype nova case httpsspecsopenstackorgopenstacknovaspecsspecsussuriapprovedpolicydefaultsrefreshhtmlscope commit introduce scopetype security groups api policies system project security groups policy also adds test case scopetype enabled verify pass fail policy check expected context partial implement blueprint policydefaultsrefresh changeid idf504dee1280017f3a39ad7d9c71110476fe9b45
https://review.opendev.org/714397,Enable back mac spoofing and disabled port security tests,Enable back mac spoofing and disabled port security tests We can enable back the mac spoofing test because [1] has been merged [2]. Because of [1] we can now rollback [3] to make port security tests with disabled security works. [1] https://bugzilla.redhat.com/show_bug.cgi?id=1805709 [2] https://patchwork.ozlabs.org/patch/1258152 [3] https://review.opendev.org/#/c/708852/ Change-Id: I008f3ce08346520b415f6db41419a69d472350a9,24791,Maciej Jozefczyk,"[6773, 11975, 22348, 23804, 24791, 26622]","['Lucas Alvares Gomes', 'Slawek Kaplonski', 'Zuul', 'Daniel Alvarez', 'Maciej Jozefczyk', 'Cloudbase Neutron Hyper-V CI']",enable back mac spoofing disabled port security tests enable back mac spoofing test 1 merged 2 1 rollback 3 make port security tests disabled security works 1 httpsbugzillaredhatcomshowbugcgiid1805709 2 httpspatchworkozlabsorgpatch1258152 3 httpsreviewopendevorgc708852 changeid i008f3ce08346520b415f6db41419a69d472350a9
https://review.opendev.org/716779,Add test coverage of existing security groups policies,"Add test coverage of existing security groups policies Current tests do not have good test coverage of existing policies. Either tests for policies do not exist or if they exist then they do not cover the actual negative and positive testing. For Example, if any policy with default rule as admin only then test should verify: - policy check pass with context having admin or server owner - policy check fail with context having non-admin and not server owner As discussed in policy-defaults-refresh, to change the policies with new default roles and scope_type, we need to have the enough testing coverage of existing policy behavior. When we will add the scope_type in policies or new default roles, then these test coverage will be extended to adopt the new changes and also make sure we do not break the existing behavior. This commit covers the testing coverage of existing security groups policies. Partial implement blueprint policy-defaults-refresh Change-Id: I212a91dc4b6c2eed9c6522d56ae672618311d346",8556,Ghanshyam,"[9008, 9708, 14384, 15334, 15941, 22348, 23498, 26515, 29963]","['VMware NSX CI', 'Balazs Gibizer', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",add test coverage existing security groups policies current tests good test coverage existing policies either tests policies exist exist cover actual negative positive testing example policy default rule admin test verify policy check pass context admin server owner policy check fail context nonadmin server owner discussed policydefaultsrefresh change policies new default roles scopetype need enough testing coverage existing policy behavior add scopetype policies new default roles test coverage extended adopt new changes also make sure break existing behavior commit covers testing coverage existing security groups policies partial implement blueprint policydefaultsrefresh changeid i212a91dc4b6c2eed9c6522d56ae672618311d346
https://review.opendev.org/8801,Fixes bug #1016042 - New tests for security groups,Fixes bug #1016042 - New tests for security groups Change-Id: Ic0695db8f4f254b78c569b5bcaa053465e9f38bc,2174,Sapan Kona,"[3, 7, 2174]","['Jenkins', 'Jay Pipes', 'Sapan Kona']",fixes bug 1016042 new tests security groups changeid ic0695db8f4f254b78c569b5bcaa053465e9f38bc
https://review.opendev.org/7762,"Added iptables_manager ( based on openstack/linux_net.py ) This module will be the base library to implement security groups and generic firewall. It is an independent iptables module, made to be easy to package if used by agents and also inside quantum","Added iptables_manager ( based on openstack/linux_net.py ) This module will be the base library to implement security groups and generic firewall. It is an independent iptables module, made to be easy to package if used by agents and also inside quantum Using quantum.agent.linux.utils Added support to root_helper Change-Id: Iaa29322477fc2e753b52dc4f01e7c4a561110638",4381,Juliano G Martinez,"[3, 261, 447, 452, 642, 704, 1653, 2350, 2874, 4381]","['Jenkins', 'Salvatore Orlando', 'dan wendlandt', 'Somik Behera', 'Matt Dietz', 'Edgar Magana', 'garyk', 'Willian Molinari', 'yong sheng gong', 'Juliano G Martinez']",added iptablesmanager based openstacklinuxnetpy module base library implement security groups generic firewall independent iptables module made easy package used agents also inside quantum using quantumagentlinuxutils added support roothelper changeid iaa29322477fc2e753b52dc4f01e7c4a561110638
https://review.opendev.org/8332,Handle missing server when getting security groups,"Handle missing server when getting security groups Fix bug 1010486. Treat InstanceNotFound as a 404 when querying the security groups of server that does not exist. Also removes old exception translation, ApiError no longer exists and NotAuthorized shouldn't need handling at this level. Change-Id: Iaeada84dbadc232968f792c6f4855bf61cc5a5ae",4126,Martin Packman,"[3, 24, 67, 642, 679, 688, 1132, 1247, 2166, 4126]","['Jenkins', 'Chuck Short', 'Vish Ishaya', 'Matt Dietz', 'Kevin L. Mitchell', 'Sandy Walsh', 'Brian Waldon', 'Mark McLoughlin', 'SmokeStack CI', 'Martin Packman']",handle missing server getting security groups fix bug 1010486 treat instancenotfound 404 querying security groups server exist also removes old exception translation apierror longer exists notauthorized shouldnt need handling level changeid iaeada84dbadc232968f792c6f4855bf61cc5a5ae
https://review.opendev.org/7842,Dedupe native and EC2 security group APIs.,"Dedupe native and EC2 security group APIs. Reduce the code duplication in the native openstack and EC2 APIs related to security groups, by factoring commonality into a new internal SecurityGroupAPI. Change-Id: Ifb92bf5d0f07d5713818a3eee6175ef03e8c0b7c",2284,Eoghan Glynn,"[3, 7, 159, 360, 1247, 2166, 2284]","['Jenkins', 'Jay Pipes', 'Eric Windisch', 'Dan Prince', 'Mark McLoughlin', 'SmokeStack CI', 'Eoghan Glynn']",dedupe native ec2 security group apis reduce code duplication native openstack ec2 apis related security groups factoring commonality new internal securitygroupapi changeid ifb92bf5d0f07d5713818a3eee6175ef03e8c0b7c
https://review.opendev.org/8265,Prevent erroneous log message when accessing security rules.,Prevent erroneous log message when accessing security rules. Fixes bug 1009797. Change-Id: Ic8f627610b235c5d71a210800b3318619715106e,1816,Gabriel Hurley,"[3, 543, 2458]","['Jenkins', 'Tres Henry', 'John Postlethwait']",prevent erroneous log message accessing security rules fixes bug 1009797 changeid ic8f627610b235c5d71a210800b3318619715106e
https://review.opendev.org/8238,Fix up protocol case handling for security groups.,"Fix up protocol case handling for security groups. Fix bug 985184. When creating security group rules, any case for the protocol was accepted as input, such as TCP, Tcp, tcp, etc., and was stored in the database as specified. However, unless specified as all lowercase, the code to apply the rules would break and result in some rules not being applied. (cherry picked from commit ff06c7c885dc94ed7c828e8cdbb8b5d850a7e654) Change-Id: If737104f492aacd3688f04d78eb9bc993ffa33fc",1561,Russell Bryant,"[3, 67]","['Jenkins', 'Vish Ishaya']",fix protocol case handling security groups fix bug 985184 creating security group rules case protocol accepted input tcp tcp tcp etc stored database specified however unless specified lowercase code apply rules would break result rules applied cherry picked commit ff06c7c885dc94ed7c828e8cdbb8b5d850a7e654 changeid if737104f492aacd3688f04d78eb9bc993ffa33fc
https://review.opendev.org/8237,Fix up protocol case handling for security groups.,"Fix up protocol case handling for security groups. Fix bug 985184. When creating security group rules, any case for the protocol was accepted as input, such as TCP, Tcp, tcp, etc., and was stored in the database as specified. However, unless specified as all lowercase, the code to apply the rules would break and result in some rules not being applied. Change-Id: I6c723d371579eb37a94bd484d39beeb773668ed4",1561,Russell Bryant,"[3, 67, 1561]","['Jenkins', 'Vish Ishaya', 'Russell Bryant']",fix protocol case handling security groups fix bug 985184 creating security group rules case protocol accepted input tcp tcp tcp etc stored database specified however unless specified lowercase code apply rules would break result rules applied changeid i6c723d371579eb37a94bd484d39beeb773668ed4
https://review.opendev.org/8212,Fixing security group create success message.,Fixing security group create success message. Fixes bug: 1009260 Change-Id: I2eb546450f24ffa44334c02f6a1b96c7502a6ee9,543,Tres Henry,"[3, 543, 1816, 2458]","['Jenkins', 'Tres Henry', 'Gabriel Hurley', 'John Postlethwait']",fixing security group create success message fixes bug 1009260 changeid i2eb546450f24ffa44334c02f6a1b96c7502a6ee9
https://review.opendev.org/7584,[PATCH] Allow [:print:] chars for security group names,Allow [:print:] characters for security group names Fixes bug #1000673 Change-Id: Id1b23d6a0f8d328f65b66f947e8937fa1914a5db,1267,Alexei Ababilov,"[3, 24, 191, 679, 688, 693, 1267, 1271, 1812, 2166]","['Jenkins', 'Chuck Short', 'Trey Morris', 'Kevin L. Mitchell', 'Sandy Walsh', 'Christopher MacGown', 'Alexei Ababilov', 'skosyrev', 'p-draigbrady', 'SmokeStack CI']",allow print characters security group names fixes bug 1000673 changeid id1b23d6a0f8d328f65b66f947e8937fa1914a5db
https://review.opendev.org/7145,Fixes lp978896 -- Session fixation security fix,"Fixes lp978896 -- Session fixation security fix Rotates session tokens on logout, and properly clears sessions to prevent data leakage. Change-Id: Id11054e852b8c8a386756e9de980cb5eff64f228",2230,Paul McMillan,"[3, 6, 67, 2230]","['Jenkins', 'Joe Heck', 'Vish Ishaya', 'Paul McMillan']",fixes lp978896 session fixation security fix rotates session tokens logout properly clears sessions prevent data leakage changeid id11054e852b8c8a386756e9de980cb5eff64f228
https://review.opendev.org/7144,Fixes lp978896 -- Session fixation security fix,"Fixes lp978896 -- Session fixation security fix Rotates session tokens on logout, and properly clears sessions to prevent data leakage. Change-Id: I52d03576d07b1e023a7730857156d0da1887b1df",2230,Paul McMillan,"[3, 2230]","['Jenkins', 'Paul McMillan']",fixes lp978896 session fixation security fix rotates session tokens logout properly clears sessions prevent data leakage changeid i52d03576d07b1e023a7730857156d0da1887b1df
https://review.opendev.org/6655,Implement quotas for security groups.,Implement quotas for security groups. Fixes LP Bug #969545 for Diablo. Change-Id: Ibc02256b6debd29c56307320acc48e9cfae85ba9,360,Dan Prince,"[3, 1247, 1501]","['Jenkins', 'Mark McLoughlin', 'Phil Day']",implement quotas security groups fixes lp bug 969545 diablo changeid ibc02256b6debd29c56307320acc48e9cfae85ba9
https://review.opendev.org/6654,Implement quotas for security groups.,Implement quotas for security groups. Fixes LP Bug #969545 for Essex. Change-Id: I3c6a34b43f0e997b45d5e0f97faadd6720bf7752,360,Dan Prince,"[3, 1247]","['Jenkins', 'Mark McLoughlin']",implement quotas security groups fixes lp bug 969545 essex changeid i3c6a34b43f0e997b45d5e0f97faadd6720bf7752
https://review.opendev.org/6653,Implement security group quotas.,Implement security group quotas. Fixes LP Bug #969545 Change-Id: I60d4300aa04597e2d8b0eea31ab0303b0b3c48f9,360,Dan Prince,"[3, 360]","['Jenkins', 'Dan Prince']",implement security group quotas fixes lp bug 969545 changeid i60d4300aa04597e2d8b0eea31ab0303b0b3c48f9
https://review.opendev.org/5432,Fix bug #907643 : security group docs are incorrect,Fix bug #907643 : security group docs are incorrect Change-Id: I315b43aa58e84bbee76032c921a2650e4537541e,1627,Razique Mahroua,"[3, 321, 964]","['Jenkins', 'Lorin Hochstein', 'Anne Gentle']",fix bug 907643 security group docs incorrect changeid i315b43aa58e84bbee76032c921a2650e4537541e
https://review.opendev.org/6195,Adding Security Groups + Rules to docs,Adding security groups to api site documentation Change-Id: Idb9607cfc613007f6148bd5b94a088622651b68b,1205,Jake Dahn,"[3, 964, 1132, 1205]","['Jenkins', 'Anne Gentle', 'Brian Waldon', 'Jake Dahn']",adding security groups api site documentation changeid idb9607cfc613007f6148bd5b94a088622651b68b
https://review.opendev.org/5776,Tweak security port validation for ICMP,Tweak security port validation for ICMP Horizon allows for ICMP to be type:code. Type and code can be from -1 to 255. API refers to both EC2 and Nova APIs This patch attempts to resolve: 1. API code throws exceptations when 0 is passed for either field 2. API code validates type:code like from->to range. type and code are independent 3. Update unit tests for this new set of operations. A side effect is that the following are allowed type:code. -1:X X:-1 The code assumes that -1 is a wildcard for the field. bug 956967 Change-Id: Ieb6989815afc6986b72e0efc7611c2cc353ab5d8,67,Vish Ishaya,"[3, 67, 161, 308, 631, 1247]","['Jenkins', 'Vish Ishaya', 'Kevin Bringard', 'Thierry Carrez', 'Greg Althaus', 'Mark McLoughlin']",tweak security port validation icmp horizon allows icmp typecode type code 1 255 api refers ec2 nova apis patch attempts resolve 1 api code throws exceptations 0 passed either field 2 api code validates typecode like fromto range type code independent 3 update unit tests new set operations side effect following allowed typecode 1x x1 code assumes 1 wildcard field bug 956967 changeid ieb6989815afc6986b72e0efc7611c2cc353ab5d8
https://review.opendev.org/5881,Re-instate security group delete test case,"Re-instate security group delete test case While fixing lp#956366, we realized that it's fine to delete a security group referenced by an ingress rule of another security group because the ingress rule gets deleted. Re-instate the test for this specific case, but test that the ingress rule gets deleted rather than an exception being thrown. Change-Id: I81ad16431f5f8f13561dfcb320213366e1e8864e",67,Vish Ishaya,"[3, 308, 1247]","['Jenkins', 'Thierry Carrez', 'Mark McLoughlin']",reinstate security group delete test case fixing lp956366 realized fine delete security group referenced ingress rule another security group ingress rule gets deleted reinstate test specific case test ingress rule gets deleted rather exception thrown changeid i81ad16431f5f8f13561dfcb320213366e1e8864e
https://review.opendev.org/5670,fix label name for add rule in security group to be consistent,fix label name for add rule in security group to be consistent Change-Id: I087c4742485f5bf90bc1373dea4850bb7d03c596,2654,Andy Chong,"[3, 357, 1205, 1816, 2455, 2654]","['Jenkins', 'Devin Carlen', 'Jake Dahn', 'Gabriel Hurley', 'Tihomir Trifonov', 'Andy Chong']",fix label name add rule security group consistent changeid i087c4742485f5bf90bc1373dea4850bb7d03c596
https://review.opendev.org/5449,Tweak security port validation for ICMP,Tweak security port validation for ICMP Horizon allows for ICMP to be type:code. Type and code can be from -1 to 255. API refers to both EC2 and Nova APIs This patch attempts to resolve: 1. API code throws exceptations when 0 is passed for either field 2. API code validates type:code like from->to range. type and code are independent 3. Update unit tests for this new set of operations. A side effect is that the following are allowed type:code. -1:X X:-1 The code assumes that -1 is a wildcard for the field. bug 956967 Change-Id: Ieb6989815afc6986b72e0efc7611c2cc353ab5d8,631,Greg Althaus,"[3, 100, 679, 1247, 2166]","['Jenkins', 'Johannes Erdfelt', 'Kevin L. Mitchell', 'Mark McLoughlin', 'SmokeStack CI']",tweak security port validation icmp horizon allows icmp typecode type code 1 255 api refers ec2 nova apis patch attempts resolve 1 api code throws exceptations 0 passed either field 2 api code validates typecode like fromto range type code independent 3 update unit tests new set operations side effect following allowed typecode 1x x1 code assumes 1 wildcard field bug 956967 changeid ieb6989815afc6986b72e0efc7611c2cc353ab5d8
https://review.opendev.org/5440,Re-instate security group delete test case,"Re-instate security group delete test case While fixing lp#956366, we realized that it's fine to delete a security group referenced by an ingress rule of another security group because the ingress rule gets deleted. Re-instate the test for this specific case, but test that the ingress rule gets deleted rather than an exception being thrown. Change-Id: I81ad16431f5f8f13561dfcb320213366e1e8864e",1247,Mark McLoughlin,"[3, 100, 679, 1561, 2166]","['Jenkins', 'Johannes Erdfelt', 'Kevin L. Mitchell', 'Russell Bryant', 'SmokeStack CI']",reinstate security group delete test case fixing lp956366 realized fine delete security group referenced ingress rule another security group ingress rule gets deleted reinstate test specific case test ingress rule gets deleted rather exception thrown changeid i81ad16431f5f8f13561dfcb320213366e1e8864e
https://review.opendev.org/5424,db api: Remove check for security groups reference,"db api: Remove check for security groups reference security_group_in_use() should only be checking that a security group is associated with running instances, not that other groups are referencing it in their rules. With this check in place, it becomes impossible to delete self-referential security groups. Fixes bug 956366. Change-Id: I31f49c655b044dbaf0fb66dfaadb876c9dc3d167",1420,Adam Gandelman,"[3, 67, 1030, 1420, 1561]","['Jenkins', 'Vish Ishaya', 'Chris Behrens', 'Adam Gandelman', 'Russell Bryant']",db api remove check security groups reference securitygroupinuse checking security group associated running instances groups referencing rules check place becomes impossible delete selfreferential security groups fixes bug 956366 changeid i31f49c655b044dbaf0fb66dfaadb876c9dc3d167
https://review.opendev.org/4903,add source group rule interface in security groups edit,add source group rule interface in security groups edit * fixes bug 860780 * continues from abandoned https://review.openstack.org/3268 * implements UI https://nebula.notableapp.com/posts/391efe1b94711ec4527b6f72a61e789b6a4a54b7 Change-Id: I77af442ea4c0408556bfed8c2d1669b860219f66,2654,Andy Chong,"[3, 357, 543, 741, 1205, 1816, 2455, 2654]","['Jenkins', 'Devin Carlen', 'Tres Henry', 'Kiall Mac Innes', 'Jake Dahn', 'Gabriel Hurley', 'Tihomir Trifonov', 'Andy Chong']",add source group rule interface security groups edit fixes bug 860780 continues abandoned httpsreviewopenstackorg3268 implements ui httpsnebulanotableappcomposts391efe1b94711ec4527b6f72a61e789b6a4a54b7 changeid i77af442ea4c0408556bfed8c2d1669b860219f66
https://review.opendev.org/5023,Show security groups for instance in overview detail.,Show security groups for instance in overview detail * partial fix for bug 897090 Change-Id: If64ec14ba4cf6b081a7a99aa7ccee0aef70efa35,2654,Andy Chong,"[3, 357, 543, 1816, 2455, 2654]","['Jenkins', 'Devin Carlen', 'Tres Henry', 'Gabriel Hurley', 'Tihomir Trifonov', 'Andy Chong']",show security groups instance overview detail partial fix bug 897090 changeid if64ec14ba4cf6b081a7a99aa7ccee0aef70efa35
https://review.opendev.org/5041,Fix issues with security group auths without ports.,"Fix an issue with authorizing ICMP via EC2 API. Fix bug 946472. This patch fixes an issue in the EC2 API. When the API is used to authorize ICMP for a security group, it will now assume wildcards (-1:-1) for the type:code if they are not specified at all. Change-Id: I4c87c5f5f4ccee60c6c16da4e659d73ab3f4a34f",1561,Russell Bryant,"[3, 24, 67, 1132, 1561, 2166]","['Jenkins', 'Chuck Short', 'Vish Ishaya', 'Brian Waldon', 'Russell Bryant', 'SmokeStack CI']",fix issue authorizing icmp via ec2 api fix bug 946472 patch fixes issue ec2 api api used authorize icmp security group assume wildcards 11 typecode specified changeid i4c87c5f5f4ccee60c6c16da4e659d73ab3f4a34f
https://review.opendev.org/4886,Show proper warning message if security group rule is incomplete,Show proper warning message if security group rule is incomplete * fixes bug 944472 Change-Id: I1a275385547f09dc317ba213767f80036b3bca7c,2654,Andy Chong,"[3, 357, 1205, 2654]","['Jenkins', 'Devin Carlen', 'Jake Dahn', 'Andy Chong']",show proper warning message security group rule incomplete fixes bug 944472 changeid i1a275385547f09dc317ba213767f80036b3bca7c
https://review.opendev.org/4804,Return proper error message when adding security group with no params,Return proper error message when adding security group with no params * fixes bug 944469 Change-Id: I03ba89de135a2d7e2e9f6359ec652b069e55d089,2654,Andy Chong,"[3, 357, 1205, 2654]","['Jenkins', 'Devin Carlen', 'Jake Dahn', 'Andy Chong']",return proper error message adding security group params fixes bug 944469 changeid i03ba89de135a2d7e2e9f6359ec652b069e55d089
https://review.opendev.org/3794,Fixes bug 902352  New tests for security groups,Fixes bug 902352  New tests for security groups Change-Id: Id74c968afcac1546c90e9abceb7bbaade2d11d4e,2238,rajalakshmi-ganesan,"[3, 7, 97, 1794, 2238]","['Jenkins', 'Jay Pipes', 'Daryl Walleck', 'Donald Ngo', 'rajalakshmi-ganesan']",fixes bug 902352  new tests security groups changeid id74c968afcac1546c90e9abceb7bbaade2d11d4e
https://review.opendev.org/4660,Validates CIDR for security group rule input.,Validates CIDR for security group rule input. Fixes bug 917983. Change-Id: I57558ba4e3e3c7b0cc9f460a0a7522e4b4f0cfc7,1816,Gabriel Hurley,"[3, 543, 1205]","['Jenkins', 'Tres Henry', 'Jake Dahn']",validates cidr security group rule input fixes bug 917983 changeid i57558ba4e3e3c7b0cc9f460a0a7522e4b4f0cfc7
https://review.opendev.org/4457,Don't delete security group in use from OS API.,Don't delete security group in use from OS API. Fix bug 938853. This patch adds a check to the OpenStack API so that a security group still in use can not be deleted. This same check just recently went in for the EC2 API. Change-Id: I75dc47c5f5d227b94c45ba8a0f00c37bd63f09fc,1561,Russell Bryant,"[3, 67, 209, 1561, 2166]","['Jenkins', 'Vish Ishaya', 'Josh Kearney', 'Russell Bryant', 'SmokeStack CI']",dont delete security group use os api fix bug 938853 patch adds check openstack api security group still use deleted check recently went ec2 api changeid i75dc47c5f5d227b94c45ba8a0f00c37bd63f09fc
https://review.opendev.org/4507,Wait for VM to stop before deleting security group.,Wait for VM to stop before deleting security group. Related to bug 938853. The patch for this bug prevents deleting security groups through the OpenStack API if they are still in use. This patch for devstack updates the floating_ips exercise script to wait until the VM has stopped before deleting the security group. Change-Id: If42f85934c2b92d4d001c419cabb09e2e3dc1aae,1561,Russell Bryant,"[3, 67, 360, 970]","['Jenkins', 'Vish Ishaya', 'Dan Prince', 'Dean Troyer']",wait vm stop deleting security group related bug 938853 patch bug prevents deleting security groups openstack api still use patch devstack updates floatingips exercise script wait vm stopped deleting security group changeid if42f85934c2b92d4d001c419cabb09e2e3dc1aae
https://review.opendev.org/4346,Help texts and dynamic label change for entering security group rules. ICMP rules have different meanings for the from_port and to_port fields.,Help texts and dynamic label change for entering security group rules. ICMP rules have different meanings for the from_port and to_port fields. Fixes bug 933636 Change-Id: I745846a0fb054eb03efae102b40428889baed48f,2455,Tihomir Trifonov,"[3, 357, 543, 1816, 2455]","['Jenkins', 'Devin Carlen', 'Tres Henry', 'Gabriel Hurley', 'Tihomir Trifonov']",help texts dynamic label change entering security group rules icmp rules different meanings fromport toport fields fixes bug 933636 changeid i745846a0fb054eb03efae102b40428889baed48f
https://review.opendev.org/4154,Don't allow EC2 removal of security group in use.,"Don't allow EC2 removal of security group in use. Fix bug 817872. This patch modifies the behavior of removing security groups via the EC2 API to better match the EC2 API spec. The EC2 documentation says that a group that is still in use can not be removed. A new function has been added to the db API to find out whether a particular security group is still in use. ""In use"" is defined as applied to an active instance, or applied to another group that has not been deleted. Unit tests have been updated to ensure that an error is raised when these conditions are hit. Change-Id: I5b3fdf1da213b04084fe266c1a6ed92e01cf1e19",1561,Russell Bryant,"[3, 100, 360, 679, 1561, 2166]","['Jenkins', 'Johannes Erdfelt', 'Dan Prince', 'Kevin L. Mitchell', 'Russell Bryant', 'SmokeStack CI']",dont allow ec2 removal security group use fix bug 817872 patch modifies behavior removing security groups via ec2 api better match ec2 api spec ec2 documentation says group still use removed new function added db api find whether particular security group still use use defined applied active instance applied another group deleted unit tests updated ensure error raised conditions hit changeid i5b3fdf1da213b04084fe266c1a6ed92e01cf1e19
https://review.opendev.org/4372,Delete security group after terminating instance.,"Delete security group after terminating instance. This patch slightly modifies the order of operations in the euca exercise script. It moves the deletion of the security group to the end, after the instance has been terminated. The reason this change must be made is because of this change proposed to nova: https://review.openstack.org/#change,4154 Without this change, when exercise.sh is run against this patch, the euca exercises will fail when the security group is deleted. Moving it to the end should make it pass, as the security group will no longer be in use. Change-Id: I9095a02c42173ed1837ec20b38d5ef00fe4474ec",1561,Russell Bryant,"[3, 67, 112]","['Jenkins', 'Vish Ishaya', 'Jesse Andrews']",delete security group terminating instance patch slightly modifies order operations euca exercise script moves deletion security group end instance terminated reason change must made change proposed nova httpsreviewopenstackorgchange4154 without change exercisesh run patch euca exercises fail security group deleted moving end make pass security group longer use changeid i9095a02c42173ed1837ec20b38d5ef00fe4474ec
https://review.opendev.org/4218,Fix bug 933147 Security group trigger notifications.,"Fix bug 933147 Security group trigger notifications. Add a lightweight mechanism to allow security group trigger notifications to be propagated from nova.compute.api to quantum security group handlers. Add a global flag: ""security_group_handler"" to allow for runtime selection of security group handler class. Change-Id: I8a3768c26c97020071ad4e52d3a22d8898e72e9f",2170,Dave Lapsley,"[3, 67, 100, 233, 679, 2170]","['Jenkins', 'Vish Ishaya', 'Johannes Erdfelt', 'Brad Hall', 'Kevin L. Mitchell', 'Dave Lapsley']",fix bug 933147 security group trigger notifications add lightweight mechanism allow security group trigger notifications propagated novacomputeapi quantum security group handlers add global flag securitygrouphandler allow runtime selection security group handler class changeid i8a3768c26c97020071ad4e52d3a22d8898e72e9f
https://review.opendev.org/4085,Simple way of returning per-server security groups,Simple way of returning per-server security groups Bug #909207 Change-Id: I7d111222210eaf3abfbae5bc7cccb6e823affc45,144,justinsb,"[3, 100, 144, 679, 1132, 2166]","['Jenkins', 'Johannes Erdfelt', 'justinsb', 'Kevin L. Mitchell', 'Brian Waldon', 'SmokeStack CI']",simple way returning perserver security groups bug 909207 changeid i7d111222210eaf3abfbae5bc7cccb6e823affc45
https://review.opendev.org/3900,Set port security for all allocated ips,Set port security for all allocated ips Fixes LP929018 Change-Id: Iab56cb815381eb4832358053bde8ddc70f9c4ef6,385,Jason Kölker,"[3, 236, 385, 642, 679]","['Jenkins', 'Monsyne Dragon', 'Jason Kölker', 'Matt Dietz', 'Kevin L. Mitchell']",set port security allocated ips fixes lp929018 changeid iab56cb815381eb4832358053bde8ddc70f9c4ef6
https://review.opendev.org/3569,Correct checking existence of security group rule,Correct checking existence of security group rule Fixes bug #900031 Change-Id: I4194610ce53d1c74bd99b6878339da6e0b6a3a73,2140,MotoKen,"[3, 67, 100, 2140, 2166]","['Jenkins', 'Vish Ishaya', 'Johannes Erdfelt', 'MotoKen', 'SmokeStack CI']",correct checking existence security group rule fixes bug 900031 changeid i4194610ce53d1c74bd99b6878339da6e0b6a3a73
https://review.opendev.org/711521,Implement Security Context for Airflow_Worker,[WIP] Implement Security Context for Airflow_Worker This adds the container security context to set readOnlyRootFilesystem to true Depends-on: https://review.opendev.org/#/c/708948/2 Change-Id: I4c7e7dba26d6bdfd0032a31469fd1777ae06cfec,29144,PRATEEK REDDY DODDA,"[7769, 8749, 8898, 22348, 22477, 23186, 23928, 26628, 26686, 27715, 28208, 28235, 28618, 28664, 28719, 29144, 29298]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Ahmad Mahmoudi', 'Phil Sphicas', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",wip implement security context airflowworker adds container security context set readonlyrootfilesystem true dependson httpsreviewopendevorgc7089482 changeid i4c7e7dba26d6bdfd0032a31469fd1777ae06cfec
https://review.opendev.org/3018,incorporated Jay's suggestion bug915695 security groups client - to list,bug915695 security groups client - to list Change-Id: I7f9ab59557c8cb20e7e67468925e4666dd981541,1795,Ravikumar Venkatesan,"[3, 7, 97, 1795]","['Jenkins', 'Jay Pipes', 'Daryl Walleck', 'Ravikumar Venkatesan']",bug915695 security groups client list changeid i7f9ab59557c8cb20e7e67468925e4666dd981541
https://review.opendev.org/2809,Add support for port security to QuantumManager,"Add support for port security to QuantumManager If enabled, QuantumManager will now pass in the allowed_address_pairs that some quantum plugins understand in order to enforce port security on a given port. Any plugins that don't understand the extra fields will just ignore them. Change-Id: I640658036789b319ecefbb5e7dcdcf6b4f4ab34e",233,Brad Hall,"[3, 209, 233, 642, 679, 2166]","['Jenkins', 'Josh Kearney', 'Brad Hall', 'Matt Dietz', 'Kevin L. Mitchell', 'SmokeStack CI']",add support port security quantummanager enabled quantummanager pass allowedaddresspairs quantum plugins understand order enforce port security given port plugins dont understand extra fields ignore changeid i640658036789b319ecefbb5e7dcdcf6b4f4ab34e
https://review.opendev.org/2927,"Converts all of Access & Security to use new panels, modals, views, etc.","Converts all of Access & Security to use new panels, modals, views, etc. Fixes bug 905376. Fixes bug 905399. Change-Id: Ib93a5b9d09c9b98b0a6365f7d468efb05e28e676",1816,Gabriel Hurley,"[3, 357, 543, 1205, 1816]","['Jenkins', 'Devin Carlen', 'Tres Henry', 'Jake Dahn', 'Gabriel Hurley']",converts access security use new panels modals views etc fixes bug 905376 fixes bug 905399 changeid ib93a5b9d09c9b98b0a6365f7d468efb05e28e676
https://review.opendev.org/2179,Verify security group parameters,Verify security group parameters Introduced various sanity checks before adding security group rule into the database. The checks have been implemented both in EC2 and openstack extension code. Implemented the suggestions made in first patch by Brian Fixed the unit tests in security groups Fixed pep8 issues in security group unit tests Fixes bug 869979. (cherry picked from commit 1a12349c056b52b488591abb1671ad94a6db6526) Change-Id: I2ac28666e90e7bdeacb7b1c2676c0719cfb9e441,1247,Mark McLoughlin,"[3, 741, 1247, 1501]","['Jenkins', 'Kiall Mac Innes', 'Mark McLoughlin', 'Phil Day']",verify security group parameters introduced various sanity checks adding security group rule database checks implemented ec2 openstack extension code implemented suggestions made first patch brian fixed unit tests security groups fixed pep8 issues security group unit tests fixes bug 869979 cherry picked commit 1a12349c056b52b488591abb1671ad94a6db6526 changeid i2ac28666e90e7bdeacb7b1c2676c0719cfb9e441
https://review.opendev.org/2524,Bumping Django version to 1.3.1 for security fixes.,Bumping Django version to 1.3.1 for security fixes. Change-Id: I14b9323eee61110aec34d4e265a66e9890d97d61,2230,Paul McMillan,"[3, 357, 1205, 1816]","['Jenkins', 'Devin Carlen', 'Jake Dahn', 'Gabriel Hurley']",bumping django version 131 security fixes changeid i14b9323eee61110aec34d4e265a66e9890d97d61
https://review.opendev.org/2436,Converting security groups to check boxes.,Converting security groups to check boxes. Bug 884486 Change-Id: I8b654c854b4c18dc6e28039eecbc8e97447a66bb,1205,Jake Dahn,"[3, 543, 1205, 1816]","['Jenkins', 'Tres Henry', 'Jake Dahn', 'Gabriel Hurley']",converting security groups check boxes bug 884486 changeid i8b654c854b4c18dc6e28039eecbc8e97447a66bb
https://review.opendev.org/2338,Fixing the edit security group rules form,Fixing the edit security group rules form bug 898862 Change-Id: I8273dee3d49d655073a7a0818150b1ba960bcca4,1205,Jake Dahn,"[3, 112, 357, 543, 1205, 1816]","['Jenkins', 'Jesse Andrews', 'Devin Carlen', 'Tres Henry', 'Jake Dahn', 'Gabriel Hurley']",fixing edit security group rules form bug 898862 changeid i8273dee3d49d655073a7a0818150b1ba960bcca4
https://review.opendev.org/2260,"Merging Floating Ips, Keypairs, and Security Groups into a single panel.","Merging Floating Ips, Keypairs, and Security Groups into a single panel. Change-Id: Ia5b755f2e89a121fc67ca0ddb1a173e3ea97a889",1205,Jake Dahn,"[3, 543, 1205, 1816]","['Jenkins', 'Tres Henry', 'Jake Dahn', 'Gabriel Hurley']",merging floating ips keypairs security groups single panel changeid ia5b755f2e89a121fc67ca0ddb1a173e3ea97a889
https://review.opendev.org/1774,Fixes LP Bug#860862 - Security creds still shown,Fixes LP Bug#860862 - Security creds still shown This removes the X-Image-Meta-Location entirely from GET /images/<ID> and HEAD /images/<ID> Previous fix only removed from GET /images and GET /images/detail. Doh. (cherry picked from commit 25e2ba4e6a60956cfd7f8ca9457698fd0f4d3747) Change-Id: Ib6c124e196688a77a3a0090bf9174a1daffb78bb,1247,Mark McLoughlin,"[3, 7, 24, 1247]","['Jenkins', 'Jay Pipes', 'Chuck Short', 'Mark McLoughlin']",fixes lp bug860862 security creds still shown removes ximagemetalocation entirely get imagesid head imagesid previous fix removed get images get imagesdetail doh cherry picked commit 25e2ba4e6a60956cfd7f8ca9457698fd0f4d3747 changeid ib6c124e196688a77a3a0090bf9174a1daffb78bb
https://review.opendev.org/1636,Removes multiple selections from security groups in launch form.,Removes multiple selections from security groups in launch form. Change-Id: Ibcfa54c3d0354d0a9f2def2fb3ee446790cc3d52,1205,Jake Dahn,"[3, 543, 1816]","['Jenkins', 'Tres Henry', 'Gabriel Hurley']",removes multiple selections security groups launch form changeid ibcfa54c3d0354d0a9f2def2fb3ee446790cc3d52
https://review.opendev.org/815,Verify security group parameters,Verify security group parameters Introduced various sanity checks before adding security group rule into the database. The checks have been implemented both in EC2 and openstack extension code. Fixes bug 869979. Change-Id: I2ac28666e90e7bdeacb7b1c2676c0719cfb9e441,1631,MISSING_NAME,"[3, 357, 518, 706, 1775]","['Jenkins', 'Devin Carlen', 'Soren Hansen', 'Brian Lamar', 'Ahmad Hassan']",verify security group parameters introduced various sanity checks adding security group rule database checks implemented ec2 openstack extension code fixes bug 869979 changeid i2ac28666e90e7bdeacb7b1c2676c0719cfb9e441
https://review.opendev.org/1115,Support server uuids with security groups,Support server uuids with security groups Change-Id: I15dd5a5e26b2d22fa3def75fa950f1155e6911ac,616,Mark Washenberger,"[3, 357, 1132]","['Jenkins', 'Devin Carlen', 'Brian Waldon']",support server uuids security groups changeid i15dd5a5e26b2d22fa3def75fa950f1155e6911ac
https://review.opendev.org/745,Fixes LP Bug#860862 - Security creds still shown,Fixes LP Bug#860862 - Security creds still shown This removes the X-Image-Meta-Location entirely from GET /images/<ID> and HEAD /images/<ID> Previous fix only removed from GET /images and GET /images/detail. Doh. Change-Id: Ib6c124e196688a77a3a0090bf9174a1daffb78bb,7,Jay Pipes,"[3, 7, 679, 1132]","['Jenkins', 'Jay Pipes', 'Kevin L. Mitchell', 'Brian Waldon']",fixes lp bug860862 security creds still shown removes ximagemetalocation entirely get imagesid head imagesid previous fix removed get images get imagesdetail doh changeid ib6c124e196688a77a3a0090bf9174a1daffb78bb
https://review.opendev.org/707885,Implement Security Context for Divingbell,[WIP] Implement Security Context for Divingbell Change-Id: Ibc93ccac6d6015faff3491211f5f8cb752a0328f,29144,PRATEEK REDDY DODDA,"[7769, 8749, 8898, 22348, 22477, 23186, 23928, 24816, 26628, 26686, 27715, 28208, 28235, 28618, 28719, 28778, 29144, 29161, 29298, 30315]","['Pentheus', 'Evgeniy L', 'Chris Wedgwood', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Anthony Bellino', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Phil Sphicas', 'Dan Crank', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Jagan Mohan Kavva', 'Marjorie Middleton']",wip implement security context divingbell changeid ibc93ccac6d6015faff3491211f5f8cb752a0328f
https://review.opendev.org/709264,Apply security context to tiller in Armada pod,"Apply security context to tiller in Armada pod Allows container security context to be applied to the tiller container inside the Armada API pod, for example, to allow the container to run as a different user. Change-Id: I38eb32f54ca4c0a20c1c63fca2f4927ced6e9e81",28719,Phil Sphicas,"[8898, 22348, 22477, 23928, 27715, 28618, 28719, 29624]","['Chris Wedgwood', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Sean Eagan', 'Drew Walters', 'Phil Sphicas', 'Alexander Hughes']",apply security context tiller armada pod allows container security context applied tiller container inside armada api pod example allow container run different user changeid i38eb32f54ca4c0a20c1c63fca2f4927ced6e9e81
https://review.opendev.org/710782,Mark security group fullstack tests as stable,Mark security group fullstack tests as stable It has been some time since we marked the security group tests in fullstack as unstable. Now that mark is impeding the fullstack tests for stateless security groups. It's time to revisit if the unstable mark is still needed. Change-Id: Ib1ef0763496aa536ba80f1c34c64d8a6c313fd0b Needed-By: https://review.opendev.org/710252 Related-bug: #1779328,13995,Nate Johnston,"[8313, 9845, 11975, 13995, 15554, 16688, 21798, 22348, 24791, 26622]","['Lajos Katona', 'Arista CI', 'Slawek Kaplonski', 'Nate Johnston', 'Bence Romsics', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Maciej Jozefczyk', 'Cloudbase Neutron Hyper-V CI']",mark security group fullstack tests stable time since marked security group tests fullstack unstable mark impeding fullstack tests stateless security groups time revisit unstable mark still needed changeid ib1ef0763496aa536ba80f1c34c64d8a6c313fd0b neededby httpsreviewopendevorg710252 relatedbug 1779328
https://review.opendev.org/697523,Improve metadata server performance with large security groups,"Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server, since we don't need them there, and with >1000 rules, it starts to get really slow, especially in Pike and later. Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parkside.io> Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com> Conflicts: nova/tests/unit/network/security_group/test_neutron_driver.py NOTE(mriedem): The conflict is due to not having change I31c9ea8628c6f3985f8e9118d9687bbfb8789b68 in Pike. Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2) (cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636) (cherry picked from commit 38b2f68a17533e839819e654825613aefd4effd4) (cherry picked from commit 00d438adb325610a04af9f8f18cdb1c622df5418)",6873,Matt Riedemann,"[10118, 10135, 10980, 14595, 17685, 22348, 26515, 29963]","['IBM PowerKVM CI', 'Lee Yarwood', 'Doug Wiegley', 'IBM zKVM CI', 'Elod Illes', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",improve metadata server performance large security groups dont include rules sg fetch metadata server since dont need 1000 rules starts get really slow especially pike later closesbug 1851430 coauthoredby doug wiegley dougwigparksideio coauthoredby matt riedemann mriedemosgmailcom conflicts novatestsunitnetworksecuritygrouptestneutrondriverpy notemriedem conflict due change i31c9ea8628c6f3985f8e9118d9687bbfb8789b68 pike changeid i7de14456d04370c842b4c35597dca3a628a826a2 cherry picked commit eaf16fdde59a14fb38df669b21a911a0c2d2576f cherry picked commit 418af2d865809cfa907678f883dae07f4f31baa2 cherry picked commit fec95a2e4f763e15193504483383f918feb3e636 cherry picked commit 38b2f68a17533e839819e654825613aefd4effd4 cherry picked commit 00d438adb325610a04af9f8f18cdb1c622df5418
https://review.opendev.org/714103,Add bulk creation of rules for Security Group.,"Add bulk creation of rules for Security Group. With new method _bulk_create in OpenStackSDK, now it is possible to use it for API methods, which supports creating multiple instances in single call. Neutron supports couple of resources to be created at once. In this change we propose to add multiple rules creation for a single security group. Change-Id: I5855a6faa706adeaf738a797af0048985bffe65f",13692,Roman Dobosz,"[2, 11600, 13692, 22348, 27032, 27900]","['Monty Taylor', 'Micha? Dulko', 'Roman Dobosz', 'Zuul', 'Maysa de Macedo Souza', 'Artem Goncharov']",add bulk creation rules security group new method bulkcreate openstacksdk possible use api methods supports creating multiple instances single call neutron supports couple resources created change propose add multiple rules creation single security group changeid i5855a6faa706adeaf738a797af0048985bffe65f
https://review.opendev.org/786015,Followup patch for security dashboard clean steps,Followup patch for security dashboard clean steps This patch addresses all the remaining comments on the security dashboard clean steps for ilo driver. Change-Id: Id454642439d09fa8edd7bab9259dfc4ba9b55a01,19604,ankit,"[10239, 11076, 22348]","['Dmitry Tantsur', 'Shivanand Tendulker', 'Zuul']",followup patch security dashboard clean steps patch addresses remaining comments security dashboard clean steps ilo driver changeid id454642439d09fa8edd7bab9259dfc4ba9b55a01
https://review.opendev.org/786148,Don't send empty remote_address_group_id for security groups,"Don't send empty remote_address_group_id for security groups We are seeing an error raised by older Neutron's 400: Client Error for url: <cloud>/v2.0/security-group-rules, Unrecognized attribute(s) 'remote_address_group_id' This field was added unconditionally with I50374c339ab7685a6e74f25f9521b8810c532e13 but, per above, appears to cause problems for older Neutron instances. To work around this, remove the argument from the body when blank by overriding the _prepare_request function of SecurityGroupRule. Two tests where this are used are updated; one checks the body is not sent when None and the other is modified to send a remote_address_group_id value to validate the other path. Story: #2008577 Task: #41729 Change-Id: I25dabfde27b843df1c91c7fc37a1fe8d207b8010",7118,Ian Wienand,"[10239, 11975, 22348]","['Dmitry Tantsur', 'Slawek Kaplonski', 'Zuul']",dont send empty remoteaddressgroupid security groups seeing error raised older neutrons 400 client error url cloudv20securitygrouprules unrecognized attributes remoteaddressgroupid field added unconditionally i50374c339ab7685a6e74f25f9521b8810c532e13 per appears cause problems older neutron instances work around remove argument body blank overriding preparerequest function securitygrouprule two tests used updated one checks body sent none modified send remoteaddressgroupid value validate path story 2008577 task 41729 changeid i25dabfde27b843df1c91c7fc37a1fe8d207b8010
https://review.opendev.org/714288,NSX|V: Fix security groups rules creation,"NSX|V: Fix security groups rules creation When updating a section, exising icmp echo request/reply rules cannot have icmp code field. Change-Id: I31141eb7a05ff508acb3cea12d7bdd7d8695d9e1",20363,Adit Sarfaty,"[9008, 13438, 20363, 22348]","['VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul']",nsxv fix security groups rules creation updating section exising icmp echo requestreply rules icmp code field changeid i31141eb7a05ff508acb3cea12d7bdd7d8695d9e1
https://review.opendev.org/710964,Run fullstack security group test always serially,"Run fullstack security group test always serially Security groups are based on iptables in many cases and can interfere between other tests. So it means that if some other test will manipulate with iptables on host during SG related test is run, this SG related test may fail without any obvious reason. So lets try to run those test serially to be sure that no other agents will manipulate iptables/openflow rules in same time. Change-Id: I4d19f2a457e004306fdf40980a943073f1b8704a Closes-Bug: #1779328",11975,Slawek Kaplonski,"[1131, 8313, 11975, 13995, 21798, 22348, 24791, 26622, 27654]","['Brian Haley', 'Lajos Katona', 'Slawek Kaplonski', 'Nate Johnston', 'Bernard Cafarelli', 'Zuul', 'Maciej Jozefczyk', 'Cloudbase Neutron Hyper-V CI', 'Hongbin Lu']",run fullstack security group test always serially security groups based iptables many cases interfere tests means test manipulate iptables host sg related test run sg related test may fail without obvious reason lets try run test serially sure agents manipulate iptablesopenflow rules time changeid i4d19f2a457e004306fdf40980a943073f1b8704a closesbug 1779328
https://review.opendev.org/711385,Unblock security group update with same stateful data,Unblock security group update with same stateful data Change-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361 Blueprint: stateless-security-groups,31669,lina He,"[1131, 8313, 9732, 9845, 13995, 15554, 22348, 26622, 31669]","['Brian Haley', 'Lajos Katona', 'Mellanox CI', 'Arista CI', 'Nate Johnston', 'Bence Romsics', 'Zuul', 'Cloudbase Neutron Hyper-V CI', 'lina He']",unblock security group update stateful data changeid i46d80a2a4f114a6775827ab3caa61dee9f5f1361 blueprint statelesssecuritygroups
https://review.opendev.org/708842,Adding new test of security group rules quota increased.,Adding new test of security group rules quota increased. The test is checking that it is possible to create new security group rules after increasing the quota parameter. Change-Id: Ie961293215c48883c962debe888b0bca418e3eb9,19118,Eran Kuris,"[4727, 11975, 16688, 19118, 21302, 21798, 22348, 31450]","['Itzik Brown', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Eran Kuris', 'Genadi Chereshnya', 'Bernard Cafarelli', 'Zuul', 'Alex Katz']",adding new test security group rules quota increased test checking possible create new security group rules increasing quota parameter changeid ie961293215c48883c962debe888b0bca418e3eb9
https://review.opendev.org/711513,Support for stateless security groups,"Support for stateless security groups Add support for stateful attribute of security groups, allowing a user to create security groups with stateful false. Change-Id: I380b2ab0fa4f81f676711d97138c6097c4790cd7 Blueprint: stateless-security-groups",26106,Tom Stappaerts,"[2, 1131, 11975, 22348, 26106]","['Monty Taylor', 'Brian Haley', 'Slawek Kaplonski', 'Zuul', 'Tom Stappaerts']",support stateless security groups add support stateful attribute security groups allowing user create security groups stateful false changeid i380b2ab0fa4f81f676711d97138c6097c4790cd7 blueprint statelesssecuritygroups
https://review.opendev.org/709601,Mini-mirror: Add pod/container security context,Mini-mirror: Add pod/container security context pods are running into crashloopbackoff state so changing it to false Change-Id: I7edad3b2a8b0962ef5421e941dfaf7c680bc951c,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17591, 20466, 21420, 22348, 22477, 23928, 28664, 29131, 29144, 29298, 30777, 31482]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'Steve Wilkerson', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Ahmad Mahmoudi', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva', 'Steven Fitzpatrick', 'Luna Das']",minimirror add podcontainer security context pods running crashloopbackoff state changing false changeid i7edad3b2a8b0962ef5421e941dfaf7c680bc951c
https://review.opendev.org/572767,Support for stateless security groups,[WIP] Support for stateless security groups Partially Closes-Bug: #1753466 Change-Id: Iae39a89b762786e4f05aa61aa0db634941806d41,24919,Aditya Reddy Nagaram,"[841, 4694, 7249, 8313, 8871, 9732, 9845, 10385, 11975, 13252, 13995, 15554, 15752, 16376, 16385, 16688, 21798, 22348, 24791, 24919, 26106, 26622]","['Akihiro Motoki', 'Miguel Lavalle', 'Ann Taraday', 'Lajos Katona', 'Elastic Recheck', 'Mellanox CI', 'Arista CI', 'Citrix XenServer CI', 'Slawek Kaplonski', 'Dr. Jens Harbott', 'Nate Johnston', 'Bence Romsics', 'Intel SR-IOV CI', 'Intel NFV CI', 'Kris Sterckx', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Maciej Jozefczyk', 'Aditya Reddy Nagaram', 'Tom Stappaerts', 'Cloudbase Neutron Hyper-V CI']",wip support stateless security groups partially closesbug 1753466 changeid iae39a89b762786e4f05aa61aa0db634941806d41
https://review.opendev.org/710130,ovn: Remove remote security group rule workaround,ovn: Remove remote security group rule workaround The issue has been resolved. Change-Id: I01a7d9cd995686ea1e3d204f2ee5e55a9650a035,13686,Frode Nordahl,"[20805, 22348]","['David Ames', 'Zuul']",ovn remove remote security group rule workaround issue resolved changeid i01a7d9cd995686ea1e3d204f2ee5e55a9650a035
https://review.opendev.org/681912,Add list security group rules API test,Add list security group rules API test This test checks that regular user can see all SG rules which belongs to his tenant OR belongs to security group owned by his tenant. This test also ensures that SG rules from different tenants and Security Groups are not visible for regular user. Depends-On: https://review.opendev.org/681910 Change-Id: Ic2e97ab8162d10e507ef83b9af0840e7311f0587 Related-Bug: #1824248,11975,Slawek Kaplonski,"[4694, 11975, 13995, 16688, 21798, 22348, 31450]","['Miguel Lavalle', 'Slawek Kaplonski', 'Nate Johnston', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Alex Katz']",add list security group rules api test test checks regular user see sg rules belongs tenant belongs security group owned tenant test also ensures sg rules different tenants security groups visible regular user dependson httpsreviewopendevorg681910 changeid ic2e97ab8162d10e507ef83b9af0840e7311f0587 relatedbug 1824248
https://review.opendev.org/709691,Disable security group quotas in NetworkSecGroupTest,Disable security group quotas in NetworkSecGroupTest This will prevent from receiving an unexpected QuotaLimit exception. Change-Id: Idb6375c87c1aac704896bef47d3d50b8c2d55a54 Closes-Bug: #1864471,16688,Rodolfo Alonso,"[1131, 11975, 16688, 21798, 22348, 24791]","['Brian Haley', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Maciej Jozefczyk']",disable security group quotas networksecgrouptest prevent receiving unexpected quotalimit exception changeid idb6375c87c1aac704896bef47d3d50b8c2d55a54 closesbug 1864471
https://review.opendev.org/709478,Increase default security group quota up to 150,Increase default security group quota up to 250 Change-Id: Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1 Closes-Bug: #1864471,16688,Rodolfo Alonso,"[4694, 6773, 15554, 21798, 22348, 24791]","['Miguel Lavalle', 'Lucas Alvares Gomes', 'Bence Romsics', 'Bernard Cafarelli', 'Zuul', 'Maciej Jozefczyk']",increase default security group quota 250 changeid ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1 closesbug 1864471
https://review.opendev.org/682369,Add port-range remote_group security group testcase,Add port-range remote_group security group testcase This patch adds tests for checking remote security groups with port-ranges. Change-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b Related-Bug: #1844116,24791,Maciej Jozefczyk,"[1131, 4694, 11975, 21798, 22348, 24791]","['Brian Haley', 'Miguel Lavalle', 'Slawek Kaplonski', 'Bernard Cafarelli', 'Zuul', 'Maciej Jozefczyk']",add portrange remotegroup security group testcase patch adds tests checking remote security groups portranges changeid i8d70fd4ba1835280abd26d5ba0777a44d80e591b relatedbug 1844116
https://review.opendev.org/784146,pod security policies updates,pod security policies updates Minor Usability Enhancement to Default Pod Security Policies Signed-off-by: Ron Stone <ronald.stone@windriver.com> Change-Id: I82d31f412c47bfecf4601169400bf090ceda636c,30539,Ron Stone,"[22348, 26026, 30859, 31646]","['Zuul', 'Greg Waines', 'M Camp', 'Carmen Rata']",pod security policies updates minor usability enhancement default pod security policies signedoffby ron stone ronaldstonewindrivercom changeid i82d31f412c47bfecf4601169400bf090ceda636c
https://review.opendev.org/783108,Remove outdated security tool development section,"Remove outdated security tool development section The security SIG hasn't maintained the two projects listed under the ""Security tool development"" section in quite a while. This change removes the section entirely since the information it has is no longer relevant to the security SIG. Change-Id: I49aee997751b2b4f7ca6e879883a85c56087c0a1",21420,Gage Hugo,"[5263, 22348]","['Jeremy Stanley', 'Zuul']",remove outdated security tool development section security sig hasnt maintained two projects listed security tool development section quite change removes section entirely since information longer relevant security sig changeid i49aee997751b2b4f7ca6e879883a85c56087c0a1
https://review.opendev.org/707883,apiserver-webhook: Add container security context,apiserver-webhook: Add pod/container security context This updates the apiserver-webhook chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: If61b6f9189a36f069efa80ef1a31b35328a92f1a,29161,Rahul Khiyani,"[7769, 8749, 18675, 22259, 22348, 22477, 23186, 23928, 26628, 26686, 27715, 28208, 28235, 28618, 28719, 28778, 29161]","['Pentheus', 'Evgeniy L', 'Sharath Rao', 'Nishant Kumar', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Phil Sphicas', 'Dan Crank', 'Rahul Khiyani']",apiserverwebhook add podcontainer security context updates apiserverwebhook chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid if61b6f9189a36f069efa80ef1a31b35328a92f1a
https://review.opendev.org/702684,Implement Security Compiance option for password,"Implement Security Compiance option for password This feature adds a ""password-security-compliance"" option to the charm to enable setting of keys in the ""[security_compliance]"" section of the keystone.conf file. This section was added in the Newton release, and so this feature supports this from the Newton release. Change-Id: If7c54fae73188284bd9b03a53626cdf52158b994 Closes-Bug: #1776688",20870,Alex Kavanagh,"[13686, 20648, 20870, 22348, 30561]","['Frode Nordahl', 'Canonical CI', 'Alex Kavanagh', 'Zuul', 'Peter Matulis']",implement security compiance option password feature adds passwordsecuritycompliance option charm enable setting keys securitycompliance section keystoneconf file section added newton release feature supports newton release changeid if7c54fae73188284bd9b03a53626cdf52158b994 closesbug 1776688
https://review.opendev.org/702641,Negative tests for security group quota,Negative tests for security group quota 1. Try to create security group when the amount of already created security groups is higher than quota 2. Try to set inappropriate value for security group quota Change-Id: Ia27c6d4f71246210f3f0959e70181c4319751e7d,31450,Alex Katz,"[4694, 11975, 16688, 22348, 31450]","['Miguel Lavalle', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Zuul', 'Alex Katz']",negative tests security group quota 1 try create security group amount already created security groups higher quota 2 try set inappropriate value security group quota changeid ia27c6d4f71246210f3f0959e70181c4319751e7d
https://review.opendev.org/705267,"Check ""security_group_rule"" quota during security group creation","Check ""security_group_rule"" quota during security group creation The tracked resources quota check is done at the beginning of an API call to the Neutron server. The API call contains a resource and an action over the resource. In case of creation, the server checks if the number of items requested fits in the existing quota. In case of security group creation, the tracked resource checked is ""security_group"". But ""SecurityGroupDbMixin.create_security_group"" method also creates several default rules for the new group and the quota for ""security_group_rule"" is not enforced. This patch checks the number of security group rules being created (""delta"") and checks in the plugin method (not in the API method) if there is enough room for those new rules (tracked resource ""security_group_rule""). Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 Closes-Bug: #1858680 (cherry picked from commit 936bd67aa42b2e06241d309315b895c9c9c49dcc)",16688,Rodolfo Alonso,"[4694, 16688, 21798, 22348, 26622]","['Miguel Lavalle', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",check securitygrouprule quota security group creation tracked resources quota check done beginning api call neutron server api call contains resource action resource case creation server checks number items requested fits existing quota case security group creation tracked resource checked securitygroup securitygroupdbmixincreatesecuritygroup method also creates several default rules new group quota securitygrouprule enforced patch checks number security group rules created delta checks plugin method api method enough room new rules tracked resource securitygrouprule changeid i0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 closesbug 1858680 cherry picked commit 936bd67aa42b2e06241d309315b895c9c9c49dcc
https://review.opendev.org/705305,Security: System security option includes nospectre_v1,"Security: System security option includes nospectre_v1 Most of the v1 mitigation is baked into the kernel and not optional. The swapgs barriers are, however, optional. They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg. Partial-Bug: 1860193 Depends-On: https://review.opendev.org/#/c/705300 Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com> (cherry picked from commit b7c6c2a1681a057a7c3a2a9b1700cb2d92f18627) Change-Id: Ifbeaa0ac8b60addc5aefd63578ed4facebbd9b22",28652,Jim Somerville,"[22348, 28286, 28431, 28916, 29025]","['Zuul', 'Bruce Jones', 'Don Penney', 'Yosief Gebremariam', 'Yang Liu']",security system security option includes nospectrev1 v1 mitigation baked kernel optional swapgs barriers however optional negative performance impact disable using nospectrev1 kernel bootarg partialbug 1860193 dependson httpsreviewopendevorgc705300 signedoffby jim somerville jimsomervillewindrivercom cherry picked commit b7c6c2a1681a057a7c3a2a9b1700cb2d92f18627 changeid ifbeaa0ac8b60addc5aefd63578ed4facebbd9b22
https://review.opendev.org/705304,Security: Add nospectre_v1 to the security params,"Security: Add nospectre_v1 to the security params Most of the v1 mitigation is baked into the kernel and not optional. The swapgs barriers are, however, optional. They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg. Partial-Bug: 1860193 Depends-On: https://review.opendev.org/#/c/705300 Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com> (cherry picked from commit 950670ac1f0bfaa43e29eeb3ffda71a94de66520) Change-Id: I8472e7fc4fbf5b3e01b56b79eba7feda315d29cf",28652,Jim Somerville,"[9926, 14174, 22348, 28431, 28486]","['John Kung', 'Bart Wensley', 'Zuul', 'Don Penney', 'Tee Ngo']",security add nospectrev1 security params v1 mitigation baked kernel optional swapgs barriers however optional negative performance impact disable using nospectrev1 kernel bootarg partialbug 1860193 dependson httpsreviewopendevorgc705300 signedoffby jim somerville jimsomervillewindrivercom cherry picked commit 950670ac1f0bfaa43e29eeb3ffda71a94de66520 changeid i8472e7fc4fbf5b3e01b56b79eba7feda315d29cf
https://review.opendev.org/701565,"Check ""security_group_rule"" quota during security group creation","Check ""security_group_rule"" quota during security group creation The tracked resources quota check is done at the beginning of an API call to the Neutron server. The API call contains a resource and an action over the resource. In case of creation, the server checks if the number of items requested fit in the existing quota. In case of security group creation, the tracked resource checked is ""security_group"". But ""SecurityGroupDbMixin.create_security_group"" method also creates several default rules for the new group and the quota for ""security_group_rule"" is not enforced. This patch checks the number of security group rules being created (""delta"") and checks in the plugin method (not in the API method) if there is enough room for those new rules (tracked resource ""security_group_rule""). Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 Closes-Bug: #1858680",16688,Rodolfo Alonso,"[1131, 4694, 9845, 16688, 22348, 24791, 26622]","['Brian Haley', 'Miguel Lavalle', 'Arista CI', 'Rodolfo Alonso', 'Zuul', 'Maciej Jozefczyk', 'Cloudbase Neutron Hyper-V CI']",check securitygrouprule quota security group creation tracked resources quota check done beginning api call neutron server api call contains resource action resource case creation server checks number items requested fit existing quota case security group creation tracked resource checked securitygroup securitygroupdbmixincreatesecuritygroup method also creates several default rules new group quota securitygrouprule enforced patch checks number security group rules created delta checks plugin method api method enough room new rules tracked resource securitygrouprule changeid i0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 closesbug 1858680
https://review.opendev.org/704455,Security: System security option includes nospectre_v1,"Security: System security option is now spectre_meltdown_low Most of the v1 mitigation is baked into the kernel and not optional. The swapgs barriers are, however, optional. They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg. This leaves the system security option spectre_meltdown_v1 too confusing, so we have renamed it. Partial-Bug: 1860193 Depends-On: https://review.opendev.org/#/c/704406 Change-Id: I6281166c53b13124800b4061ebe08f85d5175d6a Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>",28652,Jim Somerville,"[22348, 28286, 28339, 28431, 29025, 29898]","['Zuul', 'Bruce Jones', 'Jose Perez Carranza', 'Don Penney', 'Yang Liu', 'Juan Carlos Alonso']",security system security option spectremeltdownlow v1 mitigation baked kernel optional swapgs barriers however optional negative performance impact disable using nospectrev1 kernel bootarg leaves system security option spectremeltdownv1 confusing renamed partialbug 1860193 dependson httpsreviewopendevorgc704406 changeid i6281166c53b13124800b4061ebe08f85d5175d6a signedoffby jim somerville jimsomervillewindrivercom
https://review.opendev.org/704447,Security: Add nospectre_v1 to the security params,"Security: Add nospectre_v1 to the security params Most of the v1 mitigation is baked into the kernel and not optional. The swapgs barriers are, however, optional. They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg. Partial-Bug: 1860193 Depends-On: https://review.opendev.org/#/c/704406 Change-Id: Iaa11ba3f430fc064ebda679cf290474d3be413da Signed-off-by: Jim Somerville <Jim.Somerville@windriver.com>",28652,Jim Somerville,"[9926, 14174, 22348, 28431, 28486]","['John Kung', 'Bart Wensley', 'Zuul', 'Don Penney', 'Tee Ngo']",security add nospectrev1 security params v1 mitigation baked kernel optional swapgs barriers however optional negative performance impact disable using nospectrev1 kernel bootarg partialbug 1860193 dependson httpsreviewopendevorgc704406 changeid iaa11ba3f430fc064ebda679cf290474d3be413da signedoffby jim somerville jimsomervillewindrivercom
https://review.opendev.org/701372,Positive tests for security group quota,Positive tests for security group quota Added positive tests for security group quota according to RHOSP7-3467 polarion test case Change-Id: I833e5d5e67ef7555c9e6a54613b7324310079b0b,31450,Alex Katz,"[1131, 11975, 16688, 22348, 31450]","['Brian Haley', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Zuul', 'Alex Katz']",positive tests security group quota added positive tests security group quota according rhosp73467 polarion test case changeid i833e5d5e67ef7555c9e6a54613b7324310079b0b
https://review.opendev.org/703881,Tiller-deploy: Add pod/container security context,Tiller-deploy: Add pod/container security context This updates the tiller chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I08694e58d057c04f7ba30ded5dca1207ceaac5e2,29161,Rahul Khiyani,"[22348, 22477, 27715, 28618, 29144]","['Zuul', 'Matt McEuen', 'Sean Eagan', 'Drew Walters', 'PRATEEK REDDY DODDA']",tillerdeploy add podcontainer security context updates tiller chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i08694e58d057c04f7ba30ded5dca1207ceaac5e2
https://review.opendev.org/702195,Add pagination to Security Groups table in Launch Instance wizard,Refactor Launch Instance dialog Security Groups table Security Groups table in Angular Launch Instance wizard is refactored using <hz-dynamic-table>. This adds table pagination and makes the code more readable. Change-Id: Iaff9e1f3c834a2bdb5823249de632ce472811a7d,6914,Tatiana Ovchinnikova,"[841, 1736, 6914, 22348]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Tatiana Ovchinnikova', 'Zuul']",refactor launch instance dialog security groups table security groups table angular launch instance wizard refactored using hzdynamictable adds table pagination makes code readable changeid iaff9e1f3c834a2bdb5823249de632ce472811a7d
https://review.opendev.org/558412,Add option to run performance tasks with security disabled,[DNM] Checking performance after disabling security Change-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87,13861,yatin,"[8367, 8449, 8652, 9592, 9976, 10022, 10969, 13861, 18846, 22348, 23181, 24162, 24752]","['Arx Cruz', 'Marios Andreou', 'Attila Darazs', 'wes hayutin', 'Ronelle Landy', 'Gabriele Cerami', 'Shnaidman Sagi (Sergey)', 'yatin', 'RedHat RDO CI', 'Zuul', 'RDO Third Party CI', 'Sorin Sbârnea', 'RedHat RDO Downstream CI']",dnm checking performance disabling security changeid if6f0bc02db6932aa8f367e38cc82df85063eaf87
https://review.opendev.org/697518,Improve metadata server performance with large security groups,"Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server, since we don't need them there, and with >1000 rules, it starts to get really slow, especially in Pike and later. Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parkside.io> Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2) (cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636) (cherry picked from commit 38b2f68a17533e839819e654825613aefd4effd4)",6873,Matt Riedemann,"[10118, 10135, 10980, 17685, 22348, 26515, 29963]","['IBM PowerKVM CI', 'Lee Yarwood', 'Doug Wiegley', 'Elod Illes', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",improve metadata server performance large security groups dont include rules sg fetch metadata server since dont need 1000 rules starts get really slow especially pike later closesbug 1851430 coauthoredby doug wiegley dougwigparksideio coauthoredby matt riedemann mriedemosgmailcom changeid i7de14456d04370c842b4c35597dca3a628a826a2 cherry picked commit eaf16fdde59a14fb38df669b21a911a0c2d2576f cherry picked commit 418af2d865809cfa907678f883dae07f4f31baa2 cherry picked commit fec95a2e4f763e15193504483383f918feb3e636 cherry picked commit 38b2f68a17533e839819e654825613aefd4effd4
https://review.opendev.org/697505,Cache security group driver,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot. That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton. This caches the loaded security group driver once again. This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag. Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018 (cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8) (cherry picked from commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63) (cherry picked from commit 99048af872743638b3628555e96351e00bf1eb7e),6873,Matt Riedemann,"[10118, 10135, 17685, 22348, 22623, 26515, 29963]","['IBM PowerKVM CI', 'Lee Yarwood', 'Elod Illes', 'Zuul', 'Erik Olof Gunnar Andersson', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",cache security group driver change i0932c652fb455fe10239215a93e183ea947234e3 mitaka performance improvement cache loaded security group driver since api calls getopenstacksecuritygroupdriver lot performance fix regressed change ia4a8d9954bf456253101b936f8b4ff513aaa73b2 newton caches loaded security group driver pretty similar original change except simpler since dont account skippolicycheck flag changeid icacc763f19db6dc90e72af32e17d480775ad5edf closesbug 1825018 cherry picked commit 0461921d9e5313c3e92b039b90f713ed961e20c8 cherry picked commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63 cherry picked commit 99048af872743638b3628555e96351e00bf1eb7e
https://review.opendev.org/785614,"Revert ""Cache default security group IDs in memory""","Revert ""Cache default security group IDs in memory"" This reverts commit 433deed0b72d3e7dbee5fc9e241f7d6c46bbfa96. Reason for revert: https://bugs.launchpad.net/neutron/+bug/1923470 Change-Id: I7d6d884936916602fb21a6f268250c823d415e6b Closes-Bug: #1923470",5948,Oleg Bondarev,"[8313, 9531, 9845, 11975, 15554, 16688, 22348, 32667]","['Lajos Katona', 'liuyulong', 'Arista CI', 'Slawek Kaplonski', 'Bence Romsics', 'Rodolfo Alonso', 'Zuul', 'Mamatisa Nurmatov']",revert cache default security group ids memory reverts commit 433deed0b72d3e7dbee5fc9e241f7d6c46bbfa96 reason revert httpsbugslaunchpadnetneutronbug1923470 changeid i7d6d884936916602fb21a6f268250c823d415e6b closesbug 1923470
https://review.opendev.org/697517,Improve metadata server performance with large security groups,"Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server, since we don't need them there, and with >1000 rules, it starts to get really slow, especially in Pike and later. Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parkside.io> Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2) (cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636)",6873,Matt Riedemann,"[10118, 10135, 10980, 17685, 22348, 22623, 26458, 26515, 29963]","['IBM PowerKVM CI', 'Lee Yarwood', 'Doug Wiegley', 'Elod Illes', 'Zuul', 'Erik Olof Gunnar Andersson', 'Brin Zhang', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",improve metadata server performance large security groups dont include rules sg fetch metadata server since dont need 1000 rules starts get really slow especially pike later closesbug 1851430 coauthoredby doug wiegley dougwigparksideio coauthoredby matt riedemann mriedemosgmailcom changeid i7de14456d04370c842b4c35597dca3a628a826a2 cherry picked commit eaf16fdde59a14fb38df669b21a911a0c2d2576f cherry picked commit 418af2d865809cfa907678f883dae07f4f31baa2 cherry picked commit fec95a2e4f763e15193504483383f918feb3e636
https://review.opendev.org/696517,nova-net: Add TODOs to remove security group-related objects,objects: Add TODOs to remove security group-related objects These only applied to nova-network and can be safely removed now. Change-Id: I2bcc579ae047a65233855b8f976d5d2c99ff7bae Signed-off-by: Stephen Finucane <sfinucan@redhat.com>,15334,Stephen Finucane,"[9008, 9708, 10118, 14070, 14384, 15334, 15941, 22348, 23498, 26515, 29963]","['VMware NSX CI', 'Balazs Gibizer', 'IBM PowerKVM CI', 'Eric Fried', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",objects add todos remove security grouprelated objects applied novanetwork safely removed changeid i2bcc579ae047a65233855b8f976d5d2c99ff7bae signedoffby stephen finucane sfinucanredhatcom
https://review.opendev.org/700568,Introduce bandit security linter,"Introduce bandit security linter Cyborg now does not have a code security check, which may connive at possible security issues. For example, shell-related operations for drivers may be insecure. Current ""sudo lspci -nnn -D"" in huawei ascend driver code[0] is insecure, but there is no any job/test that can check the potential security issues. So this patch introduces bandit as a code security check. [0]:https://github.com/openstack/cyborg/blob/master/cyborg/accelerator/drivers/aichip/huawei/ascend.py#L69 Change-Id: Ia1f9acbbd176180cb5fe97b1a2eee5f98a95dea6",24872,YumengBao,"[14107, 21672, 22348, 24872, 25738, 28748]","['zhurong', 'Sundar Nadathur', 'Zuul', 'YumengBao', 'Xinran WANG', 'chenker']",introduce bandit security linter cyborg code security check may connive possible security issues example shellrelated operations drivers may insecure current sudo lspci nnn huawei ascend driver code0 insecure jobtest check potential security issues patch introduces bandit code security check 0httpsgithubcomopenstackcyborgblobmastercyborgacceleratordriversaichiphuaweiascendpyl69 changeid ia1f9acbbd176180cb5fe97b1a2eee5f98a95dea6
https://review.opendev.org/701594,Support for adding raw service entries in security policy rules.,Support for adding raw service entries in security policy rules. Change-Id: I8f885c7905417d6b6a7c88b304c92d0d4b37f085,31476,Enhao Cui,"[7018, 9008, 10068, 17734, 20363, 22348, 24247, 31476]","['Abhishek Raut', 'VMware NSX CI', 'Welcome, new contributor!', 'Shih-Hao Li', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky', 'Enhao Cui']",support adding raw service entries security policy rules changeid i8f885c7905417d6b6a7c88b304c92d0d4b37f085
https://review.opendev.org/699654,Add 'unknown' to the address list if the port's port security is disabled,"Add 'unknown' to the address list if the port's port security is disabled When a port's port security is disabled then the port should be allowed to use any mac address. And for this to work, OVN expects 'unknown' address to be added into the Logical_Switch_Port.addresses column. This patch adds this 'unknown' address if the port security is disabled. Change-Id: I5f25f4d4b2acccada3ab2944e9cfd2461149ef3e Closes-bug: #1815270 Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com> (cherry picked from commit ef5e9d31ecb12c194a344a46d578b1584e7fb49f)",24791,Maciej Jozefczyk,"[6773, 10237, 21798, 22348, 24791]","['Lucas Alvares Gomes', 'Numan Siddique', 'Bernard Cafarelli', 'Zuul', 'Maciej Jozefczyk']",add unknown address list ports port security disabled ports port security disabled port allowed use mac address work ovn expects unknown address added logicalswitchportaddresses column patch adds unknown address port security disabled changeid i5f25f4d4b2acccada3ab2944e9cfd2461149ef3e closesbug 1815270 coauthoredby lucas alvares gomes lucasagomesgmailcom cherry picked commit ef5e9d31ecb12c194a344a46d578b1584e7fb49f
https://review.opendev.org/699660,Add 'unknown' to the address list if the port's port security is disabled,"Add 'unknown' to the address list if the port's port security is disabled When a port's port security is disabled then the port should be allowed to use any mac address. And for this to work, OVN expects 'unknown' address to be added into the Logical_Switch_Port.addresses column. This patch adds this 'unknown' address if the port security is disabled. Change-Id: I5f25f4d4b2acccada3ab2944e9cfd2461149ef3e Closes-bug: #1815270 Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com> (cherry picked from commit ef5e9d31ecb12c194a344a46d578b1584e7fb49f)",24791,Maciej Jozefczyk,"[6773, 10237, 21798, 22348]","['Lucas Alvares Gomes', 'Numan Siddique', 'Bernard Cafarelli', 'Zuul']",add unknown address list ports port security disabled ports port security disabled port allowed use mac address work ovn expects unknown address added logicalswitchportaddresses column patch adds unknown address port security disabled changeid i5f25f4d4b2acccada3ab2944e9cfd2461149ef3e closesbug 1815270 coauthoredby lucas alvares gomes lucasagomesgmailcom cherry picked commit ef5e9d31ecb12c194a344a46d578b1584e7fb49f
https://review.opendev.org/696512,nova-net: Remove nova-network security group driver,nova-net: Remove nova-network security group driver This is another self-explanatory change. We remove the driver along with related tests. Some additional API tests need to be fixed since these were using the nova-network security group driver. Change-Id: Ia05215b2e7168563c54b78263625125537b7234c Signed-off-by: Stephen Finucane <sfinucan@redhat.com>,15334,Stephen Finucane,"[6873, 7166, 9008, 10118, 14384, 15334, 15941, 22348, 23498, 26515, 29963]","['Matt Riedemann', 'Sylvain Bauza', 'VMware NSX CI', 'IBM PowerKVM CI', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",novanet remove novanetwork security group driver another selfexplanatory change remove driver along related tests additional api tests need fixed since using novanetwork security group driver changeid ia05215b2e7168563c54b78263625125537b7234c signedoffby stephen finucane sfinucanredhatcom
https://review.opendev.org/695925,Improve metadata server performance with large security groups,"Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server, since we don't need them there, and with >1000 rules, it starts to get really slow, especially in Pike and later. Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parkside.io> Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2)",6873,Matt Riedemann,"[6873, 10118, 10135, 10980, 11904, 17685, 22348, 26515, 29963]","['Matt Riedemann', 'IBM PowerKVM CI', 'Lee Yarwood', 'Doug Wiegley', 'Sean McGinnis', 'Elod Illes', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",improve metadata server performance large security groups dont include rules sg fetch metadata server since dont need 1000 rules starts get really slow especially pike later closesbug 1851430 coauthoredby doug wiegley dougwigparksideio coauthoredby matt riedemann mriedemosgmailcom changeid i7de14456d04370c842b4c35597dca3a628a826a2 cherry picked commit eaf16fdde59a14fb38df669b21a911a0c2d2576f cherry picked commit 418af2d865809cfa907678f883dae07f4f31baa2
https://review.opendev.org/697480,Cache security group driver,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot. That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton. This caches the loaded security group driver once again. This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag. Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018 (cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8) (cherry picked from commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63),6873,Matt Riedemann,"[6873, 10118, 10135, 22348, 26515, 29963]","['Matt Riedemann', 'IBM PowerKVM CI', 'Lee Yarwood', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",cache security group driver change i0932c652fb455fe10239215a93e183ea947234e3 mitaka performance improvement cache loaded security group driver since api calls getopenstacksecuritygroupdriver lot performance fix regressed change ia4a8d9954bf456253101b936f8b4ff513aaa73b2 newton caches loaded security group driver pretty similar original change except simpler since dont account skippolicycheck flag changeid icacc763f19db6dc90e72af32e17d480775ad5edf closesbug 1825018 cherry picked commit 0461921d9e5313c3e92b039b90f713ed961e20c8 cherry picked commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63
https://review.opendev.org/697475,Cache security group driver,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot. That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton. This caches the loaded security group driver once again. This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag. Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018 (cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8),6873,Matt Riedemann,"[4690, 10118, 10135, 22348, 26515, 29963]","['melanie witt', 'IBM PowerKVM CI', 'Lee Yarwood', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",cache security group driver change i0932c652fb455fe10239215a93e183ea947234e3 mitaka performance improvement cache loaded security group driver since api calls getopenstacksecuritygroupdriver lot performance fix regressed change ia4a8d9954bf456253101b936f8b4ff513aaa73b2 newton caches loaded security group driver pretty similar original change except simpler since dont account skippolicycheck flag changeid icacc763f19db6dc90e72af32e17d480775ad5edf closesbug 1825018 cherry picked commit 0461921d9e5313c3e92b039b90f713ed961e20c8
https://review.opendev.org/696508,nova-net: Drop nova-network-base security group tests,"nova-net: Drop nova-network-base security group tests A future change will drop the actual security group driver. For now, just focus on merging the two disparate test cases, which is easier said than done. Change-Id: Idd0b741760601aaccca4adfc5101c3539ba9ec09 Signed-off-by: Stephen Finucane <sfinucan@redhat.com>",15334,Stephen Finucane,"[6873, 9008, 14070, 14384, 15334, 15941, 22348, 23498, 26515, 29963]","['Matt Riedemann', 'VMware NSX CI', 'Eric Fried', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",novanet drop novanetworkbase security group tests future change drop actual security group driver focus merging two disparate test cases easier said done changeid idd0b741760601aaccca4adfc5101c3539ba9ec09 signedoffby stephen finucane sfinucanredhatcom
https://review.opendev.org/681584,Move security site to AFS publishing,Move security site to AFS publishing Move from promoting to static.o.o for the security site to publish via promote to AFS. Change-Id: I18404d8fa79566de1bee1ac5760b8a440e885df8,6547,Andreas Jaeger,"[1004, 6547, 7118, 22348]","['Mohammed Naser', 'Andreas Jaeger', 'Ian Wienand', 'Zuul']",move security site afs publishing move promoting staticoo security site publish via promote afs changeid i18404d8fa79566de1bee1ac5760b8a440e885df8
https://review.opendev.org/697122,Cache security group driver,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot. That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton. This caches the loaded security group driver once again. This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag. Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018,6873,Matt Riedemann,"[6873, 9008, 10118, 11604, 14070, 14384, 15334, 15941, 22348, 23498, 26515, 29963]","['Matt Riedemann', 'VMware NSX CI', 'IBM PowerKVM CI', 'sean mooney', 'Eric Fried', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",cache security group driver change i0932c652fb455fe10239215a93e183ea947234e3 mitaka performance improvement cache loaded security group driver since api calls getopenstacksecuritygroupdriver lot performance fix regressed change ia4a8d9954bf456253101b936f8b4ff513aaa73b2 newton caches loaded security group driver pretty similar original change except simpler since dont account skippolicycheck flag changeid icacc763f19db6dc90e72af32e17d480775ad5edf closesbug 1825018
https://review.opendev.org/785098,[nsx_v3] Register security group resources at startup,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group. Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",nsxv3 register security group resources startup avoid error quota manager trying create security group rules default security group changeid i85a46931a96f90a084af10e85f9155c8ed850195
https://review.opendev.org/777605,Cache default security group IDs in memory,Cache default security group IDs in memory Getting default SG for a project is quite a frequent operation that happens for example on each port create/update events. Since default SG id does not change often for a project/tenant (if at all) it makes sense to cache it in memory to avoid DB access each time. Change-Id: I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4,5948,Oleg Bondarev,"[8313, 9845, 11975, 22348]","['Lajos Katona', 'Arista CI', 'Slawek Kaplonski', 'Zuul']",cache default security group ids memory getting default sg project quite frequent operation happens example port createupdate events since default sg id change often projecttenant makes sense cache memory avoid db access time changeid i2493eb65ddd548435cf846e1ae7ac65ce8bc14a4
https://review.opendev.org/692876,Implement Security Context for Nova,Implement Security Context for Nova Implement container security context for the following Nova resources: - Nova server deployment Change-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17130, 17591, 20466, 22348, 22477, 23928, 26297, 28543, 28614, 28618, 29131, 29144, 29298]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'melissaml', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Andriy Shevchenko', 'Vieri', 'jacky06', 'Drew Walters', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",implement security context nova implement container security context following nova resources nova server deployment changeid ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8
https://review.opendev.org/693229,Mini-mirror: Add pod/container security context,Mini-mirror: Add pod/container security context This updates the Mini-mirror chart to include the pod security context on the pod template Change-Id: Id987f3bb38e257c74db8254096743a61514f3397,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17130, 17591, 20466, 22348, 22477, 23928, 23950, 28543, 28618, 29131, 29144]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'melissaml', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Eric Xie', 'Vieri', 'Drew Walters', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA']",minimirror add podcontainer security context updates minimirror chart include pod security context pod template changeid id987f3bb38e257c74db8254096743a61514f3397
https://review.opendev.org/692934,Implement Security Context for Neutron,Implement Security Context for Neutron Implement container security context for the following Nova resources: - Neutron metadata_agent - Neutron ovs_agent Change-Id: If8246450f8ebd62a0c5999f832ec59796355ee78,29144,PRATEEK REDDY DODDA,"[7769, 8898, 12281, 17130, 17591, 20466, 22348, 22477, 23928, 28543, 28614, 29131, 29144]","['Pentheus', 'Chris Wedgwood', 'Itxaka', 'melissaml', 'Steve Wilkerson', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Pete Birley', 'Vieri', 'jacky06', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA']",implement security context neutron implement container security context following nova resources neutron metadataagent neutron ovsagent changeid if8246450f8ebd62a0c5999f832ec59796355ee78
https://review.opendev.org/693054,Calicoctl-utility: Add pod/container security context,Calicoctl-utility: Add pod/container security context This updates the calicoctl-utility chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I5fa54165f0409ca56dd8aafeda028a7398122c4b,29161,Rahul Khiyani,"[9079, 22348, 22477, 22713, 29131, 29144, 29298]","['Sreejith P', 'Zuul', 'Matt McEuen', 'Sreejith Punnapuzha', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",calicoctlutility add podcontainer security context updates calicoctlutility chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i5fa54165f0409ca56dd8aafeda028a7398122c4b
https://review.opendev.org/693037,Ceph-utility: Add pod/container security context,Ceph-utility: Add pod/container security context This updates the ceph-utility chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I412c88bf3441260ea8e353e6a6f783af88b44575,29161,Rahul Khiyani,"[22348, 22477, 22713, 23928, 24780, 29131, 29144, 29298]","['Zuul', 'Matt McEuen', 'Sreejith Punnapuzha', 'Pete Birley', 'Sangeet Gupta', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",cephutility add podcontainer security context updates cephutility chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i412c88bf3441260ea8e353e6a6f783af88b44575
https://review.opendev.org/693038,Compute-utility: Add pod/container security context,Compute-utility: Add pod/container security context This updates the compute-utility chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I769b75a54e4b384fb6756176026bd6f1228220c3,29161,Rahul Khiyani,"[9079, 22348, 22477, 22713, 29131, 29144, 29298]","['Sreejith P', 'Zuul', 'Matt McEuen', 'Sreejith Punnapuzha', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",computeutility add podcontainer security context updates computeutility chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i769b75a54e4b384fb6756176026bd6f1228220c3
https://review.opendev.org/693039,Etcdctl-utility: Add pod/container security context,Etcdctl-utility: Add pod/container security context This updates the etcdctl-utility chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ifebf03f7ccdd6515eb0bc757c1e727d68ee5a4ea,29161,Rahul Khiyani,"[9079, 22348, 22477, 22713, 29131, 29144, 29298]","['Sreejith P', 'Zuul', 'Matt McEuen', 'Sreejith Punnapuzha', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",etcdctlutility add podcontainer security context updates etcdctlutility chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid ifebf03f7ccdd6515eb0bc757c1e727d68ee5a4ea
https://review.opendev.org/693047,Openstack-utility: Add pod/container security context,Openstack-utility: Add pod/container security context This updates the openstack-utility chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ie9ce49bfa69b7e835b113340d908f96429039d94,29161,Rahul Khiyani,"[9079, 22348, 22477, 22713, 29131, 29144, 29298]","['Sreejith P', 'Zuul', 'Matt McEuen', 'Sreejith Punnapuzha', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",openstackutility add podcontainer security context updates openstackutility chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid ie9ce49bfa69b7e835b113340d908f96429039d94
https://review.opendev.org/693049,Postgresql-utility: Add pod/container security context,Postgresql-utility: Add pod/container security context This updates the postgresql-utility chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I84664883aaefd8bef679222a7c943f66eb93bad7,29161,Rahul Khiyani,"[9079, 22348, 22477, 22713, 28208, 29131, 29144, 29298]","['Sreejith P', 'Zuul', 'Matt McEuen', 'Sreejith Punnapuzha', 'Roman Gorshunov', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",postgresqlutility add podcontainer security context updates postgresqlutility chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i84664883aaefd8bef679222a7c943f66eb93bad7
https://review.opendev.org/693044,Mysqlclient-utility: Add pod/container security context,Mysqlclient-utility: Add pod/container security context This updates the Mysqlclient-utility chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I9c434f83cd9f03013f6ab9e3279da35a6d9d3893,29161,Rahul Khiyani,"[9079, 22348, 22477, 22713, 29131, 29144, 29298]","['Sreejith P', 'Zuul', 'Matt McEuen', 'Sreejith Punnapuzha', 'diwakar thyagaraj', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva']",mysqlclientutility add podcontainer security context updates mysqlclientutility chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i9c434f83cd9f03013f6ab9e3279da35a6d9d3893
https://review.opendev.org/689050,Update security group rule if port range is all ports,"Update security group rule if port range is all ports A security group rule where port_range_min:port_range_max is 1:65535 is specifying all ports, but it is not optimal for backends to try and implement this potentially large rule. Since it is essentially the entire port range, change min:max to be None, making the rule specify the entire protocol instead. Change-Id: Iff22e2fc84d679e20a5a04b8516750c6ea949078 Closes-bug: #1848213",1131,Brian Haley,"[841, 1131, 4694, 5756, 9531, 9845, 11975, 13995, 16376, 17130, 22348, 24791, 26297, 26622, 27336, 27654, 28543]","['Akihiro Motoki', 'Brian Haley', 'Miguel Lavalle', 'Terry Wilson', 'liuyulong', 'Arista CI', 'Slawek Kaplonski', 'Nate Johnston', 'Intel NFV CI', 'melissaml', 'Zuul', 'Maciej Jozefczyk', 'Andriy Shevchenko', 'Cloudbase Neutron Hyper-V CI', 'XiaojueGuan', 'Hongbin Lu', 'Vieri']",update security group rule port range ports security group rule portrangeminportrangemax 165535 specifying ports optimal backends try implement potentially large rule since essentially entire port range change minmax none making rule specify entire protocol instead changeid iff22e2fc84d679e20a5a04b8516750c6ea949078 closesbug 1848213
https://review.opendev.org/694409,Improve metadata server performance with large security groups,"Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server, since we don't need them there, and with >1000 rules, it starts to get really slow, especially in Pike and later. Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parkside.io> Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f)",6873,Matt Riedemann,"[10118, 10135, 10980, 14595, 17685, 22348, 26515, 29963]","['IBM PowerKVM CI', 'Lee Yarwood', 'Doug Wiegley', 'IBM zKVM CI', 'Elod Illes', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",improve metadata server performance large security groups dont include rules sg fetch metadata server since dont need 1000 rules starts get really slow especially pike later closesbug 1851430 coauthoredby doug wiegley dougwigparksideio coauthoredby matt riedemann mriedemosgmailcom changeid i7de14456d04370c842b4c35597dca3a628a826a2 cherry picked commit eaf16fdde59a14fb38df669b21a911a0c2d2576f
https://review.opendev.org/686808,nova-net: Remove unused '*_default_rules' security group DB APIs,"nova-net: Remove unused '*_default_rules' security group DB APIs With the API removed, nothing is using these anymore. Remove them. Change-Id: Id303edc0e3b4af5647ce171b7763e094d1aa244c Signed-off-by: Stephen Finucane <sfinucan@redhat.com>",15334,Stephen Finucane,"[8556, 9008, 9708, 9732, 10118, 14070, 14384, 14595, 15334, 15941, 16128, 16376, 22348, 23498, 26458, 26515, 29963]","['Ghanshyam', 'VMware NSX CI', 'Balazs Gibizer', 'Mellanox CI', 'IBM PowerKVM CI', 'Eric Fried', 'Quobyte CI', 'IBM zKVM CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Zuul', 'IBM zVM CI', 'Brin Zhang', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",novanet remove unused defaultrules security group db apis api removed nothing using anymore remove changeid id303edc0e3b4af5647ce171b7763e094d1aa244c signedoffby stephen finucane sfinucanredhatcom
https://review.opendev.org/692210,Implement Security Context for Armada,Implement Security Context for Armada Implement readOnlyRootFilesystem:true for init container - Armada server deployment Change-Id: Ifbc48bef07eab97c015b65a1941a526fc6a28c6d,29144,PRATEEK REDDY DODDA,"[7769, 8749, 22348, 22477, 23186, 23928, 26628, 26686, 27715, 28208, 28235, 28618, 29131, 29161]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'diwakar thyagaraj', 'Rahul Khiyani']",implement security context armada implement readonlyrootfilesystemtrue init container armada server deployment changeid ifbc48bef07eab97c015b65a1941a526fc6a28c6d
https://review.opendev.org/695135,NSX|P: Use transactions for security groups and rules creation,NSX|P: Use transactions for security groups and rules creation Change-Id: I470b2a349fb46c7af3e450db240d9cdca2f6b70c,20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp use transactions security groups rules creation changeid i470b2a349fb46c7af3e450db240d9cdca2f6b70c
https://review.opendev.org/694030,NSX|P: Use transactions for security groups and rules creation,NSX|P: Use transactions for security groups and rules creation Change-Id: I470b2a349fb46c7af3e450db240d9cdca2f6b70c,20363,Adit Sarfaty,"[9008, 20363, 22348, 24247]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxp use transactions security groups rules creation changeid i470b2a349fb46c7af3e450db240d9cdca2f6b70c
https://review.opendev.org/656084,Improve metadata server performance with large security groups,"Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server, since we don't need them there, and with >1000 rules, it starts to get really slow, especially in Pike and later. Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2",10980,Doug Wiegley,"[4690, 6873, 9008, 10118, 10980, 14070, 14384, 14595, 15334, 15751, 15941, 16128, 16376, 16898, 22348, 23498, 26515, 29963]","['melanie witt', 'Matt Riedemann', 'VMware NSX CI', 'IBM PowerKVM CI', 'Doug Wiegley', 'Eric Fried', 'Quobyte CI', 'IBM zKVM CI', 'Stephen Finucane', 'Intel PCI CI', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Virtuozzo CI', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",improve metadata server performance large security groups dont include rules sg fetch metadata server since dont need 1000 rules starts get really slow especially pike later changeid i7de14456d04370c842b4c35597dca3a628a826a2
https://review.opendev.org/685902,Fixing provider security group cases,Fixing provider security group cases In with nsxv3 nsxp client was called. Reverting chnage. Change-Id: I9e21353adf87e34afc0a62dded6a1c181fcf7d9c,28451,Shubham Kadam,"[22348, 28451]","['Zuul', 'Shubham Kadam']",fixing provider security group cases nsxv3 nsxp client called reverting chnage changeid i9e21353adf87e34afc0a62dded6a1c181fcf7d9c
https://review.opendev.org/692215,Implement Security Context for Haproxy,Implement Security Context for Haproxy Implement readOnlyRootFilesystem:true for init container Change-Id: I736b0ffd349379d6ceb6ca599021fcbe9eb54923,29144,PRATEEK REDDY DODDA,"[7769, 8749, 22348, 22477, 23186, 23928, 26628, 26686, 27715, 28208, 28235, 28618, 30784]","['Pentheus', 'Evgeniy L', 'Zuul', 'Matt McEuen', 'Felipe Monteiro', 'Pete Birley', 'Kaspars Skels', 'Craig Anderson', 'Sean Eagan', 'Roman Gorshunov', 'Aaron Sheffield', 'Drew Walters', 'Trung Thai']",implement security context haproxy implement readonlyrootfilesystemtrue init container changeid i736b0ffd349379d6ceb6ca599021fcbe9eb54923
https://review.opendev.org/693651,NSXP: place project id in security rule tag,NSXP: place project id in security rule tag Depends-on: I6b8e3b3a11879263cfcc723ec03d6cefdc910f97 Change-Id: I9d3f9238c3f08d704ca495e5059f57b279c93271,20363,Adit Sarfaty,"[9008, 13438, 20363, 22348]","['VMware NSX CI', 'Kobi Samoray', 'Adit Sarfaty', 'Zuul']",nsxp place project id security rule tag dependson i6b8e3b3a11879263cfcc723ec03d6cefdc910f97 changeid i9d3f9238c3f08d704ca495e5059f57b279c93271
https://review.opendev.org/692486,Proxy: Add pod/container security context,Proxy: Add pod/container security context This updates the proxy chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I4e6d2836aa9d548118937b6b176e06fbc4a8c7ee,29161,Rahul Khiyani,"[22348, 22477, 28618, 29144, 29161, 30784]","['Zuul', 'Matt McEuen', 'Drew Walters', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Trung Thai']",proxy add podcontainer security context updates proxy chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i4e6d2836aa9d548118937b6b176e06fbc4a8c7ee
https://review.opendev.org/692907,Remove redundant call to get/create default security group,"Remove redundant call to get/create default security group In the instance_create DB API method, it ensures the (legacy) default security group gets created for the specified project_id if it does not already exist. If the security group does not exist, it is created in a separate transaction. Later in the instance_create method, it reads the default security group back that it wrote earlier (via the same ensure default security group code). But since it was written in a separate transaction, the current transaction will not be able to see it and will get back 0 rows. So, it creates a duplicate default security group record if project_id=NULL (which it will be, if running nova-manage db online_data_migrations, which uses an anonymous RequestContext with project_id=NULL). This succeeds despite the unique constraint on project_id because in MySQL, unique constraints are only enforced on non-NULL values [1]. To avoid creation of a duplicate default security group for project_id=NULL, we can use the default security group object that was returned from the first security_group_ensure_default call earlier in instance_create method and remove the second, redundant call. This also breaks out the security groups setup code from a nested method as it was causing confusion during code review and is not being used for any particular purpose. Inspection of the original commit where it was added in 2012 [2] did not contain any comments about the nested method and it appeared to either be a way to organize the code or a way to reuse the 'models' module name as a local variable name. Closes-Bug: #1824435 [1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique [2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339 Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9 (cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a) (cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)",4690,melanie witt,"[6873, 7634, 10118, 10135, 14595, 22348, 26515, 29963]","['Matt Riedemann', 'Takashi Natsume', 'IBM PowerKVM CI', 'Lee Yarwood', 'IBM zKVM CI', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",remove redundant call getcreate default security group instancecreate db api method ensures legacy default security group gets created specified projectid already exist security group exist created separate transaction later instancecreate method reads default security group back wrote earlier via ensure default security group code since written separate transaction current transaction able see get back 0 rows creates duplicate default security group record projectidnull running novamanage db onlinedatamigrations uses anonymous requestcontext projectidnull succeeds despite unique constraint projectid mysql unique constraints enforced nonnull values 1 avoid creation duplicate default security group projectidnull use default security group object returned first securitygroupensuredefault call earlier instancecreate method remove second redundant call also breaks security groups setup code nested method causing confusion code review used particular purpose inspection original commit added 2012 2 contain comments nested method appeared either way organize code way reuse models module name local variable name closesbug 1824435 1 httpsdevmysqlcomdocrefman80encreateindexhtmlcreateindexunique 2 httpsreviewopendevorgc89732novadbsqlalchemyapipy1339 changeid idb205ab5b16bbf96965418cd544016fa9cc92de9 cherry picked commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a cherry picked commit 416290f1938631a95aaaf92a41f455ebf75b0732
https://review.opendev.org/692485,Apiserver: Add pod/container security context,Apiserver: Add pod/container security context This updates the apiserver chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I76d80c4cbf40d1e3e518a3d2969c86f4d5c8c3f4,29161,Rahul Khiyani,"[22348, 22477, 28618, 29144, 29161, 30784]","['Zuul', 'Matt McEuen', 'Drew Walters', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Trung Thai']",apiserver add podcontainer security context updates apiserver chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i76d80c4cbf40d1e3e518a3d2969c86f4d5c8c3f4
https://review.opendev.org/692487,Scheduler: Add pod/container security context,Scheduler: Add pod/container security context This updates the scheduler chart to include the pod security context on the pod template. This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I11d8d8188cb94a39ca1891844e9c282dbbda56f9,29161,Rahul Khiyani,"[22348, 22477, 28618]","['Zuul', 'Matt McEuen', 'Drew Walters']",scheduler add podcontainer security context updates scheduler chart include pod security context pod template also adds container security context set readonlyrootfilesystem flag true changeid i11d8d8188cb94a39ca1891844e9c282dbbda56f9
https://review.opendev.org/692845,Adding missing readOnlyRootFilesystem flag for container security context,Adding missing readOnlyRootFilesystem flag for container security context Change-Id: Ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b,29161,Rahul Khiyani,"[8898, 22348, 22477, 23928, 29144, 29298, 30784]","['Chris Wedgwood', 'Zuul', 'Matt McEuen', 'Pete Birley', 'PRATEEK REDDY DODDA', 'Jagan Mohan Kavva', 'Trung Thai']",adding missing readonlyrootfilesystem flag container security context changeid ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b
https://review.opendev.org/693233,Fix BMC security config,"Fix BMC security config It was only enabled for SD530, extend the support for non-D2 platform servers. Change-Id: I3dfa02b1eef4baedc12e0e031278c7bc49627e4e",7902,Jarrod Johnson,"[7902, 22348]","['Jarrod Johnson', 'Zuul']",fix bmc security config enabled sd530 extend support nond2 platform servers changeid i3dfa02b1eef4baedc12e0e031278c7bc49627e4e
https://review.opendev.org/691403,Remove redundant call to get/create default security group,"Remove redundant call to get/create default security group In the instance_create DB API method, it ensures the (legacy) default security group gets created for the specified project_id if it does not already exist. If the security group does not exist, it is created in a separate transaction. Later in the instance_create method, it reads the default security group back that it wrote earlier (via the same ensure default security group code). But since it was written in a separate transaction, the current transaction will not be able to see it and will get back 0 rows. So, it creates a duplicate default security group record if project_id=NULL (which it will be, if running nova-manage db online_data_migrations, which uses an anonymous RequestContext with project_id=NULL). This succeeds despite the unique constraint on project_id because in MySQL, unique constraints are only enforced on non-NULL values [1]. To avoid creation of a duplicate default security group for project_id=NULL, we can use the default security group object that was returned from the first security_group_ensure_default call earlier in instance_create method and remove the second, redundant call. This also breaks out the security groups setup code from a nested method as it was causing confusion during code review and is not being used for any particular purpose. Inspection of the original commit where it was added in 2012 [2] did not contain any comments about the nested method and it appeared to either be a way to organize the code or a way to reuse the 'models' module name as a local variable name. Closes-Bug: #1824435 [1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique [2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339 Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9 (cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)",4690,melanie witt,"[4690, 6873, 10118, 14595, 22348, 26515, 29963]","['melanie witt', 'Matt Riedemann', 'IBM PowerKVM CI', 'IBM zKVM CI', 'Zuul', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",remove redundant call getcreate default security group instancecreate db api method ensures legacy default security group gets created specified projectid already exist security group exist created separate transaction later instancecreate method reads default security group back wrote earlier via ensure default security group code since written separate transaction current transaction able see get back 0 rows creates duplicate default security group record projectidnull running novamanage db onlinedatamigrations uses anonymous requestcontext projectidnull succeeds despite unique constraint projectid mysql unique constraints enforced nonnull values 1 avoid creation duplicate default security group projectidnull use default security group object returned first securitygroupensuredefault call earlier instancecreate method remove second redundant call also breaks security groups setup code nested method causing confusion code review used particular purpose inspection original commit added 2012 2 contain comments nested method appeared either way organize code way reuse models module name local variable name closesbug 1824435 1 httpsdevmysqlcomdocrefman80encreateindexhtmlcreateindexunique 2 httpsreviewopendevorgc89732novadbsqlalchemyapipy1339 changeid idb205ab5b16bbf96965418cd544016fa9cc92de9 cherry picked commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a
https://review.opendev.org/692519,ovn: Update release note with new detail on security groups,ovn: Update release note with new detail on security groups Change-Id: I8d8baaf020c9133de3e8b5d310351fdc06459e82,13686,Frode Nordahl,"[935, 20805, 22348]","['James Page', 'David Ames', 'Zuul']",ovn update release note new detail security groups changeid i8d8baaf020c9133de3e8b5d310351fdc06459e82
https://review.opendev.org/686802,fixtures: Add support for security groups,"fixtures: Add support for security groups We're going to want to use this for realistic API samples. The samples we're using here were taken from a DevStack deployment based on pre-RC1 Train code so they should be fairly reflective of what you'd see in a real deployment. Note that we also fix bugs seen with the mocks for 'create_port' and 'list_networks' neutron API functions. For the former, we weren't properly merging the request port details meaning we weren't setting some fields on the port, most significantly 'device_id'. For the latter, it turns out it's possible to filter using a list of values and we weren't handling that. Both are resolved now. Change-Id: I3c94b61fc323fefbd1c8790c4a2f60cada29e86f Signed-off-by: Stephen Finucane <sfinucan@redhat.com>",15334,Stephen Finucane,"[6873, 9008, 9708, 14070, 14384, 15334, 15941, 16128, 16376, 17499, 22165, 22348, 23498, 26297, 26515, 28543, 28935, 29963]","['Matt Riedemann', 'VMware NSX CI', 'Balazs Gibizer', 'Eric Fried', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Filippo Inzaghi', 'caoyuan', 'Zuul', 'IBM zVM CI', 'Andriy Shevchenko', 'Cloudbase Nova Hyper-V CI', 'Vieri', '98k', 'Intel_Zuul']",fixtures add support security groups going want use realistic api samples samples using taken devstack deployment based prerc1 train code fairly reflective youd see real deployment note also fix bugs seen mocks createport listnetworks neutron api functions former werent properly merging request port details meaning werent setting fields port significantly deviceid latter turns possible filter using list values werent handling resolved changeid i3c94b61fc323fefbd1c8790c4a2f60cada29e86f signedoffby stephen finucane sfinucanredhatcom
https://review.opendev.org/687635,Add contributors to Security project,Add contributors to Security project For PL/TL elections we need to be able to identify contributors to project teams. As there are a few teams without repositories assigned to them we are utilizing the projects.yaml file to store the contributor data. We are using the same methid as the OpenStack community so we can leverage the scripts they have to prepare for elections. Notes from the community call about the topic: https://etherpad.openstack.org/p/stx-status This patch adds contributors for the Security team. Source of information: https://wiki.openstack.org/wiki/StarlingX/Security Change-Id: I6aa7a474417655f6251717a1a5d707c41ad77154 Signed-off-by: Ildiko Vancsa <ildiko.vancsa@gmail.com>,9562,Ildiko Vancsa,"[970, 9557, 9562, 17499, 22348, 26297, 28286, 28425, 28543, 28558, 28607, 28642]","['Dean Troyer', 'Ian Jolliffe', 'Ildiko Vancsa', 'Filippo Inzaghi', 'Zuul', 'Andriy Shevchenko', 'Bruce Jones', 'Cindy Xie', 'Vieri', 'Ghada Khalil', 'Saul Wold', 'Brent Rowsell']",add contributors security project pltl elections need able identify contributors project teams teams without repositories assigned utilizing projectsyaml file store contributor data using methid openstack community leverage scripts prepare elections notes community call topic httpsetherpadopenstackorgpstxstatus patch adds contributors security team source information httpswikiopenstackorgwikistarlingxsecurity changeid i6aa7a474417655f6251717a1a5d707c41ad77154 signedoffby ildiko vancsa ildikovancsagmailcom
https://review.opendev.org/688206,Remove redundant call to get/create default security group,"Use a separate transaction to read default security group In the instance_create DB API method, it ensures the (legacy) default security group gets created for the specified project_id if it does not already exist. If the security group does not exist, it is created in a separate transaction. Later in the instance_create method, it reads the default security group back that it wrote earlier (via the same ensure default security group code). But since it was written in a separate transaction, the current transaction will not be able to see it and will get back 0 rows. So, it creates a duplicate default security group record if project_id=NULL (which it will be, if running nova-manage db online_data_migrations, which uses an anonymous RequestContext with project_id=NULL). This succeeds despite the unique constraint on project_id because in MySQL, unique constraints are only enforced on non-NULL values [1]. To avoid creation of a duplicate default security group for project_id=NULL, we can use a separate transaction when we read back the default group, by calling the same method: security_group_ensure_default used earlier in the instance_create method. Closes-Bug: #1824435 [1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9",4690,melanie witt,"[4690, 6873, 9008, 9373, 9732, 11816, 14070, 14384, 15941, 16376, 22348, 23498, 23561, 26515, 29963]","['melanie witt', 'Matt Riedemann', 'VMware NSX CI', 'Vlad Gusev', 'Mellanox CI', 'mike_mp@zzzcomputing.com', 'Eric Fried', 'Quobyte CI', 'DellEMC PowerFlex CI', 'Intel NFV CI', 'Zuul', 'IBM zVM CI', 'iain MacDonnell', 'Cloudbase Nova Hyper-V CI', 'Intel_Zuul']",use separate transaction read default security group instancecreate db api method ensures legacy default security group gets created specified projectid already exist security group exist created separate transaction later instancecreate method reads default security group back wrote earlier via ensure default security group code since written separate transaction current transaction able see get back 0 rows creates duplicate default security group record projectidnull running novamanage db onlinedatamigrations uses anonymous requestcontext projectidnull succeeds despite unique constraint projectid mysql unique constraints enforced nonnull values 1 avoid creation duplicate default security group projectidnull use separate transaction read back default group calling method securitygroupensuredefault used earlier instancecreate method closesbug 1824435 1 httpsdevmysqlcomdocrefman80encreateindexhtmlcreateindexunique changeid idb205ab5b16bbf96965418cd544016fa9cc92de9
https://review.opendev.org/688817,Override security suite for Debian image builds,"Override security suite for Debian image builds Diskimage-builder defaults to a assuming the Debian security archive's suite name will be something like stretch/updates or buster/updates but ours are just stretch and buster without any second subcomponent, so override this to an empty string instead. Depends-On: https://review.opendev.org/688816 Change-Id: I34488e55c1b9bfe4c253c4d51346966fa69f1170",5263,Jeremy Stanley,"[4146, 6547, 22348]","['Clark Boylan', 'Andreas Jaeger', 'Zuul']",override security suite debian image builds diskimagebuilder defaults assuming debian security archives suite name something like stretchupdates busterupdates stretch buster without second subcomponent override empty string instead dependson httpsreviewopendevorg688816 changeid i34488e55c1b9bfe4c253c4d51346966fa69f1170
https://review.opendev.org/688816,Add security suite name override in debian-minimal,"Add security suite name override in debian-minimal Add option to set the suite subpath after the release name for the security mirror URL independently in the debian-minimal element, since this can differ between mirrors. Change-Id: I4cc8f54fba012986423e30e19bff276208b8ad62",5263,Jeremy Stanley,"[4146, 7118, 10118, 22348, 23181]","['Clark Boylan', 'Ian Wienand', 'IBM PowerKVM CI', 'Zuul', 'RDO Third Party CI']",add security suite name override debianminimal add option set suite subpath release name security mirror url independently debianminimal element since differ mirrors changeid i4cc8f54fba012986423e30e19bff276208b8ad62
https://review.opendev.org/783963,Fix typo in security docs around is_admin rule,"Fix typo in security docs around is_admin rule The security docs give an example of how to enable admins to show passwords via the API, but the policy guidance is wrong. There is no ""is_admin"" _role_, it is instead a _rule_. Change-Id: Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e",29100,Jason Anderson,"[11655, 22348, 23851]","['Julia Kreger', 'Zuul', 'Riccardo Pittau']",fix typo security docs around isadmin rule security docs give example enable admins show passwords via api policy guidance wrong isadmin role instead rule changeid ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e
https://review.opendev.org/782364,Add security dashboard clean steps to ilo drivers,"Add security dashboard clean steps to ilo drivers This commit adds new clean steps security_parameters_update, update_minimum_password_length and update_auth_failure_logging_threshold to allow users to edit following security parameters - ``Password_Complexity``, ``RequiredLoginForiLORBSU``, ``RequireHostAuthentication``, ``MinPasswordLength``, ``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``, and ``Secure_Boot``. Story: 2008024 Task: 40736 Change-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7",19604,ankit,"[4571, 11076, 11655, 22348]","['Steve Baker', 'Shivanand Tendulker', 'Julia Kreger', 'Zuul']",add security dashboard clean steps ilo drivers commit adds new clean steps securityparametersupdate updateminimumpasswordlength updateauthfailureloggingthreshold allow users edit following security parameters passwordcomplexity requiredloginforilorbsu requirehostauthentication minpasswordlength ipmidcmioverlan authenticationfailurelogging secureboot story 2008024 task 40736 changeid i0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7
https://review.opendev.org/785119,[nsx_v3] Register security group resources at startup,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group. Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",nsxv3 register security group resources startup avoid error quota manager trying create security group rules default security group changeid i85a46931a96f90a084af10e85f9155c8ed850195
https://review.opendev.org/785117,[nsx_v3] Register security group resources at startup,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group. Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",nsxv3 register security group resources startup avoid error quota manager trying create security group rules default security group changeid i85a46931a96f90a084af10e85f9155c8ed850195
https://review.opendev.org/785120,[nsx_v3] Register security group resources at startup,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group. Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,261,Salvatore Orlando,"[261, 9008, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Zuul']",nsxv3 register security group resources startup avoid error quota manager trying create security group rules default security group changeid i85a46931a96f90a084af10e85f9155c8ed850195
https://review.opendev.org/687660,Horizon  API Handling  HTTP Security Headers Not Present,"Horizon  API Handling  HTTP Security Headers Not Present Added new X-Content-Type-Options: nosniff header to make sure the browser does not try to detect a different Content-Type than what is actually sent (can lead to XSS) Added new X-Frame-Options: sameorigin header to protect against drag and drop clickjacking attacks in older browsers Added new Content-Security-Policy: script-src self for implementation Added new HTTP Security header X-XSS-Protection:1 mode=block to sanitize the page, when a XSS attack is detected, the browser will prevent rendering of the page Change-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e",30445,Narla Sandeep Narla Saibaba,"[8898, 17591, 18295, 20466, 21420, 22348, 27623, 29942, 30445]","['Chris Wedgwood', 'Steve Wilkerson', 'John Lawrence', 'Tin Lam', 'Gage Hugo', 'Zuul', 'Zuul', 'Arijit Bose', 'Narla Sandeep Narla Saibaba']",horizon  api handling  http security headers present added new xcontenttypeoptions nosniff header make sure browser try detect different contenttype actually sent lead xss added new xframeoptions sameorigin header protect drag drop clickjacking attacks older browsers added new contentsecuritypolicy scriptsrc self implementation added new http security header xxssprotection1 modeblock sanitize page xss attack detected browser prevent rendering page changeid i6f89ffb44ad805039c4074889a7c15fbef6fc95e
https://review.opendev.org/685307,[Nova] Fix a bug introduced in implementing security context for nova,"[Nova] Fix a bug introduced in implementing security context for nova In daemonset-compute.yaml, it uses a wrong application name Change-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced Signed-off-by: zhipengl <zhipengs.liu@intel.com>",28570,zhipeng liu,"[9963, 12281, 17130, 17499, 17591, 22348, 28543, 28570, 28614]","['Jiri Suchomel', 'Itxaka', 'melissaml', 'Filippo Inzaghi', 'Steve Wilkerson', 'Zuul', 'Vieri', 'zhipeng liu', 'jacky06']",nova fix bug introduced implementing security context nova daemonsetcomputeyaml uses wrong application name changeid i614dc9d52d6dd7b346aa0b3f5e0012686de93ced signedoffby zhipengl zhipengsliuintelcom
https://review.opendev.org/687950,Temporary overwrite of the infra mirror for debian security repo,Temporary overwrite of the infra mirror for debian security repo Change-Id: I7c41f560251e16256a5d109fddedee189eb12664 (cherry picked from commit 26a329d79f111090e17fb868e550a580bbd304af),25023,Jonathan Rosser,"[22348, 28008, 28619]","['Zuul', 'Guilherme', 'Dmitriy Rabotyagov']",temporary overwrite infra mirror debian security repo changeid i7c41f560251e16256a5d109fddedee189eb12664 cherry picked commit 26a329d79f111090e17fb868e550a580bbd304af
https://review.opendev.org/687142,Temporary overwrite of the infra mirror for debian security repo,Temporary overwrite of the infra mirror for debian security repo Change-Id: I7c41f560251e16256a5d109fddedee189eb12664,25023,Jonathan Rosser,"[1004, 22348, 28619]","['Mohammed Naser', 'Zuul', 'Dmitriy Rabotyagov']",temporary overwrite infra mirror debian security repo changeid i7c41f560251e16256a5d109fddedee189eb12664
https://review.opendev.org/686485,Fix listing security groups when no rules,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError. This commit changes the neutron API wrapper in horizon to ensure ensure rule information in SG always exists. Closes-Bug: #1840465 Co-Authored-By: Tobias Urdin <tobias.urdin@binero.se> Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a (cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14) (cherry picked from commit 205c4465cdf8112779e8eb5f1618dcfc1b11e305),6737,Edward Hope-Morley,"[841, 1736, 17685, 22348]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Elod Illes', 'Zuul']",fix listing security groups rules listing security groups dashboard one security groups rules failed python throws keyerror commit changes neutron api wrapper horizon ensure ensure rule information sg always exists closesbug 1840465 coauthoredby tobias urdin tobiasurdinbinerose changeid i6e05a7dc6b6655514ee2bff6bd327da86f13900a cherry picked commit cdb191ec83f86dffade56be07ca53077d7c78b14 cherry picked commit 205c4465cdf8112779e8eb5f1618dcfc1b11e305
https://review.opendev.org/687151,Adding Ghada Khalil candidacy for security PL,Adding Ghada Khalil candidacy for security PL Change-Id: Id0072fdff74e401ba81c8e63c64af890b3853114,28558,Ghada Khalil,"[9562, 10068, 22348, 29357]","['Ildiko Vancsa', 'Welcome, new contributor!', 'Zuul', 'Bill Zvonar']",adding ghada khalil candidacy security pl changeid id0072fdff74e401ba81c8e63c64af890b3853114
https://review.opendev.org/686517,api-ref: Fix security groups parameters,api-ref: Fix security groups parameters The security groups parameters are optional in the response of the following APIs. - GET /servers/detail - GET /servers/{server_id} So fix it. Change-Id: Icc2315fd8b8c085de9d560de6ddf4c05aaaf6acb Closes-Bug: #1846656,7634,Takashi Natsume,"[6873, 7634, 9008, 14070, 14384, 15941, 16128, 16376, 17130, 22348, 23498, 26515]","['Matt Riedemann', 'Takashi Natsume', 'VMware NSX CI', 'Eric Fried', 'Quobyte CI', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'melissaml', 'Zuul', 'IBM zVM CI', 'Cloudbase Nova Hyper-V CI']",apiref fix security groups parameters security groups parameters optional response following apis get serversdetail get serversserverid fix changeid icc2315fd8b8c085de9d560de6ddf4c05aaaf6acb closesbug 1846656
https://review.opendev.org/685927,tests: Correctly mock out security groups in NeutronFixture,tests: Correctly mock out security groups in NeutronFixture This will always return something when running so properly mock things. This requires some minor modifications to tests. Change-Id: Ibbee7fd11c1aa254e399d302adbae69126e98262 Signed-off-by: Stephen Finucane <sfinucan@redhat.com>,15334,Stephen Finucane,"[6873, 8556, 9008, 9708, 14384, 15334, 15941, 16128, 16376, 22348, 23498, 26458, 26515, 26936, 29963]","['Matt Riedemann', 'Ghanshyam', 'VMware NSX CI', 'Balazs Gibizer', 'Quobyte CI', 'Stephen Finucane', 'DellEMC PowerFlex CI', 'IBM PowerVM CI', 'Intel NFV CI', 'Zuul', 'IBM zVM CI', 'Brin Zhang', 'Cloudbase Nova Hyper-V CI', 'Surya Seetharaman', 'Intel_Zuul']",tests correctly mock security groups neutronfixture always return something running properly mock things requires minor modifications tests changeid ibbee7fd11c1aa254e399d302adbae69126e98262 signedoffby stephen finucane sfinucanredhatcom
https://review.opendev.org/687000,Temporary overwrite of the infra mirror for debian security repo,Temporary overwrite of the infra mirror for debian security repo Depends-On: https://review.opendev.org/686825 Change-Id: I23163676420498bb3fd3d0e411554ca34dfbe318,25023,Jonathan Rosser,"[15993, 22348, 28619]","['Amy Marrich', 'Zuul', 'Dmitriy Rabotyagov']",temporary overwrite infra mirror debian security repo dependson httpsreviewopendevorg686825 changeid i23163676420498bb3fd3d0e411554ca34dfbe318
https://review.opendev.org/686348,Temporary overwrite of the infra mirror for debian security repo,Temporary overwrite of the infra mirror for debian security repo Change-Id: I23163676420498bb3fd3d0e411554ca34dfbe318,25023,Jonathan Rosser,"[1004, 16011, 22348, 25023, 28619]","['Mohammed Naser', 'James Denton', 'Zuul', 'Jonathan Rosser', 'Dmitriy Rabotyagov']",temporary overwrite infra mirror debian security repo changeid i23163676420498bb3fd3d0e411554ca34dfbe318
https://review.opendev.org/686916,NSX|V: Configurable backend security group name,"NSX|V: Configurable backend security group name Adding a configuration for the format of the NSX security group created by openstack. The parameter is nsx_sg_name_format under the nsxv section, and the default format is '%(name)s (%(id)s)' (as it was before) Change-Id: I2081bdd3ca18ee62c178ae83baf5ed2cc87bc1da",20363,Adit Sarfaty,"[9008, 20363, 22348]","['VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxv configurable backend security group name adding configuration format nsx security group created openstack parameter nsxsgnameformat nsxv section default format names ids changeid i2081bdd3ca18ee62c178ae83baf5ed2cc87bc1da
https://review.opendev.org/683812,NSX|V: Configurable backend security group name,"NSX|V: Configurable backend security group name Adding a configuration for the format of the NSX security group created by openstack. The parameter is nsx_sg_name_format under the nsxv section, and the default format is '%(name)s (%(id)s)' (as it was before) Change-Id: I2081bdd3ca18ee62c178ae83baf5ed2cc87bc1da",20363,Adit Sarfaty,"[261, 9008, 20363, 22348, 24247]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul', 'Anna Khmelnitsky']",nsxv configurable backend security group name adding configuration format nsx security group created openstack parameter nsxsgnameformat nsxv section default format names ids changeid i2081bdd3ca18ee62c178ae83baf5ed2cc87bc1da
https://review.opendev.org/686545,Fix urgent amphora two-way auth security bug,"Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`. Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992",10273,Adam Harwell,"[6469, 10273, 22348, 29244]","['Carlos Gonçalves', 'Adam Harwell', 'Zuul', 'Gregory Thiemonge']",fix urgent amphora twoway auth security bug value gunicorns option certreqs clientcert requirement take boolean rather sslcertrequired 2 changeid i5619f5e40d7c9a2ee7741bf4664c0d2d08963992
https://review.opendev.org/686546,Fix urgent amphora two-way auth security bug,"Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`. Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992",10273,Adam Harwell,"[2245, 6469, 22348]","['Jacky Hu', 'Carlos Gonçalves', 'Zuul']",fix urgent amphora twoway auth security bug value gunicorns option certreqs clientcert requirement take boolean rather sslcertrequired 2 changeid i5619f5e40d7c9a2ee7741bf4664c0d2d08963992
https://review.opendev.org/686544,Fix urgent amphora two-way auth security bug,"Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`. Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992",10273,Adam Harwell,"[2245, 6469, 22348]","['Jacky Hu', 'Carlos Gonçalves', 'Zuul']",fix urgent amphora twoway auth security bug value gunicorns option certreqs clientcert requirement take boolean rather sslcertrequired 2 changeid i5619f5e40d7c9a2ee7741bf4664c0d2d08963992
https://review.opendev.org/686547,Fix urgent amphora two-way auth security bug,"Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`. Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992",10273,Adam Harwell,"[2245, 6469, 22348]","['Jacky Hu', 'Carlos Gonçalves', 'Zuul']",fix urgent amphora twoway auth security bug value gunicorns option certreqs clientcert requirement take boolean rather sslcertrequired 2 changeid i5619f5e40d7c9a2ee7741bf4664c0d2d08963992
https://review.opendev.org/686543,Fix urgent amphora two-way auth security bug,"Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`. Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992",10273,Adam Harwell,"[2245, 6469, 22348]","['Jacky Hu', 'Carlos Gonçalves', 'Zuul']",fix urgent amphora twoway auth security bug value gunicorns option certreqs clientcert requirement take boolean rather sslcertrequired 2 changeid i5619f5e40d7c9a2ee7741bf4664c0d2d08963992
https://review.opendev.org/686541,Fix urgent amphora two-way auth security bug,"Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`. Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992",10273,Adam Harwell,"[2245, 6469, 6732, 10273, 22348, 29244]","['Jacky Hu', 'Carlos Gonçalves', 'Lingxian Kong', 'Adam Harwell', 'Zuul', 'Gregory Thiemonge']",fix urgent amphora twoway auth security bug value gunicorns option certreqs clientcert requirement take boolean rather sslcertrequired 2 changeid i5619f5e40d7c9a2ee7741bf4664c0d2d08963992
https://review.opendev.org/686540,Fix urgent amphora two-way auth security bug,"Fix urgent amphora two-way uth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`. Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992",10273,Adam Harwell,"[2245, 6469, 10273, 22348, 27316, 29244]","['Jacky Hu', 'Carlos Gonçalves', 'Adam Harwell', 'Zuul', 'Daniel Preussker', 'Gregory Thiemonge']",fix urgent amphora twoway uth security bug value gunicorns option certreqs clientcert requirement take boolean rather sslcertrequired 2 changeid i5619f5e40d7c9a2ee7741bf4664c0d2d08963992
https://review.opendev.org/686204,Override security mirror for Debian image builds,"Override security mirror for Debian image builds Diskimage-builder defaults to a separate mirror value for the Debian security archive, so override it independently of our general mirror URL. It's really a different URL anyway. Change-Id: Ia500f564d761f56bc55acc9b1c969dbd364a0eba Depends-On: https://review.opendev.org/686199",5263,Jeremy Stanley,"[5263, 6547, 13252, 22348, 28619]","['Jeremy Stanley', 'Andreas Jaeger', 'Dr. Jens Harbott', 'Zuul', 'Dmitriy Rabotyagov']",override security mirror debian image builds diskimagebuilder defaults separate mirror value debian security archive override independently general mirror url really different url anyway changeid ia500f564d761f56bc55acc9b1c969dbd364a0eba dependson httpsreviewopendevorg686199
https://review.opendev.org/686328,Add security mirror override for debian-minimal,"Add security mirror override for debian-minimal Add option to set the security mirror URL independently in the debian-minimal element, since this can not be overriden by the standard DIB_DISTRIBUTION_MIRROR variable. Change-Id: I145844a410d06a479e68db1bf6d5d0159389305c",7118,Ian Wienand,"[5263, 10118, 13252, 22348, 23181, 28619]","['Jeremy Stanley', 'IBM PowerKVM CI', 'Dr. Jens Harbott', 'Zuul', 'RDO Third Party CI', 'Dmitriy Rabotyagov']",add security mirror override debianminimal add option set security mirror url independently debianminimal element since overriden standard dibdistributionmirror variable changeid i145844a410d06a479e68db1bf6d5d0159389305c
https://review.opendev.org/677400,Fix listing security groups when no rules,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError. This commit changes the neutron API wrapper in horizon to ensure ensure rule information in SG always exists. Closes-Bug: #1840465 Co-Authored-By: Tobias Urdin <tobias.urdin@binero.se> Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a (cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14),29313,Vishal Manchanda,"[841, 1736, 8648, 16137, 17130, 22348, 27822, 29313]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Radomir Dopieralski', 'Tobias Urdin', 'melissaml', 'Zuul', 'pengyuesheng', 'Vishal Manchanda']",fix listing security groups rules listing security groups dashboard one security groups rules failed python throws keyerror commit changes neutron api wrapper horizon ensure ensure rule information sg always exists closesbug 1840465 coauthoredby tobias urdin tobiasurdinbinerose changeid i6e05a7dc6b6655514ee2bff6bd327da86f13900a cherry picked commit cdb191ec83f86dffade56be07ca53077d7c78b14
https://review.opendev.org/659587,Change to use --remote-ip with security group rules,"Change to use --remote-ip with security group rules --src-ip was deprecated in 2016, change to use --remote-ip. Related to https://review.opendev.org/#/c/659400/ Change-Id: I6b9f17c94bdf9de070d5f2e32e97dff600a3545a",1131,Brian Haley,"[2750, 8556, 22348]","['Sean Dague', 'Ghanshyam', 'Zuul']",change use remoteip security group rules srcip deprecated 2016 change use remoteip related httpsreviewopendevorgc659400 changeid i6b9f17c94bdf9de070d5f2e32e97dff600a3545a
https://review.opendev.org/683020,Fix implicit ICMPv6 Security Group Rules,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic. Furthermore, the security group rules used reflexive connection tracking, which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state). This patch adds bidirectional ICMPv6 to the implicit rules, without the reflexive behavior, which will allow the SLAAC process to succeed. Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",18031,Thomas Bachman,"[1689, 6995, 18031, 18065, 22348, 30781, 30936]","['Robert Kukura', 'Sridar Kandaswamy', 'Thomas Bachman', 'Kent Wu', 'Zuul', 'ajay goyal', 'Iftikhar Rathore']",fix implicit icmpv6 security group rules implicit security group rules included rule allow icmpv6 ingress traffic furthermore security group rules used reflexive connection tracking causes issues integrated open vswitch rules router advertisement messages would result connection tracking returning invalid state patch adds bidirectional icmpv6 implicit rules without reflexive behavior allow slaac process succeed changeid i19bfb63acaa76ce41200c4e71bc3b5c73f995748
https://review.opendev.org/683023,Fix implicit ICMPv6 Security Group Rules,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic. Furthermore, the security group rules used reflexive connection tracking, which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state). This patch adds bidirectional ICMPv6 to the implicit rules, without the reflexive behavior, which will allow the SLAAC process to succeed. Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",18031,Thomas Bachman,"[1689, 6995, 18065, 22348, 30781, 30936]","['Robert Kukura', 'Sridar Kandaswamy', 'Kent Wu', 'Zuul', 'ajay goyal', 'Iftikhar Rathore']",fix implicit icmpv6 security group rules implicit security group rules included rule allow icmpv6 ingress traffic furthermore security group rules used reflexive connection tracking causes issues integrated open vswitch rules router advertisement messages would result connection tracking returning invalid state patch adds bidirectional icmpv6 implicit rules without reflexive behavior allow slaac process succeed changeid i19bfb63acaa76ce41200c4e71bc3b5c73f995748
https://review.opendev.org/683022,Fix implicit ICMPv6 Security Group Rules,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic. Furthermore, the security group rules used reflexive connection tracking, which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state). This patch adds bidirectional ICMPv6 to the implicit rules, without the reflexive behavior, which will allow the SLAAC process to succeed. Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",18031,Thomas Bachman,"[1689, 6995, 18065, 22348, 30781, 30936]","['Robert Kukura', 'Sridar Kandaswamy', 'Kent Wu', 'Zuul', 'ajay goyal', 'Iftikhar Rathore']",fix implicit icmpv6 security group rules implicit security group rules included rule allow icmpv6 ingress traffic furthermore security group rules used reflexive connection tracking causes issues integrated open vswitch rules router advertisement messages would result connection tracking returning invalid state patch adds bidirectional icmpv6 implicit rules without reflexive behavior allow slaac process succeed changeid i19bfb63acaa76ce41200c4e71bc3b5c73f995748
https://review.opendev.org/683021,Fix implicit ICMPv6 Security Group Rules,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic. Furthermore, the security group rules used reflexive connection tracking, which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state). This patch adds bidirectional ICMPv6 to the implicit rules, without the reflexive behavior, which will allow the SLAAC process to succeed. Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",18031,Thomas Bachman,"[1689, 6995, 18065, 22348, 30781, 30936]","['Robert Kukura', 'Sridar Kandaswamy', 'Kent Wu', 'Zuul', 'ajay goyal', 'Iftikhar Rathore']",fix implicit icmpv6 security group rules implicit security group rules included rule allow icmpv6 ingress traffic furthermore security group rules used reflexive connection tracking causes issues integrated open vswitch rules router advertisement messages would result connection tracking returning invalid state patch adds bidirectional icmpv6 implicit rules without reflexive behavior allow slaac process succeed changeid i19bfb63acaa76ce41200c4e71bc3b5c73f995748
https://review.opendev.org/683018,Fix implicit ICMPv6 Security Group Rules,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic. Furthermore, the security group rules used reflexive connection tracking, which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state). This patch adds bidirectional ICMPv6 to the implicit rules, without the reflexive behavior, which will allow the SLAAC process to succeed. Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",18031,Thomas Bachman,"[1689, 6995, 18065, 22348, 30781, 30936]","['Robert Kukura', 'Sridar Kandaswamy', 'Kent Wu', 'Zuul', 'ajay goyal', 'Iftikhar Rathore']",fix implicit icmpv6 security group rules implicit security group rules included rule allow icmpv6 ingress traffic furthermore security group rules used reflexive connection tracking causes issues integrated open vswitch rules router advertisement messages would result connection tracking returning invalid state patch adds bidirectional icmpv6 implicit rules without reflexive behavior allow slaac process succeed changeid i19bfb63acaa76ce41200c4e71bc3b5c73f995748
https://review.opendev.org/679844,Update Security SIG chair list and SIG description,Update Security SIG chair list and SIG description This change updates both the list of active Security SIG chairs as well as updating the description to more accurately describe the current responsibilites of the Security SIG. Change-Id: I6200d7305ac9d5ca23a674d4c89ed5aea50e8baa,21420,Gage Hugo,"[308, 2033, 12404, 22348]","['Thierry Carrez', 'Belmiro Moreira', 'Rico Lin', 'Zuul']",update security sig chair list sig description change updates list active security sig chairs well updating description accurately describe current responsibilites security sig changeid i6200d7305ac9d5ca23a674d4c89ed5aea50e8baa
https://review.opendev.org/681585,Fix bulk port functioning with requested security groups,"Fix bulk port functioning with requested security groups When bulk ports are created with a security group supplied, the resulting port(s) should only have that security group assigned. But the resulting ports are getting both the requested security group as well as the tenant default security group assigned. This fixes that condition. In order to ensure that bulk port creation results in the proper assignment of security groups, add some testing. Change-Id: I65aca7cd14447cc988e4bc4ab62bc7b9279e7522 Fixes-Bug: #1842666 (cherry picked from commit 88c7be55c221a87b4326a915580657f34d1ff582)",13995,Nate Johnston,"[841, 1131, 4694, 13995, 21798, 22348, 26622]","['Akihiro Motoki', 'Brian Haley', 'Miguel Lavalle', 'Nate Johnston', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",fix bulk port functioning requested security groups bulk ports created security group supplied resulting ports security group assigned resulting ports getting requested security group well tenant default security group assigned fixes condition order ensure bulk port creation results proper assignment security groups add testing changeid i65aca7cd14447cc988e4bc4ab62bc7b9279e7522 fixesbug 1842666 cherry picked commit 88c7be55c221a87b4326a915580657f34d1ff582
https://review.opendev.org/649768,Fix default security group in samples/local.sh,Fix samples/local.sh which was complaining about multiple default security groups Change-Id: I81e59eae5df79889ed1fb02d45af26e3a55aa0e9,28022,Bharat Kunwar,"[7118, 10118, 13252, 14595, 16376, 22348, 26297, 28022]","['Ian Wienand', 'IBM PowerKVM CI', 'Dr. Jens Harbott', 'IBM zKVM CI', 'Intel NFV CI', 'Zuul', 'Andriy Shevchenko', 'Bharat Kunwar']",fix sampleslocalsh complaining multiple default security groups changeid i81e59eae5df79889ed1fb02d45af26e3a55aa0e9
https://review.opendev.org/679852,Fix bulk port functioning with requested security groups,"Add tests for bulk port functioning with security groups In order to ensure that bulk port creation results in the proper assignment of security groups, add some testing. Change-Id: I65aca7cd14447cc988e4bc4ab62bc7b9279e7522",13995,Nate Johnston,"[1131, 4694, 5756, 9732, 11975, 13995, 15752, 16376, 16688, 21798, 22348, 26622]","['Brian Haley', 'Miguel Lavalle', 'Terry Wilson', 'Mellanox CI', 'Slawek Kaplonski', 'Nate Johnston', 'Intel SR-IOV CI', 'Intel NFV CI', 'Rodolfo Alonso', 'Bernard Cafarelli', 'Zuul', 'Cloudbase Neutron Hyper-V CI']",add tests bulk port functioning security groups order ensure bulk port creation results proper assignment security groups add testing changeid i65aca7cd14447cc988e4bc4ab62bc7b9279e7522
https://review.opendev.org/679021,Support management security group,"Support management security group Allow the cloud admin to control the security groups on the management port of Trove instance, a new config option `management_security_groups` is introduced for that purpose. Change-Id: I4b22b87d37792be700d4ec7f78a7ea479ddb5814 Story: 2006466 Task: 36395",6732,Lingxian Kong,"[6732, 22348]","['Lingxian Kong', 'Zuul']",support management security group allow cloud admin control security groups management port trove instance new config option managementsecuritygroups introduced purpose changeid i4b22b87d37792be700d4ec7f78a7ea479ddb5814 story 2006466 task 36395
https://review.opendev.org/677226,Remove Extended Security Profile selections,Remove Extended Security Profile selections Remove 'Extended Security Profile' from the BIOS and UEFI installer menus. Closes-Bug: 1839134 Change-Id: Iaf2b97c9772e010f3f32e35e1b13a47059ae07e8 Signed-off-by: Kristine Bujold <kristine.bujold@windriver.com>,28531,Kristine Bujold,"[9926, 22348, 26026, 28431, 28468, 28531, 28916]","['John Kung', 'Zuul', 'Greg Waines', 'Don Penney', 'Tao Liu', 'Kristine Bujold', 'Yosief Gebremariam']",remove extended security profile selections remove extended security profile bios uefi installer menus closesbug 1839134 changeid iaf2b97c9772e010f3f32e35e1b13a47059ae07e8 signedoffby kristine bujold kristinebujoldwindrivercom
https://review.opendev.org/678947,Update the scope of which releases are covered in the security guide,Update the scope of which releases are covered in the security guide Signed-off-by: Nick Tait <ntait@redhat.com> Change-Id: Icd91845e2ddb9b8be484e25fd4513d77116f9f4f,28011,Nicholas Tait,"[6547, 15334, 22348]","['Andreas Jaeger', 'Stephen Finucane', 'Zuul']",update scope releases covered security guide signedoffby nick tait ntaitredhatcom changeid icd91845e2ddb9b8be484e25fd4513d77116f9f4f
https://review.opendev.org/783111,[NetApp] Follow up fixes for update security service,[NetApp] Follow up fixes for update security service This patch is a follow up of [1] to address some comments added in the review process. It also adds more unit tests to validate the new code added. [1] https://review.opendev.org/c/openstack/manila/+/775032 Change-Id: If7b8628fa05200363a129eb19d9dc80fb7e3bc36 Signed-off-by: Douglas Viroel <viroel@gmail.com>,30002,Douglas Viroel,"[16643, 22348, 29632]","['Goutham Pacha Ravi', 'Zuul', 'Carlos Eduardo']",netapp follow fixes update security service patch follow 1 address comments added review process also adds unit tests validate new code added 1 httpsreviewopendevorgcopenstackmanila775032 changeid if7b8628fa05200363a129eb19d9dc80fb7e3bc36 signedoffby douglas viroel viroelgmailcom
https://review.opendev.org/677399,Fix listing security groups when no rules,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError. This commit changes the neutron API wrapper in horizon to ensure ensure rule information in SG always exists. Closes-Bug: #1840465 Co-Authored-By: Tobias Urdin <tobias.urdin@binero.se> Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a (cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14),29313,Vishal Manchanda,"[841, 1736, 16137, 22348]","['Akihiro Motoki', 'Ivan Kolodyazhny', 'Tobias Urdin', 'Zuul']",fix listing security groups rules listing security groups dashboard one security groups rules failed python throws keyerror commit changes neutron api wrapper horizon ensure ensure rule information sg always exists closesbug 1840465 coauthoredby tobias urdin tobiasurdinbinerose changeid i6e05a7dc6b6655514ee2bff6bd327da86f13900a cherry picked commit cdb191ec83f86dffade56be07ca53077d7c78b14
https://review.opendev.org/676950,Fix listing security groups when no rules,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError. See bug [1]. [1] https://bugs.launchpad.net/horizon/+bug/1840465 Bug: 1840465 Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a,16137,Tobias Urdin,"[841, 16137, 22348, 29313]","['Akihiro Motoki', 'Tobias Urdin', 'Zuul', 'Vishal Manchanda']",fix listing security groups rules listing security groups dashboard one security groups rules failed python throws keyerror see bug 1 1 httpsbugslaunchpadnethorizonbug1840465 bug 1840465 changeid i6e05a7dc6b6655514ee2bff6bd327da86f13900a
https://review.opendev.org/674742,Nagios  API Handling  HTTP Security Headers Not Present,"Pentest-NC Nagios  API Handling  HTTP Security Headers Not Present Added new X-Content-Type-Options: nosniff header to make sure the browser does not try to detect a different Content-Type than what is actually sent (can lead to XSS) Added new X-Frame-Options: sameorigin header to protect against drag and drop clickjacking attacks in older browsers Added new Content-Security-Policy: script-src self for implementation Added new HTTP Security header X-XSS-Protection:1 mode=block to sanitize the page, when a XSS attack is detected, the browser will prevent rendering of the page Change-Id: Ic79bbb96484a7f1a497c001883783338fd26a47a",29161,Rahul Khiyani,"[8898, 17305, 17966, 18295, 20466, 22348, 22477, 22604, 23928, 28543, 28618, 28743, 29144, 29161, 29942]","['Chris Wedgwood', 'Arijit Bose', 'Steven Wilkerson', 'John Lawrence', 'Tin Lam', 'Zuul', 'Matt McEuen', 'Samuel Pilla', 'Pete Birley', 'Vieri', 'Drew Walters', 'huangliujie', 'PRATEEK REDDY DODDA', 'Rahul Khiyani', 'Arijit Bose']",pentestnc nagios  api handling  http security headers present added new xcontenttypeoptions nosniff header make sure browser try detect different contenttype actually sent lead xss added new xframeoptions sameorigin header protect drag drop clickjacking attacks older browsers added new contentsecuritypolicy scriptsrc self implementation added new http security header xxssprotection1 modeblock sanitize page xss attack detected browser prevent rendering page changeid ic79bbb96484a7f1a497c001883783338fd26a47a
https://review.opendev.org/675793,add bandit security linter,add bandit security linter Change-Id: Iaddf3403a8b6bc03b148f3cfd43fe17c195a52fa,12171,Moshe Levi,"[9732, 12171, 22348]","['Mellanox CI', 'Moshe Levi', 'Zuul']",add bandit security linter changeid iaddf3403a8b6bc03b148f3cfd43fe17c195a52fa
https://review.opendev.org/673474,Filter security group list on the ID's we expect,Filter security group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network. Also only get the id field as this is all we need to compare. Fixes an issue where deployment fail on systems with a high number of security groups. Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f (cherry picked from commit 59787768cbf1d757611be27406777a088fb16659),10239,Dmitry Tantsur,"[10118, 10239, 11655, 14629, 19339, 22348, 23181, 23851, 24245]","['IBM PowerKVM CI', 'Dmitry Tantsur', 'Julia Kreger', 'HPE Proliant', 'Dell EMC Ironic CI', 'Zuul', 'RDO Third Party CI', 'Riccardo Pittau', 'Harald Jensås']",filter security group list ids expect filter list security groups based security group ids plan using network also get id field need compare fixes issue deployment fail systems high number security groups story 2006256 task 35871 changeid i83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f cherry picked commit 59787768cbf1d757611be27406777a088fb16659
https://review.opendev.org/674729,NSX|P: Improve security group creation,NSX|P: Improve security group creation Use only 1 backend call to create a new security groups with all its rules on the NSX Change-Id: Id89ea373baec9b2ad65fe99377accff27fb53ce7,20363,Adit Sarfaty,"[261, 9008, 20363, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp improve security group creation use 1 backend call create new security groups rules nsx changeid id89ea373baec9b2ad65fe99377accff27fb53ce7
https://review.opendev.org/674562,NSX|P: Improve security group creation,NSX|P: Improve security group creation Use only 1 backend call to create a new security groups with all its rules on teh NSX Depends-on: I9cbc0bc08d9944285e4dd6b8403f0910734e8c53 Change-Id: Id89ea373baec9b2ad65fe99377accff27fb53ce7,20363,Adit Sarfaty,"[261, 9008, 20363, 22348]","['Salvatore Orlando', 'VMware NSX CI', 'Adit Sarfaty', 'Zuul']",nsxp improve security group creation use 1 backend call create new security groups rules teh nsx dependson i9cbc0bc08d9944285e4dd6b8403f0910734e8c53 changeid id89ea373baec9b2ad65fe99377accff27fb53ce7
https://review.opendev.org/673473,Filter security group list on the ID's we expect,Filter security group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network. Also only get the id field as this is all we need to compare. Fixes an issue where deployment fail on systems with a high number of security groups. Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f (cherry picked from commit 59787768cbf1d757611be27406777a088fb16659),10239,Dmitry Tantsur,"[10118, 10239, 11655, 14629, 19339, 22348, 23851, 24245]","['IBM PowerKVM CI', 'Dmitry Tantsur', 'Julia Kreger', 'HPE Proliant', 'Dell EMC Ironic CI', 'Zuul', 'Riccardo Pittau', 'Harald Jensås']",filter security group list ids expect filter list security groups based security group ids plan using network also get id field need compare fixes issue deployment fail systems high number security groups story 2006256 task 35871 changeid i83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f cherry picked commit 59787768cbf1d757611be27406777a088fb16659
https://review.opendev.org/673475,Filter security group list on the ID's we expect,Filter security group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network. Also only get the id field as this is all we need to compare. Fixes an issue where deployment fail on systems with a high number of security groups. Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f (cherry picked from commit 59787768cbf1d757611be27406777a088fb16659),10239,Dmitry Tantsur,"[10118, 11655, 14629, 19339, 22348, 24245]","['IBM PowerKVM CI', 'Julia Kreger', 'HPE Proliant', 'Dell EMC Ironic CI', 'Zuul', 'Harald Jensås']",filter security group list ids expect filter list security groups based security group ids plan using network also get id field need compare fixes issue deployment fail systems high number security groups story 2006256 task 35871 changeid i83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f cherry picked commit 59787768cbf1d757611be27406777a088fb16659
https://review.opendev.org/671705,Filter security group list on the ID's we expect,Filter secuirty group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network. Also only get the id field as this is all we need to compare. Fixes an issue where deployment fail on systems with a high number of security groups. Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,24245,Harald Jensås,"[10118, 10239, 10379, 11655, 11975, 16688, 19339, 21909, 22348, 24245, 26340]","['IBM PowerKVM CI', 'Dmitry Tantsur', 'Rajini Karthik', 'Julia Kreger', 'Slawek Kaplonski', 'Rodolfo Alonso', 'Dell EMC Ironic CI', 'Bob Fournier', 'Zuul', 'Harald Jensås', 'Ilya Etingof']",filter secuirty group list ids expect filter list security groups based security group ids plan using network also get id field need compare fixes issue deployment fail systems high number security groups story 2006256 task 35871 changeid i83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f
